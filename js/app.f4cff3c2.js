(function(e){function t(t){for(var r,o,s=t[0],c=t[1],u=t[2],l=0,p=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},i={app:0},a=[];function o(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-0b65ffb6":"8fa188bd","chunk-2d0a3196":"ac76455f","chunk-2d0a3577":"e4c7d745","chunk-2d0a40c8":"b90f6f16","chunk-2d0a43df":"7b924189","chunk-2d0a4bbf":"95cf74d1","chunk-2d0aa90c":"97db0a26","chunk-2d0aab07":"feb5e6c1","chunk-2d0abc00":"c71d08a4","chunk-2d0ae937":"add2e024","chunk-2d0aeb45":"366f3359","chunk-2d0af08c":"8409d7ec","chunk-2d0afa49":"1b4847d6","chunk-2d0b1fd5":"90fca24d","chunk-2d0b2762":"1205fa2b","chunk-2d0b6187":"eb214702","chunk-2d0ba136":"f59a8616","chunk-2d0bb267":"2bdef667","chunk-2d0bcec1":"1c097dde","chunk-2d0bdf38":"c3fd9eb4","chunk-2d0bff92":"eb4c4f52","chunk-2d0c0494":"db11ad0a","chunk-2d0c0a09":"67a9cb50","chunk-2d0c4313":"9ca5d428","chunk-2d0c46d1":"e2d4550d","chunk-2d0c4a95":"cad79adc","chunk-2d0c512b":"dfb41034","chunk-2d0c86e3":"0f2f2cf9","chunk-2d0c8f4c":"c86a97dc","chunk-2d0cf16e":"e0070075","chunk-2d0d056d":"4d1875b4","chunk-2d0d0645":"939c2e66","chunk-2d0d2f22":"a4a27759","chunk-2d0d61fd":"e52db53a","chunk-2d0d7e63":"98f20c0f","chunk-2d0dda4e":"a170cd4e","chunk-2d0de971":"60292295","chunk-2d0e1b57":"f50ae005","chunk-2d0e1fbe":"33abc889","chunk-2d0e22d6":"1b580b2b","chunk-2d0e4fe5":"980da47a","chunk-2d0e542a":"d1b57c51","chunk-2d0e57ec":"eb7e1a23","chunk-2d0e5b34":"93000a04","chunk-2d0e6553":"db36a34b","chunk-2d0e6c86":"0756d6e7","chunk-2d0ea098":"d79c9fb5","chunk-2d0f0a11":"04bb5267","chunk-2d208ac5":"195bead0","chunk-2d209408":"5577515e","chunk-2d20f745":"6dc24828","chunk-2d20ff23":"5006d70b","chunk-2d2138c7":"16c7b1b1","chunk-2d216f3b":"af552ea1","chunk-2d217e5b":"9a0a59f0","chunk-2d21b84a":"d37c8080","chunk-2d21dcd2":"8cedcac7","chunk-2d21f327":"82f7c028","chunk-2d2214b3":"ac7ce9af","chunk-2d221799":"31949d6c","chunk-2d221814":"8d7d7f0a","chunk-2d221a34":"124247c1","chunk-2d22502a":"ff5cc77c","chunk-2d226775":"fbae0f09","chunk-2d229411":"f1e4a3fc","chunk-2d2295e9":"dc0fe339","chunk-2d22c171":"59a6641e","chunk-2d22c2b8":"89b2c07d","chunk-2d22ca58":"1901c861","chunk-2d2311f7":"c2bf8fcd","chunk-2d237ee7":"b5906293","chunk-2d238465":"9676ecbb","chunk-30597b4a":"ddbebd2a","chunk-7532b3ea":"378020bb","chunk-e13e4362":"6f18c21a"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=r);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=o(e);var u=new Error;a=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",u.name="ChunkLoadError",u.type=r,u.request=a,n[1](u)}i[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=u;a.push([1,"chunk-vendors"]),n()})({0:function(e,t){},"0167":function(e,t,n){},"0249":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e["matchCase"]=0]="matchCase",e[e["ignoreCase"]=1]="ignoreCase",e[e["useRegExp"]=2]="useRegExp"}(r||(r={}))},"034f":function(e,t,n){"use strict";n("85ec")},"04ba":function(e,t,n){},"05d5":function(e,t,n){},"06bc":function(e,t,n){"use strict";n("90d0")},"0aa9":function(e,t,n){},"0b42":function(e,t,n){"use strict";n("7411")},"0b51":function(e,t,n){"use strict";n("71ee")},"0c99":function(e,t,n){"use strict";n("de42")},"0d04":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));n("a4d3"),n("e01a"),n("b636"),n("d81d"),n("b0c0"),n("4ec9"),n("d3b7"),n("3ca3"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("ddb0");var r,i=n("b85c"),a=(n("96cf"),n("1da1")),o=n("2909"),s=n("d4ec"),c=n("bee2"),u=n("257e"),l=n("262e"),d=n("2caf"),p=n("ade3"),h=n("dc1f"),f=n("496c");r=Symbol.asyncIterator;var v=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r){var i;return Object(s["a"])(this,n),i=t.call(this,e,r),Object(p["a"])(Object(u["a"])(i),"kind","directory"),Object(p["a"])(Object(u["a"])(i),"isDirectory",!0),Object(p["a"])(Object(u["a"])(i),"isFile",!1),Object(p["a"])(Object(u["a"])(i),"children",new Map),i}return Object(c["a"])(n,[{key:"addChild",value:function(e){if(this.has(e.name))throw new Error("A file with the name ".concat(e.name," already exists in this folder"));this.children.set(e.name,e)}},{key:"hasChildren",value:function(){return this.children.size>0}},{key:"has",value:function(e){return this.children.has(e)}},{key:"serialize",value:function(){return{kind:"directory",name:this.name,children:Object(o["a"])(this.children.values()).map((function(e){return e.serialize()}))}}},{key:"getDirectoryHandle",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,i,a,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:{},i=r.create,a=this.children.get(t),!a||"file"!==a.kind){e.next=6;break}throw new Error('TypeMismatch: Expected directory with name "'.concat(t,'", found file'));case 6:if(a){e.next=13;break}if(!i){e.next=12;break}a=new n(this,t),this.addChild(a),e.next=13;break;case 12:throw new Error("No file with the name ".concat(t," exists in this folder"));case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getFileHandle",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:{},r=n.create,i=n.initialData,a=this.children.get(t),!a||"directory"!==a.kind){e.next=6;break}throw new Error('TypeMismatch: Expected file with name "'.concat(t,'", found directory'));case 6:if(a){e.next=13;break}if(!r){e.next=12;break}a=new f["a"](this,t,null!==i&&void 0!==i?i:new Uint8Array),this.addChild(a),e.next=13;break;case 12:throw new Error("No file with the name ".concat(t," exists in this folder"));case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeEntry",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:{},r=n.recursive,i=this.children.get(t),i){e.next=6;break}throw new Error("No entry with the name ".concat(t," exists in this folder"));case 6:if("directory"!==i.kind||r||!i.hasChildren()){e.next=8;break}throw new Error('Cannot remove directory with children without "recursive" option being set to true');case 8:this.children.delete(t);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resolve",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=[t.name],r=t.getParent();case 2:if(e.t0=null!==r,!e.t0){e.next=7;break}return e.next=6,r.isSameEntry(this);case 6:e.t0=!e.sent;case 7:if(!e.t0){e.next=12;break}n.unshift(r.name),r=r.getParent(),e.next=2;break;case 12:if(null!==r){e.next=14;break}return e.abrupt("return",null);case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:r,value:function(){return this.children.entries()}},{key:"keys",value:function(){return this.children.keys()}},{key:"entries",value:function(){return this.children.entries()}},{key:"values",value:function(){return this.children.values()}},{key:"getEntries",value:function(){return this.values()}},{key:"getDirectory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getDirectoryHandle(e,t)}},{key:"getFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getFileHandle(e,t)}}],[{key:"deserialize",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=new n(r,e.name),o=Object(i["a"])(e.children);try{for(o.s();!(t=o.n()).done;){var s=t.value;"directory"===s.kind?a.addChild(n.deserialize(s,a)):a.addChild(new f["a"](a,s.name,s.data))}}catch(c){o.e(c)}finally{o.f()}return a}}]),n}(h["a"])},1:function(e,t,n){e.exports=n("cd49")},"105b":function(e,t,n){},1228:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n("96cf");var r=n("1da1"),i=n("d4ec"),a=n("bee2"),o=n("257e"),s=n("262e"),c=n("2caf"),u=n("ade3"),l=n("d009"),d=n("f374"),p=n("3d15"),h=12e4,f=function(e){Object(s["a"])(n,e);var t=Object(c["a"])(n);function n(e,r){var a;return Object(i["a"])(this,n),a=t.call(this),Object(u["a"])(Object(o["a"])(a),"taskOptions",void 0),Object(u["a"])(Object(o["a"])(a),"app",void 0),Object(u["a"])(Object(o["a"])(a),"worker",null),Object(u["a"])(Object(o["a"])(a),"workerClass",null),Object(u["a"])(Object(o["a"])(a),"_service",null),Object(u["a"])(Object(o["a"])(a),"task",null),Object(u["a"])(Object(o["a"])(a),"disposeTimeout",void 0),a.taskOptions=e,a.app=r,a}return Object(a["a"])(n,[{key:"service",get:function(){if(!this._service)throw new Error("Accessing service without service being defined");return this._service}},{key:"activate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===this.disposeTimeout){e.next=4;break}return window.clearTimeout(this.disposeTimeout),this.disposeTimeout=void 0,e.abrupt("return");case 4:if(null===(n=this.app)||void 0===n){e.next=8;break}e.t0=n,e.next=11;break;case 8:return e.next=10,l["a"].getApp();case 10:e.t0=e.sent;case 11:if(r=e.t0,this.task=r.taskManager.create(this.taskOptions),this.worker){e.next=18;break}if(this.createWorker(),this.worker){e.next=17;break}throw new Error("Method WorkerManager.createWorker() doesn't create worker");case 17:this.workerClass=Object(p["c"])(this.worker);case 18:return this.resetSignal(),e.next=21,this.start(t).then((function(e){var t;null===(t=i.task)||void 0===t||t.complete(),i.dispatch(e)}));case 21:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deactivate",value:function(){var e=this;this.disposeTimeout=window.setTimeout((function(){return e.dispose()}),h)}},{key:"dispose",value:function(){var e,t;this.disposeTimeout&&window.clearTimeout(this.disposeTimeout),this.resetSignal(),null===(e=this.worker)||void 0===e||e.terminate(),null===(t=this.task)||void 0===t||t.dispose(),this.worker=null,this._service=null,this.workerClass=null,this.disposeTimeout=void 0}}]),n}(d["a"])},1834:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("d3b7"),n("6062"),n("3ca3"),n("159b"),n("ddb0");var r=n("d4ec"),i=n("bee2"),a=n("ade3"),o=function(){function e(){Object(r["a"])(this,e),Object(a["a"])(this,"listeners",new Set)}return Object(i["a"])(e,[{key:"hasListeners",get:function(){return this.listeners.size>0}},{key:"dispatch",value:function(e){this.listeners.forEach((function(t){return t(e)}))}},{key:"on",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.listeners.add(e),n)return{dispose:function(){t.off(e)}}}},{key:"off",value:function(e){this.listeners.delete(e)}},{key:"once",value:function(e){var t=this,n=function n(r){e(r),t.off(n)};this.on(n)}},{key:"disposeListeners",value:function(){this.listeners=new Set}}]),e}()},"18fd":function(e,t,n){},"19ff":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("d4ec"),i=n("bee2"),a=n("ade3"),o=function(){function e(t){Object(r["a"])(this,e),Object(a["a"])(this,"config",void 0),this.config=t}return Object(i["a"])(e,[{key:"trigger",value:function(e){var t,n;null===(t=(n=this.config).onTrigger)||void 0===t||t.call(n,e)}}]),e}()},"1b0a":function(e,t,n){"use strict";n("9da9")},"1f04":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("d4ec"),i=n("bee2"),a=n("ade3"),o=n("4b3f"),s=function(){function e(){Object(r["a"])(this,e),Object(a["a"])(this,"moLang",new o["b"]({},{convertUndefined:!0})),Object(a["a"])(this,"_cacheEnabled",!0),Object(a["a"])(this,"_globalVariables",{}),Object(a["a"])(this,"_variableHandler",null)}return Object(i["a"])(e,[{key:"parse",value:function(e,t){return t&&this.moLang.updateExecutionEnv(t,!0),this.moLang.executeAndCatch(e)}},{key:"cache_enabled",get:function(){return this._cacheEnabled},set:function(e){this._cacheEnabled=e,this.moLang.updateConfig({useCache:e})}},{key:"global_variables",get:function(){throw new Error("Accessing global variables this way is not supported")},set:function(e){throw new Error("Setting global variables this way is not supported")}},{key:"variableHandler",get:function(){return this._variableHandler},set:function(e){this._variableHandler=e,this.moLang.updateConfig({variableHandler:null!==e&&void 0!==e?e:void 0})}}]),e}()},2:function(e,t){},"29e7":function(e,t,n){"use strict";n("962f6")},"2dd6":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));n("a434");var r=n("d4ec"),i=n("bee2"),a=(n("a4d3"),n("e01a"),n("b0c0"),n("ade3")),o=n("8a54"),s=function(){function e(t,n){Object(r["a"])(this,e),Object(a["a"])(this,"taskManager",void 0),Object(a["a"])(this,"taskDetails",void 0),Object(a["a"])(this,"currentStepCount",0),Object(a["a"])(this,"window",void 0),this.taskManager=t,this.taskDetails=n}return Object(i["a"])(e,[{key:"update",value:function(e,t){void 0!==e&&(this.currentStepCount=e),void 0!==t&&(this.taskDetails.totalTaskSteps=t)}},{key:"createWindow",value:function(){this.window=new o["a"]({name:this.name,description:this.description})}},{key:"complete",value:function(){this.window&&this.window.dispose(),this.dispose()}},{key:"dispose",value:function(){var e;null===(e=this.taskManager)||void 0===e||e.delete(this)}},{key:"name",get:function(){return this.taskDetails.name}},{key:"description",get:function(){return this.taskDetails.description}},{key:"totalStepCount",get:function(){var e;return null!==(e=this.taskDetails.totalTaskSteps)&&void 0!==e?e:100}},{key:"icon",get:function(){return this.taskDetails.icon}},{key:"progress",get:function(){return Math.round(this.currentStepCount/this.totalStepCount*100)}}]),e}(),c=n("a6f4"),u=Object(c["e"])([]),l=function(){function e(){Object(r["a"])(this,e)}return Object(i["a"])(e,[{key:"create",value:function(e){var t=new s(this,e);return u.push(t),t}},{key:"delete",value:function(e){u.splice(u.indexOf(e),1)}},{key:"hasRunningTasks",get:function(){return u.length>0}}]),e}()},3:function(e,t){},"308b":function(e,t,n){"use strict";n("f9b9")},3139:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("0481"),n("a15b"),n("d81d"),n("4069"),n("b0c0"),n("6c57"),n("d3b7"),n("07ac"),n("3ca3"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("ddb0");var r=n("2909"),i=n("5530"),a=(n("96cf"),n("1da1")),o=n("0d04"),s=n("496c"),c=!1;"function"!==typeof window.showDirectoryPicker&&(c=!0,window.showDirectoryPicker=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new o["a"]);case 1:case"end":return e.stop()}}),e)})))),"function"!==typeof window.showOpenFilePicker&&(window.showOpenFilePicker=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=Object(i["a"])({types:[]},t),c=document.createElement("input"),c.type="file",c.multiple=null!==(n=o.multiple)&&void 0!==n&&n,c.accept=o.types.map((function(e){return Object.values(e.accept)})).flat(2).join(","),c.style.display="none",document.body.appendChild(c),u=!1,e.abrupt("return",new Promise((function(e,t){c.addEventListener("change",function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n){var i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return u=!0,o=Object(r["a"])(null!==(i=c.files)&&void 0!==i?i:[]),document.body.removeChild(c),t.t0=e,t.next=6,Promise.all(o.map(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=s["a"],e.t1=t.name,e.t2=Uint8Array,e.next=5,t.arrayBuffer();case 5:return e.t3=e.sent,e.t4=new e.t2(e.t3),e.abrupt("return",new e.t0(null,e.t1,e.t4));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:t.t1=t.sent,(0,t.t0)(t.t1);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{once:!0}),window.addEventListener("focus",(function(){setTimeout((function(){u||(t("User aborted selecting file"),document.body.removeChild(c))}),300)}),{once:!0}),c.click()})));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),"function"!==typeof window.showSaveFilePicker&&(window.showSaveFilePicker=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:{},e.abrupt("return",new s["a"](null,null!==(t=n.suggestedName)&&void 0!==t?t:"newFile.txt",new Uint8Array));case 2:case"end":return e.stop()}}),e)})))),globalThis.DataTransferItem&&!DataTransferItem.prototype.getAsFileSystemHandle&&(DataTransferItem.prototype.getAsFileSystemHandle=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("file"!==this.kind){e.next=14;break}if(t=this.getAsFile(),t){e.next=4;break}return e.abrupt("return",null);case 4:return e.t0=s["a"],e.t1=t.name,e.t2=Uint8Array,e.next=9,t.arrayBuffer();case 9:return e.t3=e.sent,e.t4=new e.t2(e.t3),e.abrupt("return",new e.t0(null,e.t1,e.t4));case 14:if("directory"!==this.kind){e.next=16;break}return e.abrupt("return",new o["a"](null,"unknown"));case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,this)}))))},3490:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));n("07ac"),n("159b"),n("96cf");var r=n("1da1"),i=n("d4ec"),a=n("bee2"),o=n("ade3"),s=n("257e"),c=n("262e"),u=n("2caf"),l=n("8d8a"),d=n("ec26"),p=n("4feb"),h=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(e,r){var a,c;if(Object(i["a"])(this,n),c=t.call(this,r),Object(o["a"])(Object(s["a"])(c),"actionManager",void 0),Object(o["a"])(Object(s["a"])(c),"config",void 0),Object(o["a"])(Object(s["a"])(c),"type","action"),Object(o["a"])(Object(s["a"])(c),"id",void 0),Object(o["a"])(Object(s["a"])(c),"_keyBinding",void 0),c.actionManager=e,c.config=r,c.id=null!==(a=r.id)&&void 0!==a?a:Object(d["a"])(),r.keyBinding){var u=Array.isArray(r.keyBinding)?r.keyBinding:[r.keyBinding];u.forEach((function(t){return c.addKeyBinding(l["a"].fromStrKeyCode(e.keyBindingManager,t,!0,r.prevent))}))}return c}return Object(a["a"])(n,[{key:"keyBinding",get:function(){return this._keyBinding}},{key:"addKeyBinding",value:function(e){var t=this;return this._keyBinding=e,e.on((function(){return t.trigger()})),this}},{key:"disposeKeyBinding",value:function(){this._keyBinding&&this._keyBinding.dispose()}},{key:"dispose",value:function(){this.actionManager.disposeAction(this.id),this.disposeKeyBinding()}}]),n}(p["a"]),f=n("a6f4"),v=function(){function e(t){Object(i["a"])(this,e),Object(o["a"])(this,"_keyBindingManager",void 0),Object(o["a"])(this,"state",Object(f["h"])({})),this._keyBindingManager=t}return Object(a["a"])(e,[{key:"keyBindingManager",get:function(){if(!this._keyBindingManager)throw new Error("No keyBindingManager was defined for this actionManager");return this._keyBindingManager}},{key:"create",value:function(e){var t=new h(this,e);return Object(f["g"])(this.state,t.id,t),t}},{key:"addDivider",value:function(){this.state[Object(d["a"])()]={type:"divider"}}},{key:"disposeAction",value:function(e){Object(f["c"])(this.state,e)}},{key:"dispose",value:function(){Object.values(this.state).forEach((function(e){return"action"===e.type?e.dispose():null}))}},{key:"trigger",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.state[t]&&"action"===this.state[t].type){e.next=2;break}throw new Error('Failed to trigger "'.concat(t,'": Action does not exist.'));case 2:return e.next=4,this.state[t].trigger();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},"36cc":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("d3b7"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("96cf");var r=n("1da1"),i=n("d4ec"),a=n("bee2"),o=n("ade3"),s=n("72ba"),c=n("8797"),u=function(){function e(t){Object(i["a"])(this,e),Object(o["a"])(this,"handle",void 0),this.handle=t}return Object(a["a"])(e,[{key:"package",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},e.next=3,Object(c["a"])(this.handle,function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n,r){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.getFile();case 2:return i=e.sent,e.t0=Uint8Array,e.next=6,i.arrayBuffer();case 6:e.t1=e.sent,t[r]=new e.t0(e.t1);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",Object(s["b"])(t));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}()},3897:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));n("d3b7"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7");var r=n("3835"),i=(n("96cf"),n("1da1")),a=n("d4ec"),o=n("bee2"),s=n("257e"),c=n("45eb"),u=n("7e84"),l=n("262e"),d=n("2caf"),p=n("ade3"),h=n("d009"),f=n("f374"),v=n("3d15"),m=n("1228"),b=n("dffd"),g=n("3139"),y=function(t){Object(l["a"])(m,t);var n=Object(d["a"])(m);function m(e,t,r){var i;return Object(a["a"])(this,m),i=n.call(this,{icon:"mdi-cogs",name:"taskManager.tasks.compiler.title",description:"taskManager.tasks.compiler.description"}),Object(p["a"])(Object(s["a"])(i),"parent",void 0),Object(p["a"])(Object(s["a"])(i),"project",void 0),Object(p["a"])(Object(s["a"])(i),"config",void 0),Object(p["a"])(Object(s["a"])(i),"ready",new f["a"]),i.parent=e,i.project=t,i.config=r,i.ready.dispatch(),i}return Object(o["a"])(m,[{key:"createWorker",value:function(){this.worker=new Worker(e,void 0)}},{key:"dispose",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])(Object(u["a"])(m.prototype),"dispose",this).call(this);case 2:this.parent.remove(this.config);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"start",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,o,s,c,u,l,d,p,f=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t.mode,s=t.restartDevServer,e.next=3,this.ready.fired;case 3:return this.ready.resetSignal(),e.next=6,h["a"].getApp();case 6:return c=e.sent,e.next=9,c.comMojang.fired;case 9:return e.next=11,c.project.packIndexer.fired;case 11:if(this._service){e.next=30;break}return e.t0=this.workerClass,e.t1=this.project.baseDirectory,e.t2=c.fileSystem.baseDirectory,e.t3=c.comMojang.fileSystem.baseDirectory,e.t4=this.config,e.t5=o,e.t6=s,e.t7=this.parent.getCompilerPlugins(),e.t8=b["a"].getPluginFileTypes(),e.next=23,c.project.packIndexer.service.getAllFiles(!1);case 23:return e.t9=e.sent,e.t10={config:e.t4,mode:e.t5,isFileRequest:!1,isDevServerRestart:e.t6,plugins:e.t7,pluginFileTypes:e.t8,allFiles:e.t9},e.next=27,new e.t0(e.t1,e.t2,e.t3,e.t10);case 27:this._service=e.sent,e.next=32;break;case 30:return e.next=32,this.updateService(o,!1,s);case 32:return e.next=34,this.service.on(Object(v["a"])((function(e){var t,n=Object(r["a"])(e,2),i=n[0],a=n[1];null===(t=f.task)||void 0===t||t.update(i,a)})),!1);case 34:return console.time("[TASK] Compiling project (total)"),e.next=37,null===(i=c.project)||void 0===i?void 0:i.packIndexer.fired;case 37:if(e.t12=n=e.sent,e.t11=null!==e.t12,!e.t11){e.next=41;break}e.t11=void 0!==n;case 41:if(!e.t11){e.next=45;break}e.t13=n,e.next=46;break;case 45:e.t13=[];case 46:if(u=e.t13,l=Object(r["a"])(u,2),d=l[0],p=l[1],"build"!==o&&!s){e.next=63;break}return e.next=53,this.project.packIndexer.service.getAllFiles();case 53:if(e.t15=a=e.sent,e.t14=null!==e.t15,!e.t14){e.next=57;break}e.t14=void 0!==a;case 57:if(!e.t14){e.next=61;break}e.t16=a,e.next=62;break;case 61:e.t16=[];case 62:d=e.t16;case 63:return e.next=65,this._service.start([d,p]);case 65:this._service.disposeListeners(),this.ready.dispatch(),console.timeEnd("[TASK] Compiling project (total)");case 68:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateService",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.updateDirectoryHandles();case 2:return e.next=4,this.service.updateMode(t,n,r);case 4:return e.next=6,this.service.updatePlugins(this.parent.getCompilerPlugins(),b["a"].getPluginFileTypes());case 6:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"updateDirectoryHandles",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(g["a"]){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,h["a"].getApp();case 4:return t=e.sent,e.next=7,this.service.updateDirectoryHandles(this.project.baseDirectory,t.fileSystem.baseDirectory);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateFiles",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.time("[Worker] Compiler: Update Files"),e.next=3,this.ready.fired;case 3:return this.ready.resetSignal(),e.next=6,this.updateService("dev",!1,!1);case 6:return e.next=8,this.service.updateFiles(t);case 8:this.ready.dispatch(),console.timeEnd("[Worker] Compiler: Update Files");case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"compileWithFile",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n){var i,a,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.ready.fired;case 2:return this.ready.resetSignal(),e.next=5,this.updateService("dev",!0,!1);case 5:return e.t0=Uint8Array,e.next=8,n.arrayBuffer();case 8:return e.t1=e.sent,i=new e.t0(e.t1),e.next=12,this.service.compileWithFile(t,i);case 12:return a=e.sent,o=Object(r["a"])(a,2),s=o[0],c=o[1],this.ready.dispatch(),e.abrupt("return",[s,null!==c&&void 0!==c?c:i]);case 18:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"unlink",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.ready.fired;case 2:return this.ready.resetSignal(),e.next=5,this.updateService("dev",!1,!1);case 5:return e.next=7,this.service.unlink(t);case 7:this.ready.dispatch();case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getCompilerOutputPath",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.ready.fired;case 2:return this.ready.resetSignal(),e.next=5,this.updateService("dev",!1,!1);case 5:return e.next=7,this.service.getCompilerOutputPath(t);case 7:return n=e.sent,this.ready.dispatch(),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),m}(m["a"])}).call(this,n("7dee"))},"38b1":function(e,t,n){"use strict";n("9006")},"3a78":function(e,t,n){"use strict";n("9805")},"3cfc":function(e,t,n){},4:function(e,t){},"436f":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));n("99af"),n("a15b"),n("b0c0"),n("d3b7"),n("ac1f"),n("1276"),n("ddb0");var r=n("2909"),i=n("b85c"),a=(n("96cf"),n("1da1")),o=n("d4ec"),s=n("bee2"),c=n("257e"),u=n("262e"),l=n("2caf"),d=n("ade3"),p=n("668b"),h=n("f374"),f=n("5e48"),v=n.n(f),m=n("8797"),b=n("8add"),g=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this),Object(d["a"])(Object(c["a"])(r),"_baseDirectory",void 0),e&&r.setup(e),r}return Object(s["a"])(n,[{key:"baseDirectory",get:function(){return this._baseDirectory}},{key:"setup",value:function(e){this._baseDirectory=e,this.hasFired||this.dispatch()}},{key:"getDirectoryHandle",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,o,s,c,u,l,d=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:{},r=n.create,a=n.createOnce,""!==t){e.next=3;break}return e.abrupt("return",this.baseDirectory);case 3:o=this.baseDirectory,s=t.split(/\\|\//g),c=Object(i["a"])(s),e.prev=6,c.s();case 8:if((u=c.n()).done){e.next=22;break}return l=u.value,e.prev=10,e.next=13,o.getDirectoryHandle(l,{create:a||r});case 13:o=e.sent,e.next=19;break;case 16:throw e.prev=16,e.t0=e["catch"](10),new Error('Failed to access "'.concat(t,'": Directory does not exist'));case 19:a&&(a=!1,r=!1);case 20:e.next=8;break;case 22:e.next=27;break;case 24:e.prev=24,e.t1=e["catch"](6),c.e(e.t1);case 27:return e.prev=27,c.f(),e.finish(27);case 30:return e.abrupt("return",o);case 31:case"end":return e.stop()}}),e,this,[[6,24,27,30],[10,16]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getFileHandle",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]&&o[1],0!==t.length){e.next=3;break}throw new Error("Error: filePath is empty");case 3:return r=t.split(/\\|\//g),i=r.pop(),e.next=7,this.getDirectoryHandle(r.join("/"),{create:n});case 7:return a=e.sent,e.prev=8,e.next=11,a.getFileHandle(i,{create:n});case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e["catch"](8),new Error('File does not exist: "'.concat(t,'"'));case 17:case"end":return e.stop()}}),e,this,[[8,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"mkdir",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},n.recursive,e.next=3,this.getDirectoryHandle(t,{create:!0});case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"readdir",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u,l,d,h,f=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},r=n.withFileTypes,e.next=3,this.getDirectoryHandle(t);case 3:i=e.sent,a=[],o=!0,s=!1,e.prev=7,u=Object(p["a"])(i.values());case 9:return e.next=11,u.next();case 11:return l=e.sent,o=l.done,e.next=15,l.value;case 15:if(d=e.sent,o){e.next=24;break}if(h=d,"file"!==h.kind||".DS_Store"!==h.name){e.next=20;break}return e.abrupt("continue",21);case 20:r?a.push(h):a.push(h.name);case 21:o=!0,e.next=9;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e["catch"](7),s=!0,c=e.t0;case 30:if(e.prev=30,e.prev=31,o||null==u.return){e.next=35;break}return e.next=35,u.return();case 35:if(e.prev=35,!s){e.next=38;break}throw c;case 38:return e.finish(35);case 39:return e.finish(30);case 40:return e.abrupt("return",a);case 41:case"end":return e.stop()}}),e,this,[[7,26,30,40],[31,,35,39]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"readFilesFromDir",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,o,s,c,u,l,d,h=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=h.length>1&&void 0!==h[1]?h[1]:this.getDirectoryHandle(t),e.next=3,n;case 3:n=e.sent,i=[],a=!0,o=!1,e.prev=7,c=Object(p["a"])(n.values());case 9:return e.next=11,c.next();case 11:return u=e.sent,a=u.done,e.next=15,u.value;case 15:if(l=e.sent,a){e.next=36;break}if(d=l,"file"!==d.kind||".DS_Store"!==d.name){e.next=20;break}return e.abrupt("continue",33);case 20:if("file"!==d.kind){e.next=24;break}i.push({name:d.name,kind:d.kind,path:"".concat(t,"/").concat(d.name)}),e.next=33;break;case 24:if("directory"!==d.kind){e.next=33;break}return e.t0=i.push,e.t1=i,e.t2=r["a"],e.next=30,this.readFilesFromDir("".concat(t,"/").concat(d.name),d);case 30:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 33:a=!0,e.next=9;break;case 36:e.next=42;break;case 38:e.prev=38,e.t5=e["catch"](7),o=!0,s=e.t5;case 42:if(e.prev=42,e.prev=43,a||null==c.return){e.next=47;break}return e.next=47,c.return();case 47:if(e.prev=47,!o){e.next=50;break}throw s;case 50:return e.finish(47);case 51:return e.finish(42);case 52:return e.abrupt("return",i);case 53:case"end":return e.stop()}}),e,this,[[7,38,42,52],[43,,47,51]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"readFile",value:function(e){return this.getFileHandle(e).then((function(e){return e.getFile()}))}},{key:"unlink",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}throw new Error("Error: filePath is empty");case 2:return n=t.split(/\\|\//g),r=n.pop(),e.prev=4,e.next=7,this.getDirectoryHandle(n.join("/"));case 7:i=e.sent,e.next=13;break;case 10:return e.prev=10,e.t0=e["catch"](4),e.abrupt("return");case 13:return e.next=15,i.removeEntry(r,{recursive:!0});case 15:case"end":return e.stop()}}),e,this,[[4,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"writeFile",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getFileHandle(t,!0);case 2:return r=e.sent,e.next=5,this.write(r,n);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"write",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.createWritable();case 2:return r=e.sent,e.next=5,r.write(n);case 5:return e.next=7,r.close();case 7:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"readJSON",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.readFile(t);case 2:return n=e.sent,e.prev=3,e.t0=v.a,e.next=7,n.text();case 7:return e.t1=e.sent,e.next=10,e.t0.parse.call(e.t0,e.t1);case 10:return e.abrupt("return",e.sent);case 13:throw e.prev=13,e.t2=e["catch"](3),new Error("Invalid JSON: ".concat(t));case 16:case"end":return e.stop()}}),e,this,[[3,13]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"writeJSON",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.writeFile(e,JSON.stringify(t,null,n?"\t":void 0))}},{key:"move",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fileExists(t);case 2:if(!e.sent){e.next=7;break}return e.next=5,this.copyFile(t,n);case 5:e.next=15;break;case 7:return e.next=9,this.directoryExists(t);case 9:if(!e.sent){e.next=14;break}return e.next=12,this.copyFolder(t,n);case 12:e.next=15;break;case 14:throw new Error("File or folder does not exist: ".concat(t));case 15:return e.next=17,this.unlink(t);case 17:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"copyFile",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getFileHandle(t,!1);case 2:return r=e.sent,e.next=5,this.getFileHandle(n,!0);case 5:return i=e.sent,e.next=8,this.copyFileHandle(r,i);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"copyFileHandle",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.createWritable();case 2:return r=e.sent,e.t0=r,e.next=6,t.getFile();case 6:return e.t1=e.sent,e.next=9,e.t0.write.call(e.t0,e.t1);case 9:return e.next=11,r.close();case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"copyFolder",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getDirectoryHandle(t,{create:!1});case 2:return r=e.sent,e.next=5,Object(m["a"])(r,function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=i,e.t1=t,e.next=4,i.getFileHandle(Object(b["join"])(n,r),!0);case 4:return e.t2=e.sent,e.next=7,e.t0.copyFileHandle.call(e.t0,e.t1,e.t2);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"copyFolderByHandle",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=new n(r),e.next=3,Object(m["a"])(t,function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=o,e.t1=t,e.next=4,i.getFileHandle(n,!0);case 4:return e.t2=e.sent,e.next=7,e.t0.copyFileHandle.call(e.t0,e.t1,e.t2);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"loadFileHandleAsDataUrl",value:function(e){return new Promise(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n,r){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=new FileReader,t.prev=1,t.next=4,e.getFile();case 4:a=t.sent,i.addEventListener("load",(function(){n(i.result)})),i.addEventListener("error",r),i.readAsDataURL(a),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),r('File does not exist: "'.concat(e.name,'"'));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"fileExists",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getFileHandle(t);case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"directoryExists",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getDirectoryHandle(t);case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(h["a"])},"442f":function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return m}));n("96cf");var r=n("1da1"),i=n("d4ec"),a=n("bee2"),o=n("257e"),s=n("262e"),c=n("2caf"),u=n("ade3"),l=n("edfe"),d=n("7e78"),p=n("436f"),h=n("f374"),f=n("8a54"),v="comMojangDirectory",m=function(e){Object(s["a"])(n,e);var t=Object(c["a"])(n);function n(e){var a;return Object(i["a"])(this,n),a=t.call(this),Object(u["a"])(Object(o["a"])(a),"app",void 0),Object(u["a"])(Object(o["a"])(a),"fileSystem",new p["a"]),Object(u["a"])(Object(o["a"])(a),"setup",new h["a"]),Object(u["a"])(Object(o["a"])(a),"_hasComMojang",!1),Object(u["a"])(Object(o["a"])(a),"_permissionDenied",!1),a.app=e,Object(l["b"])(v).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,a.app.fileSystem.fired;case 3:return e.next=5,a.requestPermissions(t).catch((function(){a.createPermissionWindow(t)}));case 5:a._hasComMojang&&a.setup.dispatch();case 6:a.dispatch();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a}return Object(a["a"])(n,[{key:"hasComMojang",get:function(){return this._hasComMojang}},{key:"status",get:function(){return{hasComMojang:this._hasComMojang,didDenyPermission:this._permissionDenied}}},{key:"createPermissionWindow",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new f["a"]({name:"comMojang.title",description:"comMojang.permissionRequest",onClose:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.requestPermissions(t);case 2:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),n.open(),e.next=4,n.fired;case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"requestPermissions",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.requestPermission({mode:"readwrite"});case 2:if(n=e.sent,"granted"===n){e.next=10;break}return this._hasComMojang=!1,this._permissionDenied=!0,e.next=8,this.app.projectManager.recompileAll();case 8:e.next=12;break;case 10:this.fileSystem.setup(t),this._hasComMojang=!0;case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"set",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(l["c"])(v,t),e.next=3,this.requestPermissions(t);case 3:this._hasComMojang&&this.setup.dispatch();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleComMojangDrop",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new d["a"]({description:"comMojang.folderDropped",confirmText:"general.yes",cancelText:"general.no"}),e.next=3,n.fired;case 3:if(!e.sent){e.next=8;break}return e.next=6,this.set(t);case 6:return e.next=8,this.app.projectManager.recompileAll();case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unlink",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.app.projectManager.recompileAll();case 2:return e.next=4,Object(l["a"])(v);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(h["a"])},"464a":function(e,t,n){e.exports=n.p+"js/1.ce9349c8.worker.js"},"48fb":function(e,t,n){},"496c":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));n("b0c0"),n("96cf");var r=n("1da1"),i=n("d4ec"),a=n("bee2"),o=n("257e"),s=n("262e"),c=n("2caf"),u=n("ade3"),l=n("dc1f"),d=(n("a4d3"),n("e01a"),n("99af"),n("fb6a"),n("c19f"),n("d3b7"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("2909")),p=new TextEncoder,h=Symbol("writeMethod"),f=function(){function e(t){Object(i["a"])(this,e),Object(u["a"])(this,"fileHandle",void 0),Object(u["a"])(this,"tmpData",new Uint8Array),Object(u["a"])(this,"cursorOffset",0),Object(u["a"])(this,"locked",!1),this.fileHandle=t}return Object(a["a"])(e,[{key:"write",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=4;break}n=p.encode(t),e.next=36;break;case 4:if(!(t instanceof Blob)){e.next=10;break}return e.next=7,t.arrayBuffer().then((function(e){return new Uint8Array(e)}));case 7:n=e.sent,e.next=36;break;case 10:if(!("type"in t)){e.next=35;break}if("seek"!==t.type){e.next=17;break}return e.next=14,this.seek(t.position);case 14:return e.abrupt("return",e.sent);case 17:if("truncate"!==t.type){e.next=23;break}return e.next=20,this.truncate(t.size);case 20:return e.abrupt("return",e.sent);case 23:if("write"!==t.type){e.next=32;break}if(!t.position){e.next=27;break}return e.next=27,this.seek(t.position);case 27:return e.next=29,this.write(t.data);case 29:return e.abrupt("return",e.sent);case 32:throw new Error("Unknown data type: ".concat(t.type));case 33:e.next=36;break;case 35:n=ArrayBuffer.isView(t)?new Uint8Array(t.buffer):new Uint8Array(t);case 36:this.tmpData=new Uint8Array([].concat(Object(d["a"])(this.tmpData.slice(0,this.cursorOffset)),Object(d["a"])(n))),this.cursorOffset=this.tmpData.length;case 38:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"seek",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.cursorOffset=Math.floor(t);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"truncate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.tmpData=this.tmpData.slice(0,t),this.cursorOffset>t&&(this.cursorOffset=t);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.fileHandle[h](this.tmpData);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"abort",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:throw new Error("WriteStream was aborted");case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getWriter",value:function(){}}]),e}(),v=function(e){Object(s["a"])(n,e);var t=Object(c["a"])(n);function n(e,r,a){var s;return Object(i["a"])(this,n),s=t.call(this,e,r),Object(u["a"])(Object(o["a"])(s),"data",void 0),Object(u["a"])(Object(o["a"])(s),"kind","file"),Object(u["a"])(Object(o["a"])(s),"isFile",!0),Object(u["a"])(Object(o["a"])(s),"isDirectory",!1),s.data=a,s}return Object(a["a"])(n,[{key:"serialize",value:function(){return{kind:"file",name:this.name,data:this.data}}},{key:"getFile",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new File([this.data],this.name));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"createWritable",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new f(this));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:h,value:function(e){this.data=e}}]),n}(l["a"])},"4aca":function(e,t,n){},"4b79":function(e,t,n){"use strict";n("6430")},"4d25":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n("a6f4"),i=Object(r["e"])({});function a(e){for(var t in e)Object(r["g"])(i,t,e[t])}},"4ecc":function(e,t,n){"use strict";n("943f")},"4feb":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n("a4d3"),n("e01a"),n("b0c0"),n("96cf");var r=n("1da1"),i=n("d4ec"),a=n("bee2"),o=n("257e"),s=n("262e"),c=n("2caf"),u=n("ade3"),l=n("1834"),d=n("ec26"),p=function(e){Object(s["a"])(n,e);var t=Object(c["a"])(n);function n(e){var r,a;return Object(i["a"])(this,n),a=t.call(this),Object(u["a"])(Object(o["a"])(a),"config",void 0),Object(u["a"])(Object(o["a"])(a),"id",void 0),a.config=e,a.id=null!==(r=e.id)&&void 0!==r?r:Object(d["a"])(),a}return Object(a["a"])(n,[{key:"name",get:function(){return this.config.name}},{key:"icon",get:function(){return this.config.icon}},{key:"description",get:function(){return this.config.description}},{key:"color",get:function(){return this.config.color}},{key:"isDisabled",get:function(){var e,t,n,r;return"function"===typeof this.config.isDisabled?null!==(e=null===(t=(n=this.config).isDisabled)||void 0===t?void 0:t.call(n))&&void 0!==e&&e:null!==(r=this.config.isDisabled)&&void 0!==r&&r}},{key:"trigger",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isDisabled){e.next=2;break}return e.abrupt("return");case 2:return this.dispatch(),e.next=5,this.config.onTrigger();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(l["a"])},5:function(e,t){},5138:function(e,t,n){"use strict";n("48fb")},5225:function(e,t,n){"use strict";n("df3c")},"56cb":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));var r=n("b85c"),i=n("3835"),a=(n("96cf"),n("1da1")),o=n("d4ec"),s=n("bee2"),c=n("257e"),u=n("45eb"),l=n("7e84"),d=n("262e"),p=n("2caf"),h=n("ade3"),f=n("1228"),v=n("3d15"),m=n("4d25"),b=n("dffd"),g=n("f374"),y=n("3139"),w=function(t){Object(d["a"])(f,t);var n=Object(p["a"])(f);function f(e,t){var r;return Object(o["a"])(this,f),r=n.call(this,{icon:"mdi-flash-outline",name:"taskManager.tasks.packIndexing.title",description:"taskManager.tasks.packIndexing.description"}),Object(h["a"])(Object(c["a"])(r),"app",void 0),Object(h["a"])(Object(c["a"])(r),"baseDirectory",void 0),Object(h["a"])(Object(c["a"])(r),"ready",new g["a"]),r.app=e,r.baseDirectory=t,r}return Object(s["a"])(f,[{key:"createWorker",value:function(){this.worker=new Worker(e,void 0)}},{key:"deactivate",value:function(){Object(u["a"])(Object(l["a"])(f.prototype),"deactivate",this).call(this)}},{key:"start",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,o,s,c,u,l=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.time("[TASK] Indexing Packs (Total)"),e.next=3,new this.workerClass(this.baseDirectory,this.app.fileSystem.baseDirectory,{disablePackSpider:!(null!==(n=null===m["b"]||void 0===m["b"]||null===(r=m["b"].general)||void 0===r?void 0:r.enablePackSpider)&&void 0!==n&&n),pluginFileTypes:b["a"].getPluginFileTypes(),noFullLightningCacheRefresh:!t&&!(null!==m["b"]&&void 0!==m["b"]&&null!==(a=m["b"].general)&&void 0!==a&&a.fullLightningCacheRefresh)});case 3:return this._service=e.sent,e.next=6,this.service.on(Object(v["a"])((function(e){var t,n=Object(i["a"])(e,2),r=n[0],a=n[1];null===(t=l.task)||void 0===t||t.update(r,a)})),!1);case 6:return e.next=8,this.service.start();case 8:return o=e.sent,s=Object(i["a"])(o,2),c=s[0],u=s[1],e.next=14,this.service.disposeListeners();case 14:return this.ready.dispatch(),console.timeEnd("[TASK] Indexing Packs (Total)"),e.abrupt("return",[c,u]);case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateDirectoryHandles",value:function(){if(y["a"])return this.service.updateDirectoryHandles(this.baseDirectory,this.app.fileSystem.baseDirectory)}},{key:"updateFile",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.ready.fired;case 2:return this.ready.resetSignal(),e.next=5,this.updateDirectoryHandles();case 5:return e.next=7,this.service.updatePlugins(b["a"].getPluginFileTypes());case 7:return e.next=9,this.service.updateFile(t,n);case 9:this.ready.dispatch();case 10:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"updateFiles",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.ready.fired;case 2:return this.ready.resetSignal(),e.next=5,this.updateDirectoryHandles();case 5:return e.next=7,this.service.updatePlugins(b["a"].getPluginFileTypes());case 7:n=Object(r["a"])(t),e.prev=8,n.s();case 10:if((i=n.n()).done){e.next=16;break}return a=i.value,e.next=14,this.service.updateFile(a);case 14:e.next=10;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](8),n.e(e.t0);case 21:return e.prev=21,n.f(),e.finish(21);case 24:this.ready.dispatch();case 25:case"end":return e.stop()}}),e,this,[[8,18,21,24]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unlink",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.ready.fired;case 2:return this.ready.resetSignal(),e.next=5,this.updateDirectoryHandles();case 5:return e.next=7,this.service.updatePlugins(b["a"].getPluginFileTypes());case 7:return e.next=9,this.service.unlink(t);case 9:this.ready.dispatch();case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"readdir",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fired;case 2:return e.next=4,this.updateDirectoryHandles();case 4:return e.next=6,this.service.readdir(t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),f}(f["a"])}).call(this,n("464a"))},5817:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseWindow",e._g(e._b({scopedSlots:e._u([{key:"toolbar",fn:function(){return[e._t("toolbar",null,{selectedTab:e.selected})]},proxy:!0},{key:"sidebar",fn:function(){return[e._t("sidebar",null,{selectedSidebar:e.selected}),e._l(e.sidebarItems,(function(t,r){return["item"===t.type?n("SidebarItem",{key:t.text+"."+r,attrs:{icon:t.icon,color:t.color,text:t.text,isSelected:e.selected===t.id},on:{click:function(n){return e.onSidebarChanged(t.id)}}}):n("SidebarGroup",{key:t.text+"."+r+"."+t.isOpen,attrs:{isOpen:t.isOpen,items:t.items,text:t.text,selected:e.selected},on:{toggleOpen:function(n){return e.toggleOpenCategory(t)},click:e.onSidebarChanged}})]}))]},proxy:!0},{key:"default",fn:function(){return[e._t("default",null,{selectedSidebar:e.selected})]},proxy:!0},{key:"actions",fn:function(){return[e._t("actions",null,{selectedSidebar:e.selected})]},proxy:!0}],null,!0)},"BaseWindow",e.$attrs,!1),e.$listeners))},i=[],a=n("bd5a"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"ripple",rawName:"v-ripple",value:!e.isSelected,expression:"!isSelected"}],staticClass:"pa-1 rounded-lg category",class:{selected:e.isSelected},on:{click:function(t){return e.$emit("click")}}},[n("span",{staticClass:"d-flex"},[n("v-icon",{staticClass:"pr-1",staticStyle:{"font-size":"22px"},attrs:{color:e.color}},[e._v(" "+e._s(e.icon)+" ")]),n("span",[e._v(e._s(e.text))])],1)])},s=[],c={name:"SidebarItem",props:{isSelected:Boolean,text:String,icon:String,color:String}},u=c,l=(n("308b"),n("2877")),d=n("6544"),p=n.n(d),h=n("132d"),f=n("269a"),v=n.n(f),m=n("5607"),b=Object(l["a"])(u,o,s,!1,null,"de225cc4",null),g=b.exports;p()(b,{VIcon:h["a"]}),v()(b,{Ripple:m["a"]});var y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("details",{attrs:{open:e.isOpen}},[n("summary",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"rounded-lg",on:{click:function(t){return t.preventDefault(),e.$emit("toggleOpen")}}},[n("span",{staticClass:"d-flex"},[n("h2",{staticClass:"d-inline"},[e._v(e._s(e.t(e.text)))]),n("v-spacer"),n("v-icon",{attrs:{color:"primary"}},[e._v(" "+e._s(e.isOpen?"mdi-chevron-down":"mdi-chevron-right")+" ")])],1)]),e._l(e.items,(function(t,r){var i=t.text,a=t.icon,o=t.color,s=t.id;return n("SidebarItem",{key:i+"."+r,attrs:{icon:a,color:o,text:i,isSelected:e.selected===s},on:{click:function(t){return e.$emit("click",s)}}})}))],2)},w=[],j=n("7c64"),k={name:"SidebarGroup",mixins:[j["a"]],components:{SidebarItem:g},props:{text:String,isOpen:Boolean,items:Array,selected:String}},x=k,O=(n("774a"),n("2fa4")),S=Object(l["a"])(x,y,w,!1,null,"b849fae0",null),C=S.exports;p()(S,{VIcon:h["a"],VSpacer:O["a"]}),v()(S,{Ripple:m["a"]});var R={inheritAttrs:!1,components:{BaseWindow:a["a"],SidebarItem:g,SidebarGroup:C},props:{sidebarItems:Array,value:{type:String,default:void 0}},computed:{selected:function(){return this.value}},methods:{onSidebarChanged:function(e){this.$emit("input",e)},toggleOpenCategory:function(e){e.isOpen=!e.isOpen}}},P=R,_=Object(l["a"])(P,r,i,!1,null,null,null);t["a"]=_.exports},"5b2e":function(e,t,n){"use strict";n("9330")},"5d94":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n("a6f4"),i=n("d009"),a=Object(r["e"])({currentState:null,sidebarElements:{}});function o(e){e===a.currentState?a.currentState=null:a.currentState=e,i["a"].getApp().then((function(e){return e.windowResize.dispatch()}))}var s=Object(r["a"])((function(){return null!==a.currentState}))},"5eda":function(e,t,n){"use strict";n("91ee")},"5f76":function(e,t,n){"use strict";n("9660")},6:function(e,t){},6084:function(e,t,n){e.exports=n.p+"img/logo-simple.f923eccc.svg"},"60a6":function(e,t,n){"use strict";n("efe6")},"62c0":function(e,t,n){"use strict";n.d(t,"a",(function(){return Me}));n("96cf");var r=n("1da1"),i=n("d4ec"),a=n("bee2"),o=n("257e"),s=n("45eb"),c=n("7e84"),u=n("262e"),l=n("2caf"),d=n("ade3"),p=n("ec56"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SidebarWindow",{attrs:{windowTitle:"windows.settings.title",isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,percentageWidth:80,percentageHeight:80,sidebarItems:e.sidebar.elements},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"sidebar",fn:function(){return[n("v-text-field",{staticClass:"pt-2",attrs:{"prepend-inner-icon":"mdi-magnify",label:e.t("windows.settings.searchSettings"),autocomplete:"off",autofocus:"",outlined:"",dense:""},model:{value:e.sidebar._filter,callback:function(t){e.$set(e.sidebar,"_filter","string"===typeof t?t.trim():t)},expression:"sidebar._filter"}})]},proxy:!0},{key:"default",fn:function(t){var r=t.selectedSidebar;return[0===e.sidebar.currentState.length&&""!==e.sidebar.filter?n("span",[e._v(' No setting matches your search for "'+e._s(e.sidebar.filter)+'". ')]):e._e(),e._l(e.sidebar.currentState,(function(t,i){return n(t.component,{key:r+"."+i+"."+t.value,tag:"component",staticClass:"mb-6",attrs:{config:t.config,value:t.value},on:{change:t.onChange,closeWindow:e.onClose}})}))]}}]),model:{value:e.sidebar.selected,callback:function(t){e.$set(e.sidebar,"selected",t)},expression:"sidebar.selected"}})},f=[],v=n("5817"),m=n("7c64"),b={name:"PackExplorerWindow",mixins:[m["a"]],components:{SidebarWindow:v["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()}}},g=b,y=n("2877"),w=n("6544"),j=n.n(w),k=n("8654"),x=Object(y["a"])(g,h,f,!1,null,null,null),O=x.exports;j()(x,{VTextField:k["a"]});n("99af"),n("d81d"),n("b0c0"),n("07ac"),n("159b");var S=n("d009"),C=(n("a4d3"),n("e01a"),n("caad"),n("2532"),n("4d25")),R=n("a6f4"),P=function(){function e(t,n){var a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C["b"];Object(i["a"])(this,e),Object(d["a"])(this,"state",void 0),Object(d["a"])(this,"component",void 0),Object(d["a"])(this,"config",void 0),Object(d["a"])(this,"onChange",function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return S["a"].audioManager.playAudio("click5.ogg",1),e.next=3,a.value=t;case 3:if("function"!==typeof a.config.onChange){e.next=6;break}return e.next=6,a.config.onChange(t);case 6:S["a"].audioManager.playAudio("click5.ogg",1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.state=o,Object(R["g"])(this,"config",n),Object(R["g"])(this,"component",t),void 0===this.value&&void 0!==n.default&&(this.value=n.default)}return Object(a["a"])(e,[{key:"value",get:function(){var e;return null===(e=this.state[this.config.category])||void 0===e?void 0:e[this.config.key]},set:function(e){void 0===this.state[this.config.category]&&Object(R["g"])(this.state,this.config.category,{}),Object(R["g"])(this.state[this.config.category],this.config.key,e)}}]),e}(),_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v(e._s(e.t(e.config.name)))]),n("div",{staticClass:"d-flex"},[n("div",[n("v-btn-toggle",{attrs:{inset:"",dense:"",mandatory:"",label:e.config.description,value:e.value_},on:{change:e.onChange}},e._l(e.config.options,(function(t){return n("v-btn",{key:t,attrs:{color:"sidebarSelection"}},[e._v(" "+e._s(t)+" ")])})),1)],1),n("span",{staticClass:"ml-4 body-1"},[e._v(e._s(e.t(e.config.description)))])])])},A=[],T=(n("c740"),{props:{config:Object,value:String},mixins:[m["a"]],data:function(){return{value_:void 0}},created:function(){var e=this;this.value_=this.config.options.findIndex((function(t){return t===e.value}))||0},methods:{onChange:function(e){var t=this;this.$nextTick((function(){return t.$emit("change",t.config.options[e])}))}}}),F=T,E=n("8336"),D=n("a609"),M=Object(y["a"])(F,_,A,!1,null,null,null),I=M.exports;j()(M,{VBtn:E["a"],VBtnToggle:D["a"]});var W=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(e){return Object(i["a"])(this,n),t.call(this,I,e)}return Object(a["a"])(n,[{key:"matches",value:function(e){return this.config.name.toLowerCase().includes(e)||this.config.description.toLowerCase().includes(e)||this.config.options.some((function(t){return t.toLowerCase().includes(e)}))}}]),n}(P),V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v(e._s(e.t(e.config.name)))]),n("v-switch",{staticStyle:{"margin-top":"0"},attrs:{inset:"",dense:"",label:e.t(e.config.description),value:e.value_},on:{change:e.onChange}})],1)},B=[],N=(n("d3b7"),{props:{value:[Boolean,Promise],config:Object},mixins:[m["a"]],data:function(){return{value_:void 0}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.value;case 2:e.value_=t.sent;case 3:case"end":return t.stop()}}),t)})))()},methods:{onChange:function(e){this.$emit("change",null!==e&&e)}}}),L=N,$=n("b73d"),H=Object(y["a"])(L,V,B,!1,null,null,null),z=H.exports;j()(H,{VSwitch:$["a"]});var U=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(e){return Object(i["a"])(this,n),t.call(this,z,e)}return Object(a["a"])(n,[{key:"matches",value:function(e){return this.config.name.toLowerCase().includes(e)||this.config.description.toLowerCase().includes(e)}}]),n}(P),J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ActionViewer",{attrs:{action:e.config.action}})},q=[],G=n("a50c"),K={props:{config:Object},components:{ActionViewer:G["a"]},mixins:[m["a"]]},Q=K,Z=Object(y["a"])(Q,J,q,!1,null,null,null),Y=Z.exports,X=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(e){var a,s,c;return Object(i["a"])(this,n),c=t.call(this,Y,{category:"actions",action:{},description:null!==(a=e.description)&&void 0!==a?a:"No description provided",key:e.id,name:null!==(s=e.name)&&void 0!==s?s:"general.unknown"},void 0),Object(d["a"])(Object(o["a"])(c),"config",Object(R["h"])({category:"actions",action:{}})),Object(d["a"])(Object(o["a"])(c),"onChange",Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))),c.config.action=e,c}return Object(a["a"])(n,[{key:"matches",value:function(e){return this.config.action.name.includes(e)||this.config.action.description.includes(e)}}]),n}(P),ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v(e._s(e.t(e.config.name)))]),n("div",{staticClass:"d-flex align-center"},[n("div",[n("v-autocomplete",{attrs:{inset:"",dense:"",mandatory:"",outlined:"",value:e.value_,items:e.config.options,"hide-details":"","menu-props":{maxHeight:220}},on:{change:e.onChange}})],1),n("span",{staticClass:"ml-4 body-1"},[e._v(e._s(e.t(e.config.description)))])])])},te=[],ne={props:{config:Object,value:[String,Promise]},mixins:[m["a"]],data:function(){return{value_:void 0}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.value;case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=e.config.default;case 5:e.value_=t.t0;case 6:case"end":return t.stop()}}),t)})))()},methods:{onChange:function(e){var t=this;this.$nextTick((function(){return t.$emit("change",e)}))}}},re=ne,ie=n("c6a6"),ae=Object(y["a"])(re,ee,te,!1,null,null,null),oe=ae.exports;j()(ae,{VAutocomplete:ie["a"]});var se=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(e){return Object(i["a"])(this,n),t.call(this,oe,e)}return Object(a["a"])(n,[{key:"matches",value:function(e){return this.config.name.toLowerCase().includes(e)||this.config.description.toLowerCase().includes(e)||this.config.options.some((function(t){return"string"===typeof t?t.toLowerCase().includes(e):t.text.toLowerCase().includes(e)}))}}]),n}(P),ce=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"value",get:function(){var e=this;return S["a"].getApp().then((function(t){var n;return null===(n=t.projectConfig.get().bridge)||void 0===n?void 0:n[e.config.key]}))},set:function(e){var t=this;S["a"].getApp().then(function(){var n=Object(r["a"])(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r.projectConfig.get().bridge||(r.projectConfig.get().bridge={}),r.projectConfig.get().bridge[t.config.key]=e,n.next=4,r.projectConfig.save();case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}}]),n}(se),ue=n("5530"),le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex align-center"},[n("v-btn",{attrs:{color:"primary"},on:{click:e.config.onClick}},[e._v(" "+e._s(e.t(e.config.name))+" ")]),n("span",{staticClass:"ml-4 body-1"},[e._v(e._s(e.t(e.config.description)))])],1)},de=[],pe={props:{config:Object},mixins:[m["a"]]},he=pe,fe=Object(y["a"])(he,le,de,!1,null,null,null),ve=fe.exports;j()(fe,{VBtn:E["a"]});var me=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(e){var a;return Object(i["a"])(this,n),a=t.call(this,ve,Object(ue["a"])(Object(ue["a"])({},e),{},{key:"N/A"})),Object(d["a"])(Object(o["a"])(a),"onChange",Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))),a}return Object(a["a"])(n,[{key:"matches",value:function(e){return this.config.name.includes(e)||this.config.description.includes(e)}}]),n}(P),be=n("edfe"),ge=n("442f"),ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.sidebarState,(function(t,r){return n("ActionViewer",{directives:[{name:"ripple",rawName:"v-ripple"}],key:r,attrs:{selected:t.isVisible,action:Object.assign({},t.config,{name:t.displayName}),hideTriggerButton:""},nativeOn:{click:function(n){return e.onClick(t)}}})})),1)},we=[],je=n("5d94"),ke={data:function(){return{sidebarState:je["a"].sidebarElements}},components:{ActionViewer:G["a"]},methods:{onClick:function(e){e.isVisible=!e.isVisible,C["b"].sidebar||(C["b"].sidebar={}),C["b"].sidebar.sidebarElements||(C["b"].sidebar.sidebarElements={}),C["b"].sidebar.sidebarElements[e.uuid]=e.isVisible}}},xe=ke,Oe=n("269a"),Se=n.n(Oe),Ce=n("5607"),Re=Object(y["a"])(xe,ye,we,!1,null,null,null),Pe=Re.exports;Se()(Re,{Ripple:Ce["a"]});var _e=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(e){return Object(i["a"])(this,n),t.call(this,Pe,e)}return Object(a["a"])(n,[{key:"matches",value:function(e){return Object.values(je["a"].sidebarElements).some((function(t){return S["a"].instance.locales.translate(t.displayName).includes(e)}))}}]),n}(P);function Ae(e){return Te.apply(this,arguments)}function Te(){return Te=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.addControl(new W({category:"appearance",name:"windows.settings.appearance.colorScheme.name",description:"windows.settings.appearance.colorScheme.description",key:"colorScheme",options:["auto","dark","light"],default:"auto",onChange:function(){S["a"].getApp().then((function(e){return e.themeManager.updateTheme()}))}})),e.t0=t,e.t1=se,e.t2=function(){S["a"].getApp().then((function(e){return e.themeManager.updateTheme()}))},e.t3={category:"appearance",name:"windows.settings.appearance.darkTheme.name",description:"windows.settings.appearance.darkTheme.description",key:"darkTheme",get options(){return t.parent.themeManager.getThemes("dark").map((function(e){return{text:e.name,value:e.id}}))},default:"bridge.default.dark",onChange:e.t2},e.t4=new e.t1(e.t3),e.t0.addControl.call(e.t0,e.t4),e.t5=t,e.t6=se,e.t7=function(){S["a"].getApp().then((function(e){return e.themeManager.updateTheme()}))},e.t8={category:"appearance",name:"windows.settings.appearance.lightTheme.name",description:"windows.settings.appearance.lightTheme.description",key:"lightTheme",get options(){return t.parent.themeManager.getThemes("light").map((function(e){return{text:e.name,value:e.id}}))},default:"bridge.default.light",onChange:e.t7},e.t9=new e.t6(e.t8),e.t5.addControl.call(e.t5,e.t9),e.t10=t,e.t11=ce,e.t12=function(){S["a"].getApp().then((function(e){return e.themeManager.updateTheme()}))},e.t13={category:"appearance",name:"windows.settings.appearance.localDarkTheme.name",description:"windows.settings.appearance.localDarkTheme.description",key:"darkTheme",get options(){return t.parent.themeManager.getThemes("dark",!1).map((function(e){return{text:e.name,value:e.id}})).concat([{text:"None",value:"bridge.noSelection"}])},default:"bridge.noSelection",onChange:e.t12},e.t14=new e.t11(e.t13),e.t10.addControl.call(e.t10,e.t14),e.t15=t,e.t16=ce,e.t17=function(){S["a"].getApp().then((function(e){return e.themeManager.updateTheme()}))},e.t18={category:"appearance",name:"windows.settings.appearance.localLightTheme.name",description:"windows.settings.appearance.localLightTheme.description",key:"lightTheme",get options(){return t.parent.themeManager.getThemes("light",!1).map((function(e){return{text:e.name,value:e.id}})).concat([{text:"None",value:"bridge.noSelection"}])},default:"bridge.noSelection",onChange:e.t17},e.t19=new e.t16(e.t18),e.t15.addControl.call(e.t15,e.t19),t.addControl(new U({category:"sidebar",name:"windows.settings.sidebar.sidebarRight.name",description:"windows.settings.sidebar.sidebarRight.description",key:"isSidebarRight",default:!1})),t.addControl(new U({category:"sidebar",name:"windows.settings.sidebar.shrinkSidebarElements.name",description:"windows.settings.sidebar.shrinkSidebarElements.description",key:"smallerSidebarElements",default:!1})),t.addControl(new W({category:"sidebar",name:"windows.settings.sidebar.sidebarSize.name",description:"windows.settings.sidebar.sidebarSize.description",key:"sidebarSize",options:["tiny","small","normal","large"],default:"normal",onChange:function(){S["a"].getApp().then((function(e){return e.windowResize.dispatch()}))}})),t.addControl(new _e({category:"sidebar",name:"windows.settings.sidebar.shrinkSidebarElements.name",description:"windows.settings.sidebar.shrinkSidebarElements.description",key:"hideElements"})),t.addControl(new W({category:"developers",name:"windows.settings.developer.simulateOS.name",description:"windows.settings.developer.simulateOS.description",key:"simulateOS",options:["auto","win32","darwin","linux"],default:"auto"})),t.addControl(new U({category:"developers",name:"windows.settings.developer.devMode.name",description:"windows.settings.developer.devMode.description",key:"isDevMode"})),e.next=33,S["a"].getApp().then((function(e){return e.locales}));case 33:return n=e.sent,e.t20=t,e.t21=se,e.t22=n.getCurrentLanguage(),e.t23=function(e){n.selectLanguage(e)},e.t24={category:"general",name:"windows.settings.general.language.name",description:"windows.settings.general.language.description",key:"locale",get options(){return n.getLanguages().map((function(e){return{text:e[1],value:e[0]}}))},default:e.t22,onChange:e.t23},e.t25=new e.t21(e.t24),e.t20.addControl.call(e.t20,e.t25),t.addControl(new U({category:"general",name:"windows.settings.general.collaborativeMode.name",description:"windows.settings.general.collaborativeMode.description",key:"fullLightningCacheRefresh",default:!0})),t.addControl(new U({category:"general",name:"windows.settings.general.packSpider.name",description:"windows.settings.general.packSpider.description",key:"enablePackSpider",default:!1})),t.addControl(new U({category:"general",name:"windows.settings.general.formatOnSave.name",description:"windows.settings.general.formatOnSave.description",key:"formatOnSave",default:!0})),t.addControl(new U({category:"general",name:"windows.settings.general.openLinksInBrowser.name",description:"windows.settings.general.openLinksInBrowser.description",key:"openLinksInBrowser",default:!1})),t.addControl(new U({category:"general",name:"windows.settings.general.restoreTabs.name",description:"windows.settings.general.restoreTabs.description",key:"restoreTabs",default:!0})),t.addControl(new me({category:"general",name:"windows.settings.general.resetBridgeFolder.name",description:"windows.settings.general.resetBridgeFolder.description",onClick:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(be["a"])("bridgeBaseDir");case 2:return e.next=4,Object(be["a"])(ge["b"]);case 4:location.reload();case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()})),t.addControl(new U({category:"audio",name:"windows.settings.audio.volume.name",description:"windows.settings.audio.volume.description",key:"playAudio",default:!1,onChange:function(e){S["a"].audioManager.isMuted=!e}})),t.addControl(new se({category:"editor",name:"windows.settings.editor.jsonEditor.name",description:"windows.settings.editor.jsonEditor.description",key:"jsonEditor",options:[{text:"Tree Editor",value:"treeEditor"},{text:"Raw Text",value:"rawText"}],default:"rawText"})),t.addControl(new U({category:"editor",name:"windows.settings.editor.wordWrap.name",description:"windows.settings.editor.wordWrap.description",key:"wordWrap",default:!1,onChange:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S["a"].getApp();case 2:n=e.sent,n.projectManager.updateAllEditorOptions({wordWrap:t?"bounded":"off"});case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()})),e.next=52,S["a"].getApp();case 52:i=e.sent,Object.values(i.actionManager.state).forEach((function(e){"action"===e.type&&t.addControl(new X(e))}));case 54:case"end":return e.stop()}}),e)}))),Te.apply(this,arguments)}n("4de4");var Fe=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;Object(i["a"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(d["a"])(Object(o["a"])(e),"lastFilter",void 0),e}return Object(a["a"])(n,[{key:"elements",get:function(){var e=this,t=void 0,n=this._elements.filter((function(n){if("category"===n.type)return!0;var r=e.getState(n.id),i=r.some((function(t){return t.matches(e.filter)}));return!t&&i&&(t=n.id),i}));return t&&this.lastFilter!==this.filter&&0===this.currentState.length&&this.setDefaultSelected(t),this.lastFilter=this.filter,this.sortSidebar(n)}},{key:"currentState",get:function(){var e,t=this;return this.selected?(null!==(e=this.state[this.selected])&&void 0!==e?e:[]).filter((function(e){return e.matches(t.filter)})):[]}}]),n}(p["a"]),Ee=n("a46c"),De=n("f374"),Me=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(e){var r;return Object(i["a"])(this,n),r=t.call(this,O,!1,!0),Object(d["a"])(Object(o["a"])(r),"parent",void 0),Object(d["a"])(Object(o["a"])(r),"sidebar",new Fe([])),Object(d["a"])(Object(o["a"])(r),"bridgeCategory",new p["b"]({items:[],text:"bridge."})),r.parent=e,r.defineWindow(),r}return Object(a["a"])(n,[{key:"setup",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S["a"].getApp().then((function(e){return e.locales}));case 2:return t=e.sent,this.addCategory("general",t.translate("windows.settings.general.name"),"mdi-circle-outline"),this.addCategory("appearance",t.translate("windows.settings.appearance.name"),"mdi-palette-outline"),this.addCategory("editor","Editor","mdi-pencil-outline"),this.addCategory("actions",t.translate("windows.settings.actions.name"),"mdi-keyboard-outline"),this.addCategory("audio",t.translate("windows.settings.audio.name"),"mdi-volume-high"),this.addCategory("sidebar",t.translate("windows.settings.sidebar.name"),"mdi-table-column"),this.addCategory("developers",t.translate("windows.settings.developer.name"),"mdi-wrench-outline"),e.next=12,Ae(this);case 12:this.sidebar.setDefaultSelected();case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addCategory",value:function(e,t,n){void 0===C["b"][e]&&(C["b"][e]={}),this.sidebar.addElement(new p["c"]({color:"primary",text:t,icon:n,id:e}),[])}},{key:"addControl",value:function(e){var t=this.sidebar.state[e.config.category];if(!t)throw new Error("Undefined settings category: ".concat(e.config.category));t.push(e)}},{key:"open",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(S["a"].audioManager.playAudio("click5.ogg",1),!this.isVisible){e.next=3;break}return e.abrupt("return");case 3:return this.sidebar.removeElements(),e.next=6,this.setup();case 6:Object(s["a"])(Object(c["a"])(n.prototype),"open",this).call(this);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return S["a"].audioManager.playAudio("click5.ogg",1),Object(s["a"])(Object(c["a"])(n.prototype),"close",this).call(this),e.next=4,S["a"].getApp();case 4:return t=e.sent,t.windows.loadingWindow.open(),e.next=8,n.saveSettings();case 8:t.windows.loadingWindow.close();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}],[{key:"saveSettings",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.next=3,S["a"].getApp();case 3:t=e.sent;case 4:return e.next=6,t.fileSystem.writeJSON("data/settings.json",C["b"]);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadSettings",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=C["a"],e.next=4,t.fileSystem.readJSON("data/settings.json");case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=10;break;case 8:e.prev=8,e.t2=e["catch"](0);case 10:return e.prev=10,this.loadedSettings.dispatch(C["b"]),e.finish(10);case 13:case"end":return e.stop()}}),e,this,[[0,8,10,13]])})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(Ee["a"]);Object(d["a"])(Me,"loadedSettings",new De["a"])},6396:function(e){e.exports=JSON.parse('{"a":"2.0.3"}')},6430:function(e,t,n){},6997:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));n("b0c0"),n("d3b7"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7");var r=n("3835"),i=(n("96cf"),n("1da1")),a=n("3139"),o=(n("b64b"),n("8a79"),n("2ca0"),n("ddb0"),n("d4ec")),s=n("bee2"),c=n("262e"),u=n("2caf"),l=n("72ba"),d=n("8add"),p=n("ade3"),h=n("436f"),f=function(){function e(t){Object(o["a"])(this,e),Object(p["a"])(this,"directory",void 0),Object(p["a"])(this,"fileSystem",void 0),Object(p["a"])(this,"task",void 0),this.directory=t,this.fileSystem=new h["a"](t)}return Object(s["a"])(e,[{key:"createTask",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{icon:"mdi-folder-zip",name:"taskManager.tasks.unzipper.name",description:"taskManager.tasks.unzipper.description"};this.task=e.create(t)}}]),e}(),v=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"unzip",value:function(e){var t=this;return new Promise(function(){var n=Object(i["a"])(regeneratorRuntime.mark((function n(r,a){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:Object(l["a"])(e,function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(n,i){var o,s,c,u,l,p,f,v,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=2;break}return e.abrupt("return",a(n));case 2:c=new h["a"](t.directory),null===(o=t.task)||void 0===o||o.update(0,Object.keys(i).length),u=0,e.t0=regeneratorRuntime.keys(i);case 6:if((e.t1=e.t0()).done){e.next=28;break}if(l=e.t1.value,f=Object(d["basename"])(l),!f.startsWith(".")){e.next=13;break}return null===(v=t.task)||void 0===v||v.update(++u),i[l]=void 0,e.abrupt("continue",6);case 13:if(!l.endsWith("/")){e.next=17;break}return null===(m=t.task)||void 0===m||m.update(++u),i[l]=void 0,e.abrupt("continue",6);case 17:return e.t2=t.fileSystem,e.next=20,c.getFileHandle(l,!0);case 20:return e.t3=e.sent,e.t4=i[l],e.next=24,e.t2.write.call(e.t2,e.t3,e.t4);case 24:i[l]=void 0,null===(p=t.task)||void 0===p||p.update(++u),e.next=6;break;case 28:null===(s=t.task)||void 0===s||s.complete(),r();case 30:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e=void 0;case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}}]),n}(f),m=n("7e78"),b=n("62c0"),g=n("c573"),y=n("d009");function w(e){return j.apply(this,arguments)}function j(){return j=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,i,o,s,c,u,l,d,p,h,f,w,j,k,x,O=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=O.length>1&&void 0!==O[1]&&O[1],e.next=3,y["a"].getApp();case 3:return i=e.sent,o=i.fileSystem,e.next=7,o.getDirectoryHandle("import",{create:!0});case 7:if(s=e.sent,c=new v(s),n){e.next=12;break}return e.next=12,i.projectManager.projectReady.fired;case 12:return e.next=14,t.getFile();case 14:return u=e.sent,e.t0=Uint8Array,e.next=18,u.arrayBuffer();case 18:return e.t1=e.sent,l=new e.t0(e.t1),c.createTask(i.taskManager),e.next=23,c.unzip(l);case 23:return d="import",e.next=26,o.fileExists("import/config.json");case 26:if(e.sent){e.next=59;break}if(!a["a"]){e.next=47;break}return e.prev=28,e.next=31,o.move("import/data","data");case 31:e.next=35;break;case 33:e.prev=33,e.t2=e["catch"](28);case 35:return e.prev=35,e.next=38,o.move("import/extensions","extensions");case 38:e.next=42;break;case 40:e.prev=40,e.t3=e["catch"](35);case 42:return e.next=44,b["a"].loadSettings(i);case 44:return e.next=46,i.extensionLoader.reload();case 46:i.locales.setDefaultLanguage();case 47:return e.prev=47,e.next=50,o.readdir("import/projects");case 50:p=e.sent,h=Object(r["a"])(p,1),f=h[0],d="import/projects/".concat(f),e.next=59;break;case 56:return e.prev=56,e.t4=e["catch"](47),e.abrupt("return");case 59:if(!a["a"]||n){e.next=66;break}return w=new m["a"]({description:"windows.projectChooser.openNewProject.saveCurrentProject",cancelText:"general.no",confirmText:"general.yes"}),e.next=63,w.fired;case 63:if(!e.sent){e.next=66;break}return e.next=66,Object(g["a"])();case 66:return e.next=68,o.readJSON("".concat(d,"/config.json"));case 68:return j=e.sent,k=j.name,e.next=72,o.move(d,"projects/".concat(k));case 72:return n||(x=i.project.name),e.t5=i.projectManager,e.next=76,o.getDirectoryHandle("projects/".concat(k));case 76:return e.t6=e.sent,e.next=79,e.t5.addProject.call(e.t5,e.t6,!0);case 79:if(!a["a"]||n){e.next=82;break}return e.next=82,i.projectManager.removeProject(x);case 82:return e.next=84,o.unlink("import");case 84:case"end":return e.stop()}}),e,null,[[28,33],[35,40],[47,56]])}))),j.apply(this,arguments)}},"6bea":function(e,t,n){"use strict";n("0aa9")},"6c6e":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("4de4"),n("07ac");var r=n("d4ec"),i=n("bee2"),a=n("ade3"),o=n("b2f9"),s=n("ec26"),c=n("a6f4"),u=function(){function e(t){var n;Object(r["a"])(this,e),Object(a["a"])(this,"config",void 0),Object(a["a"])(this,"id",Object(s["a"])()),Object(a["a"])(this,"_isVisible",void 0),this.config=t,this._isVisible=null===(n=this.config.isVisible)||void 0===n||n,Object(c["g"])(o["a"],this.id,this),this._isVisible&&this.updateAppBadge()}return Object(i["a"])(e,[{key:"icon",get:function(){return this.config.icon}},{key:"message",get:function(){return this.config.message}},{key:"color",get:function(){return this.config.color}},{key:"textColor",get:function(){return this.config.textColor}},{key:"isVisible",get:function(){return this._isVisible}},{key:"onClick",value:function(){"function"===typeof this.config.onClick&&this.config.onClick()}},{key:"onMiddleClick",value:function(){var e,t;null===(e=(t=this.config).onMiddleClick)||void 0===e||e.call(t),this.config.disposeOnMiddleClick&&Object(c["c"])(o["a"],this.id)}},{key:"addClickHandler",value:function(e){this.config.onClick=e}},{key:"show",value:function(){this._isVisible||this.updateAppBadge(),this._isVisible=!0}},{key:"dispose",value:function(){Object(c["c"])(o["a"],this.id),this.updateAppBadge()}},{key:"updateAppBadge",value:function(){"function"===typeof navigator.setAppBadge&&navigator.setAppBadge(Object.values(o["a"]).filter((function(e){var t=e.isVisible;return t})).length)}}]),e}()},7:function(e,t){},"703d":function(e,t,n){"use strict";n("4aca")},"71ee":function(e,t,n){},"736d":function(e,t,n){e.exports=n.p+"img/logo.e82c2c74.svg"},7411:function(e,t,n){},7526:function(e,t,n){"use strict";n("04ba")},"774a":function(e,t,n){"use strict";n("3cfc")},7815:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));n("4fad");var r=n("3835"),i=n("b2f9"),a=n("a026"),o=n("6c6e");function s(e){return new o["a"](e)}function c(){"function"===typeof navigator.clearAppBadge&&navigator.clearAppBadge();for(var e=0,t=Object.entries(i["a"]);e<t.length;e++){var n=Object(r["a"])(t[e],1),o=n[0];a["default"].delete(i["a"],o)}}},"7a00":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("96cf");var r=n("1da1"),i=n("d009"),a={data:function(){return{isProjectMixinReady:!1}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["a"].getApp();case 2:return n=t.sent,t.next=5,n.projectManager.fired;case 5:e.isProjectMixinReady=!0;case 6:case"end":return t.stop()}}),t)})))()},computed:{project:function(){if(this.isProjectMixinReady){var e=i["a"].instance.projectManager;return e.state[e._selectedProject]}}}}},"7ade":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("d4ec"),i=n("ade3"),a=function e(t){var n=t.type,a=t.text,o=t.isDismissible;Object(r["a"])(this,e),Object(i["a"])(this,"type",void 0),Object(i["a"])(this,"text",void 0),Object(i["a"])(this,"isDismissible",void 0),this.type=n,this.text=a,this.isDismissible=null!==o&&void 0!==o&&o}},"7c64":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("923f"),i={methods:{t:function(e){return Object(r["b"])(this.$vuetify,e)}}}},"7dee":function(e,t,n){e.exports=n.p+"js/2.8c123b45.worker.js"},"7e78":function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));n("a4d3"),n("e01a");var r=n("d4ec"),i=n("bee2"),a=n("257e"),o=n("262e"),s=n("2caf"),c=n("ade3"),u=n("a46c"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:"general.confirm",isVisible:e.isVisible,isPersistent:!0,hasMaximizeButton:!1,isFullscreen:!1,width:440,height:130,hasCloseButton:!1},scopedSlots:e._u([{key:"default",fn:function(){return[n("p",{staticClass:"mt-2"},[e._v(e._s(e.t(e.$data.description)))])]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{on:{click:e.onCancel}},[n("v-icon",{staticClass:"mr-1"},[e._v("mdi-close")]),n("span",[e._v(e._s(e.t(e.$data.cancelText)))])],1),n("v-btn",{attrs:{color:"primary"},on:{click:e.onConfirm}},[n("v-icon",{staticClass:"mr-1"},[e._v("mdi-check")]),n("span",[e._v(e._s(e.t(e.$data.confirmText)))])],1)]},proxy:!0}],null,!1,3017271583)}):e._e()},d=[],p=n("7c64"),h=n("bd5a"),f={name:"Confirm",mixins:[p["a"]],components:{BaseWindow:h["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onCancel:function(){this.currentWindow.onCancel()},onConfirm:function(){this.currentWindow.onConfirm()}}},v=f,m=n("2877"),b=n("6544"),g=n.n(b),y=n("8336"),w=n("132d"),j=n("2fa4"),k=Object(m["a"])(v,l,d,!1,null,null,null),x=k.exports;g()(k,{VBtn:y["a"],VIcon:w["a"],VSpacer:j["a"]});var O=n("d009"),S=function(e){Object(o["a"])(n,e);var t=Object(s["a"])(n);function n(e){var i;return Object(r["a"])(this,n),i=t.call(this,x,!0,!1),Object(c["a"])(Object(a["a"])(i),"opts",void 0),i.opts=e,i.defineWindow(),i.open(),i}return Object(i["a"])(n,[{key:"confirmText",get:function(){var e;return null!==(e=this.opts.confirmText)&&void 0!==e?e:"general.okay"}},{key:"cancelText",get:function(){var e;return null!==(e=this.opts.cancelText)&&void 0!==e?e:"general.cancel"}},{key:"description",get:function(){return this.opts.description}},{key:"onConfirm",value:function(){O["a"].audioManager.playAudio("click5.ogg",1),"function"===typeof this.opts.onConfirm&&this.opts.onConfirm(),this.close(!0)}},{key:"onCancel",value:function(){O["a"].audioManager.playAudio("click5.ogg",1),"function"===typeof this.opts.onCancel&&this.opts.onCancel(),this.close(!1)}}]),n}(u["a"])},"85ec":function(e,t,n){},8743:function(e,t,n){"use strict";n("0167")},8797:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("99af"),n("b0c0"),n("d3b7"),n("6062"),n("3ca3"),n("ddb0"),n("96cf");var r=n("1da1"),i=n("668b");function a(e,t){return o.apply(this,arguments)}function o(){return o=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,o,s,c,u,l,d,p,h,f,v=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=v.length>2&&void 0!==v[2]?v[2]:new Set,o=v.length>3&&void 0!==v[3]?v[3]:"",s=!0,c=!1,e.prev=4,l=Object(i["a"])(t.values());case 6:return e.next=8,l.next();case 8:return d=e.sent,s=d.done,e.next=12,d.value;case 12:if(p=e.sent,s){e.next=29;break}if(h=p,f=0===o.length?h.name:"".concat(o,"/").concat(h.name),"file"!==h.kind){e.next=23;break}if("."!==h.name[0]){e.next=19;break}return e.abrupt("continue",26);case 19:return e.next=21,n(h,f);case 21:e.next=26;break;case 23:if("directory"!==h.kind||r.has(f)){e.next=26;break}return e.next=26,a(h,n,r,f);case 26:s=!0,e.next=6;break;case 29:e.next=35;break;case 31:e.prev=31,e.t0=e["catch"](4),c=!0,u=e.t0;case 35:if(e.prev=35,e.prev=36,s||null==l.return){e.next=40;break}return e.next=40,l.return();case 40:if(e.prev=40,!c){e.next=43;break}throw u;case 43:return e.finish(40);case 44:return e.finish(35);case 45:case"end":return e.stop()}}),e,null,[[4,31,35,45],[36,,40,44]])}))),o.apply(this,arguments)}},"8a54":function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));n("a4d3"),n("e01a"),n("b0c0"),n("96cf");var r=n("1da1"),i=n("d4ec"),a=n("bee2"),o=n("257e"),s=n("45eb"),c=n("7e84"),u=n("262e"),l=n("2caf"),d=n("ade3"),p=n("a46c"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:e.$data.title,isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,width:440,height:120,hasCloseButton:!1,isPersistent:e.$data.isPersistent},scopedSlots:e._u([{key:"default",fn:function(){return[n("p",{staticClass:"mt-2"},[e._v(e._s(e.t(e.$data.description)))])]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:e.close}},[n("v-icon",[e._v("mdi-check")]),n("span",[e._v(e._s(e.t("general.confirm")))])],1)]},proxy:!0}],null,!1,3734431350)}):e._e()},f=[],v=n("7c64"),m=n("bd5a"),b={name:"Information",mixins:[v["a"]],components:{BaseWindow:m["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{close:function(){this.currentWindow.close()}}},g=b,y=n("2877"),w=n("6544"),j=n.n(w),k=n("8336"),x=n("132d"),O=n("2fa4"),S=Object(y["a"])(g,h,f,!1,null,null,null),C=S.exports;j()(S,{VBtn:k["a"],VIcon:x["a"],VSpacer:O["a"]});var R=n("d009"),P=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(e){var r;return Object(i["a"])(this,n),r=t.call(this,C,!0,!1),Object(d["a"])(Object(o["a"])(r),"opts",void 0),r.opts=e,r.defineWindow(),r.open(),r}return Object(a["a"])(n,[{key:"description",get:function(){return this.opts.description}},{key:"title",get:function(){var e;return null!==(e=this.opts.name)&&void 0!==e?e:"general.information"}},{key:"isPersistent",get:function(){var e;return null===(e=this.opts.isPersistent)||void 0===e||e}},{key:"close",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(R["a"].audioManager.playAudio("click5.ogg",1),Object(s["a"])(Object(c["a"])(n.prototype),"close",this).call(this,null),"function"!==typeof this.opts.onClose){e.next=5;break}return e.next=5,this.opts.onClose();case 5:this.dispatch();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(p["a"])},"8add":function(e,t,n){"use strict";n.r(t),n.d(t,"dirname",(function(){return a})),n.d(t,"join",(function(){return o})),n.d(t,"extname",(function(){return s})),n.d(t,"basename",(function(){return c})),n.d(t,"relative",(function(){return u}));n("a15b");var r=n("df7c"),i=n.n(r),a=i.a.dirname,o=i.a.join,s=i.a.extname,c=i.a.basename,u=i.a.relative},"8b33":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="8b33"},"8d8a":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("5530"),i=(n("96cf"),n("1da1")),a=n("d4ec"),o=n("bee2"),s=n("257e"),c=n("262e"),u=n("2caf"),l=n("ade3"),d=n("1834"),p=n("9803"),h=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(e,r){var i;return Object(a["a"])(this,n),i=t.call(this),Object(l["a"])(Object(s["a"])(i),"keyBindingManager",void 0),Object(l["a"])(Object(s["a"])(i),"config",void 0),i.keyBindingManager=e,i.config=r,i}return Object(o["a"])(n,[{key:"toStrKeyCode",value:function(){return Object(p["b"])(this.config)}},{key:"trigger",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.dispatch();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"prevent",value:function(e){return"function"===typeof this.config.prevent&&this.config.prevent(e)}},{key:"dispose",value:function(){this.keyBindingManager.disposeKeyBinding(this.toStrKeyCode())}}],[{key:"fromStrKeyCode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;return e.create(Object(r["a"])(Object(r["a"])({},Object(p["a"])(t,n)),{},{prevent:i}))}}]),n}(d["a"])},"8dde":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("4de4"),n("159b"),n("96cf");var r=n("1da1"),i=n("d009"),a=n("3490");function o(e,t){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=n.filter((function(e){return null!==e})),t instanceof MouseEvent&&(t.preventDefault(),t.stopImmediatePropagation()),0!==r.length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,i["a"].getApp();case 6:o=e.sent,s=new a["a"],r.forEach((function(e){return"divider"===e.type?s.addDivider():s.create(e)})),o.contextMenu.show(t,s);case 10:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}},"8ed7":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("caad"),n("2532");var r=n("4d25");function i(){var e;if(null!==r["b"]&&void 0!==r["b"]&&null!==(e=r["b"].developers)&&void 0!==e&&e.simulateOS&&"auto"!==r["b"].developers.simulateOS)return r["b"].developers.simulateOS;var t=navigator.platform.toLowerCase();if(t.includes("win"))return"win32";if(t.includes("linux"))return"linux";if(t.includes("mac"))return"darwin";throw new Error("Unknown platform: ".concat(t))}},9006:function(e,t,n){},"90d0":function(e,t,n){},"91ee":function(e,t,n){},"923f":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));n("4de4"),n("caad"),n("d81d"),n("fb6a"),n("4fad"),n("8a79"),n("2532"),n("2ca0");var r=n("b85c"),i=n("3835"),a=n("d4ec"),o=n("bee2"),s=n("ade3"),c=n("a026"),u=n("4d25");function l(e,t){var n,r,i=t;if(null!==i&&void 0!==i&&i.startsWith("[")&&i.endsWith("]"))return i.slice(1,-1);null!==(n=t)&&void 0!==n&&n.startsWith("$vuetify.")||(t="$vuetify.".concat(t));try{r=e.lang.t(t)}catch(a){return null!==i&&void 0!==i?i:"Unknown"}return r===t?null!==i&&void 0!==i?i:"Unknown":r}var d=function(){function e(t){Object(a["a"])(this,e),Object(s["a"])(this,"vuetify",void 0),this.vuetify=t}return Object(o["a"])(e,[{key:"translate",value:function(e){return l(this.vuetify,e)}},{key:"addLanguage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.vuetify.lang;if(e in r.locales&&!n)throw new Error('Language key "'.concat(e,'" already exists!'));return c["default"].set(r.locales,e,t),{dispose:function(){r.current===e&&(r.current=r.defaultLocale),c["default"].delete(r.locales,e)}}}},{key:"selectLanguage",value:function(e){var t=this.vuetify.lang;if(!(e in t.locales))throw new Error('Undefined language: "'.concat(e,'"'));t.current=e}},{key:"getLanguages",value:function(){var e=this.vuetify.lang.locales;return Object.entries(e).filter((function(e){var t=Object(i["a"])(e,2),n=(t[0],t[1]);return void 0!==n.languageName})).map((function(e){var t=Object(i["a"])(e,2),n=t[0],r=t[1];return[n,r.languageName]}))}},{key:"getCurrentLanguage",value:function(){return this.vuetify.lang.current}},{key:"setDefaultLanguage",value:function(){var e,t;if("string"===typeof(null===u["b"]||void 0===u["b"]||null===(e=u["b"].general)||void 0===e?void 0:e.locale))this.selectLanguage(null===u["b"]||void 0===u["b"]||null===(t=u["b"].general)||void 0===t?void 0:t.locale);else{var n,a=Object(r["a"])(this.getLanguages());try{for(a.s();!(n=a.n()).done;){var o=Object(i["a"])(n.value,1),s=o[0];navigator.language.includes(s)&&this.selectLanguage(s)}}catch(c){a.e(c)}finally{a.f()}}}}]),e}()},9330:function(e,t,n){},"943f":function(e,t,n){},"95d1":function(e,t,n){"use strict";n("bcb1")},"962f6":function(e,t,n){},9660:function(e,t,n){},9803:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));n("ac1f"),n("1276"),n("159b");var r=n("8ed7");function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.toLowerCase().split(" + "),i={key:""};return n.forEach((function(e){""===e||("darwin"!==Object(r["a"])()||t)&&"ctrl"===e?i.ctrlKey=!0:""===e||"alt"===e?i.altKey=!0:""===e||"shift"===e?i.shiftKey=!0:""===e||"meta"===e?i.metaKey=!0:i.key=e})),i}function a(e){var t=e.key,n=e.ctrlKey,i=e.altKey,a=e.shiftKey,o=e.metaKey,s=Object(r["a"])(),c=t.toUpperCase();return a&&(c="darwin"===s?" + "+c:"Shift + "+c),i&&(c="darwin"===s?" + "+c:"Alt + "+c),o&&(c="darwin"===s?" + "+c:"Meta + "+c),n&&(c="darwin"===s?" + "+c:"Ctrl + "+c),c}},9805:function(e,t,n){},"9a02":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("99af"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("96cf");var r,i=n("b85c"),a=n("1da1"),o=n("2909"),s=n("db05"),c=n("ec26"),u=n("f374");(function(e){var t=[],n=new Map;function r(){return t.concat(Object(o["a"])(n.values()))}function l(e){return d.apply(this,arguments)}function d(){return d=Object(a["a"])(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(t.length>0)){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,r.fired;case 4:return n.next=6,r.readJSON("data/packages/minecraftBedrock/packDefinitions.json");case 6:t=n.sent,e.ready.dispatch();case 8:case"end":return n.stop()}}),n)}))),d.apply(this,arguments)}function p(e){var t,n=Object(i["a"])(r());try{for(n.s();!(t=n.n()).done;){var a=t.value;if("string"===typeof a.matcher&&Object(s["isMatch"])(e,a.matcher))return a;var o,c=Object(i["a"])(a.matcher);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(Object(s["isMatch"])(e,u))return a}}catch(l){c.e(l)}finally{c.f()}}}catch(l){n.e(l)}finally{n.f()}}function h(e){return p("projects/bridge/".concat(e))}function f(e){var t,n;return null!==(t=null===(n=h("".concat(e,"/test.json")))||void 0===n?void 0:n.id)&&void 0!==t?t:"unknown"}function v(e){var t,n;return null!==(t=null===(n=p(e))||void 0===n?void 0:n.id)&&void 0!==t?t:"unknown"}function m(e){var t=Object(c["a"])();return n.set(t,e),{dispose:function(){return n.delete(t)}}}e.ready=new u["a"],e.all=r,e.setup=l,e.get=p,e.getWithRelativePath=h,e.getIdFromPackPath=f,e.getId=v,e.addExtensionPackType=m})(r||(r={}))},"9c05":function(e,t,n){"use strict";n("aba5")},"9da9":function(e,t,n){},"9edc":function(e,t,n){"use strict";n("cd82")},"9f8f":function(e,t,n){},a46c:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("d4ec"),i=n("bee2"),a=n("257e"),o=n("262e"),s=n("2caf"),c=n("ade3"),u=n("ec26"),l=n("f374"),d=n("e6b7"),p=n("a6f4"),h=function(e){Object(o["a"])(n,e);var t=Object(s["a"])(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(r["a"])(this,n),i=t.call(this),Object(c["a"])(Object(a["a"])(i),"component",void 0),Object(c["a"])(Object(a["a"])(i),"disposeOnClose",void 0),Object(c["a"])(Object(a["a"])(i),"keepAlive",void 0),Object(c["a"])(Object(a["a"])(i),"windowUUID",Object(u["a"])()),Object(c["a"])(Object(a["a"])(i),"isVisible",!1),Object(c["a"])(Object(a["a"])(i),"shouldRender",!1),Object(c["a"])(Object(a["a"])(i),"actions",[]),i.component=e,i.disposeOnClose=o,i.keepAlive=s,i}return Object(i["a"])(n,[{key:"defineWindow",value:function(){Object(p["g"])(d["a"].state,this.windowUUID,this)}},{key:"addAction",value:function(e){this.actions.push(e)}},{key:"close",value:function(e){var t=this;this.isVisible=!1,null!==e&&this.dispatch(e),this.keepAlive||setTimeout((function(){t.shouldRender=!1,t.disposeOnClose&&t.dispose()}),600)}},{key:"open",value:function(){this.shouldRender=!0,this.isVisible=!0,this.resetSignal()}},{key:"dispose",value:function(){Object(p["c"])(d["a"].state,this.windowUUID)}}]),n}(l["a"])},a50c:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"body-1 pa-4 mb-2 rounded-lg control-bg",class:{selected:e.selected}},[n("div",{staticClass:"d-flex align-center"},[e.action.icon?n("v-icon",{staticClass:"mr-1",attrs:{color:"accent"}},[e._v(" "+e._s(e.action.icon)+" ")]):e._e(),n("h3",[e._v(e._s(e.t(e.action.name)))]),n("v-spacer"),e.action.keyBinding?n("span",[e._v(" "+e._s(e.action.keyBinding.toStrKeyCode())+" ")]):e._e(),e.hideTriggerButton?e._e():n("v-btn",{attrs:{color:"primary",small:"",icon:""}},[n("v-icon",{on:{click:e.onTrigger}},[e._v("mdi-play")])],1),void 0!==e.selected?n("v-icon",[e._v(" "+e._s(e.selected?"mdi-check-circle-outline":"mdi-checkbox-blank-circle-outline")+" ")]):e._e()],1),!e.dense&&e.action.description?n("span",[e._v(" "+e._s(e.t(e.action.description))+" ")]):e._e()])},i=[],a=n("7c64"),o={props:{action:Object,hideTriggerButton:Boolean,dense:Boolean,selected:{type:Boolean,default:void 0}},mixins:[a["a"]],methods:{onTrigger:function(){this.action.trigger()}}},s=o,c=(n("dd63"),n("2877")),u=n("6544"),l=n.n(u),d=n("8336"),p=n("132d"),h=n("2fa4"),f=Object(c["a"])(s,r,i,!1,null,"f24f0352",null);t["a"]=f.exports;l()(f,{VBtn:d["a"],VIcon:p["a"],VSpacer:h["a"]})},aba5:function(e,t,n){},ac6f:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"px-3"},[n("v-row",{staticStyle:{"flex-wrap":"nowrap"}},[n("v-col",{staticClass:"flex-grow-0 flex-shrink-0",attrs:{cols:"3"}},[n("v-text-field",{staticClass:"mb-2",attrs:{"prepend-inner-icon":"mdi-magnify",outlined:"",dense:"","hide-details":"",autofocus:"",label:e.t("findAndReplace.search")},model:{value:e.searchFor,callback:function(t){e.searchFor=t},expression:"searchFor"}}),n("v-text-field",{staticClass:"mb-2",attrs:{"prepend-inner-icon":"mdi-file-replace-outline",outlined:"",dense:"","hide-details":"",label:e.t("findAndReplace.replace")},model:{value:e.replaceWith,callback:function(t){e.replaceWith=t},expression:"replaceWith"}}),n("SearchType",{staticClass:"mb-2",model:{value:e.queryOptions.searchType,callback:function(t){e.$set(e.queryOptions,"searchType",t)},expression:"queryOptions.searchType"}}),n("v-btn",{attrs:{color:"primary",disabled:""===e.replaceWith||""===e.searchFor,loading:e.tab.isLoading},on:{click:function(t){return e.onReplaceAll()}}},[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v("mdi-file-replace-outline")]),e._v(" "+e._s(e.t("findAndReplace.replaceAll"))+" ")],1)],1),n("v-col",{staticClass:"flex-grow-1 flex-shrink-0",staticStyle:{"min-width":"100px","max-width":"100%"},attrs:{cols:"9"}},[n("v-card",{staticClass:"pa-2",style:"white-space: nowrap; height: "+(e.height-24)+"px",attrs:{outlined:"",rounded:""}},[0===e.queryResults.length?n("p",[e._v(" "+e._s(e.t("findAndReplace.no"+(""===e.searchFor?"Search":"Results")))+" ")]):e._e(),n("v-virtual-scroll",{ref:"virtualScroller",attrs:{items:e.tab.displayQueryResults,height:e.height-40,bench:30,"item-height":"22"},nativeOn:{scroll:function(t){return e.onScroll(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return["string"===typeof r?n("div",{staticStyle:{display:"inline-flex",width:"calc(100% - 8px)"}},[n("FilePath",{attrs:{filePath:r}}),n("v-spacer"),n("v-btn",{staticStyle:{position:"relative",top:"3px"},attrs:{icon:"","x-small":"",disabled:""===e.replaceWith},on:{click:function(t){return e.onReplaceSingleFile(r)}}},[n("v-icon",[e._v("mdi-file-replace-outline")])],1)],1):n("Match",{attrs:{showReplaceWith:!!e.replaceWith,replaceWith:e.processReplaceWith(r.match),item:r}})]}}])})],1)],1)],1)],1)},i=[],a=(n("a9e3"),n("96cf"),n("1da1")),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn-toggle",{attrs:{dense:"",mandatory:"",value:e.value},on:{change:function(t){return e.$emit("input",t)}}},[n("v-btn",{attrs:{title:"Match Case"}},[n("v-icon",[e._v("mdi-format-letter-case-upper")])],1),n("v-btn",{attrs:{title:"Ignore Case"}},[n("v-icon",[e._v("mdi-format-letter-case")])],1),n("v-btn",{attrs:{title:"Use Regular Expression"}},[n("v-icon",[e._v("mdi-regex")])],1)],1)},s=[],c={name:"SearchType",props:{value:Number}},u=c,l=n("2877"),d=n("6544"),p=n.n(d),h=n("8336"),f=n("a609"),v=n("132d"),m=Object(l["a"])(u,o,s,!1,null,null,null),b=m.exports;p()(m,{VBtn:h["a"],VBtnToggle:f["a"],VIcon:v["a"]});var g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"code-font code-match",staticStyle:{width:"100%","overflow-x":"hidden"}},[n("span",[e._v(e._s(e.item.isStartOfFile?"":"...")+e._s(e.item.beforeMatch))]),n("span",{class:{"error--text text-decoration-line-through":e.showReplaceWith,"success--text":!e.showReplaceWith}},[e._v(e._s(e.item.match))]),e.showReplaceWith?n("span",{staticClass:"success--text"},[e._v(e._s(e.replaceWith))]):e._e(),n("span",[e._v(e._s(e.item.afterMatch)+"...")])])},y=[],w={name:"Match",props:{replaceWith:String,showReplaceWith:Boolean,item:Object}},j=w,k=(n("5eda"),Object(l["a"])(j,g,y,!1,null,"2814a079",null)),x=k.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"font-weight-black clickable px-1",staticStyle:{display:"inline-block",width:"fit-content"},on:{click:function(t){return e.openFile(e.filePath)}}},[n("v-icon",{staticStyle:{position:"relative",top:"-2px"},attrs:{small:"",color:e.getIconColor(e.filePath)}},[e._v(" "+e._s(e.getFileIcon(e.filePath))+" ")]),e._v(" "+e._s(e.filePath)+" ")],1)},S=[],C=(n("99af"),n("b0c0"),n("d009")),R=n("dffd"),P=n("9a02"),_={name:"FileName",props:{filePath:String},methods:{getFileIcon:function(e){var t;return null!==(t=(R["a"].get(e)||{}).icon)&&void 0!==t?t:"mdi-file-outline"},getIconColor:function(e){return(P["a"].getWithRelativePath(e)||{}).color},openFile:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C["a"].getApp();case 2:return n=t.sent,t.next=5,n.fileSystem.getFileHandle("projects/".concat(n.project.name,"/").concat(e));case 5:r=t.sent,n.project.openFile(r);case 7:case"end":return t.stop()}}),t)})))()}}},A=_,T=n("269a"),F=n.n(T),E=n("5607"),D=Object(l["a"])(A,O,S,!1,null,null,null),M=D.exports;p()(D,{VIcon:v["a"]}),F()(D,{Ripple:E["a"]});var I=n("2ef0"),W=n("7c64"),V=(n("fb6a"),n("4d63"),n("ac1f"),n("25f0"),n("5319"),n("a318")),B=n("0249");function N(e,t,n){return e.replace(t,(function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r=r.slice(0,-2),n.replace(/{(\d+)}/g,(function(e){var t;return null!==(t=r[Number(arguments.length<=1?void 0:arguments[1])])&&void 0!==t?t:e}))}))}function L(e,t){var n;try{n=new RegExp(t===B["a"].useRegExp?e:Object(V["a"])(e),"g".concat(t===B["a"].ignoreCase?"i":""))}catch(r){return}return n}var $=n("a6f4"),H={name:"FindAndReplaceTab",mixins:[W["a"]],components:{SearchType:b,Match:x,FilePath:M},props:{tab:Object,height:Number},mounted:function(){this.$refs.virtualScroller.$el.scrollTop=this.scrollTop},activated:function(){this.$refs.virtualScroller.$el.scrollTop=this.scrollTop},data:function(){return this.tab.state},methods:{updateQuery:Object(I["debounce"])(Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.tab.updateQuery();case 2:case"end":return e.stop()}}),e,this)}))),750),onScroll:function(e){this.scrollTop=e.target.scrollTop},onReplaceAll:function(){this.tab.executeQuery()},processReplaceWith:function(e){return N(e,L(this.searchFor,this.queryOptions.searchType),this.replaceWith)},onReplaceSingleFile:function(e){this.tab.executeSingleQuery(e)}},watch:{tab:function(){for(var e in this.tab.state)Object($["g"])(this,e,this.tab.state[e])},searchFor:function(){this.updateQuery()},"queryOptions.searchType":function(){this.updateQuery()},scrollTop:function(){this.$refs.virtualScroller.$el.scrollTop=this.scrollTop}}},z=H,U=n("b0af"),J=n("62ad"),q=n("0fd9"),G=n("2fa4"),K=n("8654"),Q=n("0de5"),Z=Object(l["a"])(z,r,i,!1,null,null,null);t["a"]=Z.exports;p()(Z,{VBtn:h["a"],VCard:U["a"],VCol:J["a"],VIcon:v["a"],VRow:q["a"],VSpacer:G["a"],VTextField:K["a"],VVirtualScroll:Q["a"]})},b147:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n("d4ec"),i=n("bee2"),a=n("257e"),o=n("45eb"),s=n("7e84"),c=n("262e"),u=n("2caf"),l=n("ade3"),d=n("a46c"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseWindow",{attrs:{windowTitle:e.$data.message||"windows.loadingWindow.titles.loading",isVisible:e.isVisible,hasMaximizeButton:!1,hasCloseButton:!1,isPersistent:!0,isFullscreen:!1,width:300,height:40},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"default",fn:function(){return[n("v-progress-linear",{attrs:{indeterminate:""}})]},proxy:!0}])})},h=[],f=n("bd5a"),v={name:"LoadingWindow",components:{BaseWindow:f["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()}}},m=v,b=n("2877"),g=n("6544"),y=n.n(g),w=n("8e36"),j=Object(b["a"])(m,p,h,!1,null,null,null),k=j.exports;y()(j,{VProgressLinear:w["a"]});var x=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.call(this,k),Object(l["a"])(Object(a["a"])(e),"virtualWindows",0),Object(l["a"])(Object(a["a"])(e),"loadingMessages",[]),e.defineWindow(),e}return Object(i["a"])(n,[{key:"message",get:function(){return this.loadingMessages[this.loadingMessages.length-1]}},{key:"open",value:function(e){this.virtualWindows++,this.loadingMessages.push(e),this.isVisible||Object(o["a"])(Object(s["a"])(n.prototype),"open",this).call(this)}},{key:"close",value:function(){this.virtualWindows--,this.loadingMessages.pop(),0===this.virtualWindows?Object(o["a"])(Object(s["a"])(n.prototype),"close",this).call(this):this.virtualWindows<0&&(this.virtualWindows=0)}},{key:"closeAll",value:function(){this.virtualWindows=0,this.loadingMessages=[],Object(o["a"])(Object(s["a"])(n.prototype),"close",this).call(this)}}]),n}(d["a"])},b2f9:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("a6f4"),i=Object(r["h"])({})},b46e:function(e,t,n){"use strict";n("05d5")},b51c:function(e,t,n){e.exports=n.p+"js/0.c24feb8c.worker.js"},bcb1:function(e,t,n){},bd5a:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:e.isVisible,persistent:e.isPersistent,"hide-overlay":!e.blurBackground,"max-width":e.isFullscreen?e.maxWindowWidth:e.windowWidth,"content-class":"no-overflow"},on:{input:function(t){return e.$emit("closeWindow")}}},[n("v-card",{attrs:{height:"100%",width:"100%",color:"background",rounded:"darwin"===e.platform?"lg":void 0}},[e.hideToolbar?e._e():n("darwin"===e.platform?"MacToolbar":"WindowsToolbar",{tag:"component",attrs:{windowTitle:e.t(e.windowTitle),actions:e.actions,hasMaximizeButton:e.hasMaximizeButton,hasCloseButton:e.hasCloseButton,hasSidebar:!!e.$slots.sidebar,sidebarWidth:e.sidebarWidth},on:{toggleFullscreen:function(t){return e.$emit("toggleFullscreen")},closeWindow:function(t){return e.$emit("closeWindow")}}},[e._t("toolbar")],2),e.$slots.sidebar?n("v-navigation-drawer",{staticStyle:{visibility:"visible",transform:"translateX(0)"},attrs:{absolute:"",width:e.sidebarWidth,permanent:"",clipped:"",stateless:"",color:"expandedSidebar"}},["darwin"===e.platform?n("MacWindowControls",{staticClass:"pl-3 pt-1",staticStyle:{width:"calc(100% - 1px)","background-color":"var(--v-expandedSidebar-base)"},attrs:{hasMaximizeButton:e.hasMaximizeButton,hasCloseButton:e.hasCloseButton},on:{toggleFullscreen:function(t){return e.$emit("toggleFullscreen")},closeWindow:function(t){return e.$emit("closeWindow")}}}):e._e(),n("v-container",{class:{"pt-8":"darwin"===e.platform}},[e._t("sidebar")],2)],1):e._e(),n("v-card-text",{staticStyle:{"padding-top":"12px","overflow-y":"auto"},style:{height:e.heightUnset?void 0:(e.isFullscreen?e.maxWindowHeight:e.windowHeight)+"px","max-height":e.maxWindowHeight+"px","padding-top":e.hideToolbar?"24px":"12px","padding-left":e.$slots.sidebar?"calc("+e.sidebarWidth+" + 12px)":void 0}},[e._t("default")],2),e.$slots.actions?n("v-card-actions",{style:{"padding-left":e.$slots.sidebar?"calc("+e.sidebarWidth+" + 12px)":void 0},attrs:{"background-color":"footer"}},[e._t("actions")],2):e._e()],1)],1)},i=[],a=(n("a9e3"),n("8ed7")),o=n("7c64"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-system-bar",{style:{"padding-right":"0px","padding-left":e.hasSidebar?"calc("+e.sidebarWidth+" + 12px)":void 0},attrs:{height:"30px",color:"toolbar"}},[n("span",[e._v(e._s(e.windowTitle))]),n("v-spacer"),n("v-toolbar-items",{staticClass:"px14-font"},[e._l(e.actions,(function(e){return n("DisplayAction",{key:e.id,attrs:{action:e}})})),e._t("default"),e.hasMaximizeButton?n("v-btn",{attrs:{small:"",icon:""},on:{click:function(t){return t.stopPropagation(),e.$emit("toggleFullscreen")}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-plus")])],1):e._e(),e.hasCloseButton?n("v-btn",{staticClass:"mr-1",attrs:{small:"",icon:"",color:"error"},on:{click:function(t){return t.stopPropagation(),e.$emit("closeWindow")}}},[n("v-icon",{attrs:{color:e.isDarkMode?"white":"grey darken-1",small:""}},[e._v(" mdi-close ")])],1):e._e()],2)],1)},c=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{style:"darwin"===e.platform?"border-radius: 8px":void 0,attrs:{text:!e.minimalDisplay,small:"",icon:e.minimalDisplay},on:{click:function(t){return e.action.trigger()}}},[n("v-icon",{class:{"mr-1":!0,"ml-1":e.minimalDisplay},attrs:{color:"primary",small:""}},[e._v(" "+e._s(e.action.icon)+" ")]),e.minimalDisplay?e._e():n("span",{style:{"text-transform":"none","font-weight":"unset",color:e.isDarkMode?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)"}},[e._v(" "+e._s(e.t(e.action.name))+" ")])],1)},l=[],d=n("4feb"),p={mixins:[o["a"]],props:{action:d["a"]},data:function(){return{platform:Object(a["a"])()}},computed:{minimalDisplay:function(){return!this.$vuetify.breakpoint.mdAndUp},isDarkMode:function(){return this.$vuetify.theme.dark}}},h=p,f=n("2877"),v=n("6544"),m=n.n(v),b=n("8336"),g=n("132d"),y=Object(f["a"])(h,u,l,!1,null,null,null),w=y.exports;m()(y,{VBtn:b["a"],VIcon:g["a"]});var j={name:"WindowsToolbar",components:{DisplayAction:w},props:{windowTitle:String,actions:Array,sidebarWidth:{type:String,default:"25%"},hasCloseButton:{type:Boolean,default:!0},hasMaximizeButton:{type:Boolean,default:!0},hasSidebar:Boolean},computed:{isDarkMode:function(){return this.$vuetify.theme.dark}}},k=j,x=n("2fa4"),O=n("afd9"),S=n("2a7f"),C=Object(f["a"])(k,s,c,!1,null,null,null),R=C.exports;m()(C,{VBtn:b["a"],VIcon:g["a"],VSpacer:x["a"],VSystemBar:O["a"],VToolbarItems:S["b"]});var P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-system-bar",{attrs:{height:"30px",color:"toolbar"}},[n("span",{class:{"window-title":!e.hasSidebar},style:{"padding-left":e.hasSidebar?"calc("+e.sidebarWidth+" + 12px)":void 0}},[e._v(" "+e._s(e.windowTitle)+" ")]),n("div",{staticStyle:{position:"absolute",top:"3px"}},[e.hasSidebar?e._e():n("MacWindowControls",e._g({attrs:{hasCloseButton:e.hasCloseButton,hasMaximizeButton:e.hasMaximizeButton,hasMinimizeButton:e.hasMinimizeButton}},e.$listeners))],1),n("v-spacer"),e._l(e.actions,(function(e){return n("DisplayAction",{key:e.id,attrs:{action:e}})})),e._t("default")],2)},_=[],A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{position:"fixed","z-index":"1"}},[e.hasCloseButton?n("MacButton",{attrs:{color:"error"},on:{click:function(t){return e.$emit("closeWindow")}}}):e._e(),e.hasCloseButton?n("MacButton",{attrs:{color:"warning",disabled:!e.hasMinimizeButton},on:{click:function(t){return e.$emit("minimizeWindow")}}}):e._e(),e.hasCloseButton?n("MacButton",{attrs:{color:"success",disabled:!e.hasMaximizeButton},on:{click:function(t){return e.$emit("toggleFullscreen")}}}):e._e()],1)},T=[],F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-icon",{directives:[{name:"ripple",rawName:"v-ripple",value:!e.disabled,expression:"!disabled"}],staticClass:"mr-1",staticStyle:{"font-size":"15px"},attrs:{color:e.disabled||!e.windowHasFocus?e.isDarkMode?"grey darken-2":"grey":e.color,small:""},nativeOn:{click:function(t){return t.stopPropagation(),e.$emit("click")}}},[e._v(" mdi-checkbox-blank-circle ")])},E=[],D={props:{color:String,disabled:Boolean},data:function(){return{windowHasFocus:!0}},mounted:function(){window.addEventListener("focus",this.enableButton),window.addEventListener("blur",this.disableButton)},destroyed:function(){window.removeEventListener("focus",this.enableButton),window.removeEventListener("blur",this.disableButton)},computed:{isDarkMode:function(){return this.$vuetify.theme.dark}},methods:{disableButton:function(){this.windowHasFocus=!1},enableButton:function(){this.windowHasFocus=!0}}},M=D,I=n("269a"),W=n.n(I),V=n("5607"),B=Object(f["a"])(M,F,E,!1,null,null,null),N=B.exports;m()(B,{VIcon:g["a"]}),W()(B,{Ripple:V["a"]});var L={components:{MacButton:N},props:{hasCloseButton:{type:Boolean,default:!0},hasMinimizeButton:{type:Boolean,default:!1},hasMaximizeButton:{type:Boolean,default:!0}},computed:{isDarkMode:function(){return this.$vuetify.theme.dark}}},$=L,H=Object(f["a"])($,A,T,!1,null,null,null),z=H.exports,U={name:"MacToolbar",components:{MacWindowControls:z,DisplayAction:w},props:{windowTitle:String,hasSidebar:Boolean,actions:Array,sidebarWidth:{type:String,default:"25%"},hasCloseButton:{type:Boolean,default:!0},hasMinimizeButton:{type:Boolean,default:!1},hasMaximizeButton:{type:Boolean,default:!0}}},J=U,q=(n("5b2e"),Object(f["a"])(J,P,_,!1,null,"813ed9e4",null)),G=q.exports;m()(q,{VSpacer:x["a"],VSystemBar:O["a"]});var K=n("85b1"),Q={name:"BaseWindow",mixins:[o["a"]],components:{WindowsToolbar:R,MacToolbar:G,MacWindowControls:z},props:{isFullscreen:Boolean,isVisible:Boolean,shouldRender:Boolean,isPersistent:Boolean,actions:Array,sidebarWidth:{type:String,default:"25%"},blurBackground:{type:Boolean,default:!0},hideToolbar:Boolean,windowTitle:String,hasCloseButton:{type:Boolean,default:!0},hasMaximizeButton:{type:Boolean,default:!1},width:{type:Number,default:1600},maxWidth:{type:Number,default:1600},height:{type:Number,default:800},maxHeight:{type:Number,default:800},heightUnset:Boolean,percentageHeight:Number,percentageWidth:Number,maxPercentageHeight:Number,maxPercentageWidth:Number},data:function(){return{platform:Object(a["a"])(),globalWindowWidth:window.innerWidth,globalWindowHeight:window.innerHeight,updateWindowSize:Object(K["a"])((function(){this.globalWindowWidth=window.innerWidth,this.globalWindowHeight=window.innerHeight}),200).bind(this)}},mounted:function(){window.addEventListener("resize",this.updateWindowSize)},destroyed:function(){window.removeEventListener("resize",this.updateWindowSize)},computed:{isDarkMode:function(){return this.$vuetify.theme.dark},windowWidth:function(){return void 0==this.percentageWidth?this.width:this.globalWindowWidth/100*this.percentageWidth},windowHeight:function(){return void 0==this.percentageHeight?this.height:this.globalWindowHeight/100*this.percentageHeight-150},maxWindowWidth:function(){return void 0==this.maxPercentageWidth?this.maxWidth:this.globalWindowWidth/100*this.maxPercentageWidth},maxWindowHeight:function(){return void 0==this.maxPercentageHeight?this.maxHeight:this.globalWindowHeight/100*this.maxPercentageHeight-150}}},Z=Q,Y=(n("9edc"),n("b0af")),X=n("99d9"),ee=n("a523"),te=n("169a"),ne=n("f774"),re=Object(f["a"])(Z,r,i,!1,null,null,null);t["a"]=re.exports;m()(re,{VCard:Y["a"],VCardActions:X["b"],VCardText:X["d"],VContainer:ee["a"],VDialog:te["a"],VNavigationDrawer:ne["a"]})},c112:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("96cf");var r=n("1da1"),i=n("3139"),a=n("8add");function o(e,t,n){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!i["a"]){e.next=9;break}o=URL.createObjectURL(new Blob([n])),s=document.createElement("a"),s.download=Object(a["basename"])(t),s.href=o,s.click(),URL.revokeObjectURL(o),e.next=11;break;case 9:return e.next=11,r.writeFile(t,n);case 11:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}},c3ee:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n("99af"),n("159b"),n("96cf");var r=n("1da1"),i=n("d4ec"),a=n("bee2"),o=n("257e"),s=n("262e"),c=n("2caf"),u=n("ade3"),l=n("ec26"),d=n("d009"),p=n("dffd"),h=n("9a02"),f=n("8dde"),v=n("f374"),m=n("1834"),b=function(e){Object(s["a"])(n,e);var t=Object(c["a"])(n);function n(e){var r;return Object(i["a"])(this,n),r=t.call(this),Object(u["a"])(Object(o["a"])(r),"parent",void 0),Object(u["a"])(Object(o["a"])(r),"uuid",Object(l["a"])()),Object(u["a"])(Object(o["a"])(r),"hasRemoteChange",!1),Object(u["a"])(Object(o["a"])(r),"isUnsaved",!1),Object(u["a"])(Object(o["a"])(r),"isForeignFile",!0),Object(u["a"])(Object(o["a"])(r),"connectedTabs",[]),Object(u["a"])(Object(o["a"])(r),"onClose",new m["a"]),Object(u["a"])(Object(o["a"])(r),"projectPath",void 0),Object(u["a"])(Object(o["a"])(r),"actions",[]),Object(u["a"])(Object(o["a"])(r),"isActive",!1),Object(u["a"])(Object(o["a"])(r),"isLoading",!0),r.parent=e,window.setTimeout((function(){return r.setup()})),r}return Object(a["a"])(n,[{key:"setIsUnsaved",value:function(e){this.isUnsaved=e}},{key:"isSharingScreen",get:function(){return this.parent.isSharingScreen}},{key:"setup",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.dispatch(this),this.isLoading=!1;case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateParent",value:function(e){this.parent=e}},{key:"tabSystem",get:function(){return this.parent}},{key:"getPath",value:function(){if(!this.projectPath)throw new Error("Trying to access projectPath before tab finished loading");return"projects/".concat(this.parent.projectName,"/").concat(this.projectPath)}},{key:"getProjectPath",value:function(){if(!this.projectPath)throw new Error("Trying to access projectPath before tab finished loading");return this.projectPath}},{key:"icon",get:function(){var e,t;return null!==(e=null===(t=p["a"].get(this.getProjectPath()))||void 0===t?void 0:t.icon)&&void 0!==e?e:"mdi-file-outline"}},{key:"iconColor",get:function(){var e;return null===(e=h["a"].get(this.getPath()))||void 0===e?void 0:e.color}},{key:"isSelected",get:function(){return this.parent.selectedTab===this}},{key:"select",value:function(){return this.parent.select(this),this}},{key:"close",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.parent.setActive(!0),e.next=3,this.parent.close(this);case 3:return t=e.sent,t&&(this.connectedTabs.forEach((function(e){return e.close()})),this.onClose.dispatch()),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"focus",value:function(){}},{key:"onActivate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.isActive=!0;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onDeactivate",value:function(){this.isActive=!1}},{key:"onDestroy",value:function(){}},{key:"toOtherTabSystem",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=!(s.length>0&&void 0!==s[0])||s[0],e.next=3,d["a"].getApp();case 3:if(r=e.sent,i=null===(t=r.projectManager.currentProject)||void 0===t?void 0:t.tabSystems,a=i[0]===this.parent?i[0]:i[1],o=i[0]===this.parent?i[1]:i[0],this.parent=o,!n){e.next=14;break}return a.remove(this,!1),e.next=12,o.add(this,!0);case 12:e.next=21;break;case 14:if(this.isForeignFile){e.next=19;break}return e.next=17,o.openedFiles.add(this.getPath());case 17:return e.next=19,a.openedFiles.remove(this.getPath());case 19:o.select(this),this.isSelected&&a.select(a.tabs[0]);case 21:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addAction",value:function(){var e;(e=this.actions).push.apply(e,arguments)}},{key:"clearActions",value:function(){this.actions=[]}},{key:"onContextMenu",value:function(e){var t=this,n=[];this.parent.tabs.length>1&&n.push({name:"actions.moveToSplitScreen.name",description:"actions.moveToSplitScreen.description",icon:"mdi-arrow-split-vertical",onTrigger:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.toOtherTabSystem();case 1:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),Object(f["a"])(e,[].concat(n,[{name:"actions.closeTab.name",description:"actions.closeTab.description",icon:"mdi-close",onTrigger:function(){t.close()}},{name:"actions.closeAll.name",description:"actions.closeAll.description",icon:"mdi-table-row",onTrigger:function(){t.parent.closeTabs((function(){return!0}))}},{name:"actions.closeTabsToRight.name",description:"actions.closeTabsToRight.description",icon:"mdi-chevron-right",onTrigger:function(){var e=!0;t.parent.closeTabs((function(n){return n===t&&(e=!1),e}))}},{name:"actions.closeAllSaved.name",description:"actions.closeAllSaved.description",icon:"mdi-content-save-outline",onTrigger:function(){t.parent.closeTabs((function(e){return!e.isUnsaved}))}},{name:"actions.closeOtherTabs.name",description:"actions.closeOtherTabs.description",icon:"mdi-unfold-more-vertical",onTrigger:function(){t.parent.closeTabs((function(e){return e!==t}))}}]))}},{key:"copy",value:function(){document.execCommand("copy")}},{key:"cut",value:function(){document.execCommand("cut")}},{key:"paste",value:function(){}}],[{key:"is",value:function(e){return!1}}]),n}(v["a"])},c573:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("99af"),n("b0c0"),n("96cf");var r=n("1da1"),i=n("c112"),a=n("36cc"),o=n("d009"),s=n("3139"),c=n("7815"),u=n("8a54");function l(){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].getApp();case 2:return t=e.sent,t.windows.loadingWindow.open(),n=new a["a"](s["a"]?t.fileSystem.baseDirectory:t.project.baseDirectory),r="builds/".concat(t.project.name,".brproject"),e.prev=6,e.t0=i["a"],e.t1=r,e.next=11,n.package();case 11:return e.t2=e.sent,e.t3=t.project.fileSystem,e.next=15,(0,e.t0)(e.t1,e.t2,e.t3);case 15:e.next=20;break;case 17:e.prev=17,e.t4=e["catch"](6),console.error(e.t4);case 20:l=t.project.name,s["a"]||(d=Object(c["b"])({icon:"mdi-export",color:"success",textColor:"white",message:"general.successfulExport.title",onClick:function(){new u["a"]({description:"[".concat(t.locales.translate("general.successfulExport.description"),': "projects/').concat(l,"/").concat(r,'"]')}),d.dispose()}})),t.windows.loadingWindow.close();case 23:case"end":return e.stop()}}),e,null,[[6,17]])}))),d.apply(this,arguments)}},c77e:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n("96cf");var r=n("1da1"),i=n("d4ec"),a=n("bee2"),o=n("ade3"),s=n("edfe"),c=n("c8ae"),u=n("8a54"),l=n("a6f4"),d=n("f374"),p=n("0d04"),h=n("3139"),f=function(){function e(){Object(i["a"])(this,e),Object(o["a"])(this,"confirmPermissionWindow",null),Object(o["a"])(this,"_status","waiting")}return Object(a["a"])(e,[{key:"status",get:function(){return this._status}},{key:"setStatus",value:function(e){this._status=e}},{key:"setupFileSystem",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["b"])("bridgeBaseDir");case 2:if(r=t.sent,!r){t.next=7;break}return t.next=6,this.verifyPermissions(r);case 6:r=t.sent;case 7:if(r){t.next=21;break}return i=e.state,i.showInitialSetupDialog.value=!0,t.next=12,i.receiveDirectoryHandle.fired;case 12:return r=t.sent,t.next=15,this.verifyPermissions(r);case 15:if(r instanceof p["a"]){t.next=18;break}return t.next=18,Object(s["c"])("bridgeBaseDir",r);case 18:i.setupDone.dispatch(),t.next=22;break;case 21:c["a"].ready.dispatch();case 22:if(t.t0=h["a"],!t.t0){t.next=27;break}return t.next=26,Object(s["b"])("confirmedUnsupportedBrowser");case 26:t.t0=!t.sent;case 27:if(!t.t0){t.next=29;break}n.windows.browserUnsupported.open();case 29:return this._status="done",t.abrupt("return",r);case 31:case"end":return t.stop()}}),t,this)})));function n(e){return t.apply(this,arguments)}return n}()},{key:"verifyPermissions",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i,a=this,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=!(o.length>1&&void 0!==o[1])||o[1],i={writable:!0,mode:"readwrite"},e.prev=2,e.t0=n,!e.t0){e.next=9;break}return e.next=7,t.requestPermission(i);case 7:e.t1=e.sent,e.t0="granted"!==e.t1;case 9:if(!e.t0){e.next=12;break}return e.next=12,this.verifyPermissions(t,!1);case 12:e.next=16;break;case 14:e.prev=14,e.t2=e["catch"](2);case 16:return e.next=18,t.queryPermission(i);case 18:if(e.t4=e.sent,e.t3="granted"!==e.t4,!e.t3){e.next=22;break}e.t3=null===this.confirmPermissionWindow;case 22:if(!e.t3){e.next=26;break}return this.confirmPermissionWindow=new u["a"]({name:"windows.projectFolder.title",description:"windows.projectFolder.content",onClose:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a._status="userInteracted",a.confirmPermissionWindow=null,e.next=4,t.requestPermission(i);case 4:if(e.t0=e.sent,"granted"===e.t0){e.next=8;break}return e.next=8,a.verifyPermissions(t,!1);case 8:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),e.next=26,this.confirmPermissionWindow.fired;case 26:return e.prev=26,e.next=29,t.getDirectoryHandle("data",{create:!0});case 29:e.next=34;break;case 31:return e.prev=31,e.t5=e["catch"](26),e.abrupt("return",void 0);case 34:return e.abrupt("return",t);case 35:case"end":return e.stop()}}),e,this,[[2,14],[26,31]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();Object(o["a"])(f,"state",{showInitialSetupDialog:Object(l["f"])(!1),receiveDirectoryHandle:new d["a"],setupDone:new d["a"]})},c850:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));n("99af"),n("4de4"),n("0481"),n("d81d"),n("4069"),n("96cf");var r=n("1da1"),i=n("2909"),a=n("d4ec"),o=n("bee2"),s=n("257e"),c=n("45eb"),u=n("7e84"),l=n("262e"),d=n("2caf"),p=n("ade3"),h=n("a6f4"),f=n("3d15"),v=n("f374"),m=n("0249"),b=n("ac6f"),g=n("c3ee"),y=Object(f["c"])(new Worker(e,void 0)),w=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;Object(a["a"])(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(p["a"])(Object(s["a"])(e),"component",b["a"]),Object(p["a"])(Object(s["a"])(e),"findAndReplace",void 0),Object(p["a"])(Object(s["a"])(e),"state",Object(h["e"])({scrollTop:0,searchFor:"",replaceWith:"",queryOptions:{searchType:m["a"].matchCase},queryResults:[]})),Object(p["a"])(Object(s["a"])(e),"searchReady",new v["a"]),e}return Object(o["a"])(n,[{key:"displayQueryResults",get:function(){return this.state.queryResults.map((function(e){var t=e.filePath,n=e.matches;return[t].concat(Object(i["a"])(n))})).flat()}},{key:"setup",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new y(this.parent.projectRoot);case 2:return this.findAndReplace=e.sent,e.next=5,Object(c["a"])(Object(u["a"])(n.prototype),"setup",this).call(this);case 5:this.searchReady.dispatch();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateQuery",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.searchReady.fired;case 2:return this.searchReady.resetSignal(),this.isLoading=!0,e.next=6,this.findAndReplace.createQuery(this.state.searchFor,this.state.queryOptions);case 6:this.state.queryResults=e.sent,this.isLoading=!1,this.state.scrollTop=0,this.searchReady.dispatch();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"executeQuery",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.searchReady.fired;case 2:return this.searchReady.resetSignal(),this.isLoading=!0,e.next=6,this.findAndReplace.executeQuery(this.state.searchFor,this.state.replaceWith,this.state.queryOptions);case 6:return e.next=8,this.parent.app.project.updateFiles(this.state.queryResults.map((function(e){var t=e.filePath;return t})));case 8:this.state.queryResults=[],this.state.scrollTop=0,this.isLoading=!1,this.searchReady.dispatch();case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"executeSingleQuery",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.searchReady.fired;case 2:return this.searchReady.resetSignal(),this.isLoading=!0,e.next=6,this.findAndReplace.setMatchedFiles([t]);case 6:return n=e.sent,e.next=9,this.findAndReplace.executeQuery(this.state.searchFor,this.state.replaceWith,this.state.queryOptions);case 9:return e.next=11,this.findAndReplace.setMatchedFiles(n.filter((function(e){return e!==t})));case 11:return e.next=13,this.parent.app.project.updateFile(t);case 13:this.state.queryResults=this.state.queryResults.filter((function(e){return e.filePath!==t})),this.isLoading=!1,this.searchReady.dispatch();case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isFor",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onActivate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"icon",get:function(){return"mdi-file-search-outline"}},{key:"iconColor",get:function(){return"success"}},{key:"name",get:function(){return this.parent.app.locales.translate("findAndReplace.name")}},{key:"save",value:function(){}}],[{key:"is",value:function(){return!1}}]),n}(g["a"])}).call(this,n("b51c"))},c8ae:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("d4ec"),i=n("ade3"),a=n("f374"),o=function e(){Object(r["a"])(this,e)};Object(i["a"])(o,"ready",new a["a"])},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("3139"),i=(n("b0c0"),n("3d15")),a=n("0d04"),o=n("496c");i["b"].set("VirtualFileHandle",{canHandle:function(e){return e instanceof o["a"]},serialize:function(e){return[e.serialize(),[]]},deserialize:function(e){return new o["a"](null,e.name,e.data)}}),i["b"].set("VirtualDirectoryHandle",{canHandle:function(e){return e instanceof a["a"]},serialize:function(e){return[e.serialize(),[]]},deserialize:function(e){return a["a"].deserialize(e)}});var s=n("a6f4"),c=n("a026");c["default"].use(s["b"]);var u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("Toolbar"),n("Sidebar",{attrs:{app:""}}),n("v-main",{style:{"padding-top":"env(titlebar-area-height, 24px)"}},[n("WindowRenderer"),n("v-row",{staticClass:"d-flex fill-area",class:{"flex-row-reverse":e.isSidebarRight},attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:e.isSidebarContentVisible?3+e.sidebarSize:0}},[n("SidebarContent")],1),n("v-col",{staticClass:"flex-grow-1",attrs:{cols:e.isSidebarContentVisible?9-e.sidebarSize:12}},[e.shouldRenderWelcomeScreen?n("div",{staticClass:"d-flex"},[e.isSidebarContentVisible&&!e.isSidebarRight?n("v-divider",{attrs:{vertical:""}}):e._e(),n("TabSystem",{staticClass:"flex-grow-1",attrs:{tabSystem:e.tabSystems[0],showWelcomeScreen:""}}),e.tabSystems[0].shouldRender&&e.tabSystems[1].shouldRender?n("v-divider",{attrs:{vertical:""}}):e._e(),n("TabSystem",{staticClass:"flex-grow-1",attrs:{tabSystem:e.tabSystems[1],id:1}}),e.isSidebarContentVisible&&e.isSidebarRight?n("v-divider",{attrs:{vertical:""}}):e._e()],1):n("WelcomeScreen")],1)],1)],1),n("InitialSetupDialog"),e.contextMenu?n("ContextMenu",{attrs:{contextMenu:e.contextMenu}}):e._e(),n("FileDropper")],1)},l=[],d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{attrs:{"mini-variant":"","mini-variant-width":"60",stateless:"",value:!0,app:e.app,absolute:"",right:e.isSidebarRight,color:"sidebarNavigation",height:"calc(100% - env(titlebar-area-height, 24px))"}},[n("v-list",e._l(e.sidebarElements,(function(e){return n("SidebarButton",{key:""+e.uuid,attrs:{displayName:e.displayName,icon:e.icon,isLoading:e.isLoading,isSelected:e.isSelected},on:{click:function(t){return e.click()}}})})),1),e.hasVisibleNotifications?n("v-list",[n("v-divider",{staticClass:"mx-3 mb-6"}),e._l(e.NotificationStore,(function(t){return[t.isVisible?n("SidebarButton",{key:t.id,attrs:{displayName:t.message,icon:t.icon,color:t.color,iconColor:t.textColor},on:{click:function(e){return t.onClick()},middleClick:function(e){return t.onMiddleClick()}}}):e._e()]}))],2):e._e(),e.tasks.length>0?n("v-list",[n("v-divider",{staticClass:"mx-3 mb-6"}),e._l(e.tasks,(function(e,t){return n("SidebarButton",{key:""+t,attrs:{displayName:e.name,icon:e.icon,color:"primary",isLoading:"",alwaysAllowClick:""},on:{click:function(t){return e.createWindow()}}},[n("v-progress-circular",{attrs:{rotate:"-90",size:"24",width:"2",color:"white",value:e.progress}})],1)}))],2):e._e()],1)},p=[],h=(n("4de4"),n("07ac"),n("4d25")),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-tooltip",{attrs:{color:e.color?e.color:"tooltip",disabled:e.hasClicked,right:!e.isSidebarRight,left:e.isSidebarRight},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("div",e._g({directives:[{name:"ripple",rawName:"v-ripple",value:e.alwaysAllowClick||!e.isLoading,expression:"alwaysAllowClick || !isLoading"}],staticClass:"rounded-lg ma-2 d-flex justify-center sidebar-button",class:{loading:e.isLoading,"pa-1":e.smallerSidebarElements,"pa-2":!e.smallerSidebarElements,"elevation-4":e.isSelected},style:{"background-color":e.computedColor,transform:e.isSelected?"scale(1.1)":void 0},on:{click:e.onClick,mouseup:function(t){return"button"in t&&1!==t.button?null:e.onMiddleClick(t)}}},r),[n("v-icon",{style:{position:e.isLoading?"absolute":"relative",marginTop:e.isLoading?"4px":0},attrs:{color:e.isLoading||e.isSelected?"white":e.iconColor,small:e.isLoading}},[e._v(" "+e._s(e.icon)+" ")]),e.isLoading?e._t("default",[n("v-progress-circular",{attrs:{size:"24",width:"2",color:"white",indeterminate:""}})]):e._e()],2)]}}],null,!0)},[n("span",[e._v(e._s(e.t(e.displayName)))])])},v=[],m=(n("a9e3"),n("2ca0"),n("7c64")),b={name:"SidebarButton",mixins:[m["a"]],props:{displayName:String,icon:String,iconColor:String,color:String,isLoading:{type:Boolean,default:!1},isSelected:{type:Boolean,default:!1},alwaysAllowClick:{type:Boolean,default:!1},opacity:{type:Number,default:1}},data:function(){return{settingsState:h["b"],hasClicked:!1}},computed:{isSidebarRight:function(){return this.settingsState&&this.settingsState.sidebar&&this.settingsState.sidebar.isSidebarRight},smallerSidebarElements:function(){return this.settingsState&&this.settingsState.sidebar&&this.settingsState.sidebar.smallerSidebarElements},computedColor:function(){return this.color?this.color.startsWith("#")?this.color:"var(--v-".concat(this.color,"-base)"):this.isLoading||this.isSelected?"var(--v-primary-base)":"var(--v-sidebarSelection-base)"}},methods:{onClick:function(){var e=this;!this.alwaysAllowClick&&this.isLoading||(this.$emit("click"),this.hasClicked=!0,this.$nextTick((function(){return e.hasClicked=!1})))},onMiddleClick:function(){var e=this;!this.alwaysAllowClick&&this.isLoading||(this.$emit("middleClick"),this.hasClicked=!0,this.$nextTick((function(){return e.hasClicked=!1})))}}},g=b,y=(n("d42b"),n("2877")),w=n("6544"),j=n.n(w),k=n("132d"),x=n("490a"),O=n("3a2f"),S=n("269a"),C=n.n(S),R=n("5607"),P=Object(y["a"])(g,f,v,!1,null,"03bcab0c",null),_=P.exports;j()(P,{VIcon:k["a"],VProgressCircular:x["a"],VTooltip:O["a"]}),C()(P,{Ripple:R["a"]});var A=n("5d94"),T=n("2dd6"),F=n("b2f9"),E={name:"Sidebar",props:{app:Boolean},components:{SidebarButton:_},data:function(){return{SidebarState:A["a"],settingsState:h["b"],tasks:T["b"],NotificationStore:F["a"]}},computed:{sidebarElements:function(){return Object.values(A["a"].sidebarElements).filter((function(e){return e.isVisible}))},hasVisibleNotifications:function(){return Object.values(this.NotificationStore).some((function(e){var t=e.isVisible;return t}))},isSidebarRight:function(){return this.settingsState&&this.settingsState.sidebar&&this.settingsState.sidebar.isSidebarRight}}},D=E,M=n("ce7e"),I=n("8860"),W=n("f774"),V=Object(y["a"])(D,d,p,!1,null,null,null),B=V.exports;j()(V,{VDivider:M["a"],VList:I["a"],VNavigationDrawer:W["a"],VProgressCircular:x["a"]});var N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-system-bar",{style:{"padding-left":0,"margin-left":"env(titlebar-area-x, 0)",width:"env(titlebar-area-width, 100%)","z-index":e.windowControlsOverlay?1e3:void 0},attrs:{color:"toolbar",fixed:"",app:"",clipped:"",padless:"",height:"env(titlebar-area-height, 24px)"}},[e.isMacOS&&e.windowControlsOverlay?e._e():r("img",{staticStyle:{height:"20px","padding-right":"4px","padding-left":"8px"},attrs:{alt:"bridge. Logo",draggable:"false",src:n("736d")}}),r("v-divider",{attrs:{vertical:""}}),r("v-toolbar-items",{staticClass:"px14-font"},[e._l(e.toolbar,(function(t,n,i){return["category"!==t.type?r("MenuButton",{key:"button."+n,attrs:{displayName:t.name,displayIcon:t.icon,disabled:e.isAnyWindowVisible},on:{click:function(){return t.trigger()}}}):r("MenuActivator",{key:"activator."+n,attrs:{item:t,disabled:e.isAnyWindowVisible}}),e.windowControlsOverlay||i+1<Object.keys(e.toolbar).length?r("v-divider",{key:"divider."+n,attrs:{vertical:""}}):e._e()]}))],2),e.windowControlsOverlay?r("span",{staticClass:"pl-3"},[e._v(" "+e._s(e.title)+" ")]):e._e(),r("v-spacer"),r("div",{directives:[{name:"ripple",rawName:"v-ripple",value:!e.isAnyWindowVisible,expression:"!isAnyWindowVisible"}],staticClass:"px-1 mx-1 rounded-lg app-version-display",style:{opacity:e.isAnyWindowVisible?.4:null},on:{click:e.openChangelogWindow}},[e._v(" v"+e._s(e.appVersion)+" ")])],1)},L=[],$=(n("96cf"),n("1da1")),H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{staticClass:"toolbar-btn",attrs:{small:"",icon:"",color:e.color},on:{click:function(t){return t.stopPropagation(),e.action(t)}}},[n("v-icon",{attrs:{small:""}},[e._v(e._s(e.icon))])],1)},z=[],U={name:"WindowAction",components:{},props:{action:Function,icon:String,color:String}},J=U,q=(n("d526"),n("8336")),G=Object(y["a"])(J,H,z,!1,null,"0dfaadb2",null),K=G.exports;j()(G,{VBtn:q["a"],VIcon:k["a"]});var Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{"min-width":"260px","offset-y":"",tile:"","z-index":"11"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("MenuButton",e._g({attrs:{disabled:e.disabled,displayIcon:e.item.icon,displayName:e.item.name}},r))]}}]),model:{value:e.item.isVisible,callback:function(t){e.$set(e.item,"isVisible",t)},expression:"item.isVisible"}},[e.item.isVisible?n("MenuList",{attrs:{elements:e.item.state}}):e._e()],1)},Z=[],Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list",{staticClass:"app-menu",staticStyle:{"border-radius":"0"},attrs:{color:"menu"}},[e._l(e.elements,(function(t,r,i){return["divider"===t.type?n("v-divider",{key:"menu."+i+"."+Math.random()}):n("v-menu",{key:"menu."+i+"."+Math.random(),attrs:{"open-on-hover":"","offset-x":"",tile:"","z-index":"11"},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on;return[n("v-list-item",e._g({attrs:{dense:""},on:{click:function(n){return e.onClick(t)}}},"category"===t.type?i:void 0),[t.icon?n("v-list-item-icon",[n("v-icon",{attrs:{color:"accent",small:""}},[e._v(e._s(t.icon))])],1):e._e(),n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(e.t(t.name))+" ")])],1),n("v-list-item-action",[n("v-list-item-action-text",["category"!==t.type&&t.keyBinding?n("span",[e._v(" "+e._s(t.keyBinding.toStrKeyCode())+" ")]):e._e(),"category"===t.type?n("v-icon",{attrs:{small:""}},[e._v(" mdi-chevron-right ")]):e._e()],1)],1)],1)]}}],null,!0)},[n("MenuList",{attrs:{elements:t.state}})],1)]}))],2)},X=[],ee={name:"MenuList",mixins:[m["a"]],props:{elements:Object},methods:{onClick:function(e){e.trigger()}}},te=ee,ne=n("da13"),re=n("1800"),ie=n("5d23"),ae=n("34c3"),oe=n("e449"),se=Object(y["a"])(te,Y,X,!1,null,null,null),ce=se.exports;j()(se,{VDivider:M["a"],VIcon:k["a"],VList:I["a"],VListItem:ne["a"],VListItemAction:re["a"],VListItemActionText:ie["e"],VListItemContent:ie["g"],VListItemIcon:ae["a"],VListItemTitle:ie["k"],VMenu:oe["a"]});var ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{staticClass:"toolbar-btn",attrs:{small:"",text:"",disabled:e.disabled},on:{click:function(t){return e.$emit("click",t)}}},[e.displayIcon?n("v-icon",{staticStyle:{"margin-right":"6px","font-style":"normal"},attrs:{color:"accent"}},[e._v(" "+e._s(e.displayIcon)+" ")]):e._e(),n("span",[e._v(" "+e._s(e.t(e.displayName))+" ")])],1)},le=[],de={name:"MenuButton",mixins:[m["a"]],props:{displayName:String,displayIcon:String,disabled:{type:Boolean}}},pe=de,he=(n("95d1"),Object(y["a"])(pe,ue,le,!1,null,"6a411098",null)),fe=he.exports;j()(he,{VBtn:q["a"],VIcon:k["a"]});var ve={name:"MenuActivator",components:{MenuList:ce,MenuButton:fe},props:{item:Object,disabled:Boolean}},me=ve,be=Object(y["a"])(me,Q,Z,!1,null,null,null),ge=be.exports;j()(be,{VMenu:oe["a"]});var ye=n("d009"),we=n("6396"),je=n("8ed7"),ke=n("e6b7"),xe={data:function(){return{windowControlsOverlay:navigator.windowControlsOverlay&&navigator.windowControlsOverlay.visible}},mounted:function(){var e=this;navigator.windowControlsOverlay&&navigator.windowControlsOverlay.addEventListener("geometrychange",(function(t){e.windowControlsOverlay=t.visible}))}},Oe={name:"Toolbar",mixins:[xe],components:{WindowAction:K,MenuActivator:ge,MenuButton:fe},setup:function(){var e=Object(s["e"])({title:"bridge.",isAnyWindowVisible:ke["a"].isAnyWindowVisible});return ye["a"].getApp().then((function(t){e.title=t.projectManager.title.current})),e},data:function(){return{toolbar:ye["a"].toolbar.state,isMacOS:"darwin"===Object(je["a"])(),appVersion:we["a"]}},methods:{openChangelogWindow:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isAnyWindowVisible){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,ye["a"].getApp();case 4:return n=t.sent,t.next=7,n.windows.changelogWindow.open();case 7:case"end":return t.stop()}}),t)})))()}}},Se=Oe,Ce=(n("b46e"),n("2fa4")),Re=n("afd9"),Pe=n("2a7f"),_e=Object(y["a"])(Se,N,L,!1,null,"31d66fa6",null),Ae=_e.exports;j()(_e,{VDivider:M["a"],VSpacer:Ce["a"],VSystemBar:Re["a"],VToolbarItems:Pe["b"]}),C()(_e,{Ripple:R["a"]});var Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.windows,(function(e,t){return n(e.component,{key:t,tag:"component",attrs:{currentWindow:e}})})),1)},Fe=[],Ee={name:"CollectedWindows",data:function(){return{windows:ke["a"].state}}},De=Ee,Me=Object(y["a"])(De,Te,Fe,!1,null,null,null),Ie=Me.exports,We=n("7a00"),Ve={mixins:[We["a"]],computed:{tabSystem:function(){if(this.project)return this.project.tabSystem},tabSystems:function(){if(this.project)return this.project.tabSystems},shouldRenderWelcomeScreen:function(){return this.tabSystems&&(this.tabSystems[0].shouldRender||this.tabSystems[1].shouldRender)}}},Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isVisible?n("v-menu",{attrs:{"position-x":e.contextMenu.position.x,"position-y":e.contextMenu.position.y,rounded:"lg",absolute:"","offset-y":""},model:{value:e.isVisible,callback:function(t){e.isVisible=t},expression:"isVisible"}},[n("v-list",{attrs:{dense:""}},[e._l(e.contextMenu.actionManager.state,(function(t,r){return["divider"===t.type?n("v-divider",{key:r}):n("v-list-item",{key:r,attrs:{origin:"center center",transition:"scale-transition",disabled:t.isDisabled},on:{click:function(e){return t.trigger()}}},[n("v-list-item-icon",{staticClass:"mr-2",style:{opacity:t.isDisabled?"38%":null}},[n("v-icon",{attrs:{color:"primary"}},[e._v(e._s(t.icon))])],1),n("v-list-item-action",{staticClass:"ma-0"},[e._v(" "+e._s(e.t(t.name))+" ")])],1)]}))],2)],1):e._e()},Ne=[],Le={name:"ContextMenu",mixins:[m["a"]],props:{contextMenu:Object},data:function(){return{shouldRender:!1,timeoutId:0}},computed:{isVisible:{set:function(e){this.contextMenu.isVisible=e},get:function(){return this.contextMenu.isVisible}}},watch:{isVisible:function(){var e=this;this.isVisible?(this.shouldRender=!0,clearTimeout(this.timeoutId)):this.timeoutId=setTimeout((function(){return e.shouldRender=!1}),500)}}},$e=Le,He=Object(y["a"])($e,Be,Ne,!1,null,null,null),ze=He.exports;j()(He,{VDivider:M["a"],VIcon:k["a"],VList:I["a"],VListItem:ne["a"],VListItemAction:re["a"],VListItemIcon:ae["a"],VMenu:oe["a"]});var Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.tabSystem.shouldRender?n("div",{staticClass:"tab-system"},[n("TabBar",{attrs:{tabSystem:e.tabSystem}}),e.tabSystem.selectedTab&&e.tabSystem.selectedTab.isLoading?n("v-progress-linear",{attrs:{absolute:"",indeterminate:""}}):e._e(),n("keep-alive",[n(e.tabSystem.currentComponent,{key:e.tabSystem.uuid+"."+(e.tabSystem.currentComponent.name||e.tabSystem.selectedTab.type||e.tabSystem.selectedTab.name),tag:"component",style:"height: "+(e.windowHeight-(e.tabBarHeight+(e.windowControlsOverlay?33:24)))+"px; width: 100%;",attrs:{height:e.windowHeight-(e.tabBarHeight+(e.windowControlsOverlay?33:24)),tab:e.tabSystem.selectedTab,id:e.id}})],1)],1):e._e()},Je=[],qe=n("ed38"),Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.tabSystem.shouldRender?n("Draggable",{style:"display: flex; overflow-x: scroll; white-space: nowrap; width: 100%; height: 48px;",attrs:{group:{name:"tabSystemTabRow"}},on:{change:e.updateTab},nativeOn:{mousedown:function(t){return t.target!==t.currentTarget?null:e.tabSystem.setActive(!0)}},model:{value:e.tabSystem.tabs,callback:function(t){e.$set(e.tabSystem,"tabs",t)},expression:"tabSystem.tabs"}},e._l(e.tabSystem.tabs,(function(t){return n("TabSystemTab",{key:t.uuid,attrs:{tab:t,isActive:e.tabSystem.isActive}})})),1):e._e(),e.tabSystem.selectedTab&&e.tabSystem.selectedTab.actions.length>0?n("ActionBar",{class:{"inactive-action-bar":!e.tabSystem.isActive},attrs:{actions:e.tabSystem.selectedTab.actions},on:{click:function(t){return e.tabSystem.setActive(!0)}}}):e._e()],1)},Ke=[],Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"tabElement",staticClass:"px-3 py-2",class:{selected:e.tab.isSelected,"default-tab-style":!0,"d-flex":!0,"align-center":!0,inactive:!e.isActive},on:{mousedown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:void(!e.hoverClose&&e.tab.select())},function(e){if("button"in e&&1!==e.button)return null;e.preventDefault()}],mouseup:function(t){return"button"in t&&1!==t.button?null:e.tab.close()},contextmenu:function(t){return t.preventDefault(),e.tab.onContextMenu(t)}}},[n("v-icon",{staticClass:"mr-1",attrs:{color:e.tab.iconColor,small:""}},[e._v(" "+e._s(e.tab.icon)+" ")]),n("span",{style:{"font-style":e.tab.isUnsaved?"italic":null}},[e._v(" "+e._s(e.tab.name)+" ")]),n("v-btn",{attrs:{text:"",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.tab.close()},mouseenter:function(t){e.hoverClose=!0},mouseleave:function(t){e.hoverClose=!1}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-close")])],1)],1)},Ze=[],Ye=n("c3ee"),Xe={name:"TabSystemTab",props:{tab:Ye["a"],isActive:Boolean},data:function(){return{hoverClose:!1}},mounted:function(){this.isSelected&&this.$refs.tabElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},computed:{isSelected:function(){return this.tab.isSelected}},watch:{isSelected:function(){this.isSelected&&this.$refs.tabElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}},et=Xe,tt=(n("d28d"),Object(y["a"])(et,Qe,Ze,!1,null,"31b5746c",null)),nt=tt.exports;j()(tt,{VBtn:q["a"],VIcon:k["a"]});var rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex mb-1"},e._l(e.actions,(function(t){return n("Action",{key:t.id,attrs:{action:t},on:{click:function(t){return e.$emit("click")}}})})),1)},it=[],at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"ripple",rawName:"v-ripple",value:!e.action.isDisabled,expression:"!action.isDisabled"}],staticClass:"d-flex px-1 mx-1 align-center action",style:{opacity:e.action.isDisabled?.2:1,cursor:e.action.isDisabled?null:"pointer"},on:{click:e.onClick}},[n("v-icon",{staticClass:"mr-1",attrs:{color:e.action.color||"primary",small:""}},[e._v(" "+e._s(e.action.icon)+" ")]),n("span",{staticClass:"action-name"},[e._v(e._s(e.t(e.action.name)))])],1)},ot=[],st=n("4feb"),ct={props:{action:st["a"]},mixins:[m["a"]],methods:{onClick:function(){this.$emit("click"),this.action.trigger()}}},ut=ct,lt=(n("38b1"),Object(y["a"])(ut,at,ot,!1,null,"fe1b63ca",null)),dt=lt.exports;j()(lt,{VIcon:k["a"]}),C()(lt,{Ripple:R["a"]});var pt={components:{Action:dt},props:{actions:Array}},ht=pt,ft=Object(y["a"])(ht,rt,it,!1,null,null,null),vt=ft.exports,mt=n("b76a"),bt=n.n(mt),gt={components:{TabSystemTab:nt,ActionBar:vt,Draggable:bt.a},props:{tabSystem:Object},methods:{updateTab:function(e){var t=e.added;t&&t.element.toOtherTabSystem(!1)}}},yt=gt,wt=(n("4ecc"),Object(y["a"])(yt,Ge,Ke,!1,null,"7b1695fe",null)),jt=wt.exports,kt={name:"TabSystem",mixins:[xe],props:{tabSystem:Object,id:{type:Number,default:0}},components:{TabBar:jt,WelcomeScreen:qe["a"]},data:function(){return{windowHeight:window.innerHeight}},mounted:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ye["a"].getApp();case 2:n=t.sent,n.windowResize.on(e.updateWindowHeight);case 4:case"end":return t.stop()}}),t)})))()},destroyed:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ye["a"].getApp();case 2:n=t.sent,n.windowResize.off(e.updateWindowHeight);case 4:case"end":return t.stop()}}),t)})))()},computed:{tabBarHeight:function(){return this.tabSystem.selectedTab&&this.tabSystem.selectedTab.actions.length>0?73:48}},methods:{updateWindowHeight:function(){this.windowHeight=window.innerHeight}},watch:{"tabSystem.shouldRender":function(){ye["a"].getApp().then((function(e){return e.windowResize.dispatch()}))}}},xt=kt,Ot=(n("3a78"),n("8e36")),St=Object(y["a"])(xt,Ue,Je,!1,null,"2661fdfe",null),Ct=St.exports;j()(St,{VProgressLinear:Ot["a"]});var Rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-overlay",{attrs:{opacity:.9},model:{value:e.state.isHovering,callback:function(t){e.$set(e.state,"isHovering",t)},expression:"state.isHovering"}},[n("div",{staticClass:"d-flex flex-column align-center justify-center"},[n("v-icon",{staticStyle:{"font-size":"8em"},attrs:{color:"primary"}},[e._v(" mdi-plus-circle-outline ")]),n("h1",[e._v(e._s(e.t("fileDropper.importFiles")))])],1)])},Pt=[],_t={name:"FileDropperUI",mixins:[m["a"]],data:function(){return{state:{isHovering:!1}}},mounted:function(){var e=this;ye["a"].getApp().then((function(t){e.state=t.fileDropper.state}))}},At=_t,Tt=n("a797"),Ft=Object(y["a"])(At,Rt,Pt,!1,null,null,null),Et=Ft.exports;j()(Ft,{VIcon:k["a"],VOverlay:Tt["a"]});var Dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isVisible?r("v-dialog",{attrs:{value:e.isVisible&&e.stepId<e.steps.length+1,fullscreen:"","hide-overlay":"",persistent:""}},[r("v-card",[r("v-container",{class:{"pt-12":e.windowControlsOverlay}},[r("div",{staticClass:"d-flex flex-column justify-center align-center mb-6"},[r("img",{attrs:{height:"128",draggable:"false",src:n("6084"),alt:""}}),r("h1",{staticClass:"text-h3"},[e._v(e._s(e.t("initialSetup.welcome")))]),r("h2",{staticClass:"text-h5"},[e._v(" - "+e._s(e.t("initialSetup.welcomeCaption"))+" - ")])]),r("v-stepper",{attrs:{vertical:""},model:{value:e.stepId,callback:function(t){e.stepId=t},expression:"stepId"}},[e._l(e.steps,(function(t,n){var i=t.name,a=t.component;return[r("v-stepper-step",{key:i+".header",attrs:{complete:e.stepId>n+1,step:n+1}},[r("span",{staticClass:"text-h5"},[e._v(e._s(e.t(i+".name")))]),e.stepId===n+1?r("span",{staticClass:"text-body-2"},[e._v(" "+e._s(e.t(i+".description"))+" ")]):e._e()]),r("v-stepper-content",{key:i+".content",attrs:{step:n+1}},[r(a,{tag:"component",on:{next:function(t){return e.onNext()},done:function(t){return e.onDone()}}})],1)]}))],2)],1)],1)],1):e._e()},Mt=[],It=(n("99af"),n("2909")),Wt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{color:"transparent",elevation:"0",rounded:"lg"}},[n("v-card-actions",[n("v-btn",{attrs:{color:"primary",disabled:e.buttonDisabled},on:{click:e.onClick}},[n("v-icon",{staticClass:"mr-1"},[e._v("mdi-download")]),e._v(" "+e._s(e.t("sidebar.notifications.installApp.message"))+" ")],1),n("v-spacer"),n("v-btn",{on:{click:function(t){return e.$emit("next")}}},[e._v(e._s(e.t("general.skip")))])],1)],1)},Vt=[],Bt={mixins:[m["a"]],data:function(){return{buttonDisabled:!1}},methods:{onClick:function(){return Object($["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:ye["a"].installApp.prompt();case 1:case"end":return e.stop()}}),e)})))()}}},Nt=Bt,Lt=n("b0af"),$t=n("99d9"),Ht=Object(y["a"])(Nt,Wt,Vt,!1,null,null,null),zt=Ht.exports;j()(Ht,{VBtn:q["a"],VCard:Lt["a"],VCardActions:$t["b"],VIcon:k["a"],VSpacer:Ce["a"]});var Ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{color:"transparent",elevation:"0"}},e._l(e.actions,(function(e,t){return n("ActionViewer",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t,staticClass:"clickable",attrs:{action:e,hideTriggerButton:""},nativeOn:{click:function(t){return e.trigger()}}})})),1)},Jt=[],qt=n("3835"),Gt=n("a50c"),Kt=n("c77e"),Qt=n("6997"),Zt=n("b147"),Yt={components:{ActionViewer:Gt["a"]},mounted:function(){return Object($["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Kt["a"].state.receiveDirectoryHandle.dispatch(new a["a"](null,"bridgeFolder")),e.next=3,Kt["a"].state.setupDone;case 3:case"end":return e.stop()}}),e)})))()},data:function(){var e=this;return{isLoading:!1,actions:[new st["a"]({icon:"mdi-plus",name:"initialSetup.step.bridgeProject.createNew.name",description:"initialSetup.step.bridgeProject.createNew.description",onTrigger:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:e.$emit("next");case 3:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}),new st["a"]({icon:"mdi-import",name:"initialSetup.step.bridgeProject.importExisting.name",description:"initialSetup.step.bridgeProject.importExisting.description",onTrigger:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var n,r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:return n=new Zt["a"],n.open(),e.isLoading=!0,t.prev=5,t.next=9,window.showOpenFilePicker({multiple:!1,types:[{description:"bridge. Project",accept:{"application/zip":[".brproject"]}}]});case 9:i=t.sent,a=Object(qt["a"])(i,1),r=a[0],t.next=19;break;case 14:return t.prev=14,t.t0=t["catch"](5),e.isLoading=!1,n.close(),t.abrupt("return");case 19:return t.next=21,Object(Qt["a"])(r,!0);case 21:e.$emit("done"),e.isLoading=!1,n.close();case 24:case"end":return t.stop()}}),t,null,[[5,14]])})));function n(){return t.apply(this,arguments)}return n}()})]}}},Xt=Yt,en=Object(y["a"])(Xt,Ut,Jt,!1,null,null,null),tn=en.exports;j()(en,{VCard:Lt["a"]}),C()(en,{Ripple:R["a"]});var nn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{attrs:{color:"primary",disabled:e.buttonDisabled},on:{click:e.onClick}},[n("v-icon",{staticClass:"mr-1"},[e._v("mdi-folder-open-outline")]),e._v(" "+e._s(e.t("general.selectFolder"))+" ")],1)},rn=[],an={mixins:[m["a"]],data:function(){return{buttonDisabled:!1}},methods:{onClick:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.showDirectoryPicker({writable:!0,startIn:"documents"});case 3:n=t.sent,t.next=9;break;case 6:return t.prev=6,t.t0=t["catch"](0),t.abrupt("return");case 9:if(n){t.next=11;break}return t.abrupt("return");case 11:return Kt["a"].state.receiveDirectoryHandle.dispatch(n),e.buttonDisabled=!0,t.next=15,Kt["a"].state.setupDone;case 15:e.$emit("next");case 16:case"end":return t.stop()}}),t,null,[[0,6]])})))()}}},on=an,sn=Object(y["a"])(on,nn,rn,!1,null,null,null),cn=sn.exports;j()(sn,{VBtn:q["a"],VIcon:k["a"]});var un=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{color:"transparent",elevation:"0",rounded:"lg"}},[n("v-card-text",{staticClass:"d-flex align-center"},[n("v-icon",{staticClass:"pr-2",attrs:{color:"primary","x-large":""}},[e._v(" mdi-plus-circle-outline ")]),n("span",{staticClass:"text-h5"},[e._v(e._s(e.t("initialSetup.step.comMojang.extraDescription")))])],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{on:{click:function(t){return e.$emit("next")}}},[e._v(e._s(e.t("general.skip")))])],1)],1)},ln=[],dn={mixins:[m["a"]],mounted:function(){var e=this;ye["a"].instance.comMojang.setup.fired.then((function(){e.$emit("next")}))}},pn=dn,hn=Object(y["a"])(pn,un,ln,!1,null,null,null),fn=hn.exports;j()(hn,{VBtn:q["a"],VCard:Lt["a"],VCardActions:$t["b"],VCardText:$t["d"],VIcon:k["a"],VSpacer:Ce["a"]});var vn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{color:"transparent",elevation:"0"}},e._l(e.actions,(function(e,t){return n("ActionViewer",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t,staticClass:"clickable",attrs:{action:e,hideTriggerButton:""},nativeOn:{click:function(t){return e.trigger()}}})})),1)},mn=[],bn=n("62c0"),gn={components:{ActionViewer:Gt["a"]},data:function(){var e=this;return{isLoading:!1,actions:[new st["a"]({icon:"mdi-text",name:"initialSetup.step.editorType.rawText.name",description:"initialSetup.step.editorType.rawText.description",onTrigger:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:return e.isLoading=!0,t.next=5,e.setJsonEditor("rawText");case 5:e.$emit("next");case 6:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}),new st["a"]({icon:"mdi-file-tree",name:"initialSetup.step.editorType.treeEditor.name",description:"initialSetup.step.editorType.treeEditor.description",onTrigger:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:return e.isLoading=!0,t.next=5,e.setJsonEditor("treeEditor");case 5:e.$emit("next");case 6:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()})]}},methods:{setJsonEditor:function(e){return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,bn["a"].loadSettings(ye["a"].instance);case 2:return h["b"].editor||(h["b"].editor={}),h["b"].editor.jsonEditor=e,t.next=6,bn["a"].saveSettings(ye["a"].instance);case 6:case"end":return t.stop()}}),t)})))()}}},yn=gn,wn=Object(y["a"])(yn,vn,mn,!1,null,null,null),jn=wn.exports;j()(wn,{VCard:Lt["a"]}),C()(wn,{Ripple:R["a"]});var kn=n("c8ae"),xn={name:"InitialSetupDialog",mixins:[m["a"],xe],setup:function(){var e=Kt["a"].state.showInitialSetupDialog;return{isVisible:e}},data:function(){return{setupInProgress:!0,stepId:1,steps:[].concat(Object(It["a"])(r["a"]?[{name:"initialSetup.step.bridgeProject",component:tn}]:[{name:"initialSetup.step.bridge",component:cn},{name:"initialSetup.step.comMojang",component:fn}]),[{name:"initialSetup.step.editorType",component:jn}])}},mounted:function(){var e=this;ye["a"].installApp.isInstallable.on((function(){e.steps.unshift({name:"initialSetup.step.installApp",component:zt}),e.stepId=0,e.$nextTick((function(){return e.stepId=1}))})),ye["a"].installApp.isInstalled.on((function(){e.onNext()}))},methods:{onNext:function(){this.stepId++,this.stepId>this.steps.length&&kn["a"].ready.dispatch()},onDone:function(){this.stepId=this.steps.length+1,kn["a"].ready.dispatch()}}},On=xn,Sn=n("a523"),Cn=n("169a"),Rn=n("7e85"),Pn=n("e516f"),_n=n("56a4"),An=Object(y["a"])(On,Dt,Mt,!1,null,null,null),Tn=An.exports;j()(An,{VCard:Lt["a"],VContainer:Sn["a"],VDialog:Cn["a"],VStepper:Rn["a"],VStepperContent:Pn["a"],VStepperStep:_n["a"]});var Fn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.content?n("div",{staticClass:"pa-2",style:{height:"calc("+e.windowDimensions.currentHeight+"px - env(titlebar-area-height, 24px))"}},[n("BridgeSheet",{style:{height:"100%",overflow:"auto"}},[e.content.topPanel?n("InfoPanel",{staticClass:"ma-2",attrs:{infoPanel:e.content.topPanel}}):e._e(),e.content.actions&&e.content.actions.length>0?n("ActionBar",{attrs:{actions:e.content.actions}}):e._e(),n(e.content.component,{tag:"component",attrs:{sidebarContent:e.content}})],1)],1):e._e()},En=[],Dn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{staticClass:"action-bar pa-1",attrs:{cols:"5","no-gutters":""}},e._l(e.actions,(function(t,r){return n("v-col",{key:r},[n("Action",{attrs:{color:t.config.color,icon:t.config.icon,isSelected:t.isSelected},on:{click:function(n){return e.onClick(n,t)}}})],1)})),1)},Mn=[],In=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"rounded-lg ma-1 d-flex justify-center sidebar-actions pa-2",class:{"elevation-4":e.isSelected},style:{background:e.isSelected?"var(--v-"+e.color+"-base)":null,transform:e.isSelected?"scale(1.05)":null},on:{click:function(t){return e.$emit("click",t)}}},[n("v-icon",{attrs:{color:e.isSelected?"white":e.color}},[e._v(e._s(e.icon))])],1)},Wn=[],Vn={props:{color:String,icon:String,isSelected:Boolean}},Bn=Vn,Nn=(n("29e7"),Object(y["a"])(Bn,In,Wn,!1,null,"161fc006",null)),Ln=Nn.exports;j()(Nn,{VIcon:k["a"]}),C()(Nn,{Ripple:R["a"]});var $n=n("ce02"),Hn={props:{actions:Array},components:{Action:Ln},methods:{onClick:function(e,t){t instanceof $n["a"]?t.select():t.trigger(e)}}},zn=Hn,Un=(n("9c05"),n("62ad")),Jn=n("0fd9"),qn=Object(y["a"])(zn,Dn,Mn,!1,null,"9ef4d304",null),Gn=qn.exports;j()(qn,{VCol:Un["a"],VRow:Jn["a"]});var Kn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rounded-lg bg"},[e._t("default")],2)},Qn=[],Zn={name:"BridgeSheet"},Yn=Zn,Xn=(n("4b79"),Object(y["a"])(Yn,Kn,Qn,!1,null,"78af304b",null)),er=Xn.exports,tr=n("def5"),nr={components:{BridgeSheet:er,ActionBar:Gn,InfoPanel:tr["a"]},mounted:function(){var e=this;ye["a"].getApp().then((function(t){e.windowDimensions=t.windowResize.state}))},data:function(){return{SidebarState:A["a"],windowDimensions:{currentHeight:window.innerHeight}}},computed:{content:function(){return this.SidebarState.currentState}}},rr=nr,ir=Object(y["a"])(rr,Fn,En,!1,null,null,null),ar=ir.exports,or={name:"App",mixins:[Ve],setup:function(){return{isSidebarContentVisible:A["b"]}},mounted:function(){var e=this;ye["a"].getApp().then((function(t){e.contextMenu=t.contextMenu}))},components:{Sidebar:B,Toolbar:Ae,WindowRenderer:Ie,ContextMenu:ze,TabSystem:Ct,WelcomeScreen:qe["a"],FileDropper:Et,InitialSetupDialog:Tn,SidebarContent:ar},data:function(){return{isMacOs:"darwin"===Object(je["a"])(),contextMenu:null,settingsState:h["b"]}},computed:{isSidebarRight:function(){return this.settingsState&&this.settingsState.sidebar&&this.settingsState.sidebar.isSidebarRight},sidebarSize:function(){var e=this.settingsState&&this.settingsState.sidebar?this.settingsState.sidebar.sidebarSize:void 0;switch(e||(e="normal"),e){case"tiny":return-2;case"small":return-1;case"normal":return 0;case"large":return 1}}}},sr=or,cr=(n("034f"),n("7496")),ur=n("f6c4"),lr=Object(y["a"])(sr,u,l,!1,null,null,null),dr=lr.exports;j()(lr,{VApp:cr["a"],VCol:Un["a"],VDivider:M["a"],VMain:ur["a"],VRow:Jn["a"]});var pr=n("ce5b"),hr=n.n(pr),fr=n("5530"),vr=n("4b41"),mr=Object(fr["a"])(Object(fr["a"])({},vr["a"]),{},{languageName:"English",general:{yes:"Yes",no:"No",okay:"Okay",confirm:"Confirm",cancel:"Cancel",close:"Close",reload:"Reload",information:"Information",continue:"Continue",delete:"Delete",skip:"Skip",selectFolder:"Select Folder",fileName:"File Name",confirmOverwriteFile:"A file with this name already exists. Do you want to overwrite it?",fileSystemPolyfill:"Due to the browser you are using, you need to download your projects in order to actually save your progress. This is not necessary if you are using Chrome or Edge!",successfulExport:{title:"Export Successful",description:"You can find the exported package here"}},packType:{behaviorPack:{name:"Behavior Pack",description:"Create new game mechanics and change how Minecraft behaves"},resourcePack:{name:"Resource Pack",description:"Used for changing Minecraft's look and sound"},skinPack:{name:"Skin Pack",description:"Provide new appearances a player can select for their character"},worldTemplate:{name:"World Template",description:"Create a world that users can create to experience your project"}},fileType:{manifest:"Manifest",animation:"Animation",animationController:"Animation Controller",biome:"Biome",block:"Block",bridgeConfig:"Project Config",dialogue:"Dialogue",entity:"Entity",feature:"Feature",featureRule:"Feature Rule",functionTick:"Function Tick",function:"Function",item:"Item",lootTable:"Loot Table",recipe:"Recipe",clientScript:"Client Script",serverScript:"Server Script",script:"Script",spawnRule:"Spawn Rule",mcstructure:"Structure",tradeTable:"Trade Table",clientManifest:"Client Manifest",skinManifest:"Skin Manifest",geometry:"Geometry",customCommand:"Command",customComponent:"Component",clientAnimation:"Client Animation",clientAnimationController:"Client Animation Controller",attachable:"Attachable",clientEntity:"Client Entity",clientItem:"Client Item",clientLang:"Language",fog:"Fog",particle:"Particle",renderController:"Render Controller",texture:"Texture",textureSet:"Texture Set",itemTexture:"Item Texture",clientBlock:"Client Block",terrainTexture:"Terrain Texture",flipbookTexture:"Flipbook Texture",clientBiome:"Client Biome",soundDefinition:"Sound Definition",musicDefinition:"Music Definition",clientSound:"Client Sound",skins:"Skins",langDef:"Language Definitions",lang:"Language",molang:"Molang",gameTest:"Game Test",unknown:"Other",simpleFile:"Simple Files",ui:"UI",volume:"Volume",worldManifest:"World Manifest"},actions:{newProject:{name:"New Project",description:"Create a new bridge. project"},newFile:{name:"New File",description:"Create a new Add-On feature"},openFile:{name:"Open File",description:"Open a file from the current project"},searchFile:{name:"Search File",description:"Search and open a file from the current project"},saveFile:{name:"Save File",description:"Save the currently opened file"},saveAs:{name:"Save As",description:"Save the currently opened file under a different name"},saveAll:{name:"Save All",description:"Save all currently opened files"},closeFile:{name:"Close File",description:"Close the currently opened file"},settings:{name:"Settings",description:"Open bridge.'s app settings"},extensions:{name:"Extensions",description:"Install and manage your installed extensions"},copy:{name:"Copy",description:"Copy selected text to the clipboard"},cut:{name:"Cut",description:"Copy selected text to the clipboard and remove it from the original context"},paste:{name:"Paste",description:"Paste clipboard content"},docs:{name:"Documentation",description:"Opens the Minecraft Add-On documentation"},releases:{name:"Releases",description:"View the latest bridge. releases"},bugReports:{name:"Bug Reports",description:"Report an issue with bridge."},extensionAPI:{name:"Extension API",description:"Read more about bridge.'s extension API"},gettingStarted:{name:"Getting Started",description:"Read our guide on how to get started with bridge."},faq:{name:"FAQ",description:"Read through frequently asked questions about developing Add-Ons with bridge."},reloadAutoCompletions:{name:"Reload Auto-Completions",description:"Reloads all auto-completion data"},reloadExtensions:{name:"Reload Extensions",description:"Reloads all extensions"},moveToSplitScreen:{name:"Move to Split Screen",description:"Opens a split screen view and moves this tab to it"},closeTab:{name:"Close Tab",description:"Close this tab"},closeAll:{name:"Close All",description:"Close all tabs"},closeTabsToRight:{name:"Close Tabs to the Right",description:"Close all tabs to the right-hand side of this tab"},closeAllSaved:{name:"Close All Saved",description:"Close all saved tabs"},closeOtherTabs:{name:"Close other Tabs",description:"Close all tabs except this tab"},clearAllNotifications:{name:"Clear All Notifications",description:"Clears all current notifications"},pluginInstallLocation:{global:{name:"Install Globally",description:"Global extensions are accessible in all of your projects"},local:{name:"Install Locally",description:"Local extensions are only accessible inside of the projects you add them to"}},toObject:{name:"Transform to Object"},toArray:{name:"Transform to Array"},documentationLookup:{name:"View Documentation",noDocumentation:"No documentation available for"}},toolbar:{file:{name:"File",preferences:{name:"Preferences"}},edit:{name:"Edit"},tools:{name:"Tools"},help:{name:"Help"}},sidebar:{compiler:{name:"Compiler"},extensions:{name:"Extensions"},notifications:{socials:{message:"Socials"},gettingStarted:{message:"Getting Started"},installApp:{message:"Install App"},updateAvailable:{message:"Update Available"},updateExtensions:"Update All Extensions"}},welcome:{title:"Welcome to bridge.",subtitle:"Creating Minecraft addons has never been more convenient!",quickActions:"Quick Actions",recentFiles:"Recent Files",recentProjects:"Recent Projects"},windows:{changelogWindow:{title:"What's new?"},openFile:{title:"Open",search:"Search file...",noData:"No results..."},createProject:{welcome:"Welcome to bridge.!",welcomeDescription:"Please create your first project in order to get started.",omitPack:"Omit",selectedPack:"Selected",title:"Create Project",packIcon:"Project Icon (optional)",projectName:"Project Name",projectDescription:"Project Description (optional)",projectPrefix:"Project Prefix",projectAuthor:"Project Author",projectTargetVersion:"Project Target Version",scripting:"Enable Scripting API",gameTest:"Enable GameTest Framework",rpAsBpDependency:"Register resource pack as behavior pack dependency",useLangForManifest:"Add pack name/description directly to the manifest",create:"Create",saveCurrentProject:"Do you want to save your current project before creating the new one? Any unsaved changes will get lost!"},createPreset:{title:"Create Preset",searchPresets:"Search presets...",overwriteFiles:"This preset overwrites one or more existing files. Do you want to continue?",overwriteFilesConfirm:"Continue",overwriteUnsavedChanges:"This preset overwrites one or more files with unsaved changes. Do you want to continue?",overwriteUnsavedChangesConfirm:"Continue",validationRule:{alphanumeric:"You may only use alphanumeric characters and/or underscores",lowercase:"You may only use lowercase letters",required:"This field is required",noEmptyFolderNames:"Folder name may not be empty"}},deleteProject:{confirm:"Delete",description:"Are you sure you want to delete this project?"},socials:{title:"Socials",content:"Check out our Twitter, Github and join the official bridge. Discord server!",discord:"Discord",twitter:"Twitter",github:"Github"},projectChooser:{title:"Projects",searchProjects:"Search projects...",newProject:{name:"New Project",description:"Create a new bridge. project."},importBrproject:"Import Project",saveCurrentProject:{name:"Save Project",description:"Download your current project as a .brproject file to save changes that you have made."},openNewProject:{name:"Open Project",description:"Open a different project by selecting the corresponding .brproject file.",saveCurrentProject:"Do you want to save your current project before loading in the new one?"},wrongFileType:"Project must be a .brproject file"},filePath:{title:"Choose File Path"},packExplorer:{title:"Pack Explorer",searchFiles:"Search files...",categories:"Categories",refresh:{name:"Refresh Project",description:"Fetch the current project for newly added files"},restartDevServer:{name:"Restart Dev Server",description:"Are you sure that you want to restart the compiler's dev server? This can take some time depending on the size of your project."},createPreset:"New File",projectConfig:{name:"Open Project Config",missing:"It looks like this project has no config.json file. Every project needs a project config in order to work correctly."},exportAsMcaddon:{name:"Export as .mcaddon"},exportAsMctemplate:{name:"Export as .mctemplate",chooseWorld:"Choose a World"},exportAsMcworld:{name:"Export as .mcworld",chooseWorld:"Choose a World"},exportAsBrproject:{name:"Export as .brproject"},fileActions:{delete:{name:"Delete",description:"Delete a file or folder",confirmText:"Are you sure that you want to delete this file? You won't be able to restore it later!"},rename:{name:"Rename",description:"Rename a file"},duplicate:{name:"Duplicate",description:"Duplicate a file"},viewCompilerOutput:{name:"View Compiler Output",description:"View the current compiler output for this file",fileMissing:"It doesn't look like this file was compiled yet."},revealFilePath:{name:"Reveal File Path",description:"Reveals the location of a file or folder"}}},settings:{title:"Settings",searchSettings:"Search settings...",sidebar:{name:"Sidebar",sidebarRight:{name:"Sidebar Right",description:"Moves the sidebar to the right side of the screen"},sidebarSize:{name:"Sidebar Size",description:"Changes the width of the expanded sidebar area."},shrinkSidebarElements:{name:"Shrink Sidebar Elements",description:"Shrink the size of bridge.'s sidebar elements"}},appearance:{name:"Appearance",colorScheme:{name:"Color Scheme",description:"Choose the color scheme of bridge.'s UI"},darkTheme:{name:"Dark Theme",description:"Select the default dark theme bridge. uses"},lightTheme:{name:"Light Theme",description:"Select the default light theme bridge. uses"},localDarkTheme:{name:"Local Dark Theme",description:"Choose a dark theme for the currently active project"},localLightTheme:{name:"Local Light Theme",description:"Choose a light theme for the currently active project"}},general:{name:"General",language:{name:"Language",description:"Choose a language for bridge. to use"},collaborativeMode:{name:"Collaborative Mode",description:"Forces full refresh of the cache upon switching projects. Disable when you work alone and you only use bridge. to edit your project"},packSpider:{name:"Pack Spider",description:"Pack Spider connects files inside of your projects and presents the connections to you in a virtual file system"},formatOnSave:{name:"Format On Save",description:"Formats your text files upon saving them"},openLinksInBrowser:{name:"Open Links in Default Browser",description:"Open links inside of your default browser instead of a native app window"},restoreTabs:{name:"Restore Tabs",description:"Restore your tabs from when you last used bridge. upon opening the app"},resetBridgeFolder:{name:"Select Root Folder",description:"Choose the main folder bridge. operates on"}},developer:{name:"Developer",simulateOS:{name:"Simulate OS",description:"Simulate a different OS for testing platform specific behavior"},devMode:{name:"Developer Mode",description:"Enable the developer mode for this app"}},audio:{name:"Audio",volume:{name:"Audio Enabled",description:"Enable or disable all bridge sounds"}},actions:{name:"Actions"},editor:{jsonEditor:{name:"JSON Editor",description:"Choose how you want to edit JSON files"},wordWrap:{name:"Word Wrap",description:"Wrap words to disable horizontal scrolling"}}},projectFolder:{title:"Project Folder",content:"bridge. needs access to its project folder in order to work correctly."},extensionStore:{title:"Extension Store",searchExtensions:"Search extension...",activateExtension:"Activate Extension",deactivateExtension:"Deactivate Extension",offlineError:"Failed to load extensions. Please confirm that your device has an active network connection."},pluginInstallLocation:{title:"Choose Install Location"},unsavedFile:{description:"Do you want to save your changes to this file before closing it?",save:"Save & Close"},browserUnsupported:{title:"Unsupported Browser",description:"Please use Chrome (Desktop) or Edge (Chromium) in order to get the best experience using bridge. v2! Your browser does not support saving files directly and syncing projects to your com.mojang folder.",continue:"Continue Anyways"},invalidJson:{title:"Invalid JSON",description:'bridge.\'s tree editor cannot open files that contain invalid JSON. You can switch to the "Raw Text" editor type inside of the settings to manually fix the issue.'},loadingWindow:{titles:{loading:"Loading..."}}},taskManager:{tasks:{packIndexing:{title:"Indexing Packs",description:"bridge. is collecting data about your pack that is needed for its intelligent features"},compiler:{title:"Compiling Project",description:"bridge. is compiling your project to make it ready for import into Minecraft"},unzipper:{name:"Unpacking ZIP",description:"bridge. is currently unpacking a ZIP file."}}},fileDropper:{importFiles:"Drop files here to import them!",importFailed:"bridge. was unable to import the following files:",andMore:"...and more!",importMethod:"Import Method",saveToProject:{title:"Save to Project",description1:"Save the file ",description2:" inside of your project."},openFile:{title:"Open File",description1:"Open the file ",description2:" and save edits to the original file."}},comMojang:{folderDropped:"Do you want to set this folder as your default com.mojang folder?",title:'Access to folder "com.mojang"',permissionRequest:'bridge. needs access to your "com.mojang" folder in order to compile projects to it.',status:{sucess:"Syncing your projects to com.mojang is setup correctly.",deniedPermission:"You setup com.mojang syncing but you did not grant bridge. permission to the folder.",notSetup:"You have not setup com.mojang syncing yet.",notAvailable:"Syncing projects to the com.mojang folder is only available for Chrome and Edge users."}},findAndReplace:{name:"Find & Replace",search:"Search",replace:"Replace",replaceAll:"Replace All",noResults:"No results found.",noSearch:"Once you start typing, results for your search query will appear here."},preview:{name:"Preview",viewAnimation:"View Animation",viewModel:"View Model",viewParticle:"View Particle",viewEntity:"View Entity",viewBlock:"View Block",failedClientEntityLoad:"Failed to load connected client entity",invalidEntity:"Cannot open preview for an entity with invalid JSON. Please fix JSON errors inside of the file and try again.",chooseGeometry:"Choose Geometry",noGeometry:"No valid geometry found inside of this file. Make sure that your JSON is valid, that the file structure is correct and that a geometry with the provided identifier exists."},initialSetup:{welcome:"Welcome to bridge. v2!",welcomeCaption:"A powerful IDE for Minecraft Add-Ons",step:{installApp:{name:"Install bridge.",description:"For the best experience, install bridge. v2 as an app to your computer."},bridge:{name:"bridge. Folder",description:"Please create a folder where bridge. can save app related data and your add-on projects."},bridgeProject:{name:"bridge. Project",description:"Do you want to create a new project or import an existing project from a .brproject file?",createNew:{name:"New Project",description:"Create a new project."},importExisting:{name:"Import Project",description:"Import an existing project."}},comMojang:{name:"com.mojang Folder",description:"Now drag your com.mojang folder onto bridge. to setup syncing of projects to this folder. This makes your add-ons accessible inside of Minecraft for Windows 10 automatically. Setting up com.mojang syncing can be done at any point in time while bridge. is open.",extraDescription:"Drag your com.mojang folder onto bridge."},editorType:{name:"Choose Editor Type",description:"How do you want to edit JSON files? You can change your choice inside of bridge.'s settings later!",rawText:{name:"Raw Text",description:"Edit JSON as raw text. Ideal for intermediate to advanced developers. Comes with advanced auto-completions and JSON validation."},treeEditor:{name:"Tree Editor",description:"Edit JSON as a tree-like structure that requires little to no JSON knowledge. Ideal for beginners and intermediate creators."}}}},editors:{treeEditor:{addObject:"Add Object",addArray:"Add Array",addValue:"Add Value",edit:"Edit"}}}),br=n("8e29"),gr=Object(fr["a"])(Object(fr["a"])({},br["a"]),{},{languageName:"Deutsch",packType:{behaviorPack:{name:"Verhaltenspaket",description:"Erstelle neue Spielmechaniken und ndere, wie sich Minecraft verhlt"},resourcePack:{name:"Ressourcenpaket",description:"Verndere Minecraft's Aussehen und Sound"},skinPack:{name:"Charakterpaket",description:"Erstelle verschieden Charakter, die ein Spieler auswhlen kann"},worldTemplate:{name:"Weltvorlage",description:"Gebe Spielern eine Welt zum Erkunden"}},fileType:{manifest:"Manifest",animation:"Animation",animationController:"Animation Controller",biome:"Biome",block:"Block",entity:"Entity",feature:"Feature",featureRule:"Feature Rule",functionTick:"Function Tick",function:"Function",item:"Item",lootTable:"Loot Table",recipe:"Recipe",script:"Script",spawnRule:"Spawn Rule",mcstructure:"Structure",tradeTable:"Trade Table",clientManifest:"Client Manifest",geometry:"Geometry",clientAnimation:"Client Animation",clientAnimationController:"Client Animation Controller",attachable:"Attachable",clientEntity:"Client Entity",clientItem:"Client Item",fog:"Fog",particle:"Particle",renderController:"Render Controller",textureSet:"Texture Set",itemTexture:"Item Texture",clientBlock:"Client Block",terrainTexture:"Terrain Texture",flipbookTexture:"Flipbook Texture",clientBiome:"Client Biome",soundDefinition:"Sound Definition",musicDefinition:"Music Definition",clientSound:"Client Sound",skins:"Skins",langDef:"Language Definitions",lang:"Language",molang:"Molang",unknown:"Other",simpleFile:"Simple Files"},actions:{newProject:{name:"Neues Projekt",description:"Erstelle ein neues Projekt"},newFile:{name:"Neue Datei",description:"Erstelle ein neues Add-On Feature"},openFile:{name:"ffne Datei",description:"Suche und ffne eine Datei deines momentanen Projektes"},saveFile:{name:"Speichere Datei",description:"Speichere die aktuelle Datei"},closeFile:{name:"Schliee Datei",description:"Schliee die aktuelle Datei"},settings:{name:"Einstellungen",description:"ffne bridge.'s Appeinstellungen"},extensions:{name:"Erweiterungen",description:"Installiere und verwalte Erweiterungen"},copy:{name:"Kopieren",description:"Kopiere ausgewhlten Text"},cut:{name:"Schneiden",description:"Kopiere ausgewhlten Text und entferne ihn aus dem ursprnglichen Kontext"},paste:{name:"Einfgen",description:"Fge kopierten Text ein"},docs:{name:"Dokumentation",description:"ffne die Minecraft Add-On Dokumentation"},releases:{name:"Updates",description:"Sehe die neusten Updates"},bugReports:{name:"Fehler Melden",description:"Melde einen Fehler der App"},pluginAPI:{name:"Erweiterungs API",description:"Lese mehr ber bridge.'s Erweiterungs API"},gettingStarted:{name:"So Geht's Los!",description:"Lies unser Tutorial, wie du mit bridge. loslegst."},faq:{name:"FAQ",description:"Informiere dich ber hufig gestellte Fragen"},reloadAutoCompletions:{name:"Autovervollstndigung Neuladen",description:"Lade alle Autovervollstndigungen neu"},pluginInstallLocation:{global:{name:"Global Installieren",description:"Globale Erweiterungen sind in allen Projekten aktiv"},local:{name:"Lokal Installieren",description:"Lokale Erweiterungen sind in deinem aktuellen Projekt aktiv"}}},toolbar:{file:{name:"Datei",preferences:{name:"Prferenzen"}},edit:{name:"Editieren"},tools:{name:"Werkzeuge"},help:{name:"Hilfe"}},sidebar:{compiler:{name:"Compiler"},extensions:{name:"Erweiterungen"},notifications:{discord:{message:"Discord Server"},gettingStarted:{message:"So Geht's los!"},installApp:{message:"App Installieren"},updateAvailable:{message:"Update Verfgbar"}}},welcome:{title:"Willkommen zu bridge.",subtitle:"Add-On Entwicklung einfach gemacht!",quickActions:"Aktionen",recentFiles:"Zuletzt Verwendet",recentProjects:"Letzte Projekte"},windows:{common:{confirm:{title:"Besttigung"},dropdown:{confirm:"Besttigung"},information:{confirm:"Okay"},input:{confirm:"Besttigung"}},loadingWindow:{title:"Laden..."},openFile:{title:"ffnen",search:"Datei suchen...",noData:"Keine Ergebnisse..."},createProject:{welcome:"Willkommen to bridge.!",welcomeDescription:"Erstelle dein erstes Projekt, um loszulegen.",omitPack:"Nicht Ausgewhlt",selectedPack:"Ausgewhlt",title:"Projekt Erstellen",packIcon:"Projekt Logo (optional)",projectName:"Projekt Name",projectDescription:"Projekt Beschreibung (optional)",projectPrefix:"Project Prfix",projectAuthor:"Project Author",projectTargetVersion:"Projekt Zielversion",create:"Erstellen!"},createPreset:{title:"Erstelle Preset",searchPresets:"Suche Presets..."},deleteProject:{confirm:"Lschen",cancel:"Abbrechen",description:"Bist du sicher, dass du das Projekt entfernen willst?"},discord:{title:"Discord",content:"Trete dem offizielen bridge. Discord Server bei!",join:"Beitreten",later:"Spter"},projectChooser:{title:"Projekte",searchProjects:"Suche Projekte..."},selectFolder:{title:"Ordner Aussuchen",content:"Whle einen Ordner, indem bridge. deinen Projekte speichern soll.",select:"Auswhlen!"},packExplorer:{title:"Paket Explorer",searchFiles:"Suche Dateien...",categories:"Kategorien"},settings:{title:"Einstellungen",searchSettings:"Suche Einstellungen...",appearance:{name:"Aussehen",colorScheme:{name:"Farbschema",description:"Whle ein Farbschema fr bridge.'s Benutzeroberflche"},darkTheme:{name:"Dunkles Theme",description:"Select the default dark theme bridge. uses"},lightTheme:{name:"Helles Theme",description:"Select the default light theme bridge. uses"},localDarkTheme:{name:"Lokales Dunkles Theme",description:"Choose a dark theme for the currently active project"},localLightTheme:{name:"Lokales Helles Theme",description:"Choose a light theme for the currently active project"},sidebarRight:{name:"Rechte Seitenleiste",description:"Bewege die Seitenleiste auf die rechte Seite des Screens"},shrinkSidebarElements:{name:"Kleine Seitenleistenelemente",description:"Schrumpfe die Seitenleistenelemente, sodass sie weniger Platz bentigen"}},general:{name:"Allgemein",language:{name:"Sprache",description:"Whle eine Sprache fr bridge. aus"},collaborativeMode:{name:"Kollaborativer Modus",description:"Ldt den Cache komplett neu, wenn du die Projekte wechselst. Kann deaktiviert werden, wenn du alleine arbeitest und du nur bridge. fr dein Projekt nutzt"},packSpider:{name:"Pack Spider",description:"Pack Spider erkennt Verbindungen zwischen Dateien deines Projektes und bildet diese in einem Virtuellen Dateiensystem ab"},openLinksInBrowser:{name:"ffne Links im Browser",description:"ffne Links in deinem Browser anstelle von Applikationsfenstern"},resetBridgeFolder:{name:"Whle bridge. Ordner",description:"Whle dein Hautpordner, auf dem bridge. arbeitet"}},developer:{name:"Entwickler",simulateOS:{name:"OS Simulieren",description:"Simuliere ein anderes OS, um platformspezifische Features zu testen"},devMode:{name:"Developermodus",description:"Aktiviere den Developermodus fr diese App"}},actions:{name:"Aktionen"}},projectFolder:{title:"Projekte Ordner",content:"bridge. bentigt Zugriff auf deinen Projekteordner."},extensionStore:{title:"Erweiterungen",searchExtensions:"Suche Erweiterungen..."},pluginInstallLocation:{title:"Whle Installationsart"},unsavedFile:{title:"Besttigen",description:"Mchtest du die nderungen an dieser Datei speichern?",cancel:"Abbrechen",noSave:"Schlieen",save:"Spichern & Schlieen"},browserUnsupported:{title:"Keine Browseruntersttzung!",description:"bridge. untersttzt deinen Browser momentan nicht. Bitte nutze Chrome (Desktop) or Edge (Chromium), um bridge. zu nutzen!"}},taskManager:{tasks:{packIndexing:{title:"Paketindizierung",description:"bridge. sammelt Daten aus deinem Paket, die es fr seine intelligenten Features bentigt"},compiler:{title:"Projektkompilierung",description:"bridge. kompiliert dein Projekt, um es fr die Nutzung in Minecraft vorzubereiten"}}}}),yr=n("4642"),wr=Object(fr["a"])(Object(fr["a"])({},yr["a"]),{},{languageName:"Nederlands",general:{yes:"Ja",no:"Nee",okay:"Oke",confirm:"Bevestig",cancel:"Annuleer",close:"Sluit",reload:"Herlaad",information:"Informatie",continue:"Doorgaan",delete:"Verwijderen",skip:"Overslaan",selectFolder:"Selecteer Map",fileName:"Bestandsnaam",confirmOverwriteFile:"Er bestaat al een bestand met deze naam. Wil je het overschrijven?"},packType:{behaviorPack:{name:"Gedragspakket",description:"Creer nieuwe spelmechanismen en verander hoe Minecraft zich gedraagt"},resourcePack:{name:"Resourcepakket",description:"Wordt gebruikt voor het veranderen van Minecraft's uiterlijk en geluid"},skinPack:{name:"Skin Pakket",description:"Voorziet nieuwe uiterlijken die de speler kan selecteren voor hun karakter"},worldTemplate:{name:"Wereldsjabloon",description:"Geef spelers een wereld om te verkennen"}},fileType:{manifest:"Manifest",animation:"Animation",animationController:"Animation Controller",biome:"Biome",block:"Block",bridgeConfig:"Projectconfiguratie",dialogue:"Dialogue",entity:"Entity",feature:"Feature",featureRule:"Feature Rule",functionTick:"Function Tick",function:"Function",item:"Item",lootTable:"Loot Table",recipe:"Recipe",clientScript:"Client Script",serverScript:"Server Script",script:"Script",spawnRule:"Spawn Rule",mcstructure:"Structure",tradeTable:"Trade Table",clientManifest:"Client Manifest",skinManifest:"Skin Manifest",geometry:"Geometry",customComponent:"Component",clientAnimation:"Client Animation",clientAnimationController:"Client Animation Controller",attachable:"Attachable",clientEntity:"Client Entity",clientItem:"Client Item",clientLang:"Language",fog:"Fog",particle:"Particle",renderController:"Render Controller",texture:"Texture",textureSet:"Texture Set",itemTexture:"Item Texture",clientBlock:"Client Block",terrainTexture:"Terrain Texture",flipbookTexture:"Flipbook Texture",clientBiome:"Client Biome",soundDefinition:"Sound Definition",musicDefinition:"Music Definition",clientSound:"Client Sound",skins:"Skins",langDef:"Language Definitions",lang:"Language",molang:"Molang",gameTest:"Game Test",unknown:"Other",simpleFile:"Simple Files",ui:"UI",volume:"Volume",worldManifest:"World Manifest"},actions:{newProject:{name:"Nieuw Project",description:"Maak een nieuw bridge. project"},newFile:{name:"Nieuw Bestand",description:"Maak een nieuwe Add-On functie"},openFile:{name:"Open Bestand",description:"Zoek en open een bestand in het huidige project"},searchFile:{name:"Zoek Bestand",description:"Zoek en open een bestand in het huidige project"},saveFile:{name:"Bestand Opslaan",description:"Sla het momenteel geopende bestand op"},saveAs:{name:"Opslaan Als",description:"Sla het momenteel geopende bestand op onder een andere naam"},saveAll:{name:"Alles Opslaan",description:"Alle momenteel geopende bestanden opslaan"},closeFile:{name:"Bestand Sluiten",description:"Sluit het momenteel geopende bestand"},settings:{name:"Instellingen",description:"Open de app instellingen van bridge."},extensions:{name:"Extensies",description:"Beheer uw genstalleerde extensies"},copy:{name:"Kopiren",description:"Kopieer geselecteerde tekst naar het klembord"},cut:{name:"Knippen",description:"Kopieer geselecteerde tekst naar het klembord en verwijder deze uit de oorspronkelijke context"},paste:{name:"Plakken",description:"Plak de inhoud van het klembord"},docs:{name:"Documentatie",description:"Opent de Minecraft Add-On documentatie"},releases:{name:"Releases",description:"Bekijk de nieuwste bridge. releases"},bugReports:{name:"Foutmeldingen",description:"Meld een probleem met bridge."},pluginAPI:{name:"Plugin API",description:"Lees meer over de plugin API van bridge"},gettingStarted:{name:"Beginnen",description:"Lees onze gids om aan de slag te gaan met bridge."},faq:{name:"FAQ",description:"Lees veelgestelde vragen over het ontwikkelen van Add-Ons met bridge."},reloadAutoCompletions:{name:"Herlaad automatische aanvullingen",description:"Herlaadt alle gegevens voor automatisch aanvullen opnieuw"},reloadExtensions:{name:"Herlaad Extensies",description:"Laadt alle extensies opnieuw"},moveToSplitScreen:{name:"Verplaats naar gesplitst scherm",description:"Opent een gesplitste schermweergave en verplaatst dit tabblad ernaar"},closeTab:{name:"Sluit Tab",description:"Sluit dit tabblad"},closeAll:{name:"Sluit Alles",description:"Sluit alle tabbladen"},closeTabsToRight:{name:"Sluit tabbladen aan de rechterkant",description:"Sluit alle tabbladen aan de rechterkant van dit tabblad"},closeAllSaved:{name:"Sluit alle opgeslagen",description:"Sluit alle opgeslagen tabbladen"},closeOtherTabs:{name:"Sluit andere tabbladen",description:"Sluit alle tabbladen behalve dit tabblad"},clearAllNotifications:{name:"Wis Alle Meldingen",description:"Wist alle huidige meldingen"},pluginInstallLocation:{global:{name:"Globaal Installeren",description:"Globale extensies zijn toegankelijk in al uw projecten"},local:{name:"Locaal Installeren",description:"Lokale extensies zijn alleen toegankelijk binnen de projecten waaraan u ze toevoegt"}},toObject:{name:"Transformeren naar Object"},toArray:{name:"Transformeren naar Reeks"}},toolbar:{file:{name:"Bestand",preferences:{name:"Voorkeuren"}},edit:{name:"Bewerk"},tools:{name:"Hulpmiddelen"},help:{name:"Help"}},sidebar:{compiler:{name:"Compiler"},extensions:{name:"Extensies"},notifications:{discord:{message:"Discord Server"},gettingStarted:{message:"Beginnen"},installApp:{message:"Installeer App"},updateAvailable:{message:"Update Beschikbaar"},updateExtensions:"Werk alle extensies bij"}},welcome:{title:"Welkom bij bridge.",subtitle:"Het maken van Minecraft addons is nog nooit zo gemakkelijk geweest!",quickActions:"Snelle Acties",recentFiles:"Recente Bestanden",recentProjects:"Recente Projecten"},windows:{loadingWindow:{titles:{loading:"Laden...",downloadingData:"Nieuwe gegevens downloaden..."}},changelogWindow:{title:"Wat is er nieuw?"},openFile:{title:"Openen",search:"Zoek bestand...",noData:"Geen resultaten..."},createProject:{welcome:"Welkom bij bridge.!",welcomeDescription:"Maak alstublieft uw eerste project aan om aan de slag te gaan.",omitPack:"Weglaten",selectedPack:"Geselecteerd",title:"Project Maken",packIcon:"Projectpictogram (optioneel)",projectName:"Projectnaam",projectDescription:"Projectbeschrijving (optioneel)",projectPrefix:"Projectvoorvoegsel",projectAuthor:"Project Auteur",projectTargetVersion:"Doelversie van het project",scripting:"Schakel Scripting API in",gameTest:"Schakel GameTest Framework in",rpAsBpDependency:"Registreer resourcepakket als afhankelijkheid van gedragspakket",useLangForManifest:"Voeg de naam/beschrijving van het pakket rechtstreeks toe aan het manifest",create:"Creer!"},createPreset:{title:"Voorinstelling maken",searchPresets:"Voorinstellingen zoeken...",overwriteFiles:"Deze voorinstelling overschrijft n of meerdere bestaande bestanden. Wilt u doorgaan?",overwriteFilesConfirm:"Doorgaan",overwriteUnsavedChanges:"Deze voorinstelling overschrijft een of meer bestanden met niet-opgeslagen wijzigingen. Wil je doorgaan?",overwriteUnsavedChangesConfirm:"Doorgaan",validationRule:{alphanumeric:"U mag alleen alfanumerieke tekens en/of onderstrepingstekens gebruiken",lowercase:"U mag alleen kleine letters gebruiken",required:"Dit veld is verplicht",noEmptyFolderNames:"De mapnaam mag niet leeg zijn"}},deleteProject:{confirm:"Verwijderen",description:"Weet u zeker dat u dit project wilt verwijderen?"},discord:{title:"Socials",content:"Bekijk onze Twitter, Github en sluit je aan bij de officile bridge. Discord server!",discord:"Discord",twitter:"Twitter",github:"Github"},projectChooser:{title:"Projecten",searchProjects:"Zoek Projecten...",newProject:"Nieuw Project"},filePath:{title:"Kies Bestandspad"},packExplorer:{title:"Pack Explorer",searchFiles:"Zoek bestanden...",categories:"Categorien",refresh:{name:"Vernieuw Project",description:"Haal het huidige project op voor nieuw toegevoegde bestanden"},restartDevServer:{name:"Herstart Dev Server",description:"Weet u zeker dat u de dev server van de compiler opnieuw wilt starten? Dit kan enige tijd duren, afhankelijk van de grootte van uw project."},createPreset:"Nieuw Bestand",projectConfig:{name:"Projectconfiguratie openen",missing:"Het lijkt erop dat dit project geen config.json bestand heeft. Elk project heeft een projectconfiguratie nodig om correct te kunnen werken."},fileActions:{delete:{name:"Verwijderen",description:"Verwijder een bestand of map",confirmText:"Weet u zeker dat u dit bestand wilt verwijderen? U kunt het later niet meer herstellen!"},rename:{name:"Hernoemen",description:"Een bestand hernoemen"},duplicate:{name:"Dupliceren",description:"Een bestand dupliceren"},revealFilePath:{name:"Bestandspad onthullen",description:"Geeft de locatie van een bestand of map weer"}}},settings:{title:"Instellingen",searchSettings:"Zoek instellingen...",sidebar:{name:"Zijbalk",sidebarRight:{name:"Zijbalk Rechts",description:"Verplaatst de zijbalk naar de rechterkant van het scherm"},sidebarSize:{name:"Grootte zijbalk",description:"Wijzigt de breedte van het uitgevouwen zijbalkgebied."},shrinkSidebarElements:{name:"Zijbalkelementen verkleinen",description:"De grootte van bridge.'s zijbalkelementen verkleinen"}},appearance:{name:"Uiterlijk",colorScheme:{name:"Kleurenschema",description:"Kies het kleurenschema voor de gebruikersinterface van bridge."},darkTheme:{name:"Donker Thema",description:"Selecteer het standaard donkere thema dat door bridge. wordt gebruikt"},lightTheme:{name:"Licht Thema",description:"Selecteer het standaard lichte thema dat door bridge. wordt gebruikt"},localDarkTheme:{name:"Lokaal Donker Thema",description:"Kies een donker thema voor het momenteel actieve project"},localLightTheme:{name:"Lokaal Licht Thema",description:"Kies een licht thema voor het momenteel actieve project"}},general:{name:"Algemeen",language:{name:"Taal",description:"Kies een taal die bridge. moet gebruiken"},collaborativeMode:{name:"Samenwerkingsmodus",description:"Forceert een volledige verversing van de cache bij het wisselen van project. Schakel uit als u alleen werkt en alleen bridge. gebruikt om uw project te bewerken"},packSpider:{name:"Pack Spider",description:"Pack Spider verbindt bestanden binnen uw projecten en presenteert de verbindingen aan u in een virtueel bestandssysteem"},formatOnSave:{name:"Opmaken na opslaan",description:"Maakt uw tekstbestanden op na het opslaan"},openLinksInBrowser:{name:"Open koppelingen in de standaardbrowser",description:"Open links in uw standaardbrowser in plaats van een native app-venster"},restoreTabs:{name:"Herstel tabbladen",description:"Herstel uw tabbladen van de laatste keer dat u bridge. gebruikte bij het openen van de app"},resetBridgeFolder:{name:"Selecteer Werkmap",description:"Kies de hoofdmap waarop bridge. werkt"}},developer:{name:"Ontwikkelaar",simulateOS:{name:"Simuleer OS",description:"Simuleer een ander besturingssysteem om platformspecifiek gedrag te testen"},devMode:{name:"Ontwikkelaarsmodus",description:"Schakel de ontwikkelaarsmodus in voor deze app"}},audio:{name:"Audio",volume:{name:"Audio Ingeschakeld",description:"Alle brige geluiden in- of uitschakelen"}},actions:{name:"Acties"},editor:{jsonEditor:{name:"JSON Editor",description:"Kies hoe u JSON bestanden wilt bewerken"},wordWrap:{name:"Woordomloop",description:"Wikkel woorden om horizontaal scrollen uit te schakelen"}}},projectFolder:{title:"Project Map",content:"bridge. heeft toegang tot zijn projectmap nodig om correct te werken."},extensionStore:{title:"Uitbreiding Winkel",searchExtensions:"Extensie zoeken...",activateExtension:"Activeer extensie",deactivateExtension:"Extensie Deactiveren",offlineError:"Kan extensies niet laden. Controleer of uw apparaat een actieve netwerkverbinding heeft."},pluginInstallLocation:{title:"Kies Installatielocatie"},unsavedFile:{description:"Wilt u uw wijzigingen in dit bestand opslaan voordat u het sluit?",save:"Opslaan & Afsluiten"},browserUnsupported:{title:"Niet-ondersteunde browser",description:"Uw browser wordt momenteel niet ondersteund. Gebruik Chrome (Desktop) of Edge (Chromium) om aan de slag te gaan met bridge.!"},invalidJson:{title:"Ongeldige JSON",description:'bridge.\'s tree editor kan geen bestanden openen die ongeldige JSON bevatten. U kunt binnen de instellingen overschakelen naar het editortype "Onbewerkte Tekst" om het probleem handmatig op te lossen.'}},taskManager:{tasks:{dataLoader:{title:"Gegevens Downloaden...",description:"De nieuwste gegevens aan het downloaden voor de editor"},packIndexing:{title:"Pakketten Indexeren",description:"bridge. verzamelt gegevens over uw pakket die nodig zijn voor zijn intelligente functies."},compiler:{title:"Project Compileren",description:"bridge. compileert uw project om het klaar te maken om in Minecraft te importeren."}}},fileDropper:{importFiles:"Zet bestanden hier neer om ze te importeren!",importFailed:"bridge. kon de volgende bestanden niet importeren:",andMore:"...en meer!",importMethod:"Importeer Methode",saveToProject:{title:"Save to Project",description1:"Het bestand opslaan ",description2:" in uw project."},openFile:{title:"Open bestand",description1:"Open het bestand ",description2:" en sla de bewerkingen op in het originele bestand."}},comMojang:{folderDropped:"Wilt u deze map instellen als uw standaard com.mojang map?",title:'Toegang tot map "com.mojang"',permissionRequest:'bridge. heeft toegang nodig tot uw "com.mojang" map om er projecten naar te kunnen compileren.'},findAndReplace:{name:"Zoek & Vervang",search:"Zoeken",replace:"Vervangen",replaceAll:"Vervang Alles",noResults:"Geen resultaten gevonden.",noSearch:"Zodra u begint met typen, worden de resultaten voor uw zoekopdracht hier weergegeven."},preview:{name:"Voorbeeld",viewAnimation:"Bekijk Animatie",viewModel:"Bekijk Model",viewParticle:"Bekijk Particle",viewEntity:"Bekijk Entity",viewBlock:"Bekijk Blok",failedClientEntityLoad:"Kon de verbonden client entity niet laden",invalidEntity:"Kan voorbeeld niet openen voor een entiteit met ongeldige JSON. Corrigeer JSON-fouten in het bestand en probeer het opnieuw.",chooseGeometry:"Kies Geometrie",noGeometry:"Geen geldige geometrie gevonden in dit bestand. Zorg ervoor dat uw JSON geldig is en dat de bestandsstructuur correct is."},initialSetup:{welcome:"Welkom bij bridge. v2!",welcomeCaption:"Een krachtige IDE voor Minecraft Add-Ons",step:{installApp:{name:"bridge. installeren",description:"Voor de beste ervaring, installeert u bridge. v2 als app op uw computer."},bridge:{name:"bridge. Map",description:"Maak een map waarin bridge. app-gerelateerde gegevens en uw add-on-projecten kan opslaan."},comMojang:{name:"com.mojang Map",description:"Sleep nu je com.mojang map naar bridge. om het synchroniseren van projecten naar deze map in te stellen. Hierdoor zijn uw add-ons automatisch toegankelijk in Minecraft voor Windows 10. Het instellen van com.mojang synchronisatie kan op elk moment wanner bridge. is geopend.",extraDescription:"Sleep uw map com.mojang naar bridge."},editorType:{name:"Kies Editor Type",description:"Hoe wilt u JSON bestanden bewerken? U kunt uw keuze later in de instellingen van bridge. wijzigen!",rawText:{name:"Onbewerkte Tekst",description:"Bewerk JSON als onbewerkte tekst. Ideaal voor gemiddelde tot gevorderde ontwikkelaars. Wordt geleverd met geavanceerde automatische aanvullingen en JSON-validatie."},treeEditor:{name:"Tree Editor",description:"Bewerk JSON als een boomachtige structuur die weinig tot geen JSON kennis vereist. Ideaal voor beginners en gemiddelde makers."}}}},editors:{treeEditor:{addObject:"Object Toevoegen",addArray:"Reeks Toevoegen",addValue:"Waarde Toevoegen",edit:"Bewerk"}}}),jr=n("f5e4"),kr=Object(fr["a"])(Object(fr["a"])({},jr["a"]),{},{languageName:"",toolbar:{installApp:"Install app",file:{name:"",newFile:" ",import:{name:" ",openFile:" ",importOBJ:"OBJ  "},saveFile:" ",saveAs:"  ",saveAll:" ",closeEditor:"  ",clearAllNotifications:"  ",preferences:{name:" ",settings:"",extensions:""}},edit:{name:"",selection:{name:"",unselect:" ",selectParent:" ",selectNext:" ",selectPrevious:" "},jsonNodes:{name:"JSON ",toggleOpen:" ",toggleOpenChildren:"  ",moveDown:" ",moveUp:" ",commentUncomment:"/"},delete:"",undo:" ",redo:"",copy:"",cut:"",paste:"",alternativePaste:" "},tools:{name:"",docs:" ",presets:"",snippets:" ",goToFile:" "},help:{name:"",about:"",releases:" ",bugReports:" ",pluginAPI:" API",gettingStarted:"bridge.  ",faq:"FAQ"},dev:{name:" ",reloadBrowserWindow:"  ",reloadEditorData:"  ",developerTools:" "}},sidebar:{explorer:{name:""},vanillaPacks:{name:" "},debugLog:{name:" "},extensions:{name:" ",intro:{description:"bridge.    !!",themes:"",snippets:" ",presets:"",uiElements:"UI ",andMore:"  !!",viewExtensions:"  "}}},welcome:{title:"bridge.",subtitle:"    !!",syntaxHighlighting:"Syntax  ",richAutoCompletions:"  ",projectManagement:"  ",customSyntax:"  syntax",customComponents:" ",customCommands:" ",plugins:"    "},windows:{common:{confirm:{title:""},dropdown:{confirm:""},information:{confirm:""},input:{confirm:""}},discord:{content:"bridge.    !!",join:"",later:""},selectFolder:{title:" ",content:"       .",select:"!!"},projectFolder:{title:" ",content:"bridge.         ."},managePlugin:{name:" ",done:""}}}),xr=n("582c"),Or=Object(fr["a"])(Object(fr["a"])({},xr["a"]),{},{languageName:"()",general:{yes:"",no:"",okay:"",confirm:"",cancel:"",close:"",reload:"",information:"",continue:"",delete:"",skip:"",selectFolder:"",fileName:"",confirmOverwriteFile:"?"},packType:{behaviorPack:{name:"",description:"Minecraft"},resourcePack:{name:"",description:"Minecrat"},skinPack:{name:"",description:""},worldTemplate:{name:"",description:""}},fileType:{manifest:"Manifest",animation:"",animationController:"",biome:"",block:"",bridgeConfig:"bridge.",dialogue:"",entity:"",feature:"",featureRule:"",functionTick:"Tick",function:"",item:"",lootTable:"",recipe:"",clientScript:"",serverScript:"",script:"",spawnRule:"",mcstructure:"",tradeTable:"",clientManifest:"Manifest",skinManifest:"Manifest",geometry:"",customComponent:"",clientAnimation:"",clientAnimationController:"",attachable:"",clientEntity:"",clientItem:"",clientLang:"",fog:"",particle:"",renderController:"",texture:"",textureSet:"",itemTexture:"",clientBlock:"",terrainTexture:"",flipbookTexture:"Flipbook",clientBiome:"",soundDefinition:"",musicDefinition:"",clientSound:"",skins:"",langDef:"",lang:"",molang:"Molang",gameTest:"",unknown:"",simpleFile:"",ui:"UI",volume:"",worldManifest:"Manifest"},actions:{newProject:{name:"",description:"bridge."},newFile:{name:"",description:"Add-On"},openFile:{name:"",description:""},searchFile:{name:"",description:""},saveFile:{name:"",description:""},saveAs:{name:"",description:""},saveAll:{name:"",description:""},closeFile:{name:"",description:""},settings:{name:"",description:"bridge."},extensions:{name:"",description:""},copy:{name:"",description:""},cut:{name:"",description:""},paste:{name:"",description:""},docs:{name:"",description:"Minecraft Add-On"},releases:{name:"",description:"bridge."},bugReports:{name:"",description:"bridge."},extensionAPI:{name:"API",description:"bridge.API"},gettingStarted:{name:"",description:"bridge."},faq:{name:"",description:"bridge.Add-On"},reloadAutoCompletions:{name:"",description:""},reloadExtensions:{name:"",description:""},moveToSplitScreen:{name:"",description:""},closeTab:{name:"",description:""},closeAll:{name:"",description:""},closeTabsToRight:{name:"",description:""},closeAllSaved:{name:"",description:""},closeOtherTabs:{name:"",description:""},clearAllNotifications:{name:"",description:""},pluginInstallLocation:{global:{name:"",description:""},local:{name:"",description:""}},toObject:{name:""},toArray:{name:""}},toolbar:{file:{name:"",preferences:{name:""}},edit:{name:""},tools:{name:""},help:{name:""}},sidebar:{compiler:{name:""},extensions:{name:""},notifications:{socials:{message:""},gettingStarted:{message:""},installApp:{message:""},updateAvailable:{message:""},updateExtensions:""}},welcome:{title:"bridge.",subtitle:"Minecraft Add-On!",quickActions:"",recentFiles:"",recentProjects:""},windows:{loadingWindow:{titles:{loading:"...",downloadingData:"..."}},changelogWindow:{title:""},openFile:{title:"",search:"...",noData:"..."},createProject:{welcome:"bridge.!",welcomeDescription:"",omitPack:"",selectedPack:"",title:"",packIcon:"()",projectName:"",projectDescription:"()",projectPrefix:"",projectAuthor:"",projectTargetVersion:"Minecraft",scripting:"API",gameTest:"",rpAsBpDependency:"",useLangForManifest:"manifest",create:""},createPreset:{title:"",searchPresets:"...",overwriteFiles:"?",overwriteFilesConfirm:"",overwriteUnsavedChanges:"?",overwriteUnsavedChangesConfirm:"",validationRule:{alphanumeric:"",lowercase:"",required:"",noEmptyFolderNames:""}},deleteProject:{confirm:"",description:"?"},socials:{title:"",content:"bridge.TwitterGithubDiscord!",discord:"Discord",twitter:"Twitter",github:"Github"},projectChooser:{title:"",searchProjects:"...",newProject:""},filePath:{title:""},packExplorer:{title:"",searchFiles:"...",categories:"",refresh:{name:"",description:""},restartDevServer:{name:"Dev Server",description:"Dev Server? "},createPreset:"",projectConfig:{name:"",missing:"config.json"},fileActions:{delete:{name:"",description:"",confirmText:"? !"},rename:{name:"",description:""},duplicate:{name:"",description:""},revealFilePath:{name:"",description:""}}},settings:{title:"",searchSettings:"...",sidebar:{name:"",sidebarRight:{name:"",description:""},sidebarSize:{name:"",description:""},shrinkSidebarElements:{name:"",description:"bridge."}},appearance:{name:"",colorScheme:{name:"",description:"bridge. UI"},darkTheme:{name:"",description:"bridge."},lightTheme:{name:"",description:"bridge."},localDarkTheme:{name:"",description:""},localLightTheme:{name:"",description:""}},general:{name:"",language:{name:"",description:"bridge."},collaborativeMode:{name:"",description:"bridge."},packSpider:{name:"",description:""},formatOnSave:{name:"",description:""},openLinksInBrowser:{name:"",description:""},restoreTabs:{name:"",description:"birdge."},resetBridgeFolder:{name:"",description:"bridge."}},developer:{name:"",simulateOS:{name:"",description:""},devMode:{name:"",description:""}},audio:{name:"",volume:{name:"",description:"bridge."}},actions:{name:""},editor:{jsonEditor:{name:"JSON",description:"JSON"},wordWrap:{name:"",description:""}}},projectFolder:{title:"",content:"bridge."},extensionStore:{title:"",searchExtensions:"...",activateExtension:"",deactivateExtension:"",offlineError:""},pluginInstallLocation:{title:""},unsavedFile:{description:"?",save:" & "},browserUnsupported:{title:"",description:"bridge.ChromeEdge!"},invalidJson:{title:"JSON",description:"bridge.JSON"}},taskManager:{tasks:{dataLoader:{title:"...",description:""},packIndexing:{title:"",description:"bridge."},compiler:{title:"",description:"bridge.Minecraft"}}},fileDropper:{importFiles:"!",importFailed:"bridge.:",andMore:"...!",importMethod:"",saveToProject:{title:"",description1:"",description2:""},openFile:{title:"",description1:"",description2:""}},comMojang:{folderDropped:"com.mojang?",permissionRequest:"bridge.com.mojang"},findAndReplace:{name:" & ",search:"",replace:"",replaceAll:"",noResults:"",noSearch:""},preview:{name:"",viewAnimation:"",viewModel:"",viewParticle:"",viewEntity:"",viewBlock:"",failedClientEntityLoad:"",invalidEntity:"JSON",chooseGeometry:"",noGeometry:"JSON"},initialSetup:{welcome:"bridge. v2!",welcomeCaption:"Minecraft Add-On IDE",step:{installApp:{name:"bridge.",description:"bridge. v2"},bridge:{name:"bridge.",description:"bridge.Add-On"},comMojang:{name:"com.mojang",description:"com.mojangbridge.Windows 10MinecraftAdd-Oncom.mojang",extraDescription:"com.mojangbridge..."},editorType:{name:"",description:" JSON? ",rawText:{name:"",description:"JSONJSON"},treeEditor:{name:"",description:"JSONJSON"}}}},editors:{treeEditor:{addObject:"",addArray:"",addValue:"",edit:""}}});c["default"].use(hr.a),c["default"].config.productionTip=!1;var Sr=new hr.a({lang:{locales:{nl:wr,de:gr,en:mr,ko:kr,zhTW:Or}},theme:{dark:!0,options:{customProperties:!0},themes:{dark:{primary:"#0073FF",secondary:"#0073FF",accent:"#0073FF",background:"#121212",sidebarNavigation:"#1F1F1F",expandedSidebar:"#1F1F1F",menu:"#424242",footer:"#111111",tooltip:"#1F1F1F"},light:{primary:"#0073FF",secondary:"#0073FF",accent:"#0073FF",background:"#fafafa",sidebarNavigation:"#FFFFFF",expandedSidebar:"#FFFFFF",tooltip:"#424242",toolbar:"#e0e0e0",footer:"#f5f5f5"}}}}),Cr=new c["default"]({vuetify:Sr,render:function(e){return e(dr)}});Cr.$mount("#app");n("41e6"),n("923f");ye["a"].main(Cr)},cd82:function(e,t,n){},ce02:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("d4ec"),i=n("bee2"),a=n("257e"),o=n("262e"),s=n("2caf"),c=n("ade3"),u=n("19ff"),l=function(e){Object(o["a"])(n,e);var t=Object(s["a"])(n);function n(e,i){var o;return Object(r["a"])(this,n),o=t.call(this,i),Object(c["a"])(Object(a["a"])(o),"parent",void 0),Object(c["a"])(Object(a["a"])(o),"_isSelected",!1),o.parent=e,o.parent.selectedAction||o.select(),o}return Object(i["a"])(n,[{key:"isSelected",get:function(){return this._isSelected}},{key:"select",value:function(){this.parent.unselectAllActions(),this._isSelected=!0,this.parent.selectedAction=this}},{key:"unselect",value:function(){this._isSelected&&(this.parent.selectedAction=void 0),this._isSelected=!1}}]),n}(u["a"])},d009:function(e,t,n){"use strict";n.d(t,"a",(function(){return il}));n("dca8"),n("d3b7"),n("07ac"),n("3ca3"),n("ddb0"),n("96cf");var r=n("1da1"),i=n("d4ec"),a=n("bee2"),o=n("ade3"),s=(n("caad"),n("ac1f"),n("2532"),n("1276"),n("8a54")),c=n("7815");function u(e){var t,n,r=null!==(t=e.message)&&void 0!==t?t:"",i=r;r.includes(": ")&&(i=r.split(": ").shift()),i.length>24&&(i=r.length>24?"".concat(r.substr(0,23),"..."):r),null===il||void 0===il||null===(n=il.audioManager)||void 0===n||n.playAudio("error_002.ogg",1);var a=Object(c["b"])({icon:"mdi-alert-circle-outline",message:"[".concat(i,"]"),color:"error",textColor:"white",disposeOnMiddleClick:!0,onClick:function(){il.audioManager.playAudio("click5.ogg",1),new s["a"]({name:"[ERROR: ".concat(i,"]"),description:"[".concat(r,"]")}),a.dispose()}});return a}window.addEventListener("error",(function(e){var t,n;u(null!==(t=e.error)&&void 0!==t?t:e),null===il||void 0===il||null===(n=il.ready)||void 0===n||n.once((function(e){return e.windows.loadingWindow.closeAll()}))})),window.onunhandledrejection=function(e){var t;u(new Error(e.reason)),null===il||void 0===il||null===(t=il.ready)||void 0===t||t.once((function(e){return e.windows.loadingWindow.closeAll()}))};n("6062"),n("99af");var l=n("262e"),d=n("2caf"),p=n("2909"),h=[[/4/,"colorCode.darkRed"],[/c/,"colorCode.red"],[/6/,"colorCode.gold"],[/e/,"colorCode.yellow"],[/2/,"colorCode.darkGreen"],[/a/,"colorCode.green"],[/b/,"colorCode.aqua"],[/3/,"colorCode.darkAqua"],[/1/,"colorCode.darkBlue"],[/9/,"colorCode.blue"],[/d/,"colorCode.lightPurple"],[/5/,"colorCode.darkPurple"],[/[fr]/,"colorCode.white"],[/7/,"colorCode.gray"],[/8/,"colorCode.darkGray"],[/0/,"colorCode.black"],[/g/,"colorCode.minecoinGold"],[/o/,"colorCode.italic"],[/l/,"colorCode.bold"],[/n/,"colorCode.underline"]],f=(n("4ec9"),n("25f0"),n("159b"),n("85b1")),v=n("c2c6"),m=function(){function e(t){var n=this,r=t.id,a=t.extensions,s=t.config,c=t.tokenProvider,u=t.completionItemProvider;Object(i["a"])(this,e),Object(o["a"])(this,"id",void 0),Object(o["a"])(this,"disposables",[]),Object(o["a"])(this,"models",new Map),Object(o["a"])(this,"highlighter",void 0),this.id=r,v["languages"].register({id:r,extensions:a}),this.disposables=[v["languages"].setLanguageConfiguration(r,s),v["editor"].onDidCreateModel(this.onModelAdded.bind(this)),v["editor"].onWillDisposeModel(this.onModelRemoved.bind(this)),v["editor"].onDidChangeModelLanguage((function(e){n.onModelRemoved(e.model),n.onModelAdded(e.model)}))],this.highlighter=v["languages"].setMonarchTokensProvider(r,c),u&&this.disposables.push(v["languages"].registerCompletionItemProvider(r,u))}return Object(a["a"])(e,[{key:"updateTokenProvider",value:function(e){this.highlighter.dispose(),this.highlighter=v["languages"].setMonarchTokensProvider(this.id,e)}},{key:"onModelAdded",value:function(e){var t=this;return e.getModeId()===this.id&&(this.validate(e),this.models.set(e.uri.toString(),e.onDidChangeContent(Object(f["a"])((function(n){return t.validate(e,n)}),500))),!0)}},{key:"onModelRemoved",value:function(e){var t;v["editor"].setModelMarkers(e,this.id,[]);var n=e.uri.toString();null===(t=this.models.get(n))||void 0===t||t.dispose(),this.models.delete(n)}},{key:"dispose",value:function(){this.highlighter.dispose(),this.disposables.forEach((function(e){return e.dispose()})),this.disposables=[]}}]),e}(),b={comments:{lineComment:"##"}},g={tokenizer:{root:[[/##.*/,"comment"],[/=|\.|:/,"definition"]].concat(Object(p["a"])(h))}},y=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(i["a"])(this,n),t.call(this,{id:"lang",extensions:["lang"],config:b,tokenProvider:g})}return Object(a["a"])(n,[{key:"validate",value:function(){}}]),n}(m),w=(n("d81d"),n("fb6a"),n("257e")),j=n("45eb"),k=n("7e84"),x=n("f7fe"),O=n.n(x),S=(n("a15b"),n("b0c0"),n("5530")),C=n("53ca"),R=n("b85c"),P=(n("7db0"),n("c740"),n("a434"),n("ed38")),_=n("c3ee"),A=n("ec26"),T=n("dffd"),F=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r){var a,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(i["a"])(this,n),a=t.call(this,e),Object(o["a"])(Object(w["a"])(a),"parent",void 0),Object(o["a"])(Object(w["a"])(a),"fileHandle",void 0),Object(o["a"])(Object(w["a"])(a),"isReadOnly",void 0),Object(o["a"])(Object(w["a"])(a),"isForeignFile",!1),a.parent=e,a.fileHandle=r,a.isReadOnly=s,a}return Object(a["a"])(n,[{key:"setup",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isForeignFile=!1,e.next=3,this.parent.projectRoot.resolve(this.fileHandle).then((function(e){return null===e||void 0===e?void 0:e.join("/")}));case 3:return this.projectPath=e.sent,this.projectPath||(this.isForeignFile=!0,this.projectPath="".concat(Object(A["a"])(),"/").concat(this.fileHandle.name)),e.next=7,Object(j["a"])(Object(k["a"])(n.prototype),"setup",this).call(this);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"name",get:function(){return this.fileHandle.name}},{key:"getFileType",value:function(){return T["a"].getId(this.getProjectPath())}},{key:"isFor",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.isSameEntry(this.fileHandle);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getFile",value:function(){return this.fileHandle.getFile()}},{key:"getFileHandle",value:function(){return this.fileHandle}},{key:"saveAs",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,self.showSaveFilePicker({suggestedName:this.fileHandle.name,startIn:this.fileHandle}).catch((function(){return null}));case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return this.isForeignFile||this.parent.openedFiles.remove(this.getPath()),this.fileHandle=t,this.resetSignal(),e.next=10,this.setup();case 10:return e.next=12,this.parent.save(this);case 12:this.isForeignFile||this.parent.openedFiles.add(this.getPath());case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(_["a"]),E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"monacoContainer",on:{click:function(t){return e.tab.parent.setActive(!0)}}})},D=[],M={name:"TextTab",props:{tab:Object},computed:{tabSystem:function(){return this.tab.parent}},activated:function(){this.updateEditor()},mounted:function(){this.updateEditor()},methods:{updateEditor:function(){this.tabSystem.createMonacoEditor(this.$refs.monacoContainer)}},watch:{fontSize:function(e){this.monacoEditor.updateOptions({fontSize:this.fontSize})},fontFamily:function(e){this.monacoEditor.updateOptions({fontFamily:this.fontFamily})}}},I=M,W=(n("0b51"),n("2877")),V=Object(W["a"])(I,E,D,!1,null,null,null),B=V.exports,N=n("4d25"),L=n("2ef0"),$=n("f374"),H=Object(L["debounce"])(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isForeignFile&&t.editorModel&&!t.editorModel.isDisposed()){e.next=2;break}return e.abrupt("return");case 2:return i=null===(n=t.editorModel)||void 0===n?void 0:n.getValue(),e.next=5,il.getApp();case 5:return a=e.sent,e.next=8,a.project.packIndexer.updateFile(t.getProjectPath(),i);case 8:return e.next=10,a.project.jsonDefaults.updateDynamicSchemas(t.getProjectPath());case 10:a.project.fileChange.dispatch(t.getProjectPath(),new File([null===(r=t.editorModel)||void 0===r?void 0:r.getValue()],t.name));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),600),z=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,a){var s,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(i["a"])(this,n),s=t.call(this,e,a,c),Object(o["a"])(Object(w["a"])(s),"component",B),Object(o["a"])(Object(w["a"])(s),"editorModel",void 0),Object(o["a"])(Object(w["a"])(s),"editorViewState",void 0),Object(o["a"])(Object(w["a"])(s),"disposables",[]),Object(o["a"])(Object(w["a"])(s),"isActive",!1),Object(o["a"])(Object(w["a"])(s),"modelLoaded",new $["a"]),s.fired.then(Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return t=e.sent,e.next=5,t.projectManager.projectReady.fired;case 5:t.project.tabActionProvider.addTabActions(Object(w["a"])(s));case 6:case"end":return e.stop()}}),e)})))),s}return Object(a["a"])(n,[{key:"editorInstance",get:function(){return this.parent.monacoEditor}},{key:"getFile",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.editorModel&&!this.editorModel.isDisposed()){e.next=4;break}return e.next=3,Object(j["a"])(Object(k["a"])(n.prototype),"getFile",this).call(this);case 3:return e.abrupt("return",e.sent);case 4:return e.abrupt("return",new File([this.editorModel.getValue()],this.name));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setIsUnsaved",value:function(e){Object(j["a"])(Object(k["a"])(n.prototype),"setIsUnsaved",this).call(this,e)}},{key:"onActivate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s,c,u=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isActive){e.next=2;break}return e.abrupt("return");case 2:return this.isActive=!0,e.next=5,this.parent.fired;case 5:if(this.editorModel){e.next=18;break}return e.next=8,this.fileHandle.getFile();case 8:return o=e.sent,e.next=11,o.text();case 11:s=e.sent,c=v["Uri"].file(this.getPath()),this.editorModel=null!==(a=v["editor"].getModel(c))&&void 0!==a?a:v["editor"].createModel(s,void 0,c),this.modelLoaded.dispatch(),this.loadEditor(),e.next=19;break;case 18:this.loadEditor();case 19:this.disposables.push(null===(t=this.editorModel)||void 0===t?void 0:t.onDidChangeContent((function(){u.isUnsaved=!0,H(u)}))),this.disposables.push(null===(n=this.editorInstance)||void 0===n?void 0:n.onDidFocusEditorText((function(){u.parent.setActive(!0)}))),null===(r=this.editorInstance)||void 0===r||r.focus(),null===(i=this.editorInstance)||void 0===i||i.layout();case 23:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onDeactivate",value:function(){var e,t;this.tabSystem.hasFired&&(this.editorViewState=null!==(e=null===(t=this.editorInstance)||void 0===t?void 0:t.saveViewState())&&void 0!==e?e:void 0),this.disposables.forEach((function(e){return null===e||void 0===e?void 0:e.dispose()})),this.isActive=!1}},{key:"onDestroy",value:function(){var e;this.disposables.forEach((function(e){return null===e||void 0===e?void 0:e.dispose()})),null===(e=this.editorModel)||void 0===e||e.dispose(),this.editorViewState=void 0,this.isActive=!1,this.modelLoaded.resetSignal()}},{key:"updateParent",value:function(e){Object(j["a"])(Object(k["a"])(n.prototype),"updateParent",this).call(this,e)}},{key:"focus",value:function(){var e;null===(e=this.editorInstance)||void 0===e||e.focus()}},{key:"loadEditor",value:function(){var e,t,n;this.editorModel&&!this.editorModel.isDisposed()&&(null===(e=this.editorInstance)||void 0===e||e.setModel(this.editorModel)),this.editorViewState&&(null===(t=this.editorInstance)||void 0===t||t.restoreViewState(this.editorViewState)),null===(n=this.editorInstance)||void 0===n||n.updateOptions({readOnly:this.isReadOnly})}},{key:"save",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s,c,u,l,d=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:if(a=e.sent,o=null===(t=this.editorInstance)||void 0===t?void 0:t.getAction("editor.action.formatDocument"),s=T["a"].get(this.getProjectPath()),!o||null!==(n=null===N["b"]||void 0===N["b"]||null===(r=N["b"].general)||void 0===r?void 0:r.formatOnSave)&&void 0!==n&&!n||null!==(i=null===s||void 0===s?void 0:s.formatOnSaveCapable)&&void 0!==i&&!i){e.next=17;break}return a.windows.loadingWindow.open(),null===(c=this.editorInstance)||void 0===c||c.executeEdits("automatic",[{forceMoveMarkers:!1,range:{startLineNumber:0,endLineNumber:0,startColumn:0,endColumn:0},text:"\t"}]),u=new Promise((function(e){var t;if(!d.editorModel)return e();var n=null===(t=d.editorModel)||void 0===t?void 0:t.onDidChangeContent((function(){null===n||void 0===n||n.dispose(),e()}))})),l=o.run(),e.next=12,Promise.all([u,l]);case 12:return e.next=14,this.saveFile(a);case 14:a.windows.loadingWindow.close(),e.next=19;break;case 17:return e.next=19,this.saveFile(a);case 19:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"saveFile",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isUnsaved=!1,!this.editorModel){e.next=6;break}return e.next=4,t.fileSystem.write(this.fileHandle,this.editorModel.getValue());case 4:e.next=7;break;case 6:console.error("Cannot save file content without active editorModel");case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"paste",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isReadOnly){e.next=2;break}return e.abrupt("return");case 2:if(null!==(t=this.editorInstance)&&void 0!==t){e.next=6;break}e.next=12;break;case 6:return e.t0=t,e.next=9,navigator.clipboard.readText();case 9:e.t1=e.sent,e.t2={text:e.t1},e.t0.trigger.call(e.t0,"keyboard","paste",e.t2);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(j["a"])(Object(k["a"])(n.prototype),"close",this).call(this);case 2:if(t=e.sent,!t||!this.isUnsaved){e.next=15;break}return e.next=6,il.getApp();case 6:return r=e.sent,e.next=9,r.fileSystem.readFile(this.getPath());case 9:return i=e.sent,e.next=12,i.text();case 12:return a=e.sent,e.next=15,r.project.packIndexer.updateFile(this.getProjectPath(),a);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(F),U=n("a026"),J=(n("10d1"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:"general.confirm",isVisible:e.isVisible,isPersistent:!1,hasMaximizeButton:!1,isFullscreen:!1,width:440,height:130,hasCloseButton:!1},scopedSlots:e._u([{key:"default",fn:function(){return[n("p",{staticClass:"mt-2"},[e._v(e._s(e.t("windows.unsavedFile.description")))])]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{on:{click:e.onCancel}},[n("span",[e._v(e._s(e.t("general.cancel")))])]),n("v-btn",{attrs:{color:"error"},on:{click:e.onNoSave}},[n("span",[e._v(e._s(e.t("general.close")))])]),n("v-btn",{attrs:{color:"primary"},on:{click:e.onSave}},[n("span",[e._v(e._s(e.t("windows.unsavedFile.save")))])])]},proxy:!0}],null,!1,2118487357)}):e._e()}),q=[],G=n("7c64"),K=n("bd5a"),Q={name:"Confirm",mixins:[G["a"]],components:{BaseWindow:K["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onCancel:function(){this.currentWindow.cancel()},onNoSave:function(){this.currentWindow.noSave()},onSave:function(){this.currentWindow.save()}}},Z=Q,Y=n("6544"),X=n.n(Y),ee=n("8336"),te=n("2fa4"),ne=Object(W["a"])(Z,J,q,!1,null,null,null),re=ne.exports;X()(ne,{VBtn:ee["a"],VSpacer:te["a"]});var ie,ae=n("a46c"),oe=new WeakMap,se=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r;return Object(i["a"])(this,n),r=t.call(this,re,!0,!1),oe.set(Object(w["a"])(r),e),r.defineWindow(),r.open(),r}return Object(a["a"])(n,[{key:"tab",get:function(){return oe.get(this)}},{key:"noSave",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.close("close"),e.next=3,il.getApp();case 3:return n=e.sent,e.next=6,null===(t=n.tabSystem)||void 0===t?void 0:t.close(this.tab,!1);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return il.audioManager.playAudio("confirmation_002.ogg",1),this.close("save"),e.next=4,il.getApp();case 4:return r=e.sent,e.next=7,null===(t=r.tabSystem)||void 0===t?void 0:t.save(this.tab);case 7:return e.next=9,null===(n=r.tabSystem)||void 0===n?void 0:n.close(this.tab,!1);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.close("cancel");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(ae["a"]);n("4de4"),n("bf19"),n("a4d3"),n("e01a"),n("d28b");ie=Symbol.iterator;var ce=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,n=arguments.length>1?arguments[1]:void 0;Object(i["a"])(this,e),Object(o["a"])(this,"maxSize",void 0),Object(o["a"])(this,"array",[]),this.maxSize=t;var r,a=Object(R["a"])(null!==n&&void 0!==n?n:[]);try{for(a.s();!(r=a.n()).done;){var s=r.value;this.add(s)}}catch(c){a.e(c)}finally{a.f()}}return Object(a["a"])(e,[{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.isEquals.bind(this),n=this.array.findIndex((function(n){return t(n,e)}));return n>-1?(this.array.splice(n,1),this.array.unshift(e),this):(this.array.length>=this.maxSize&&this.array.pop(),this.array.unshift(e),this)}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.isEquals.bind(this),n=this.array.findIndex((function(n){return t(n,e)}));return n>-1&&this.array.splice(n,1),this}},{key:"clear",value:function(){this.array=[]}},{key:"isEquals",value:function(e,t){return e===t}},{key:"toJSON",value:function(){return JSON.stringify(this.array)}},{key:"fromArray",value:function(e){this.array=e}},{key:ie,value:function(){return this.array.values()}},{key:"size",get:function(){return this.maxSize}},{key:"elementCount",get:function(){return this.array.length}},{key:"elements",get:function(){return Object(p["a"])(this.array)}}]),e}(),ue=n("a6f4"),le=n("8add"),de=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r,a){var s,c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Object(i["a"])(this,n),s=t.call(this),Object(o["a"])(Object(w["a"])(s),"maxSize",void 0),Object(o["a"])(Object(w["a"])(s),"savePath",void 0),Object(o["a"])(Object(w["a"])(s),"queue",void 0),Object(o["a"])(Object(w["a"])(s),"app",void 0),s.maxSize=r,s.savePath=a,Object(ue["g"])(Object(w["a"])(s),"queue",new ce(r)),s.app=Object(ue["d"])(e),c&&s.setup(),s}return Object(a["a"])(n,[{key:"setup",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.app.fileSystem.fired;case 2:return t=[],e.prev=3,e.next=6,this.app.fileSystem.readJSON(this.savePath);case 6:t=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](3);case 11:this.queue.fromArray(t),this.dispatch(this.queue);case 13:case"end":return e.stop()}}),e,this,[[3,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"isEquals",value:function(e,t){return e===t}},{key:"keep",value:function(e){var t=this,n=new ce(this.maxSize);this.elements.filter((function(t){return e(t)})).forEach((function(e){return n.add(e,t.isEquals.bind(t))})),this.queue=n}},{key:"add",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fired;case 2:return this.queue.add(t,this.isEquals.bind(this)),e.next=5,this.saveQueue();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"remove",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fired;case 2:return this.queue.remove(t,this.isEquals.bind(this)),e.next=5,this.saveQueue();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clear",value:function(){return this.queue.clear(),this.saveQueue()}},{key:"saveQueue",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.app.fileSystem.mkdir(Object(le["dirname"])(this.savePath),{recursive:!0});case 2:return e.next=4,this.app.fileSystem.writeFile(this.savePath,this.queue.toJSON());case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"elements",get:function(){return this.queue.elements}}]),n}($["a"]),pe=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,a,s){var c,u,l;return Object(i["a"])(this,n),l=t.call(this,a,1/0,s),Object(o["a"])(Object(w["a"])(l),"ready",new $["a"]),(null===(c=null===N["b"]||void 0===N["b"]||null===(u=N["b"].general)||void 0===u?void 0:u.restoreTabs)||void 0===c||c)&&l.once(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.elements.length)){t.next=12;break}return t.prev=2,t.next=5,e.openPath(n.elements[r],r+1===n.elementCount);case 5:t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](2);case 9:r++,t.next=1;break;case 12:l.ready.dispatch();case 13:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}()),l}return n}(de),he=(n("8a79"),n("a9e3"),n("466d"),n("3835")),fe=n("2fdd");function ve(e,t){var n=e.getLineContent(t.lineNumber),r=be(n,t.column),i=me(n,t.column);return{word:n.substring(r,i),range:new v["Range"](t.lineNumber,r,t.lineNumber,i)}}function me(e,t){for(var n=t-1;n<e.length;n++)if('"'===e[n])return n;return e.length}function be(e,t){for(var n=t-2;n>0;n--)if('"'===e[n])return n+1;return 0}var ge=n("db05"),ye=(n("b64b"),n("5319"),n("2ca0"),n("4478")),we=n("4a85");function je(e){return ke(e).apply(void 0,Object(p["a"])(Object.values(e.env)))}function ke(e){var t=e.script,n=e.env,r=e.language,i=e.async,a=void 0!==i&&i;"typeScript"===r&&(t=Object(we["transpile"])(t,{target:99,isolatedModules:!0}));var o=xe(t);try{return a?Object(ye["a"])(Function,Object(p["a"])(Object.keys(n)).concat(["return (async () => {\n".concat(o,"\n})()")])):Object(ye["a"])(Function,Object(p["a"])(Object.keys(n)).concat([o]))}catch(s){throw console.error(t),new Error("Error within script: ".concat(s))}}function xe(e){return e.replace(/export default([ \(])/g,(function(e,t){return"module.exports =".concat(t)})).replace(/import\s+(\* as [a-z][a-z0-9]*|[a-z][a-z0-9]+|{[a-z\s][a-z0-9,\s]*})\s+from\s+["'](.+)["']/gi,(function(e,t,n){return t.startsWith("* as ")&&(t=t.replace("* as ","")),"const ".concat(t," = await require('").concat(n,"')")}))}function Oe(e,t,n){return Se.apply(this,arguments)}function Se(){return Se=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=Object(R["a"])(r),e.prev=1,i.s();case 3:if((a=i.n()).done){e.next=12;break}return o=a.value,s="".concat(n).concat(o),e.next=8,t.fileExists(s);case 8:if(!e.sent){e.next=10;break}return e.abrupt("return",s);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](1),i.e(e.t0);case 17:return e.prev=17,i.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,14,17,20]])}))),Se.apply(this,arguments)}function Ce(e,t){return Re.apply(this,arguments)}function Re(){return Re=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(n));case 2:return r=e.sent,i=r.findIndex((function(e){return e})),e.abrupt("return",t[i]);case 5:case"end":return e.stop()}}),e)}))),Re.apply(this,arguments)}var Pe=function(){function e(){Object(i["a"])(this,e)}return Object(a["a"])(e,[{key:"provideDefinition",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,i){var a,o,s,c,u,l,d,p,h,f,m,b,g,y,w,j,k,x,O;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:if(c=e.sent,u=ve(t,n),l=u.word,u.range,d=null===(a=c.project.tabSystem)||void 0===a||null===(o=a.selectedTab)||void 0===o?void 0:o.getProjectPath(),d){e.next=7;break}return e.abrupt("return");case 7:return p=null!==(s=T["a"].get(d))&&void 0!==s?s:{},h=p.definitions,e.next=10,T["a"].getLightningCache(d);case 10:if(f=e.sent,h&&"string"!==typeof f&&0!==f.length){e.next=13;break}return e.abrupt("return");case 13:return m=Object(fe["a"])(t.getValue(),t.getOffsetAt(n)).path,b=m.join("/"),isNaN(Number(m[m.length-1]))||(m.pop(),b=m.join("/")),e.next=18,this.getDefinition(l,b,f);case 18:if(g=e.sent,y=g.definitionId,w=g.transformedWord,y&&w){e.next=23;break}return e.abrupt("return");case 23:if(j=h[y],j){e.next=26;break}return e.abrupt("return");case 26:return Array.isArray(j)||(j=[j]),k=c.project.name,e.next=30,this.getFilePath(w,j);case 30:return x=e.sent,e.next=33,Promise.all(x.map(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n="projects/".concat(k,"/").concat(t),r=v["Uri"].file(n),v["editor"].getModel(r)){e.next=20;break}return e.prev=3,e.next=6,c.fileSystem.getFileHandle(n);case 6:i=e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e["catch"](3),e.abrupt("return",void 0);case 12:return e.t1=v["editor"],e.next=15,i.getFile().then((function(e){return e.text()}));case 15:e.t2=e.sent,e.t3=void 0,e.t4=r,a=e.t1.createModel.call(e.t1,e.t2,e.t3,e.t4),setTimeout((function(){c.project.getFileTab(i)||a.dispose()}),5e3);case 20:return e.abrupt("return",{uri:r,range:new v["Range"](0,0,1/0,1/0)});case 21:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()));case 33:return O=e.sent,e.abrupt("return",O.filter((function(e){return void 0!==e})));case 35:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"getDefinition",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,i){var a,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return o=e.sent,s=t,c=i.map((function(e){return[e.cacheKey,e.path,{script:e.script,filter:e.filter}]})).filter((function(e){return void 0!==e})),e.next=7,null===(a=Ce(c,function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(r){var i,a,c,u,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=Object(he["a"])(r,3),i[0],a=i[1],c=i[2],u=c.script,l=c.filter,""!==a){e.next=3;break}return e.abrupt("return",!1);case 3:if(d=Object(ge["isMatch"])(n,a),!d){e.next=11;break}if(l&&l.includes(t)&&(s=void 0),!s||!u){e.next=10;break}return e.next=9,je({script:u,env:{Bridge:{value:s,withExtension:function(e,t){return Oe(o.project.fileSystem,e,t)}}}});case 9:s=e.sent;case 10:return e.abrupt("return",!0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))||void 0===a?void 0:a.then((function(e){return null===e||void 0===e?void 0:e[0]}));case 7:return e.t0=e.sent,e.t1=s,e.abrupt("return",{definitionId:e.t0,transformedWord:e.t1});case 10:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"getFilePath",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s,c,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:r=e.sent,i=[],a=Object(R["a"])(n),e.prev=5,a.s();case 7:if((o=a.n()).done){e.next=27;break}if(u=o.value,!u.directReference){e.next=12;break}return i.push(t),e.abrupt("continue",25);case 12:return e.next=14,null===(c=r.project.packIndexer.service)||void 0===c?void 0:c.find(u.from,u.match,[t],!0);case 14:if(e.t1=s=e.sent,e.t0=null!==e.t1,!e.t0){e.next=18;break}e.t0=void 0!==s;case 18:if(!e.t0){e.next=22;break}e.t2=s,e.next=23;break;case 22:e.t2=[];case 23:l=e.t2,i.push.apply(i,Object(p["a"])(l));case 25:e.next=7;break;case 27:e.next=32;break;case 29:e.prev=29,e.t3=e["catch"](5),a.e(e.t3);case 32:return e.prev=32,a.f(),e.finish(32);case 35:return e.abrupt("return",i);case 36:case"end":return e.stop()}}),e,null,[[5,29,32,35]])})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}();function _e(e,t){return Ae.apply(this,arguments)}function Ae(){return Ae=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,c,u,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T["a"].ready.fired;case 2:return e.next=4,il.getApp();case 4:if(a=e.sent,o=function(e){return a.locales.translate(e)},c=null!==(r=T["a"].get(t))&&void 0!==r?r:{},u=c.id,l=c.documentation,l){e.next=10;break}return new s["a"]({description:"[".concat(o("actions.documentationLookup.noDocumentation")," ").concat(u?o("fileType.".concat(u)):'"'+t+'"',".]")}),e.abrupt("return");case 10:d=l.baseUrl,n&&(null===(i=l.supportsQuerying)||void 0===i||i)&&(d+="#".concat(n)),il.openUrl(d);case 13:case"end":return e.stop()}}),e)}))),Ae.apply(this,arguments)}v["languages"].typescript.javascriptDefaults.setCompilerOptions({target:v["languages"].typescript.ScriptTarget.ESNext,allowNonTsExtensions:!0,noLib:!0,alwaysStrict:!0}),v["languages"].registerDefinitionProvider("json",new Pe);var Te=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r;return Object(i["a"])(this,n),r=t.call(this),Object(o["a"])(Object(w["a"])(r),"_app",void 0),Object(o["a"])(Object(w["a"])(r),"_monacoEditor",void 0),Object(o["a"])(Object(w["a"])(r),"windowResize",void 0),r._app=e,r}return Object(a["a"])(n,[{key:"monacoEditor",get:function(){if(!this._monacoEditor)throw new Error("Accessed Monaco Editor before it was defined");return this._monacoEditor}},{key:"createMonacoEditor",value:function(e){var t,n,i,a=this;this.dispose(),this._monacoEditor=v["editor"].create(e,{wordBasedSuggestions:!1,theme:"bridgeMonacoDefault",roundedSelection:!1,autoIndent:"full",fontSize:14,wordWrap:null!==N["b"]&&void 0!==N["b"]&&null!==(t=N["b"].editor)&&void 0!==t&&t.wordWrap?"bounded":"off",tabSize:4});var o=this._monacoEditor._codeEditorService,s=o.openCodeEditor.bind(o);o.openCodeEditor=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s(t,n,r);case 2:if(i=e.sent,i){e.next=12;break}return e.prev=4,e.next=7,null===(o=a._app.project.tabSystem)||void 0===o?void 0:o.openPath(t.resource.path.slice(1));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](4),console.error('Failed to open file "'.concat(t.resource.path.slice(1),'"'));case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t,n,r){return e.apply(this,arguments)}}();var c=this._monacoEditor.getAction("editor.action.commentLine");null===(n=this._monacoEditor)||void 0===n||n.addAction(Object(S["a"])(Object(S["a"])({},c),{},{keybindings:[v["KeyMod"].CtrlCmd|v["KeyCode"].US_BACKSLASH],run:function(){this._run.apply(this,arguments)}})),this.monacoEditor.addAction({id:"documentationLookup",label:this._app.locales.translate("actions.documentationLookup.name"),contextMenuGroupId:"navigation",run:function(e){var t,n,r,i=e.getModel(),o=e.getSelection();if(i&&o){var s,c=null===(t=a._app.tabSystem)||void 0===t||null===(n=t.selectedTab)||void 0===n?void 0:n.getProjectPath();if(c)s=c.endsWith(".json")?ve(i,o.getPosition()).word:null===(r=i.getWordAtPosition(o.getPosition()))||void 0===r?void 0:r.word,_e(c,s)}}}),this._monacoEditor.onDidChangeModelContent((function(e){var t,n,r,i=null===(t=a._app.tabSystem)||void 0===t||null===(n=t.selectedTab)||void 0===n?void 0:n.getProjectPath();i&&(i.endsWith(".json")&&e.changes.some((function(e){return'""'===e.text}))&&(null===(r=a._monacoEditor)||void 0===r||r.trigger("","editor.action.triggerSuggest",null)))})),null===(i=this._monacoEditor)||void 0===i||i.layout(),this.windowResize=this._app.windowResize.on((function(){return setTimeout((function(){var e;return null===(e=a._monacoEditor)||void 0===e?void 0:e.layout()}))})),this.dispatch()}},{key:"updateOptions",value:function(e){var t;null===(t=this._monacoEditor)||void 0===t||t.updateOptions(e)}},{key:"dispose",value:function(){var e,t;null===(e=this._monacoEditor)||void 0===e||e.dispose(),null===(t=this.windowResize)||void 0===t||t.dispose()}}]),n}($["a"]);function Fe(e,t){return Ee.apply(this,arguments)}function Ee(){return Ee=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n){e.next=5;break}return e.next=3,il.getApp();case 3:i=e.sent,n=i.fileSystem;case 5:return e.abrupt("return",new Promise(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(r,i){var a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FileReader,e.prev=1,e.next=4,n.getFileHandle(t);case 4:return o=e.sent,e.next=7,o.getFile();case 7:s=e.sent,a.addEventListener("load",(function(){r(a.result)})),a.addEventListener("error",i),a.readAsDataURL(s),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](1),i('File does not exist: "'.concat(t,'"'));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),Ee.apply(this,arguments)}var De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex align-center justify-center",on:{click:function(t){return e.tab.parent.setActive(!0)}}},[n("img",{staticClass:"img-preview",attrs:{src:e.tab.dataUrl,alt:e.tab.path,draggable:"false"}})])},Me=[],Ie={name:"ImageTab",props:{tab:Object}},We=Ie,Ve=(n("0b42"),Object(W["a"])(We,De,Me,!1,null,"53948d5f",null)),Be=Ve.exports,Ne=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;Object(i["a"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(o["a"])(Object(w["a"])(e),"component",Be),Object(o["a"])(Object(w["a"])(e),"dataUrl",void 0),e}return Object(a["a"])(n,[{key:"onActivate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Fe(this.getPath());case 2:this.dataUrl=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"icon",get:function(){return"mdi-file-image-outline"}},{key:"iconColor",get:function(){return"primary"}},{key:"save",value:function(){}}],[{key:"is",value:function(e){var t=e.name;return t.endsWith(".png")||t.endsWith(".jpg")||t.endsWith(".jpeg")}}]),n}(F),Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"editorContainer",staticClass:"editor-container",attrs:{tabindex:"-1"},on:{click:function(t){return e.tab.parent.setActive(!0)}}},[n("div",{staticClass:"pr-4 code-font",style:"height: "+(e.height-194*!e.tab.isReadOnly)+"px; overflow: auto;",on:{blur:e.focusEditor,scroll:e.onScroll,contextmenu:function(t){return t.preventDefault(),t.stopPropagation(),e.tab.treeEditor.onPasteMenu(t)}}},[n(e.tab.treeEditor.tree.component,{tag:"component",attrs:{tree:e.tab.treeEditor.tree,treeEditor:e.tab.treeEditor},on:{setActive:function(t){return e.tab.parent.setActive(!0)}}})],1),e.tab.isReadOnly?e._e():n("v-divider",{staticClass:"mb-4"}),e.tab.isReadOnly?e._e():n("div",{staticClass:"d-flex px-4",on:{blur:e.focusEditor}},[n("v-combobox",{ref:"addKeyInput",attrs:{items:e.propertySuggestions,"menu-props":{maxHeight:124,top:!1,contentClass:"json-editor-suggestions-menu"},label:e.t("editors.treeEditor.addObject"),outlined:"",dense:"","hide-details":""},on:{change:e.onAddKey,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.mayTrigger(t)}},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.item;return[n("div",{staticStyle:{width:"100%"},on:{click:e.mayTrigger}},[n("v-icon",{staticClass:"mr-1",attrs:{color:"primary",small:""}},[e._v(" "+e._s(e.getIcon(r))+" ")]),n("span",{staticStyle:{"font-size":"0.8125rem","font-weight":"500","line-height":"1rem"}},[e._v(" "+e._s(r.label)+" ")])],1)]}}],null,!1,1072492042),model:{value:e.keyToAdd,callback:function(t){e.keyToAdd=t},expression:"keyToAdd"}}),n("v-combobox",{ref:"addValueInput",staticClass:"mx-4",attrs:{disabled:e.isGlobal,items:e.valueSuggestions,"menu-props":{maxHeight:124,top:!1,contentClass:"json-editor-suggestions-menu"},label:e.t("editors.treeEditor.addValue"),outlined:"",dense:"","hide-details":""},on:{change:e.onAddValue,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.mayTrigger(t)}},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.item;return[n("div",{staticStyle:{width:"100%"},on:{click:e.mayTrigger}},[n("v-icon",{staticClass:"mr-1",attrs:{color:"primary",small:""}},[e._v(" "+e._s(e.getIcon(r))+" ")]),n("span",{staticStyle:{"font-size":"0.8125rem","font-weight":"500","line-height":"1rem"}},[e._v(" "+e._s(r.label)+" ")])],1)]}}],null,!1,1072492042),model:{value:e.valueToAdd,callback:function(t){e.valueToAdd=t},expression:"valueToAdd"}}),n("v-text-field",{ref:"editValueInput",attrs:{value:e.currentValue,disabled:e.isGlobal,label:e.t("editors.treeEditor.edit"),outlined:"",dense:"","hide-details":""},on:{change:e.onEdit}})],1)],1)},$e=[],He=(n("0481"),n("4069"),function e(){Object(i["a"])(this,e)}),ze=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r;return Object(i["a"])(this,n),r=t.call(this),Object(o["a"])(Object(w["a"])(r),"entries",void 0),r.entries=e,r}return Object(a["a"])(n,[{key:"unselectTrees",get:function(){return this.entries.map((function(e){return e.unselectTrees})).flat()}},{key:"undo",value:function(){return new n(this.entries.reverse().map((function(e){return e.undo()})))}}]),n}(He),Ue=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r){var a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Object(i["a"])(this,n),a=t.call(this),Object(o["a"])(Object(w["a"])(a),"tree",void 0),Object(o["a"])(Object(w["a"])(a),"index",void 0),Object(o["a"])(Object(w["a"])(a),"key",void 0),Object(o["a"])(Object(w["a"])(a),"unselectTrees",[]),a.tree=e,a.index=r,a.key=s,a.unselectTrees=[a.tree],a}return Object(a["a"])(n,[{key:"undo",value:function(){var e=this.tree.getParent();if(!e)throw new Error("Invalid state: Undo delete action on global tree node");return"array"===e.type?e.children.splice(this.index,0,this.tree):e.children.splice(this.index,0,[this.key,this.tree]),new Je(this.tree,this.index,this.key)}}]),n}(He),Je=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r){var a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Object(i["a"])(this,n),a=t.call(this),Object(o["a"])(Object(w["a"])(a),"tree",void 0),Object(o["a"])(Object(w["a"])(a),"index",void 0),Object(o["a"])(Object(w["a"])(a),"key",void 0),Object(o["a"])(Object(w["a"])(a),"unselectTrees",[]),a.tree=e,a.index=r,a.key=s,a.unselectTrees=[a.tree],a}return Object(a["a"])(n,[{key:"undo",value:function(){var e=this.tree.getParent();if(!e)throw new Error("Invalid state: Redo delete action on global tree node");return e.children.splice(this.index,1),new Ue(this.tree,this.index,this.key)}}]),n}(He),qe=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r,a){var s;return Object(i["a"])(this,n),s=t.call(this),Object(o["a"])(Object(w["a"])(s),"parent",void 0),Object(o["a"])(Object(w["a"])(s),"oldValue",void 0),Object(o["a"])(Object(w["a"])(s),"newValue",void 0),Object(o["a"])(Object(w["a"])(s),"unselectTrees",void 0),s.parent=e,s.oldValue=r,s.newValue=a,s.unselectTrees=[e],s}return Object(a["a"])(n,[{key:"undo",value:function(){return this.parent.updatePropertyName(this.newValue,this.oldValue),new n(this.parent,this.newValue,this.oldValue)}}]),n}(He),Ge=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r){var a;return Object(i["a"])(this,n),a=t.call(this),Object(o["a"])(Object(w["a"])(a),"tree",void 0),Object(o["a"])(Object(w["a"])(a),"value",void 0),Object(o["a"])(Object(w["a"])(a),"unselectTrees",void 0),a.tree=e,a.value=r,a.unselectTrees=[e],a}return Object(a["a"])(n,[{key:"undo",value:function(){var e="".concat(this.tree.value);return this.tree.edit(this.value),new n(this.tree,e)}}]),n}(He),Ke=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r){var a;return Object(i["a"])(this,n),a=t.call(this),Object(o["a"])(Object(w["a"])(a),"oldTree",void 0),Object(o["a"])(Object(w["a"])(a),"newTree",void 0),Object(o["a"])(Object(w["a"])(a),"unselectTrees",void 0),a.oldTree=e,a.newTree=r,a.unselectTrees=[r],a}return Object(a["a"])(n,[{key:"undo",value:function(){return this.newTree.replace(this.oldTree),new n(this.newTree,this.oldTree)}}]),n}(He),Qe=(n("4fad"),n("c1f9"),19),Ze=function(){function e(t){Object(i["a"])(this,e),Object(o["a"])(this,"parent",void 0),Object(o["a"])(this,"uuid",Object(A["a"])()),Object(o["a"])(this,"isSelected",!1),this.parent=t}return Object(a["a"])(e,[{key:"styles",get:function(){return{outline:"none",contentVisibility:"auto",containIntrinsicSize:"".concat(this.height,"px")}}},{key:"value",get:function(){return this._value}},{key:"getParent",value:function(){return this.parent}},{key:"path",get:function(){return this.parent?[].concat(Object(p["a"])(this.parent.path),[this.key]):[]}},{key:"findParentIndex",value:function(){var e,t=this;if(!this.parent)throw new Error("Cannot findParentIndex for tree without parent");if(e="array"===this.parent.type?this.parent.children.findIndex((function(e){return e===t})):this.parent.children.findIndex((function(e){var n=Object(he["a"])(e,2),r=(n[0],n[1]);return r===t})),-1===e)throw console.log(this),new Error("Invalid state: TreeChild with parent couldn't be found inside of parent's children");return e}},{key:"key",get:function(){if(!this.parent)throw new Error("Trees without parent do not have a key");var e=this.findParentIndex();return"array"===this.parent.type?e:this.parent.children[e][0]}},{key:"setIsSelected",value:function(e){this.isSelected=e}},{key:"replace",value:function(e){if(!this.parent)throw new Error("Cannot replace tree without parent");var t=this.findParentIndex();Object(ue["g"])(this.parent.children,t,"array"===this.parent.type?e:[this.key,e])}},{key:"delete",value:function(){var e,t=this;if(!this.parent)throw new Error("Cannot delete tree without parent");if("array"===this.parent.type){if(e=this.parent.children.findIndex((function(e){return e===t})),-1===e)throw new Error("Invalid state: TreeChild with parent couldn't be found inside of parent's children")}else if(e=this.parent.children.findIndex((function(e){var n=Object(he["a"])(e,2),r=(n[0],n[1]);return r===t})),-1===e)throw new Error("Invalid state: TreeChild with parent couldn't be found inside of parent's children");var n=this.parent.children.splice(e,1),r=Object(he["a"])(n,1),i=r[0];return[e,Array.isArray(i)?i[0]:""]}}]),e}(),Ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.$slots.default?n("details",{style:e.tree.styles,attrs:{open:e.tree.isOpen,tabindex:"-1"}},[n("summary",{class:{"common-tree-key":!0,open:e.tree.isOpen,"tree-editor-selection":e.tree.isSelected},attrs:{tabindex:"-1"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.onClickKey(t)},contextmenu:function(t){return t.preventDefault(),e.treeEditor.onContextMenu(t,e.tree)}}},[n("v-icon",{staticClass:"mr-1",style:{position:"relative",opacity:e.tree.hasChildren?null:"60%",top:e.tree.hasChildren?"0px":"-1.5px"},attrs:{small:""},nativeOn:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.tree.toggleOpen()}}},[e._v(" mdi-chevron-right ")]),"object"===e.tree.parent.type?n("span",[e.isDevMode?n("span",[e._v("s: "+e._s(e.tree.type)+" p: "+e._s(e.tree.parent.type)+" ")]):e._e(),n("span",{on:{dblclick:function(t){return e.tree.toggleOpen()}}},[e._t("default")],2),e._v(":")]):n("span",{staticClass:"mx-2"}),n("span",{staticClass:"px-1",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.tree.toggleOpen()}}},[e._v(e._s(e.openingBracket))])],1),e.tree.isOpen?n("TreeChildren",{attrs:{tree:e.tree,treeEditor:e.treeEditor},on:{setActive:function(t){return e.$emit("setActive")}}}):e._e(),e._v(" "+e._s(e.closingBracket)+" ")],1):n("TreeChildren",{attrs:{tree:e.tree,treeEditor:e.treeEditor},on:{setActive:function(t){return e.$emit("setActive")}}})},Xe=[],et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pl-4"},e._l(e.children,(function(t,r){return n(t.component,{key:t.uuid,tag:"component",attrs:{tree:t,treeEditor:e.treeEditor},on:{setActive:function(t){return e.$emit("setActive")}}},[n("Highlight",{attrs:{def:"object"===e.tree.type?e.stringDef:e.numberDef}},[e._v(e._s(e.wrapKey(r)))])],1)})),1)},tt=[],nt=function(e){return"".concat(e,"Def")},rt=function(e){return{data:function(){return Object.fromEntries(e.map((function(e){return[nt(e),{}]})))},mounted:function(){il.instance.themeManager.on(this.onThemeChanged),this.onThemeChanged()},destroyed:function(){il.instance.themeManager.off(this.onThemeChanged)},methods:{onThemeChanged:function(){var t=this;e.forEach((function(e){t[nt(e)]=il.instance.themeManager.getHighlighterInfo(e)}))}}}},it=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{style:{color:e.def?e.def.color:null,backgroundColor:e.def?e.def.background:null,textDecoration:e.textDecoration}},[e._t("default")],2)},at=[],ot={props:{def:Object},computed:{textDecoration:function(){return this.def?(this.def.textDecoration||(this.def.textDecoration=""),this.def.isItalic&&(this.def.textDecoration+=" italic"),this.def.textDecoration):null}}},st=ot,ct=Object(W["a"])(st,it,at,!1,null,null,null),ut=ct.exports,lt={name:"TreeChildren",mixins:[rt(["string","number"])],components:{Highlight:ut},props:{tree:Object,treeEditor:Object},methods:{wrapKey:function(e){return"object"===this.tree.type?'"'.concat(e,'"'):"".concat(e)}},computed:{children:function(){return this.tree instanceof At?this.tree.children:Object.fromEntries(this.tree.children)}}},dt=lt,pt=Object(W["a"])(dt,et,tt,!1,null,null,null),ht=pt.exports,ft={computed:{isDevMode:function(){var e,t;return null!==(e=null===N["b"]||void 0===N["b"]||null===(t=N["b"].developers)||void 0===t?void 0:t.isDevMode)&&void 0!==e&&e}}},vt={array:"[]",object:"{}"},mt={name:"ObjectTree",components:{TreeChildren:ht},mixins:[ft],props:{tree:Object,treeKey:String,treeEditor:Object},computed:{openingBracket:function(){return this.tree.isOpen?vt[this.tree.type][0]:Object.keys(this.tree.children).length>0?"".concat(vt[this.tree.type][0],"...").concat(vt[this.tree.type][1]):"".concat(vt[this.tree.type][0]).concat(vt[this.tree.type][1])},closingBracket:function(){return this.tree.isOpen?vt[this.tree.type][1]:void 0}},methods:{onClickKey:function(e){this.$emit("setActive"),e.altKey?this.treeEditor.toggleSelection(this.tree):this.treeEditor.setSelection(this.tree)}}},bt=mt,gt=(n("5f76"),n("132d")),yt=Object(W["a"])(bt,Ye,Xe,!1,null,"b5e32b90",null),wt=yt.exports;X()(yt,{VIcon:gt["a"]});var jt=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r){var a;return Object(i["a"])(this,n),a=t.call(this,e),Object(o["a"])(Object(w["a"])(a),"_value",void 0),Object(o["a"])(Object(w["a"])(a),"component",wt),Object(o["a"])(Object(w["a"])(a),"_isOpen",!1),Object(o["a"])(Object(w["a"])(a),"type","object"),Object(o["a"])(Object(w["a"])(a),"_children",void 0),a._value=r,a._children=Object.entries(r).map((function(e){var t=Object(he["a"])(e,2),n=t[0],r=t[1];return[n,_t(Object(w["a"])(a),r)]})),a}return Object(a["a"])(n,[{key:"height",get:function(){return this.isOpen?2*Qe+this._children.reduce((function(e,t){var n=Object(he["a"])(t,2),r=(n[0],n[1]);return e+r.height}),0):Qe}},{key:"children",get:function(){return this._children}},{key:"hasChildren",get:function(){return this._children.length>0}},{key:"isOpen",get:function(){return!!this.hasChildren&&this._isOpen}},{key:"hasChild",value:function(e){return this.children.some((function(t){var n=Object(he["a"])(t,2),r=(n[0],n[1]);return r===e}))}},{key:"addChild",value:function(e,t){this._children.push([e,t])}},{key:"setOpen",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(this.hasChildren||t)&&(this._isOpen=e)}},{key:"toggleOpen",value:function(){this.setOpen(!this._isOpen)}},{key:"toJSON",value:function(){return Object.fromEntries(this._children.map((function(e){var t=Object(he["a"])(e,2),n=t[0],r=t[1];return[n,r.toJSON()]})))}},{key:"updatePropertyName",value:function(e,t){var n=this.children.findIndex((function(t){return t[0]===e})),r=Object(he["a"])(this.children[n],2),i=(r[0],r[1]);if(i){var a=0,o=t,s=this.children.findIndex((function(e){return e[0]===t}));if(s!==n)while(-1!==s)s=this.children.findIndex((function(e){return e[0]===t})),t=o+"_".concat(a++);Object(ue["g"])(this.children,n,[t,i])}}}]),n}(Ze),kt=(n("9129"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:e.tree.styles,attrs:{tabindex:"-1"}},[n("div",{class:{"tree-editor-selection":"object"!==e.tree.type&&"array"!==e.tree.type&&e.tree.isSelected},staticStyle:{display:"inline-block"},on:{contextmenu:function(t){return t.preventDefault(),t.stopPropagation(),e.treeEditor.onContextMenu(t,e.tree)}}},[n("v-icon",{staticClass:"mr-1",style:{opacity:"60%",position:"relative",top:"-1.5px"},attrs:{small:""}},[e._v(" mdi-chevron-right ")]),"object"===e.tree.parent.type?n("span",[n("span",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.onClickKey(t)}}},[e._t("default")],2),e._v(":")]):e._e()],1),e.isDevMode?n("span",[e._v(" s: "+e._s(e.tree.type)+" p: "+e._s(e.tree.parent.type))]):e._e(),n("div",{class:{"tree-editor-selection":e.tree.isValueSelected,"px-1":!0},style:{height:"20.5px",display:"inline-block",color:e.highlighterInfo.color,backgroundColor:e.highlighterInfo.background,textDecoration:e.textDecoration},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.onClickKey(t,!0)},contextmenu:function(t){return t.preventDefault(),e.treeEditor.onContextMenu(t,e.tree,!1)}}},[e._v(" "+e._s(e.treeValue)+" ")])])}),xt=[],Ot={name:"PrimitiveTree",mixins:[rt(["atom","string","number"]),ft],props:{tree:Object,treeEditor:Object},computed:{treeValue:function(){return null===this.tree.value?"null":"string"===this.tree.type?'"'.concat(this.tree.value,'"'):this.tree.value},highlighterInfoDef:function(){switch(this.tree.type){case"number":return"numberDef";case"string":return"stringDef";case"boolean":return"atomDef";case"null":return"atomDef";default:throw new Error('Unknown primitive type: "'.concat(this.tree.type,'"'))}},highlighterInfo:function(){return this[this.highlighterInfoDef]},textDecoration:function(){return this.highlighterInfo.textDecoration||(this.highlighterInfo.textDecoration=""),this.highlighterInfo.isItalic&&(this.highlighterInfo.textDecoration+=" italic"),this.highlighterInfo.textDecoration}},methods:{onClickKey:function(e,t){this.$emit("setActive"),e.altKey?this.treeEditor.toggleSelection(this.tree,t):this.treeEditor.setSelection(this.tree,t)}}},St=Ot,Ct=Object(W["a"])(St,kt,xt,!1,null,null,null),Rt=Ct.exports;X()(Ct,{VIcon:gt["a"]});var Pt=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r){var a;return Object(i["a"])(this,n),a=t.call(this,e),Object(o["a"])(Object(w["a"])(a),"_value",void 0),Object(o["a"])(Object(w["a"])(a),"component",Rt),Object(o["a"])(Object(w["a"])(a),"isValueSelected",!1),a._value=r,a}return Object(a["a"])(n,[{key:"type",get:function(){return null===this.value?"null":Object(C["a"])(this.value)}},{key:"height",get:function(){return Qe}},{key:"setValue",value:function(e){this._value=e}},{key:"toJSON",value:function(){return this.value}},{key:"edit",value:function(e){Number.isNaN(Number(e))?"null"===e?this.setValue(null):"true"===e||"false"===e?this.setValue("true"===e):this.setValue(e):this.setValue(Number(e))}}]),n}(Ze);function _t(e,t){if(null===t)return new Pt(e,null);if(Array.isArray(t))return new At(e,t);if("object"===Object(C["a"])(t))return new jt(e,t);if(["string","number","boolean"].includes(Object(C["a"])(t)))return new Pt(e,t);throw new Error('Undefined type handler: "'.concat(Object(C["a"])(t),'" -> ').concat(t))}var At=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r){var a;return Object(i["a"])(this,n),a=t.call(this,e),Object(o["a"])(Object(w["a"])(a),"_value",void 0),Object(o["a"])(Object(w["a"])(a),"component",wt),Object(o["a"])(Object(w["a"])(a),"_isOpen",!1),Object(o["a"])(Object(w["a"])(a),"type","array"),Object(o["a"])(Object(w["a"])(a),"_children",void 0),a._value=r,a._children=r.map((function(e){return _t(Object(w["a"])(a),e)})),a}return Object(a["a"])(n,[{key:"height",get:function(){return this.isOpen?2*Qe+this._children.reduce((function(e,t){return e+t.height}),0):Qe}},{key:"children",get:function(){return this._children}},{key:"hasChildren",get:function(){return this._children.length>0}},{key:"isOpen",get:function(){return!!this.hasChildren&&this._isOpen}},{key:"hasChild",value:function(e){return this.children.includes(e)}},{key:"addChild",value:function(e){this._children.push(e)}},{key:"setOpen",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(this.hasChildren||t)&&(this._isOpen=e)}},{key:"toggleOpen",value:function(){this.setOpen(!this._isOpen)}},{key:"toJSON",value:function(){return this._children.map((function(e){return e.toJSON()}))}},{key:"updatePropertyName",value:function(e,t){var n=this,r=this.children[e],i=this.children[t];return this.children[t]=r,delete this.children[e],{undo:function(){n.children[e]=r,n.children[t]=i}}}}]),n}(Ze),Tt=function(){function e(t,n){Object(i["a"])(this,e),Object(o["a"])(this,"parent",void 0),Object(o["a"])(this,"tree",void 0),this.parent=t,this.tree=n,n.setIsSelected(!0)}return Object(a["a"])(e,[{key:"getTree",value:function(){return this.tree}},{key:"getLocation",value:function(){return this.tree.path.join("/")}},{key:"select",value:function(e){this.tree.setIsSelected(!1),this.tree=e,this.tree.setIsSelected(!0)}},{key:"dispose",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.tree.setIsSelected(!1),e&&this.parent.removeSelection(this)}},{key:"edit",value:function(e){var t=this.tree.getParent();if(!t)throw new Error("Cannot edit property name without parent");if(t instanceof At)throw new Error("Cannot edit array indices");var n=this.tree.key;return t.updatePropertyName(n,e),new qe(t,n,e)}},{key:"addKey",value:function(e,t){var n=this.tree.children.length,r=[];if(this.tree.setOpen(!0,!0),"array"===t&&this.tree instanceof jt){this.dispose();var i=new At(this.tree.getParent(),[]);this.tree.replace(i),i.setOpen(!0,!0),r.push(new Ke(this.tree,i)),this.tree=i}var a=new jt(this.tree,{});if(this.tree instanceof At){this.tree.children.push(a);var o=new jt(a,{});a.children.push([e,o]),this.parent.setSelection(o),a.setOpen(!0),this.tree.setOpen(!0)}else this.tree.children.push([e,a]),this.parent.setSelection(a);return r.push(new Je(a,n,e)),new ze(r)}},{key:"addValue",value:function(e,t){var n=[];if("valueArray"===t&&this.tree instanceof jt){this.dispose();var r=new At(this.tree.getParent(),[]);r.setOpen(!0,!0),this.tree.replace(r),n.push(new Ke(this.tree,r)),this.tree=r}if("array"===this.tree.type){var i=new Pt(this.tree,e);this.tree.children.push(i),this.parent.setSelection(this.tree),n.push(new Je(i,this.tree.children.length-1))}else if(0===Object.keys(this.tree.children).length){var a=new Pt(this.tree.getParent(),e);this.tree.replace(a),this.parent.setSelection(a.getParent()),this.dispose(),n.push(new Ke(this.tree,a))}return new ze(n)}}]),e}(),Ft=function(){function e(t,n){Object(i["a"])(this,e),Object(o["a"])(this,"parent",void 0),Object(o["a"])(this,"tree",void 0),this.parent=t,this.tree=n,n.isValueSelected=!0}return Object(a["a"])(e,[{key:"getTree",value:function(){return this.tree}},{key:"getLocation",value:function(){return this.tree.path.join("/")}},{key:"dispose",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.tree.isValueSelected=!1,e&&this.parent.removeSelection(this)}},{key:"edit",value:function(e){var t="".concat(this.tree.value);return this.tree.edit(e),new Ge(this.tree,t)}}]),e}(),Et={name:"TreeTab",mixins:[G["a"]],props:{tab:Object,height:Number},data:function(){return{keyToAdd:"",valueToAdd:"",triggerCooldown:!1,isUserControlledTrigger:!1}},mounted:function(){this.treeEditor.receiveContainer(this.$refs.editorContainer),this.focusEditor()},activated:function(){this.treeEditor.receiveContainer(this.$refs.editorContainer),this.focusEditor()},computed:{treeEditor:function(){return this.tab.treeEditor},currentValue:function(){var e=void 0;return this.treeEditor.forEachSelection((function(t){var n;t.getTree().parent&&(n=t instanceof Ft?t.getTree().value:t.getTree().key,void 0===e?e=n:e!==n&&(e=""))})),e},isGlobal:function(){var e=!1;return this.treeEditor.forEachSelection((function(t){e||t.getTree().parent||(e=!0)})),e},propertySuggestions:function(){return this.treeEditor.propertySuggestions.map((function(e){return Object(S["a"])(Object(S["a"])({},e),{},{text:e.value})}))},valueSuggestions:function(){return this.treeEditor.valueSuggestions.map((function(e){return Object(S["a"])(Object(S["a"])({},e),{},{text:e.value})}))}},methods:{focusEditor:function(){this.$refs.editorContainer&&this.$refs.editorContainer.focus()},onEdit:function(e){this.treeEditor.edit(e)},onAddKey:function(e){var t=this;if(!this.triggerCooldown&&this.isUserControlledTrigger){if(!e)return this.onTriggerCooldown();var n=e.type,r=void 0===n?"object":n,i=e.value,a=void 0===i?e:i;"snippet"===r?this.treeEditor.addFromJSON(a[1]):this.treeEditor.addKey(a,r),this.$nextTick((function(){return t.keyToAdd=""})),this.onTriggerCooldown()}else this.isUserControlledTrigger||this.$nextTick((function(){return t.keyToAdd=""}))},onAddValue:function(e){var t=this;if(!this.triggerCooldown&&this.isUserControlledTrigger){if(!e)return this.onTriggerCooldown();var n=e.type,r=void 0===n?"value":n,i=e.value,a=void 0===i?e:i;this.treeEditor.addValue(a,r),this.$nextTick((function(){return t.valueToAdd=""})),this.onTriggerCooldown()}else this.isUserControlledTrigger||this.$nextTick((function(){return t.valueToAdd=""}))},onTriggerCooldown:function(){var e=this;this.triggerCooldown||(setTimeout((function(){e.triggerCooldown=!1}),100),this.triggerCooldown=!0)},mayTrigger:function(){var e=this;this.isUserControlledTrigger||(setTimeout((function(){e.isUserControlledTrigger=!1}),100),this.isUserControlledTrigger=!0)},onScroll:function(e){this.treeEditor.scrollTop=e.target.scrollTop},getIcon:function(e){switch(e.type){case"object":return"mdi-code-json";case"array":return"mdi-code-brackets";case"value":return"mdi-alphabetical";case"arrayValue":return"mdi-link-variant";case"snippet":return"mdi-attachment";default:return"mdi-text"}}},watch:{treeEditor:function(){this.treeEditor.receiveContainer(this.$refs.editorContainer)},propertySuggestions:function(){this.$refs.addKeyInput&&this.$refs.addValueInput&&(0===this.propertySuggestions.length?(this.$refs.addKeyInput.blur(),this.$refs.addValueInput.focus()):this.propertySuggestions.length>0&&(this.$refs.addValueInput.blur(),this.$refs.addKeyInput.focus()))}}},Dt=Et,Mt=(n("5225"),n("2b5d")),It=n("ce7e"),Wt=n("8654"),Vt=Object(W["a"])(Dt,Le,$e,!1,null,null,null),Bt=Vt.exports;X()(Vt,{VCombobox:Mt["a"],VDivider:It["a"],VIcon:gt["a"],VTextField:Wt["a"]});var Nt=n("3490"),Lt=n("8ed7"),$t=n("8d8a"),Ht=n("9803"),zt=["Control","Alt","Meta"],Ut=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;Object(i["a"])(this,e),Object(o["a"])(this,"element",void 0),Object(o["a"])(this,"state",Object(ue["h"])({})),Object(o["a"])(this,"lastTimeStamp",0),Object(o["a"])(this,"onKeydown",(function(e){var n=e.key,r=e.ctrlKey,i=e.altKey,a=e.metaKey,o=e.shiftKey;e.code;if(!zt.includes(n)){var s=Object(Ht["b"])({key:n,ctrlKey:"darwin"===Object(Lt["a"])()?a:r,altKey:i,metaKey:"darwin"===Object(Lt["a"])()?r:a,shiftKey:o}),c=t.state[s];if(c&&t.lastTimeStamp+100<Date.now()){if(c.prevent(e.target))return;t.lastTimeStamp=Date.now(),e.preventDefault(),e.stopImmediatePropagation(),c.trigger()}}})),this.element=n,n.addEventListener("keydown",this.onKeydown)}return Object(a["a"])(e,[{key:"create",value:function(e){var t=new $t["a"](this,e),n=t.toStrKeyCode();if(this.state[n])throw new Error('KeyBinding with keyCode "'.concat(n,'" already exists!'));return Object(ue["g"])(this.state,n,t),t}},{key:"disposeKeyBinding",value:function(e){Object(ue["c"])(this.state,e)}},{key:"dispose",value:function(){this.element.removeEventListener("keydown",this.onKeydown)}}]),e}(),Jt=n("1834"),qt=function(){function e(t,n,r){Object(i["a"])(this,e),Object(o["a"])(this,"location",void 0),Object(o["a"])(this,"key",void 0),Object(o["a"])(this,"value",void 0),this.location=t,this.key=n,this.value=r}return Object(a["a"])(e,[{key:"validate",value:function(e){return[]}},{key:"isValid",value:function(e){return 0===this.validate(e).length}}]),e}(),Gt=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"getCompletionItems",value:function(e){return this.children.map((function(t){return t.getCompletionItems(e)})).flat()}},{key:"getSchemasFor",value:function(e,t){return this.children.map((function(n){return n.getSchemasFor(e,Object(p["a"])(t))})).flat()}}]),n}(qt),Kt=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r,a){var s;return Object(i["a"])(this,n),s=t.call(this,e,r,a),Object(o["a"])(Object(w["a"])(s),"children",void 0),"$global"!==r&&"$ref"!==r||bn.addRootSchema(e,Object(w["a"])(s)),s.children=bn.createSchemas(s.location,a),s}return Object(a["a"])(n,[{key:"validate",value:function(e){return this.children.map((function(t){return t.validate(e)})).flat()}}]),n}(Gt),Qt=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r,a){var s;if(Object(i["a"])(this,n),s=t.call(this,e,r,a),Object(o["a"])(Object(w["a"])(s),"children",void 0),!Array.isArray(a))throw new Error('"allOf" schema must be of type array, found "'.concat(Object(C["a"])(a),'"'));return s.children=a.map((function(e){return new Kt(s.location,"allOf",e)})),s}return Object(a["a"])(n,[{key:"validate",value:function(e){return this.children.map((function(t){return t.validate(e)})).flat()}}]),n}(Gt),Zt=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r,a){var s;if(Object(i["a"])(this,n),s=t.call(this,e,r,a),Object(o["a"])(Object(w["a"])(s),"children",void 0),!Array.isArray(a))throw new Error('"anyOf" schema must be of type array, found "'.concat(Object(C["a"])(a),'"'));return s.children=a.map((function(e){return new Kt(s.location,"anyOf",e)})),s}return Object(a["a"])(n,[{key:"validate",value:function(e){var t,n=[],r=Object(R["a"])(this.children);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.validate(e);if(0===a.length)return[];n.push.apply(n,Object(p["a"])(a))}}catch(o){r.e(o)}finally{r.f()}return n}}]),n}(Gt),Yt=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"getSchemasFor",value:function(){return[]}},{key:"getCompletionItems",value:function(){return[{type:"value",label:"".concat(this.value),value:this.value}]}},{key:"validate",value:function(e){return this.value!==e?[{message:"Found ".concat(e,"; expected ").concat(this.value)}]:[]}}]),n}(qt),Xt=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r,a){var o;if(Object(i["a"])(this,n),o=t.call(this,e,r,a),!Array.isArray(a))throw new Error("Enum must be of type array; found ".concat(Object(C["a"])(a)));return o}return Object(a["a"])(n,[{key:"getSchemasFor",value:function(){return[]}},{key:"getCompletionItems",value:function(){return this.value.map((function(e){return{type:"value",label:"".concat(e),value:e}}))}},{key:"validate",value:function(e){return this.value.includes(e)?[]:[{message:"Found ".concat(e,"; expected one of ").concat(this.value.join(", "))}]}}]),n}(qt),en=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r,a){var s;return Object(i["a"])(this,n),s=t.call(this,e,r,a),Object(o["a"])(Object(w["a"])(s),"rootSchema",void 0),s.rootSchema=new Kt(s.location,"if",a),s}return Object(a["a"])(n,[{key:"getSchemasFor",value:function(){return[]}},{key:"getCompletionItems",value:function(){return[]}},{key:"validate",value:function(){return[]}},{key:"isTrue",value:function(e){return this.rootSchema.isValid(e)}}]),n}(qt),tn=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r,a){var s;if(Object(i["a"])(this,n),s=t.call(this,e,r,a),Object(o["a"])(Object(w["a"])(s),"children",void 0),"object"!==Object(C["a"])(a)&&"undefined"!==typeof a)throw new Error('Invalid usage of "properties" schema field. Expected type "object", received "'.concat(Object(C["a"])(a),'"'));return Array.isArray(a)?s.children=a.map((function(e){return new Kt(s.location,"items",e)})):s.children=new Kt(s.location,"items",a),s}return Object(a["a"])(n,[{key:"arrayChildren",get:function(){return Array.isArray(this.children)?this.children:[this.children]}},{key:"getSchemasFor",value:function(e,t){var n,r,i=t.shift();return"string"===typeof i?[]:void 0===i?this.arrayChildren:0===t.length?Array.isArray(this.children)?this.children[i]?[this.children[i]]:[]:[this.children]:Array.isArray(this.children)?null!==(n=null===(r=this.children[i])||void 0===r?void 0:r.getSchemasFor(e[i],Object(p["a"])(t)))&&void 0!==n?n:[]:this.children.getSchemasFor(e[i],Object(p["a"])(t))}},{key:"getCompletionItems",value:function(e){return this.arrayChildren.map((function(t){return t.getCompletionItems(e).map((function(e){return{type:"object"===e.type?"array":"valueArray",label:"".concat(e.value),value:e.value}}))})).flat()}},{key:"validate",value:function(e){return[]}}]),n}(qt),nn=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r,a){var s;if(Object(i["a"])(this,n),s=t.call(this,e,r,a),Object(o["a"])(Object(w["a"])(s),"children",void 0),!Array.isArray(a))throw new Error('"oneOf" schema must be of type array, found "'.concat(Object(C["a"])(a),'"'));return s.children=a.map((function(e){return new Kt(s.location,"oneOf",e)})),s}return Object(a["a"])(n,[{key:"validate",value:function(e){var t,n=[],r=!1,i=!1,a=Object(R["a"])(this.children);try{for(a.s();!(t=a.n()).done;){var o=t.value,s=o.validate(e);0===s.length&&(r&&(i=!0),r=!0),n.push.apply(n,Object(p["a"])(s))}}catch(c){a.e(c)}finally{a.f()}return i?[{message:"JSON matched more than one schema, expected exactly one match"}]:r?[]:n}}]),n}(Gt),rn=(n("4d63"),function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r,a){var s;if(Object(i["a"])(this,n),s=t.call(this,e,r,a),Object(o["a"])(Object(w["a"])(s),"children",{}),"object"!==Object(C["a"])(a)&&"undefined"!==typeof a)throw new Error('Invalid usage of "properties" schema field. Expected type "object", received "'.concat(Object(C["a"])(a),'"'));return s.children=Object.fromEntries(Object.entries(null!==a&&void 0!==a?a:{}).map((function(e){var t=Object(he["a"])(e,2),n=t[0],r=t[1];return[n,new Kt(s.location,n,r)]}))),s}return Object(a["a"])(n,[{key:"getSchemasFor",value:function(e,t){var n=t.shift(),r=[];if("number"===typeof n||void 0===n)return r;for(var i=0,a=Object.entries(this.children);i<a.length;i++){var o=Object(he["a"])(a[i],2),s=o[0],c=o[1];null!==n.match(new RegExp(s))&&r.push(c)}return 0===t.length?r:r.map((function(r){return r.getSchemasFor(e[n],Object(p["a"])(t))})).flat()}},{key:"getCompletionItems",value:function(){return[]}},{key:"validate",value:function(e){if("object"!==Object(C["a"])(e)||Array.isArray(e))return[{message:'Invalid type: Expected "object", received "'.concat(Array.isArray(e)?"array":Object(C["a"])(e),'"')}];var t=[];for(var n in e)for(var r=0,i=Object.entries(this.children);r<i.length;r++){var a=Object(he["a"])(i[r],2),o=a[0],s=a[1];null===n.match(new RegExp(o))&&t.push.apply(t,Object(p["a"])(s.validate(e[n])))}return t}}]),n}(qt)),an=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r,a){var s;if(Object(i["a"])(this,n),s=t.call(this,e,r,a),Object(o["a"])(Object(w["a"])(s),"children",{}),"object"!==Object(C["a"])(a)&&"undefined"!==typeof a)throw new Error('Invalid usage of "properties" schema field. Expected type "object", received "'.concat(Object(C["a"])(a),'"'));return s.children=Object.fromEntries(Object.entries(null!==a&&void 0!==a?a:{}).map((function(e){var t=Object(he["a"])(e,2),n=t[0],r=t[1];return[n,new Kt(s.location,n,r)]}))),s}return Object(a["a"])(n,[{key:"getSchemasFor",value:function(e,t){var n,r,i=t.shift();return void 0===i?Object.values(this.children):0===t.length?this.children[i]?[this.children[i]]:[]:null!==(n=null===(r=this.children[i])||void 0===r?void 0:r.getSchemasFor(e[i],Object(p["a"])(t)))&&void 0!==n?n:[]}},{key:"getCompletionItems",value:function(){return Object.keys(this.value).map((function(e){return{type:"object",label:"".concat(e),value:e}}))}},{key:"validate",value:function(e){if("object"!==Object(C["a"])(e)||Array.isArray(e))return[{message:'Invalid type: Expected "object", received "'.concat(Array.isArray(e)?"array":Object(C["a"])(e),'"')}];var t=[];for(var n in e)this.children[n]&&t.push.apply(t,Object(p["a"])(this.children[n].validate(e[n])));return t}}]),n}(qt),on=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r,a){var s;return Object(i["a"])(this,n),s=t.call(this,e,r,a),Object(o["a"])(Object(w["a"])(s),"rootSchema",void 0),s.rootSchema=new Kt(s.location,"propertyNames",a),s}return Object(a["a"])(n,[{key:"getSchemasFor",value:function(){return[]}},{key:"getCompletionItems",value:function(e){return this.rootSchema.getCompletionItems(e).filter((function(e){return"value"===e.type})).map((function(e){return{type:"object",label:"".concat(e.value),value:e.value}}))}},{key:"validate",value:function(){return[]}},{key:"isTrue",value:function(e){return this.rootSchema.isValid(e)}}]),n}(qt),sn=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r,a){var s;if(Object(i["a"])(this,n),s=t.call(this,e,r,a),Object(o["a"])(Object(w["a"])(s),"rootSchema",void 0),"string"!==typeof a)throw new Error('Invalid $ref type "'.concat(Object(C["a"])(a),'": ').concat(JSON.stringify(a)));if("#"===a){var c;s.rootSchema=null!==(c=bn.requestRootSchema(s.location))&&void 0!==c?c:new Kt(s.location,"$ref",bn.request(s.location))}else{var u,l,d=s.location.includes("#/")?Object(le["dirname"])(s.location.split("#/")[0]):Object(le["dirname"])(s.location);l=a.startsWith("/")?"file://".concat(a):Object(le["join"])(d,a).replace("file:/","file:///");var p=void 0;if(l.includes("#/")){var h=l.split("#/"),f=Object(he["a"])(h,2);l=f[0],p=f[1]}s.location=l,s.rootSchema=null!==(u=bn.requestRootSchema(p?"".concat(l,"#/").concat(p):l))&&void 0!==u?u:new Kt(p?"".concat(l,"#/").concat(p):l,"$ref",bn.request(s.location,p))}return s}return Object(a["a"])(n,[{key:"getCompletionItems",value:function(e){return this.rootSchema.getCompletionItems(e)}},{key:"validate",value:function(e){return this.rootSchema.validate(e)}},{key:"getSchemasFor",value:function(e,t){return this.rootSchema.getSchemasFor(e,Object(p["a"])(t))}}]),n}(qt),cn=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"getSchemasFor",value:function(){return[]}},{key:"getCompletionItems",value:function(){return[]}},{key:"validate",value:function(e){var t=Array.isArray(this.value)?this.value:[this.value];if("object"!==Object(C["a"])(e)||Array.isArray(e))return[{message:"Required properties missing: ".concat(t.join(", "))}];var n,r=Object(R["a"])(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(void 0===e[i]||null===e[i])return[{message:"Missing required property: ".concat(i)}]}}catch(a){r.e(a)}finally{r.f()}return[]}}]),n}(qt),un=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r,a){var s;return Object(i["a"])(this,n),s=t.call(this,e,r,a),Object(o["a"])(Object(w["a"])(s),"ifSchema",void 0),Object(o["a"])(Object(w["a"])(s),"rootSchema",void 0),s.rootSchema=new Kt(s.location,"then",a),s}return Object(a["a"])(n,[{key:"receiveIfSchema",value:function(e){this.ifSchema=e}},{key:"getSchemasFor",value:function(e,t){return this.ifSchema.isTrue(e)?this.rootSchema.getSchemasFor(e,Object(p["a"])(t)):[]}},{key:"getCompletionItems",value:function(e){return this.ifSchema.isTrue(e)?this.rootSchema.getCompletionItems(e):[]}},{key:"validate",value:function(e){return this.ifSchema.isTrue(e)?this.rootSchema.validate(e):[]}}]),n}(qt);function ln(e){return Array.isArray(e)?"array":Object(C["a"])(e)}var dn=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"values",get:function(){return Array.isArray(this.value)?this.value:[this.value]}},{key:"getSchemasFor",value:function(){return[]}},{key:"getCompletionItems",value:function(){var e=[];return this.values.includes("boolean")&&e.push.apply(e,Object(p["a"])(["true","false"].map((function(e){return{type:"value",label:"".concat(e),value:e}})))),e}},{key:"validate",value:function(e){var t=Array.isArray(this.value)?this.value:[this.value];return t.includes(ln(e))?[]:[{message:"Invalid type: Found ".concat(ln(e),"; expected ").concat(t.join(", "))}]}}]),n}(qt),pn=new Map([["$ref",sn],["allOf",Qt],["anyOf",Zt],["const",Yt],["enum",Xt],["if",en],["items",tn],["oneOf",nn],["patternProperties",rn],["properties",an],["propertyNames",on],["required",cn],["then",un],["type",dn]]),hn=new Set(["$schema","$id","description","title","definitions","additionalProperties","pattern","min","max","doNotSuggest","maxItems","minItems","deprecationMessage","examples","minimum","maximum","default"]);function fn(e,t,n){var r=0===e.length||"/"===e?[]:e.split("/");return vn(r,t,n)}function vn(e,t,n){if(void 0!==t){if(0===e.length)return n(t);if("object"===Object(C["a"])(t)){var r=e.shift();if("**"===r){while(e.length>0&&"*"===e[0])e.shift();var i=["**"].concat(Object(p["a"])(e)).join("/"),a=new Set;mn("",t,a);var o,s=Object(R["a"])(a);try{for(s.s();!(o=s.n()).done;){var c=o.value;Object(ge["isMatch"])(c,i)&&vn(c.split("/"),t,n)}}catch(f){s.e(f)}finally{s.f()}}else if(r.startsWith("*")){var u,l,d=void 0;for(var h in r.length>=1&&(d=new RegExp(null!==(u=null===(l=r.match(/(\*{)(.+)(})/))||void 0===l?void 0:l[2])&&void 0!==u?u:".*")),t)d&&null!==h.match(d)&&vn(Object(p["a"])(e),t[h],n)}else vn(e,t[r],n)}}}function mn(e,t,n){for(var r in t)n.add("".concat(e).concat(r)),"object"===Object(C["a"])(t[r])&&mn("".concat(e).concat(r,"/"),t[r],n)}var bn=function(){function e(){Object(i["a"])(this,e)}return Object(a["a"])(e,null,[{key:"setJSONDefaults",value:function(e){this.lib=e,this.rootSchemas.clear()}},{key:"request",value:function(e,t){var n,r,i=this.lib[e];return i?t?(fn(t,i.schema,(function(e){return r=e})),void 0===r&&console.error("Couldn't find hash ".concat(t," @ ").concat(e)),null!==(n=r)&&void 0!==n?n:{}):i.schema:(console.warn("Couldn't find schema for \"".concat(e,'"')),{})}},{key:"addRootSchema",value:function(e,t){return this.rootSchemas.set(e,t),t}},{key:"requestRootSchema",value:function(e){return this.rootSchemas.get(e)}},{key:"createSchemas",value:function(e,t){return"object"!==Object(C["a"])(t)?(console.warn('Unexpected schema type "'.concat(Object(C["a"])(t),'" @ ').concat(e)),[new Yt(e,"",t)]):Object.entries(t).map((function(t){var r=Object(he["a"])(t,2),i=r[0],a=r[1];if(void 0!==a){var o=pn.get(i);if(void 0!==o){var s=new o(e,i,a);if("if"===i)n=s;else if("then"===i){if(!n)return void console.warn('"then" schema without "if" @ '.concat(e));s.receiveIfSchema(n),n=void 0}return s}if(hn.has(i))return;console.warn("Schema field not implemented: <".concat(i,", ").concat(a,"> @ ").concat(e))}})).filter((function(e){return void 0!==e}));var n}}]),e}();Object(o["a"])(bn,"lib",{}),Object(o["a"])(bn,"rootSchemas",new Map);var gn=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r;return Object(i["a"])(this,n),r=t.call(this),Object(o["a"])(Object(w["a"])(r),"parent",void 0),Object(o["a"])(Object(w["a"])(r),"changed",new Jt["a"]),Object(o["a"])(Object(w["a"])(r),"undoStack",[]),Object(o["a"])(Object(w["a"])(r),"redoStack",[]),Object(o["a"])(Object(w["a"])(r),"lastUndoLength",0),r.parent=e,r}return Object(a["a"])(n,[{key:"length",get:function(){return this.undoStack.length}},{key:"updateHasChanges",value:function(){this.dispatch(this.undoStack.length!==this.lastUndoLength)}},{key:"saveState",value:function(){this.lastUndoLength=this.undoStack.length,this.updateHasChanges()}},{key:"undo",value:function(){var e=this,t=this.undoStack.pop();t&&(t.unselectTrees.forEach((function(t){return e.parent.removeSelectionOf(t)})),this.redoStack.push(t.undo()),this.updateHasChanges(),this.changed.dispatch())}},{key:"redo",value:function(){var e=this,t=this.redoStack.pop();t&&(t.unselectTrees.forEach((function(t){return e.parent.removeSelectionOf(t)})),this.undoStack.push(t.undo()),this.updateHasChanges(),this.changed.dispatch())}},{key:"push",value:function(e){this.undoStack.push(e),this.redoStack=[],this.updateHasChanges(),this.changed.dispatch()}},{key:"pushAll",value:function(e){0!==e.length&&(1===e.length?this.push(e[0]):this.push(new ze(e)))}}]),n}(Jt["a"]),yn=n("8dde"),wn=function(){function e(t,n){var a=this;Object(i["a"])(this,e),Object(o["a"])(this,"parent",void 0),Object(o["a"])(this,"json",void 0),Object(o["a"])(this,"propertySuggestions",[]),Object(o["a"])(this,"valueSuggestions",[]),Object(o["a"])(this,"tree",void 0),Object(o["a"])(this,"selections",[]),Object(o["a"])(this,"_keyBindings",void 0),Object(o["a"])(this,"_actions",void 0),Object(o["a"])(this,"history",new gn(this)),Object(o["a"])(this,"schemaRoot",void 0),Object(o["a"])(this,"selectionChange",new Jt["a"]),Object(o["a"])(this,"containerElement",void 0),Object(o["a"])(this,"scrollTop",0),Object(o["a"])(this,"updateSuggestions",Object(f["a"])((function(){var e,t,n;a.propertySuggestions=[],a.valueSuggestions=[];var r,i,o=null===(e=a.selections.find((function(e){var t=e.getTree().type;return"object"===t||"array"===t})))||void 0===e?void 0:e.getTree(),s=null===o||void 0===o?void 0:o.toJSON(),c=[];if(0===a.selections.length||o===a.tree)c=null!==(r=null===(i=a.schemaRoot)||void 0===i?void 0:i.getCompletionItems(s))&&void 0!==r?r:[];else if(o){var u,l,d=o.path,p=null!==(u=null===(l=a.schemaRoot)||void 0===l?void 0:l.getSchemasFor(a.tree.toJSON(),d))&&void 0!==u?u:[];p&&(c=p.filter((function(e){return void 0!==e})).map((function(e){return e.getCompletionItems(s)})).flat())}a.propertySuggestions=c.filter((function(e){return("object"===e.type||"array"===e.type)&&!(null!==o&&void 0!==o?o:a.tree).children.find((function(t){return"array"!==t.type&&t[0]===e.value}))})).concat(a.parent.app.project.snippetLoader.getSnippetsFor(a.parent.getFileType(),a.selections.map((function(e){return e.getLocation()}))).map((function(e){return{type:"snippet",label:e.displayData.name,value:e.insertData}}))),0!==(null!==(t=null===o||void 0===o||null===(n=o.children)||void 0===n?void 0:n.length)&&void 0!==t?t:1)&&"array"!==(null===o||void 0===o?void 0:o.type)||(a.valueSuggestions=c.filter((function(e){return"value"===e.type||"valueArray"===e.type})))}),50)),this.parent=t,this.json=n,this.tree=_t(null,n),this.setSelection(this.tree),this.history.on((function(e){a.parent.setIsUnsaved(e)})),this.history.changed.on((function(){a.propertySuggestions=[],a.valueSuggestions=[],a.parent.updateCache()})),il.getApp().then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.projectManager.projectReady.fired;case 2:a.parent.once((function(){t.project.jsonDefaults.isReady&&a.createSchemaRoot()})),t.project.jsonDefaults.on((function(){a.parent.hasFired&&a.createSchemaRoot()}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.selectionChange.on((function(){return a.updateSuggestions()}))}return Object(a["a"])(e,[{key:"keyBindings",get:function(){if(!this._keyBindings)throw new Error("Cannot access keyBindings before they were initialized.");return this._keyBindings}},{key:"actions",get:function(){if(!this._actions)throw new Error("Cannot access keyBindings before they were initialized.");return this._actions}},{key:"createSchemaRoot",value:function(){var e,t=null===(e=T["a"].get(this.parent.getProjectPath()))||void 0===e?void 0:e.schema;t&&(this.schemaRoot=bn.addRootSchema(t,new Kt(t,"$global",bn.request(t)))),this.updateSuggestions()}},{key:"receiveContainer",value:function(e){var t,n,r=this;null===(t=this._keyBindings)||void 0===t||t.dispose(),null===(n=this._actions)||void 0===n||n.dispose(),this._keyBindings=new Ut(e),this._actions=new Nt["a"](this._keyBindings),this.containerElement=e,this.actions.create({keyBinding:["DELETE","BACKSPACE"],prevent:function(e){return("INPUT"!==e.tagName||""!==e.value)&&("SUMMARY"!==e.tagName&&"DIV"!==e.tagName&&"SPAN"!==e.tagName)},onTrigger:function(){var e=[];r.forEachSelection((function(t){var n=t.getTree();if(n.getParent())if(t.dispose(),t instanceof Ft&&"object"===n.getParent().type){var i=new jt(n.getParent(),{});r.setSelection(i),n.replace(i),e.push(new Ke(n,i))}else{r.toggleSelection(n.getParent());var a=n.delete(),o=Object(he["a"])(a,2),s=o[0],c=o[1];e.push(new Ue(n,s,c))}})),r.history.pushAll(e)}}),this.actions.create({keyBinding:["ESCAPE"],onTrigger:function(){r.setSelection(r.tree)}}),this.actions.create({keyBinding:["CTRL + Z"],onTrigger:function(){r.history.undo()}}),this.actions.create({keyBinding:["CTRL + Y"],onTrigger:function(){r.history.redo()}})}},{key:"deactivate",value:function(){var e,t;null===(e=this._keyBindings)||void 0===e||e.dispose(),null===(t=this._actions)||void 0===t||t.dispose()}},{key:"activate",value:function(){this.containerElement&&(this.receiveContainer(this.containerElement),this.containerElement.children[0].scrollTop=this.scrollTop)}},{key:"saveState",value:function(){this.history.saveState()}},{key:"toJSON",value:function(){return this.tree.toJSON()}},{key:"forEachSelection",value:function(e){this.selections.forEach(e)}},{key:"removeSelection",value:function(e){this.selections=this.selections.filter((function(t){return e!==t})),this.selectionChange.dispatch()}},{key:"removeSelectionOf",value:function(e){this.selections=this.selections.filter((function(t){var n=t.getTree();return n!==e&&(e instanceof Pt||!e.hasChild(n))||(t.dispose(!1),!1)})),this.selectionChange.dispatch()}},{key:"setSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.selections.forEach((function(e){return e.dispose(!1)})),this.selections=[t&&e instanceof Pt?new Ft(this,e):new Tt(this,e)],this.selectionChange.dispatch()}},{key:"toggleSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;this.selections=this.selections.filter((function(r){return r.getTree()!==e||r instanceof Ft!==t||(r.dispose(!1),n=!0,!1)})),n||this.selections.push(t&&e instanceof Pt?new Ft(this,e):new Tt(this,e)),this.selectionChange.dispatch()}},{key:"addKey",value:function(e,t){var n=[];this.forEachSelection((function(r){r instanceof Ft||n.push(r.addKey(e,t))})),this.history.pushAll(n)}},{key:"addValue",value:function(e,t){var n=e;Number.isNaN(Number(e))?"null"===e?n=null:"true"!==e&&"false"!==e||(n="true"===e):n=Number(e);var r=[];this.forEachSelection((function(e){if(!(e instanceof Ft)){var i=e.addValue(n,t);i&&r.push(i)}})),this.history.pushAll(r)}},{key:"addFromJSON",value:function(e){if("object"===Object(C["a"])(e)){var t=[];this.forEachSelection((function(n){if(!(n instanceof Ft)){var r=n.getTree(),i=r.children.length;for(var a in e){var o=_t(r,e[a]);r instanceof jt?r.addChild(a,o):r.addChild(o),t.push(new Je(o,i,r instanceof jt?a:void 0))}}})),this.history.pushAll(t)}}},{key:"edit",value:function(e){var t=[];this.forEachSelection((function(n){var r=n.edit(e);r&&t.push(r)})),this.history.pushAll(t)}},{key:"delete",value:function(e){this.removeSelectionOf(e);var t=e.delete(),n=Object(he["a"])(t,2),r=n[0],i=n[1];this.history.push(new Ue(e,r,i))}},{key:"objectValueDeletion",value:function(e){this.removeSelectionOf(e);var t=new jt(e.getParent(),{});e.replace(t),this.history.push(new Ke(e,t))}},{key:"onPasteMenu",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tree,r=[{name:"actions.paste.name",icon:"mdi-content-paste",onTrigger:function(){t.setSelection(n),t.parent.paste()}}];return e&&!this.parent.isReadOnly&&Object(yn["a"])(e,r),r}},{key:"onReadOnlyMenu",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tree,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=[{name:"actions.documentationLookup.name",icon:"mdi-book-open-outline",onTrigger:function(){var e=r?n.key:n.value;"string"===typeof e&&_e(t.parent.getProjectPath(),e)}},{name:"actions.copy.name",icon:"mdi-content-copy",onTrigger:function(){t.setSelection(n,!r),t.parent.copy()}}];return e&&Object(yn["a"])(e,i),i}},{key:"onContextMenu",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.parent.isReadOnly)return this.onReadOnlyMenu(e,t,r);var i=this.onReadOnlyMenu(void 0,t,r),a=Object(he["a"])(i,2),o=a[0],s=a[1],c=[o];t instanceof Pt?c.push({name:"general.delete",icon:"mdi-delete-outline",onTrigger:function(){"object"!==t.getParent().type||r?n.delete(t):n.objectValueDeletion(t)}}):c.push({name:"general.delete",icon:"mdi-delete-outline",onTrigger:function(){n.delete(t)}}),c.push.apply(c,[s,{name:"actions.cut.name",icon:"mdi-content-cut",onTrigger:function(){n.setSelection(t,!r),n.parent.cut()}}].concat(Object(p["a"])(t instanceof Pt?[]:this.onPasteMenu(void 0,t)))),t instanceof Pt||0!==t.children.length||c.push({name:t instanceof At?"actions.toObject.name":"actions.toArray.name",icon:t instanceof At?"mdi-code-braces-box":"mdi-code-array",onTrigger:function(){if(n.removeSelectionOf(t),t instanceof At){var e=new jt(t.getParent(),{});t.replace(e),n.history.push(new Ke(t,e))}else{var r=new At(t.getParent(),[]);t.replace(r),n.history.push(new Ke(t,r))}}}),Object(yn["a"])(e,c)}}]),e}(),jn=n("5e48"),kn=n.n(jn),xn=Object(f["a"])(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=JSON.stringify(t.treeEditor.toJSON()),e.next=3,il.getApp();case 3:return r=e.sent,e.next=6,r.project.packIndexer.updateFile(t.getProjectPath(),n);case 6:return e.next=8,r.project.jsonDefaults.updateDynamicSchemas(t.getProjectPath());case 8:return e.t0=r.project.fileChange,e.t1=t.getProjectPath(),e.next=12,t.getFile();case 12:e.t2=e.sent,e.t0.dispatch.call(e.t0,e.t1,e.t2);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),600),On=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,a){var s,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(i["a"])(this,n),s=t.call(this,e,a,c),Object(o["a"])(Object(w["a"])(s),"component",Bt),Object(o["a"])(Object(w["a"])(s),"_treeEditor",void 0),s.fired.then(Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return t=e.sent,e.next=5,t.projectManager.projectReady.fired;case 5:t.project.tabActionProvider.addTabActions(Object(w["a"])(s));case 6:case"end":return e.stop()}}),e)})))),s}return Object(a["a"])(n,[{key:"app",get:function(){return this.parent.app}},{key:"treeEditor",get:function(){if(!this._treeEditor)throw new Error("Trying to access TreeEditor before it was setup.");return this._treeEditor}},{key:"setup",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=kn.a,e.next=4,this.fileHandle.getFile().then((function(e){return e.text()}));case 4:e.t1=e.sent,t=e.t0.parse.call(e.t0,e.t1),e.next=13;break;case 8:return e.prev=8,e.t2=e["catch"](0),new s["a"]({name:"windows.invalidJson.title",description:"windows.invalidJson.description"}),this.close(),e.abrupt("return");case 13:return this._treeEditor=new wn(this,t),e.next=16,Object(j["a"])(Object(k["a"])(n.prototype),"setup",this).call(this);case 16:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getFile",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new File([JSON.stringify(this.treeEditor.toJSON())],this.name));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateCache",value:function(){xn(this)}},{key:"onActivate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.treeEditor.activate();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onDeactivate",value:function(){var e;null===(e=this._treeEditor)||void 0===e||e.deactivate()}},{key:"onDestroy",value:function(){}},{key:"updateParent",value:function(e){}},{key:"focus",value:function(){}},{key:"loadEditor",value:function(){}},{key:"save",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return t=e.sent,n=JSON.stringify(this.treeEditor.toJSON(),null,"\t"),e.next=6,t.fileSystem.write(this.fileHandle,n);case 6:this.treeEditor.saveState();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"paste",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isReadOnly){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,navigator.clipboard.readText();case 4:t=e.sent,n=void 0,e.prev=6,n=kn.a.parse(t),e.next=19;break;case 10:e.prev=10,e.t0=e["catch"](6),e.prev=12,n=kn.a.parse("{".concat(t,"}")),e.next=19;break;case 16:return e.prev=16,e.t1=e["catch"](12),e.abrupt("return");case 19:if(void 0!==n){e.next=21;break}return e.abrupt("return");case 21:this.treeEditor.addFromJSON(n);case 22:case"end":return e.stop()}}),e,this,[[6,10],[12,16]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"copy",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t="",this.treeEditor.forEachSelection((function(e){var n=e.getTree();e instanceof Ft?n.isValueSelected?t+=n.toJSON():t+=n.key:t+='"'.concat(n.key,'": ').concat(JSON.stringify(e.getTree().toJSON(),null,"\t"))})),""===t){e.next=5;break}return e.next=5,navigator.clipboard.writeText(t);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cut",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isReadOnly){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.copy();case 4:this.treeEditor.forEachSelection((function(e){return t.treeEditor.delete(e.getTree())}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}],[{key:"is",value:function(e){var t;return"treeEditor"===(null===N["b"]||void 0===N["b"]||null===(t=N["b"].editor)||void 0===t?void 0:t.jsonEditor)&&e.name.endsWith(".json")}}]),n}(F),Sn=function(){function e(){Object(i["a"])(this,e)}return Object(a["a"])(e,null,[{key:"tabs",get:function(){return Object(p["a"])(this._tabs).reverse()}},{key:"register",value:function(e){var t=this;return this._tabs.add(e),{dispose:function(){return t._tabs.delete(e)}}}}]),e}();Object(o["a"])(Sn,"_tabs",new Set([z,On,Ne]));var Cn=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(i["a"])(this,n),r=t.call(this,e.app),Object(o["a"])(Object(w["a"])(r),"project",void 0),Object(o["a"])(Object(w["a"])(r),"uuid",Object(A["a"])()),Object(o["a"])(Object(w["a"])(r),"tabs",[]),Object(o["a"])(Object(w["a"])(r),"_selectedTab",void 0),Object(o["a"])(Object(w["a"])(r),"_isActive",!0),Object(o["a"])(Object(w["a"])(r),"openedFiles",void 0),r.project=e,r.openedFiles=new pe(Object(w["a"])(r),e.app,"projects/".concat(e.name,"/.bridge/openedFiles_").concat(a,".json")),r}return Object(a["a"])(n,[{key:"tabTypes",get:function(){return Sn.tabs}},{key:"isActive",get:function(){return this._isActive}},{key:"shouldRender",get:function(){return this.tabs.length>0}},{key:"app",get:function(){return this._app}},{key:"isSharingScreen",get:function(){var e=this,t=this.project.tabSystems.find((function(t){return t!==e}));return null===t||void 0===t?void 0:t.shouldRender}},{key:"hasUnsavedTabs",get:function(){return this.tabs.some((function(e){return e.isUnsaved}))}},{key:"selectedTab",get:function(){return this._selectedTab}},{key:"currentComponent",get:function(){var e,t;return null!==(e=null===(t=this._selectedTab)||void 0===t?void 0:t.component)&&void 0!==e?e:P["a"]}},{key:"projectRoot",get:function(){return this.project.baseDirectory}},{key:"projectName",get:function(){return this.project.name}},{key:"open",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=!(c.length>1&&void 0!==c[1])||c[1],r=c.length>2&&void 0!==c[2]&&c[2],i=Object(R["a"])(this.tabs),e.prev=3,i.s();case 5:if((a=i.n()).done){e.next=13;break}return o=a.value,e.next=9,o.isFor(t);case 9:if(!e.sent){e.next=11;break}return e.abrupt("return",n?o.select():o);case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](3),i.e(e.t0);case 18:return e.prev=18,i.f(),e.finish(18);case 21:return e.next=23,this.getTabFor(t,r);case 23:return s=e.sent,e.next=26,this.add(s,n);case 26:return e.abrupt("return",s);case 27:case"end":return e.stop()}}),e,this,[[3,15,18,21]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openPath",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=!(i.length>1&&void 0!==i[1])||i[1],e.next=3,this.project.app.fileSystem.getFileHandle(t);case 3:return r=e.sent,e.next=6,this.open(r,n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTabFor",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=s.length>1&&void 0!==s[1]&&s[1],r=void 0,i=Object(R["a"])(this.tabTypes),e.prev=3,i.s();case 5:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=9,o.is(t);case 9:if(!e.sent){e.next=12;break}return r=new o(this,t,n),e.abrupt("break",14);case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](3),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:return r||(r=new z(this,t,n)),e.next=25,r.fired;case 25:return e.abrupt("return",e.sent);case 26:case"end":return e.stop()}}),e,this,[[3,16,19,22]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"add",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=!(r.length>1&&void 0!==r[1])||r[1],t.hasFired){e.next=4;break}return e.next=4,t.fired;case 4:if(this.tabs=[].concat(Object(p["a"])(this.tabs),[t]),t.isForeignFile||t instanceof F&&t.isReadOnly){e.next=8;break}return e.next=8,this.openedFiles.add(t.getPath());case 8:return n&&t.select(),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.onDeactivate();var n=this.tabs.findIndex((function(t){return t===e}));if(-1!==n)return this.tabs.splice(n,1),t&&e.onDestroy(),e===this._selectedTab&&this.select(this.tabs[0===n?0:n-1]),e.isForeignFile||this.openedFiles.remove(e.getPath()),e}},{key:"close",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:this.selectedTab,n=!(i.length>1&&void 0!==i[1])||i[1],t){e.next=4;break}return e.abrupt("return",!1);case 4:if(!n||!t.isUnsaved){e.next=12;break}return r=new se(t),e.next=8,r.fired;case 8:return e.t0=e.sent,e.abrupt("return","cancel"!==e.t0);case 12:return this.remove(t),e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"closeTabWithHandle",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getTab(t);case 2:n=e.sent,n&&this.close(n);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"select",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isActive!==!!t&&this.setActive(!!t),null===t||void 0===t||!t.isSelected){e.next=3;break}return e.abrupt("return");case 3:if(null===(n=this._selectedTab)||void 0===n||n.onDeactivate(),t&&t!==this._selectedTab&&t instanceof F&&il.eventSystem.dispatch("currentTabSwitched",t),this._selectedTab=t,t){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,null===(i=this._selectedTab)||void 0===i?void 0:i.onActivate();case 10:U["default"].nextTick(Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null===(t=a._monacoEditor)||void 0===t||t.layout();case 1:case"end":return e.stop()}}),e)}))));case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:this.selectedTab,t&&!(t instanceof F&&t.isReadOnly)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,il.getApp();case 5:if(n=e.sent,n.windows.loadingWindow.open(),r=this.selectedTab===t,i=this.selectedTab,i===t){e.next=12;break}return e.next=12,this.select(t);case 12:if(!(t instanceof F)){e.next=15;break}return e.next=15,t.save();case 15:if(i===t){e.next=18;break}return e.next=18,this.select(i);case 18:if(t.isForeignFile||!(t instanceof F)){e.next=30;break}return e.next=21,this.project.updateFile(t.getProjectPath());case 21:return e.next=23,this.project.recentFiles.add({path:t.getPath(),name:t.name,color:t.iconColor,icon:t.icon});case 23:return e.t0=this.project.fileSave,e.t1=t.getProjectPath(),e.next=27,t.getFile();case 27:e.t2=e.sent,e.t0.dispatch.call(e.t0,e.t1,e.t2),r&&il.eventSystem.dispatch("refreshCurrentContext",t.getProjectPath());case 30:n.windows.loadingWindow.close(),t.focus();case 32:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"saveAs",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.selectedTab instanceof F)){e.next=3;break}return e.next=3,this.selectedTab.saveAs();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"saveAll",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:t=e.sent,t.windows.loadingWindow.open(),n=Object(R["a"])(this.tabs),e.prev=5,n.s();case 7:if((r=n.n()).done){e.next=14;break}if(i=r.value,!i.isUnsaved){e.next=12;break}return e.next=12,this.save(i);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](5),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:t.windows.loadingWindow.close();case 23:case"end":return e.stop()}}),e,this,[[5,16,19,22]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"activate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.openedFiles.ready.fired;case 2:return this.tabs.length>0&&this.setActive(!0),!this.selectedTab&&this.tabs.length>0&&this.tabs[0].select(),e.next=6,null===(t=this.selectedTab)||void 0===t?void 0:t.onActivate();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"deactivate",value:function(){var e;null===(e=this.selectedTab)||void 0===e||e.onDeactivate(),this.dispose()}},{key:"setActive",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.project.setActiveTabSystem(this,!e),e!==this._isActive&&(this._isActive=e,e&&this._selectedTab instanceof F&&il.eventSystem.dispatch("currentTabSwitched",this._selectedTab))}},{key:"getTab",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Object(R["a"])(this.tabs),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=11;break}return i=r.value,e.next=7,i.isFor(t);case 7:if(!e.sent){e.next=9;break}return e.abrupt("return",i);case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](1),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"closeTabs",value:function(e){var t,n=Object(p["a"])(this.tabs).reverse(),r=Object(R["a"])(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;e(i)&&i.close()}}catch(a){r.e(a)}finally{r.f()}}},{key:"has",value:function(e){var t,n=Object(R["a"])(this.tabs);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return!0}}catch(i){n.e(i)}finally{n.f()}return!0}}]),n}(Te),Rn=n("15fd"),Pn=function(){function e(t){Object(i["a"])(this,e),Object(o["a"])(this,"fileSystem",void 0),Object(o["a"])(this,"data",{}),this.fileSystem=t}return Object(a["a"])(e,[{key:"setup",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fileSystem.fileExists(".bridge/config.json");case 2:if(!e.sent){e.next=22;break}return e.next=5,this.fileSystem.readJSON(".bridge/config.json");case 5:return t=e.sent,n=t.darkTheme,r=t.lightTheme,i=t.gameTestAPI,a=t.scriptingAPI,o=t.prefix,s=Object(Rn["a"])(t,["darkTheme","lightTheme","gameTestAPI","scriptingAPI","prefix"]),e.next=14,this.fileSystem.unlink(".bridge/config.json");case 14:return c=[],i&&c.push("gameTestAPI"),a&&c.push("scriptingAPI"),u=Object(S["a"])(Object(S["a"])({type:"minecraftBedrock",name:this.fileSystem.baseDirectory.name,namespace:o},s),{},{capabilities:c,packs:{behaviorPack:"./BP",resourcePack:"./RP",skinPack:"./SP",worldTemplate:"./WT"},bridge:{darkTheme:n,lightTheme:r}}),e.next=20,this.fileSystem.writeJSON("config.json",u,!0);case 20:return this.data=u,e.abrupt("return");case 22:return e.prev=22,e.next=25,this.fileSystem.readJSON("config.json");case 25:this.data=e.sent,e.next=31;break;case 28:e.prev=28,e.t0=e["catch"](22),this.data={};case 31:case"end":return e.stop()}}),e,this,[[22,28]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"get",value:function(){return this.data}},{key:"save",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fileSystem.writeJSON("config.json",this.data,!0);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),_n=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r){return Object(i["a"])(this,n),t.call(this,e,5,r)}return Object(a["a"])(n,[{key:"isEquals",value:function(e,t){return e.path===t.path}},{key:"removeFile",value:function(e){return this.remove({icon:"",name:"",path:e})}}]),n}(de);function An(e,t){return Tn.apply(this,arguments)}function Tn(){return Tn=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe("".concat(t,"/BP/pack_icon.png"),n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0);case 8:return e.prev=8,e.next=11,Fe("".concat(t,"/RP/pack_icon.png"),n);case 11:return e.abrupt("return",e.sent);case 14:e.prev=14,e.t1=e["catch"](8);case 16:return e.prev=16,e.next=19,Fe("".concat(t,"/SP/pack_icon.png"),n);case 19:return e.abrupt("return",e.sent);case 22:e.prev=22,e.t2=e["catch"](16);case 24:case"end":return e.stop()}}),e,null,[[0,6],[8,14],[16,22]])}))),Tn.apply(this,arguments)}var Fn=n("9a02"),En=n("6396");function Dn(e,t,n){return Mn.apply(this,arguments)}function Mn(){return Mn=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s,c,u,l,d,p,h,f,v,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s="projects/".concat(n,"/").concat(r,"/manifest.json"),e.next=3,t.fileSystem.readJSON(s);case 3:if(c=e.sent,u=null===(i=c)||void 0===i||null===(a=i.metadata)||void 0===a||null===(o=a.generated_with)||void 0===o?void 0:o.bridge,l=!1,u?u.includes(En["a"])||(u.push(En["a"]),l=!0):(c=Object(S["a"])(Object(S["a"])({},null!==(d=c)&&void 0!==d?d:{}),{},{metadata:Object(S["a"])(Object(S["a"])({},null!==(p=null===(h=c)||void 0===h?void 0:h.metadata)&&void 0!==p?p:{}),{},{generated_with:Object(S["a"])(Object(S["a"])({},null!==(f=null===(v=c)||void 0===v||null===(m=v.metadata)||void 0===m?void 0:m.generated_with)&&void 0!==f?f:{}),{},{bridge:[En["a"]]})})}),l=!0),!l){e.next=10;break}return e.next=10,t.fileSystem.writeJSON(s,c,!0);case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)}))),Mn.apply(this,arguments)}function In(e,t){return Wn.apply(this,arguments)}function Wn(){return Wn=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s,c,u,l,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Fn["a"].ready.fired;case 2:return e.next=4,t.fileSystem.readdir("projects/".concat(n),{withFileTypes:!0});case 4:r=e.sent,i=[],a=Object(R["a"])(r),e.prev=7,a.s();case 9:if((o=a.n()).done){e.next=28;break}if(l=o.value,"directory"===l.kind){e.next=13;break}return e.abrupt("continue",26);case 13:if(d=Fn["a"].get("projects/".concat(n,"/").concat(l.name)),d){e.next=16;break}return e.abrupt("continue",26);case 16:return p={},e.prev=17,e.next=20,Dn(t,n,l.name);case 20:p=e.sent,e.next=25;break;case 23:e.prev=23,e.t0=e["catch"](17);case 25:i.push(Object(S["a"])(Object(S["a"])({},d),{},{version:null!==(s=null===(c=p)||void 0===c||null===(u=c.header)||void 0===u?void 0:u.version)&&void 0!==s?s:[1,0,0]}));case 26:e.next=9;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e["catch"](7),a.e(e.t1);case 33:return e.prev=33,a.f(),e.finish(33);case 36:return e.abrupt("return",i);case 37:case"end":return e.stop()}}),e,null,[[7,30,33,36],[17,23]])}))),Wn.apply(this,arguments)}var Vn=n("56cb"),Bn=n("436f"),Nn=n("668b"),Ln=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseWindow",{attrs:{windowTitle:e.title,isVisible:e.isVisible,hasCloseButton:!e.opts.isPersistent,hasMaximizeButton:!1,percentageWidth:50,maxPercentageHeight:80,isPersistent:e.opts.isPersistent,heightUnset:""},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"default",fn:function(){return[e.currentWindow.topPanel?n("InfoPanel",{staticClass:"mb-2",attrs:{infoPanel:e.currentWindow.topPanel}}):e._e(),e._l(e.$data._actionManager.state,(function(t,r){return n("ActionViewer",{directives:[{name:"ripple",rawName:"v-ripple"}],key:r,staticStyle:{cursor:"pointer"},attrs:{action:t,hideTriggerButton:!0},nativeOn:{click:function(n){return e.onClick(t)}}})}))]},proxy:!0}])})},$n=[],Hn=n("a50c"),zn=n("def5"),Un={name:"InformedChoiceWindow",mixins:[G["a"]],components:{BaseWindow:K["a"],ActionViewer:Hn["a"],InfoPanel:zn["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()},onClick:function(e){e.trigger(),this.currentWindow.close()}}},Jn=Un,qn=n("269a"),Gn=n.n(qn),Kn=n("5607"),Qn=Object(W["a"])(Jn,Ln,$n,!1,null,null,null),Zn=Qn.exports;Gn()(Qn,{Ripple:Kn["a"]});var Yn=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i["a"])(this,n),r=t.call(this,Zn,!0),Object(o["a"])(Object(w["a"])(r),"title",void 0),Object(o["a"])(Object(w["a"])(r),"opts",void 0),Object(o["a"])(Object(w["a"])(r),"_actionManager",void 0),Object(o["a"])(Object(w["a"])(r),"_ready",new $["a"]),Object(o["a"])(Object(w["a"])(r),"topPanel",void 0),r.title=e,r.opts=a,r.setup(),r}return Object(a["a"])(n,[{key:"actionManager",get:function(){var e=this;return new Promise((function(t){return e._ready.once(t)}))}},{key:"setup",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this._actionManager=new Nt["a"],this._ready.dispatch(this._actionManager),this.defineWindow(),this.open();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"open",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return il.audioManager.playAudio("click5.ogg",1),e.next=3,this.actionManager;case 3:Object(j["a"])(Object(k["a"])(n.prototype),"open",this).call(this);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"dispose",value:function(){Object(j["a"])(Object(k["a"])(n.prototype),"dispose",this).call(this),this._actionManager.dispose()}}]),n}(ae["a"]),Xn=n("3897");function er(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.concat(t);if(Array.isArray(e))return e.concat([t]);if(Array.isArray(t))return t.concat([e]);if("object"!==Object(C["a"])(t))return t;var n={};for(var r in e)void 0===t[r]?n[r]=e[r]:n[r]=er(e[r],t[r]);for(var i in t)void 0===e[i]&&(n[i]=t[i]);return n}function tr(e){for(var t=e[0],n=1;n<e.length;n++)t=er(t,e[n]);return t}var nr=n("7ade"),rr=n("3139"),ir=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r;return Object(i["a"])(this,n),r=t.call(this),Object(o["a"])(Object(w["a"])(r),"project",void 0),Object(o["a"])(Object(w["a"])(r),"compilers",new Map),r.project=e,r}return Object(a["a"])(n,[{key:"start",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],e.next=3,il.getApp();case 3:return i=e.sent,e.next=6,i.extensionLoader.fired;case 6:return e.next=8,i.comMojang.fired;case 8:return e.next=10,this.project.fileSystem.fileExists(".bridge/.restartDevServer");case 10:if(!e.sent){e.next=14;break}return r=!0,e.next=14,this.project.fileSystem.unlink(".bridge/.restartDevServer");case 14:if(a=this.compilers.get(t),!a){e.next=17;break}return e.abrupt("return",a.activate({mode:n,restartDevServer:r}));case 17:return a=new Xn["a"](this,this.project,t),this.compilers.set(t,a),e.next=21,a.activate({mode:n,restartDevServer:r});case 21:this.dispatch();case 22:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"current",get:function(){var e=this.compilers.get("default.json");if(!e)throw new Error("Cannot get current compiler");return e}},{key:"updateFiles",value:function(e,t){var n=this.compilers.get(e);if(!n)throw new Error('Cannot update file because compiler for config ".bridge/compiler/'.concat(e,"\" doesn't exist"));return n.updateFiles(t)}},{key:"unlink",value:function(e){var t=this.compilers.get("default.json");if(!t)throw new Error('Cannot update file because compiler for config ".bridge/compiler/default.json" doesn\'t exist');return t.unlink(e)}},{key:"compileWithFile",value:function(e,t){var n=this.compilers.get("default.json");if(!n)throw new Error('Cannot update file because compiler for config ".bridge/compiler/default.json" doesn\'t exist');return n.compileWithFile(e,t)}},{key:"remove",value:function(e){this.compilers.delete(e)}},{key:"deactivate",value:function(){this.compilers.forEach((function(e){return e.deactivate()}))}},{key:"dispose",value:function(){this.compilers.forEach((function(e){return e.dispose()}))}},{key:"getCompilerPlugins",value:function(){return tr(this.project.app.extensionLoader.mapActive((function(e){return e.compilerPlugins})))}},{key:"openWindow",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,o,s,c,u,p,h,f,v,m,b,g,y=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.project.app.comMojang,n=t.status,r=n.hasComMojang,a=n.didDenyPermission,e.next=4,this.project.fileSystem.getDirectoryHandle(".bridge/compiler",{create:!0});case 4:return o=e.sent,s=new(function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e,o;if(Object(i["a"])(this,n),e=t.call(this,"sidebar.compiler.name"),rr["a"])o={text:"comMojang.status.notAvailable",type:"error",isDismissible:!1};else if(!r&&a)o={text:"comMojang.status.deniedPermission",type:"warning",isDismissible:!1};else if(r&&!a)o={text:"comMojang.status.sucess",type:"success",isDismissible:!1};else{if(r)throw new Error("Invalid com.mojang status");o={text:"comMojang.status.notSetup",type:"error",isDismissible:!1}}return e.topPanel=new nr["a"](o),e}return n}(Yn)),e.next=8,s.actionManager;case 8:c=e.sent,u=!0,p=!1,e.prev=11,f=regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=b,"file"===t.kind&&".DS_Store"!==t.name){e.next=3;break}return e.abrupt("return","continue");case 3:return e.next=5,t.getFile();case 5:return n=e.sent,r=void 0,e.prev=7,e.t0=kn.a,e.next=11,n.text();case 11:e.t1=e.sent,r=e.t0.parse.call(e.t0,e.t1),e.next=18;break;case 15:return e.prev=15,e.t2=e["catch"](7),e.abrupt("return","continue");case 18:c.create({icon:r.icon,name:r.name,description:r.description,onTrigger:function(){return y.start(t.name,"build")}});case 19:case"end":return e.stop()}}),e,null,[[7,15]])})),v=Object(Nn["a"])(o.values());case 14:return e.next=16,v.next();case 16:return m=e.sent,u=m.done,e.next=20,m.value;case 20:if(b=e.sent,u){e.next=29;break}return e.delegateYield(f(),"t0",23);case 23:if(g=e.t0,"continue"!==g){e.next=26;break}return e.abrupt("continue",26);case 26:u=!0,e.next=14;break;case 29:e.next=35;break;case 31:e.prev=31,e.t1=e["catch"](11),p=!0,h=e.t1;case 35:if(e.prev=35,e.prev=36,u||null==v.return){e.next=40;break}return e.next=40,v.return();case 40:if(e.prev=40,!p){e.next=43;break}throw h;case 43:return e.finish(40);case 44:return e.finish(35);case 45:case"end":return e.stop()}}),e,this,[[11,31,35,45],[36,,40,44]])})));function t(){return e.apply(this,arguments)}return t}()}]),n}($["a"]),ar=function(e,t){return{register:function(n){var r;(null!==(r=n.type)&&void 0!==r?r:"entity")===t&&(e.exports=function(e){var r=e.name,i=e.schema,a=e.template,o=new n;r(n.component_name),i(or(Object.values(o.onPropose())[0])),a((function(e,n){var r=n.create;r(o.onApply(e,"components")["minecraft:".concat(t)])}))})}}};function or(e){var t={},n=Object.keys(e);if(1===n.length&&n[0].startsWith("$dynamic.list."))return{type:"array",items:or(Object.values(e)[0])};for(var r=0,i=Object.entries(e);r<i.length;r++){var a=Object(he["a"])(i[r],2),o=a[0],s=a[1];o.startsWith("$")||("string"===typeof s?t[o]=sr(s):Array.isArray(s)?t[o]={enum:s}:"object"===s&&(t[o]=or(s)))}return{type:"object",properties:t}}function sr(e){switch(e){case"$general.boolean":return{type:"boolean"};case"$general.number":return{type:"integer"};case"$general.decimal":return{type:"number"};default:return{type:["number","integer","string","boolean","object","array"]}}}n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7");var cr=n("f0b9");n("a630");function ur(e){return Array.from(e).map((function(e){return("00"+e.toString(16)).slice(-2)})).join("")}var lr=Object(cr["a"])()?{encode:function(){}}:new TextEncoder;function dr(e){return pr.apply(this,arguments)}function pr(){return pr=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=lr.encode(t),n){e.next=3;break}return e.abrupt("return","");case 3:return e.next=5,hr(n);case 5:return r=e.sent,e.abrupt("return",ur(r));case 7:case"end":return e.stop()}}),e)}))),pr.apply(this,arguments)}function hr(e){return fr.apply(this,arguments)}function fr(){return fr=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,crypto.subtle.digest("sha-1",t);case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}}),e)}))),fr.apply(this,arguments)}var vr=function(){function e(t,n,r,a){Object(i["a"])(this,e),Object(o["a"])(this,"fileType",void 0),Object(o["a"])(this,"componentSrc",void 0),Object(o["a"])(this,"mode",void 0),Object(o["a"])(this,"v1Compat",void 0),Object(o["a"])(this,"_name",void 0),Object(o["a"])(this,"schema",void 0),Object(o["a"])(this,"template",void 0),Object(o["a"])(this,"animations",[]),Object(o["a"])(this,"animationControllers",[]),Object(o["a"])(this,"createOnPlayer",[]),this.fileType=t,this.componentSrc=n,this.mode=r,this.v1Compat=a}return Object(a["a"])(e,[{key:"name",get:function(){return this._name}},{key:"load",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n={exports:{}};try{je({script:this.componentSrc,env:{module:n,defineComponent:function(e){return e},Bridge:this.v1Compat?ar(n,this.fileType):void 0}})}catch(s){console.error(s)}if("function"===typeof n.exports){e.next=4;break}return e.abrupt("return",!1);case 4:return r=function(e){return o._name=e},i=function(e){return o.schema=e},a=function(){},t&&"server"!==t||(i=function(){},a=function(e){o.template=function(t,n){try{e(t,n)}catch(s){console.error(s)}}}),e.next=10,n.exports({name:r,schema:i,template:a});case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reset",value:function(){this.animations=[],this.animationControllers=[]}},{key:"getSchema",value:function(){return this.schema}},{key:"toString",value:function(){return this.componentSrc}},{key:"create",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"minecraft:".concat(this.fileType),i=r.split("/"),a=e;while(i.length>1){var o=i.shift();void 0===a[o]?void 0!==a[Number(o)]?a=a[Number(o)]:(a[o]={},a=a[o]):a=a[o]}a[i[0]]=er(null!==(n=a[i[0]])&&void 0!==n?n:{},null!==t&&void 0!==t?t:{})}},{key:"processTemplates",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s,c,u,l,d=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"===typeof this.template){e.next=2;break}return e.abrupt("return");case 2:return s=null!==(i=null===(a=t["minecraft:".concat(this.fileType)])||void 0===a||null===(o=a.description)||void 0===o?void 0:o.identifier)&&void 0!==i?i:"bridge:no_identifier",e.next=5,dr("".concat(this.name,"/").concat(s));case 5:c=e.sent,u=function(e,t){return d.animations.push([e,t]),d.getShortAnimName("a",c,d.animations.length-1)},l=function(e,t){return d.animationControllers.push([e,t]),d.getShortAnimName("ac",c,d.animationControllers.length-1)},"entity"===this.fileType?this.template(null!==n&&void 0!==n?n:{},{mode:this.mode,create:function(e,n){return d.create(t,e,n)},location:r,identifier:s,animationController:l,animation:u}):"item"===this.fileType?this.template(null!==n&&void 0!==n?n:{},{mode:this.mode,create:function(e,n){return d.create(t,e,n)},location:r,identifier:s,player:{animationController:l,animation:u,create:function(e,t){return d.createOnPlayer.push([null!==t&&void 0!==t?t:"minecraft:player",e])}}}):"block"===this.fileType&&this.template(null!==n&&void 0!==n?n:{},{mode:this.mode,create:function(e,n){return d.create(t,e,n)},location:r,identifier:s});case 9:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"processAnimations",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,s,c,u,l,d=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=null!==(n=null===(r=t["minecraft:".concat(this.fileType)])||void 0===r||null===(i=r.description)||void 0===i?void 0:i.identifier)&&void 0!==n?n:"bridge:no_identifier",e.next=3,dr("".concat(this.name,"/").concat(s));case 3:return c=e.sent,u="BP/animations/bridge/".concat(c,".json"),l="BP/animation_controllers/bridge/".concat(c,".json"),this.createOnPlayer.forEach((function(e){var n=Object(he["a"])(e,2),r=n[0],i=n[1];d.create(t,i,r)})),e.abrupt("return",(a={},Object(o["a"])(a,u,this.createAnimations(c,t)),Object(o["a"])(a,l,this.createAnimationControllers(c,t)),a));case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createAnimations",value:function(e,t){if(0!==this.animations.length){var n,r=0,i={format_version:"1.10.0",animations:{}},a=Object(R["a"])(this.animations);try{for(a.s();!(n=a.n()).done;){var s=Object(he["a"])(n.value,2),c=s[0],u=s[1];if(c){var l=this.getAnimName("animation",e,r),d=this.getShortAnimName("a",e,r);i.animations[l]=c,this.create(t,{animations:Object(o["a"])({},d,l)},"minecraft:entity/description"),!1!==u&&this.create(t,{scripts:{animate:[u?Object(o["a"])({},d,u):d]}},"minecraft:entity/description"),r++}else r++}}catch(p){a.e(p)}finally{a.f()}return JSON.stringify(i,null,"\t")}}},{key:"createAnimationControllers",value:function(e,t){if(0!==this.animationControllers.length){var n,r=0,i={format_version:"1.10.0",animation_controllers:{}},a=Object(R["a"])(this.animationControllers);try{for(a.s();!(n=a.n()).done;){var s=Object(he["a"])(n.value,2),c=s[0],u=s[1];if(c){var l=this.getAnimName("controller.animation",e,r),d=this.getShortAnimName("ac",e,r);i.animation_controllers[l]=c,this.create(t,{animations:Object(o["a"])({},d,l)},"minecraft:entity/description"),!1!==u&&this.create(t,{scripts:{animate:[u?Object(o["a"])({},d,u):d]}},"minecraft:entity/description"),r++}else r++}}catch(p){a.e(p)}finally{a.f()}return JSON.stringify(i,null,"\t")}}},{key:"getAnimName",value:function(e,t,n){return"".concat(e,".").concat(t,"_").concat(n)}},{key:"getShortAnimName",value:function(e,t,n){var r;return"".concat(null!==(r=t.slice(0,16))&&void 0!==r?r:"bridge_auto","_").concat(e,"_").concat(n)}}]),e}(),mr=n("8797");function br(e){return gr.apply(this,arguments)}function gr(){return gr=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,o,s,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return a=e.sent,o=null!==(n=null===(i=a.project.config.get().bridge)||void 0===i?void 0:i.v1CompatMode)&&void 0!==n&&n,s=o?"BP/components":"BP/components/".concat(t),e.prev=5,e.next=8,a.project.fileSystem.getDirectoryHandle(s);case 8:c=e.sent,e.next=14;break;case 11:return e.prev=11,e.t0=e["catch"](5),e.abrupt("return");case 14:return u={},e.next=17,Object(mr["a"])(c,function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n,r){var i,s,c,l,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=a.project.compilerManager,e.t1=r,e.next=4,n.getFile();case 4:return e.t2=e.sent,e.next=7,e.t0.compileWithFile.call(e.t0,e.t1,e.t2);case 7:return i=e.sent,s=Object(he["a"])(i,2),s[0],c=s[1],l=new File([c],n.name),e.t3=vr,e.t4=t,e.next=16,l.text();case 16:return e.t5=e.sent,e.t6=o,d=new e.t3(e.t4,e.t5,"dev",e.t6),e.next=21,d.load("client");case 21:p=e.sent,p&&d.name&&(u[d.name]=d.getSchema());case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),void 0,s);case 17:return e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[5,11]])}))),gr.apply(this,arguments)}var yr=n("b697");function wr(e){return jr.apply(this,arguments)}function jr(){return jr=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return n=e.sent,e.next=5,n.dataLoader.fired;case 5:return t||(t=n.projectConfig.get().targetVersion),e.abrupt("return",kr().then((function(e){return e.filter((function(e){return!t||Object(yr["compare"])(e,t,"<=")}))})));case 7:case"end":return e.stop()}}),e)}))),jr.apply(this,arguments)}function kr(){return xr.apply(this,arguments)}function xr(){return xr=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return t=e.sent,e.next=5,t.dataLoader.fired;case 5:return e.next=7,t.dataLoader.readJSON("data/packages/minecraftBedrock/formatVersions.json");case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)}))),xr.apply(this,arguments)}function Or(){return kr().then((function(e){return e[0]}))}var Sr=function(){function e(t,n){Object(i["a"])(this,e),Object(o["a"])(this,"app",void 0),Object(o["a"])(this,"filePath",void 0),this.app=t,this.filePath=n}return Object(a["a"])(e,[{key:"runScript",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var i,a,o,s,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=this.app.project.fileSystem,a={},o=!0,!this.filePath){e.next=18;break}return e.next=6,this.app.project.getFileFromDiskOrTab(this.filePath);case 6:return s=e.sent,e.prev=7,e.t0=kn.a,e.next=11,s.text();case 11:e.t1=e.sent,a=e.t0.parse.call(e.t0,e.t1),o=!1,e.next=18;break;case 16:e.prev=16,e.t2=e["catch"](7);case 18:return e.prev=18,e.next=21,je({async:!0,script:n,env:{readdir:function(e){return i.readFilesFromDir(e).catch((function(){return[]}))},uuid:A["a"],getFormatVersions:wr,getCacheDataFor:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=c.app.project.packIndexer,e.abrupt("return",i.service.getCacheDataFor(t,n,r));case 2:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}(),getProjectPrefix:function(){var e;return null!==(e=c.app.projectConfig.get().namespace)&&void 0!==e?e:"bridge"},getFileName:function(){return c.filePath?c.filePath.split(/\/|\\/g).pop():void 0},customComponents:function(e){return br(e)},get:function(e){var t=[];return fn(e,a,(function(e){return t.push(e)})),t},failedCurrentFileLoad:o}});case 21:return e.abrupt("return",e.sent);case 24:e.prev=24,e.t3=e["catch"](18),console.error('Error evaluating schemaScript "'.concat(t,'": ').concat(e.t3.message));case 27:case"end":return e.stop()}}),e,this,[[7,16],[18,24]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"runSchemaScripts",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.app.dataLoader.getDirectoryHandle("data/packages/minecraftBedrock/schemaScript");case 2:return n=e.sent,e.next=5,Object(mr["a"])(n,function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n,r){var a,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.getFile();case 2:return a=e.sent,e.next=5,a.text();case 5:return o=e.sent,s=a.name.endsWith(".js")?{script:o}:kn.a.parse(o),e.next=9,i.runScript(r,s.script);case 9:if(c=e.sent,!c){e.next=17;break}if(!a.name.endsWith(".js")){e.next=16;break}if(!c.keep){e.next=14;break}return e.abrupt("return");case 14:s=Object(S["a"])(Object(S["a"])({},s),{},{type:c.type,generateFile:c.generateFile}),c=c.data;case 16:"object"!==s.type||Array.isArray(c)||"object"!==Object(C["a"])(c)?t["file:///data/packages/minecraftBedrock/schema/".concat(s.generateFile)]={uri:"file:///data/packages/minecraftBedrock/schema/".concat(s.generateFile),schema:{type:"enum"===s.type?"string":"object",enum:"enum"===s.type?c:void 0,properties:"properties"===s.type?Object.fromEntries(c.map((function(e){return[e,{}]}))):void 0}}:t["file:///data/packages/minecraftBedrock/schema/".concat(s.generateFile)]={uri:"file:///data/packages/minecraftBedrock/schema/".concat(s.generateFile),schema:{type:"object",properties:c}};case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),Cr={},Rr=!1,Pr=["common","minecraftBedrock"],_r=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r;return Object(i["a"])(this,n),r=t.call(this),Object(o["a"])(Object(w["a"])(r),"project",void 0),Object(o["a"])(Object(w["a"])(r),"loadedSchemas",!1),Object(o["a"])(Object(w["a"])(r),"localSchemas",{}),Object(o["a"])(Object(w["a"])(r),"disposables",[]),r.project=e,r}return Object(a["a"])(n,[{key:"isReady",get:function(){return this.loadedSchemas&&Rr}},{key:"activate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.time("[SETUP] JSONDefaults"),e.next=3,this.project.app.project.packIndexer.fired;case 3:if(this.disposables=[il.eventSystem.on("currentTabSwitched",(function(e){e.isForeignFile||t.updateDynamicSchemas(e.getProjectPath())})),il.eventSystem.on("refreshCurrentContext",(function(e){return t.updateDynamicSchemas(e)})),il.eventSystem.on("disableValidation",(function(){t.setJSONDefaults(!1)}))].filter((function(e){return void 0!==e})),this.loadedSchemas){e.next=7;break}return e.next=7,this.loadAllSchemas();case 7:this.setJSONDefaults(),console.timeEnd("[SETUP] JSONDefaults");case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"deactivate",value:function(){this.disposables.forEach((function(e){return e.dispose()})),this.disposables=[]}},{key:"loadAllSchemas",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.localSchemas={},e.next=3,il.getApp();case 3:return n=e.sent,e.next=6,n.dataLoader.fired;case 6:r=Object(R["a"])(Pr),e.prev=7,r.s();case 9:if((i=r.n()).done){e.next=26;break}return a=i.value,e.prev=11,e.t0=this,e.next=15,n.dataLoader.getDirectoryHandle("data/packages/".concat(a,"/schema"));case 15:return e.t1=e.sent,e.t2="data/packages/".concat(a,"/schema"),e.next=19,e.t0.loadStaticSchemas.call(e.t0,e.t1,e.t2);case 19:e.next=24;break;case 21:return e.prev=21,e.t3=e["catch"](11),e.abrupt("return");case 24:e.next=9;break;case 26:e.next=31;break;case 28:e.prev=28,e.t4=e["catch"](7),r.e(e.t4);case 31:return e.prev=31,r.f(),e.finish(31);case 34:return Rr=!0,e.t5=this,e.next=38,this.getDynamicSchemas();case 38:return e.t6=e.sent,e.t5.addSchemas.call(e.t5,e.t6),e.next=42,this.runSchemaScripts(n);case 42:if(o=null===(t=this.project.tabSystem)||void 0===t?void 0:t.selectedTab,!(o&&o instanceof F)){e.next=52;break}return s=T["a"].getId(o.getProjectPath()),e.t7=this,e.next=48,this.requestSchemaFor(s,o.getProjectPath());case 48:return e.t8=e.sent,e.t7.addSchemas.call(e.t7,e.t8),e.next=52,this.runSchemaScripts(n,o.getProjectPath());case 52:this.loadedSchemas=!0;case 53:case"end":return e.stop()}}),e,this,[[7,28,31,34],[11,21]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"setJSONDefaults",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];v["languages"].json.jsonDefaults.setDiagnosticsOptions({enableSchemaRequest:!1,allowComments:!0,validate:e,schemas:Object.values(Object.assign({},Cr,this.localSchemas))}),bn.setJSONDefaults(Object.assign({},Cr,this.localSchemas)),this.dispatch()}},{key:"reload",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return t=e.sent,t.windows.loadingWindow.open(),this.loadedSchemas=!1,this.localSchemas={},Rr=!1,Cr={},e.next=10,this.deactivate();case 10:return e.next=12,this.activate();case 12:t.windows.loadingWindow.close();case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateDynamicSchemas",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return n=e.sent,r=T["a"].getId(t),e.t0=this,e.next=7,this.requestSchemaFor(r,t);case 7:return e.t1=e.sent,e.t0.addSchemas.call(e.t0,e.t1),e.t2=this,e.next=12,this.requestSchemaFor(r);case 12:return e.t3=e.sent,e.t2.addSchemas.call(e.t2,e.t3),e.next=16,this.runSchemaScripts(n,t);case 16:this.setJSONDefaults();case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateMultipleDynamicSchemas",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:n=e.sent,r=new Set,i=Object(R["a"])(t),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=22;break}if(o=a.value,s=T["a"].getId(o),!r.has(s)){e.next=12;break}return e.abrupt("continue",20);case 12:return e.t0=this,e.next=15,this.requestSchemaFor(s);case 15:return e.t1=e.sent,e.t0.addSchemas.call(e.t0,e.t1),e.next=19,this.runSchemaScripts(n,o);case 19:r.add(s);case 20:e.next=7;break;case 22:e.next=27;break;case 24:e.prev=24,e.t2=e["catch"](5),i.e(e.t2);case 27:return e.prev=27,i.f(),e.finish(27);case 30:this.setJSONDefaults();case 31:case"end":return e.stop()}}),e,this,[[5,24,27,30]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addSchemas",value:function(e){var t=this;e.forEach((function(e){t.localSchemas[e.uri]?(e.schema&&(t.localSchemas[e.uri].schema=e.schema),e.fileMatch&&(t.localSchemas[e.uri].fileMatch=e.fileMatch)):t.localSchemas[e.uri]=e}))}},{key:"requestSchemaFor",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=this.project.packIndexer,e.next=3,r.fired;case 3:return e.next=5,r.service.getSchemasFor(t,n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getDynamicSchemas",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(T["a"].getIds().map((function(e){return t.requestSchemaFor(e)})));case 2:return e.abrupt("return",e.sent.flat());case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadStaticSchemas",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u,l,d,h=this,f=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=f.length>1&&void 0!==f[1]?f[1]:"data/packages/minecraftBedrock/schema",!Rr){e.next=3;break}return e.abrupt("return");case 3:r=[],i=!0,a=!1,e.prev=6,s=regeneratorRuntime.mark((function e(){var t,i,a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=l,i=Object(he["a"])(t,2),a=i[0],o=i[1],s="".concat(n,"/").concat(a),".DS_Store"!==o.name){e.next=4;break}return e.abrupt("return","continue");case 4:if("file"!==o.kind){e.next=12;break}return e.t0="file:///".concat(s),e.next=8,o.getFile().then((function(e){return e.text()})).then(kn.a.parse).catch((function(){throw new Error('Failed to load schema "'.concat(s,'"'))}));case 8:e.t1=e.sent,Cr["file:///".concat(s)]={uri:e.t0,schema:e.t1},e.next=13;break;case 12:r.push(h.loadStaticSchemas(o,s));case 13:case"end":return e.stop()}}),e)})),c=Object(Nn["a"])(t.entries());case 9:return e.next=11,c.next();case 11:return u=e.sent,i=u.done,e.next=15,u.value;case 15:if(l=e.sent,i){e.next=24;break}return e.delegateYield(s(),"t0",18);case 18:if(d=e.t0,"continue"!==d){e.next=21;break}return e.abrupt("continue",21);case 21:i=!0,e.next=9;break;case 24:e.next=30;break;case 26:e.prev=26,e.t1=e["catch"](6),a=!0,o=e.t1;case 30:if(e.prev=30,e.prev=31,i||null==c.return){e.next=35;break}return e.next=35,c.return();case 35:if(e.prev=35,!a){e.next=38;break}throw o;case 38:return e.finish(35);case 39:return e.finish(30);case 40:return e.next=42,Promise.all(r);case 42:if("data/packages/minecraftBedrock/schema"===n){e.next=44;break}return e.abrupt("return");case 44:T["a"].getMonacoSchemaArray().forEach((function(e){var t;e.uri&&(Cr[e.uri]?(e.schema&&(Cr[e.uri].schema=e.schema),e.fileMatch&&(Cr[e.uri].fileMatch?(t=Cr[e.uri].fileMatch).push.apply(t,Object(p["a"])(e.fileMatch)):Cr[e.uri].fileMatch=e.fileMatch)):Cr[e.uri]=e)}));case 45:case"end":return e.stop()}}),e,null,[[6,26,30,40],[31,,35,39]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"runSchemaScripts",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new Sr(t,n),e.next=3,r.runSchemaScripts(this.localSchemas);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Jt["a"]),Ar=new Map,Tr=function(){function e(t){Object(i["a"])(this,e),Object(o["a"])(this,"dataLoader",void 0),Object(o["a"])(this,"disposables",[]),Object(o["a"])(this,"typeDisposables",[]),Object(o["a"])(this,"currentTypeEnv",null),this.dataLoader=t}return Object(a["a"])(e,[{key:"activate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.disposables=[il.eventSystem.on("currentTabSwitched",(function(e){return n.setTypeEnv(e.getProjectPath())}))],!t){e.next=4;break}return e.next=4,this.setTypeEnv(t);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deactivate",value:function(){this.typeDisposables.forEach((function(e){return e.dispose()})),this.disposables.forEach((function(e){return e.dispose()})),this.typeDisposables=[],this.disposables=[]}},{key:"load",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Ar.get(t),!n){e.next=3;break}return e.abrupt("return",n);case 3:return e.next=5,this.dataLoader.fired;case 5:return e.next=7,this.dataLoader.readFile("data/packages/minecraftBedrock/".concat(t));case 7:return r=e.sent,e.next=10,r.text();case 10:return n=e.sent,Ar.set(t,n),e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setTypeEnv",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,o,s,c,u,l,d,p,h,f,m=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t!==this.currentTypeEnv){e.next=2;break}return e.abrupt("return");case 2:return this.currentTypeEnv=t,this.typeDisposables.forEach((function(e){return e.dispose()})),this.typeDisposables=[],e.next=7,T["a"].ready.fired;case 7:return i=null!==(n=T["a"].get(t))&&void 0!==n?n:{},a=i.types,o=void 0===a?[]:a,e.next=10,Promise.all(o.map(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=6;break}return e.t0=t,e.next=4,m.load(t);case 4:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 6:return e.next=8,il.getApp();case 8:if(r=e.sent,i=Object(he["a"])(t,2),a=i[0],o=Object(he["a"])(i[1].targetVersion,2),s=o[0],c=o[1],null===(n=r.projectConfig.get().targetVersion)||void 0===n){e.next=14;break}e.t2=n,e.next=17;break;case 14:return e.next=16,Or();case 16:e.t2=e.sent;case 17:if(u=e.t2,!Object(yr["compare"])(u,c,s)){e.next=24;break}return e.t3=a,e.next=22,m.load(a);case 22:return e.t4=e.sent,e.abrupt("return",[e.t3,e.t4]);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:s=e.sent,c=s.filter((function(e){return void 0!==e})),u=Object(R["a"])(c);try{for(u.s();!(l=u.n()).done;)d=Object(he["a"])(l.value,2),p=d[0],h=d[1],f=v["Uri"].file(p),this.typeDisposables.push(v["languages"].typescript.javascriptDefaults.addExtraLib(h,f.toString()),v["languages"].typescript.typescriptDefaults.addExtraLib(h,f.toString()))}catch(b){u.e(b)}finally{u.f()}case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),Fr=n("72ba"),Er=n("5d94"),Dr=n("ce02"),Mr=function(){function e(){Object(i["a"])(this,e),Object(o["a"])(this,"selectedAction",void 0)}return Object(a["a"])(e,[{key:"unselectAllActions",value:function(){var e;null===(e=this.actions)||void 0===e||e.forEach((function(e){return e instanceof Dr["a"]?e.unselect():void 0}))}},{key:"getSelectedAction",value:function(){var e;return null===(e=this.actions)||void 0===e?void 0:e.find((function(e){return e instanceof Dr["a"]&&e.isSelected}))}}]),e}();function Ir(e){return new Wr(e)}var Wr=function(){function e(t){var n,r=this;if(Object(i["a"])(this,e),Object(o["a"])(this,"config",void 0),Object(o["a"])(this,"sidebarUUID",void 0),Object(o["a"])(this,"isLoading",!1),Object(o["a"])(this,"isVisible",!0),Object(o["a"])(this,"isSelected",Object(ue["a"])((function(){return Er["a"].currentState&&Er["a"].currentState===r.config.sidebarContent}))),this.config=t,this.sidebarUUID=null!==(n=t.id)&&void 0!==n?n:Object(A["a"])(),Object(ue["g"])(Er["a"].sidebarElements,this.sidebarUUID,this),t.isVisible&&(this.isVisible=t.isVisible),this.config.component){var a,s=this.config.component;this.config.sidebarContent=new(a=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;Object(i["a"])(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(o["a"])(Object(w["a"])(e),"component",s),Object(o["a"])(Object(w["a"])(e),"actions",void 0),Object(o["a"])(Object(w["a"])(e),"topPanel",void 0),e}return n}(Mr),a)}}return Object(a["a"])(e,[{key:"icon",get:function(){return this.config.icon}},{key:"uuid",get:function(){return this.sidebarUUID}},{key:"displayName",get:function(){return this.config.displayName}},{key:"component",get:function(){return this.config.component}},{key:"dispose",value:function(){Object(ue["c"])(Er["a"].sidebarElements,this.sidebarUUID)}},{key:"click",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(il.audioManager.playAudio("click5.ogg",1),this.isLoading=!0,this.config.sidebarContent&&Object(Er["c"])(this.config.sidebarContent),"function"!==typeof this.config.onClick){e.next=6;break}return e.next=6,this.config.onClick();case 6:this.isLoading=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),Vr=n("62c0"),Br=function(e){var t=e.disposables;return{SidebarContent:Mr,create:function(e){var n,r,i,a=Ir(Object(S["a"])(Object(S["a"])({},e),{},{isVisible:!e.id||(null===(n=null===N["b"]||void 0===N["b"]||null===(r=N["b"].sidebar)||void 0===r||null===(i=r.sidebarElements)||void 0===i?void 0:i[e.id])||void 0===n||n)}));return e.id&&Vr["a"].loadedSettings.once((function(t){var n,r,i;a.isVisible=null===(n=null===t||void 0===t||null===(r=t.sidebar)||void 0===r||null===(i=r.sidebarElements)||void 0===i?void 0:i[e.id])||void 0===n||n})),t.push(a),a},getSelected:function(){throw new Error("This function no longer works with bridge. v2")},onChange:function(){throw new Error("This function no longer works with bridge. v2")},select:function(){throw new Error("This function no longer works with bridge. v2")}}},Nr=n("5817"),Lr=function(e){var t=e.uiStore;return Object(S["a"])(Object(S["a"])({},null===t||void 0===t?void 0:t.UI),{},{BuiltIn:{BaseWindow:K["a"],SidebarWindow:Nr["a"]}})},$r=function(e){var t=e.disposables;return{create:function(e){var n=Object(c["b"])(e);return t.push(n),n},createError:function(e){var n=u(e);return t.push(n),n}}},Hr=(n("7039"),n("3410"),n("8468")),zr=function(e){return Object(Hr["a"])(e),new Promise((function(e){il.ready.once((function(t){var n,r={},i=Object(R["a"])(Object.getOwnPropertyNames(Object.getPrototypeOf(t.fileSystem)));try{for(i.s();!(n=i.n()).done;){var a=n.value;"constructor"!==a&&"function"===typeof t.fileSystem[a]&&(r[a]=t.fileSystem[a].bind(t.fileSystem))}}catch(o){i.e(o)}finally{i.f()}e(r)}))}))},Ur=function(e){return Object(Hr["a"])(e),{APP_VERSION:En["a"],getCurrentBP:function(){return"projects/".concat(il.instance.selectedProject,"/BP")},getCurrentRP:function(){return"projects/".concat(il.instance.selectedProject,"/RP")},getCurrentProject:function(){return"projects/".concat(il.instance.selectedProject)},getProjectPrefix:function(){return il.getApp().then((function(e){return e.projectConfig.get().namespace}))},getProjectTargetVersion:function(){return il.getApp().then((function(e){return e.projectConfig.get().targetVersion}))},getProjectAuthor:function(){return il.getApp().then((function(e){return e.projectConfig.get().author}))},getContext:function(){return console.warn("This API is deprecated!"),{}}}},Jr=function(e){return Object(Hr["a"])(e),{openExternal:function(e){return window.open(e,"_blank")}}},qr=function(e){e.disposables;throw new Error("Module not yet supported on bridge. v2")},Gr=function(){return le},Kr=function(e){return Object(Hr["a"])(e),{fetchDefinition:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s,c,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=u.length>3&&void 0!==u[3]&&u[3],e.next=3,il.getApp();case 3:if(o=e.sent,s=null===(i=o.project)||void 0===i?void 0:i.packIndexer,s){e.next=7;break}return e.abrupt("return",[]);case 7:return e.next=9,Promise.all(n.map((function(e){var n,i;return null!==(n=null===(i=s.service)||void 0===i?void 0:i.find(t,e,[r],a))&&void 0!==n?n:[]})));case 9:return c=e.sent,e.abrupt("return",c.flat());case 11:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}()}},Qr=n("e6b7");function Zr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},i={};i.done=new Promise((function(e){i.setDone=e}));var a=Object(A["a"])(),o=U["default"].observable(Object.assign(t,{isVisible:!1,shouldRender:!1})),s={component:e,getState:function(){return o},close:function(){r(),o.isVisible=!1,setTimeout((function(){o.shouldRender=!1,n&&s.dispose()}),600)},open:function(){o.shouldRender=!0,o.isVisible=!0},dispose:function(){return U["default"].delete(Qr["a"].state,a)},status:i,get isVisible(){return o.isVisible}};return U["default"].set(Qr["a"].state,a,s),s}var Yr=n("7e78"),Xr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:e.$data.title,isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,isPersistent:!e.$data.isClosable,hasCloseButton:!1,width:440,height:140},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"default",fn:function(){return[n("v-select",{staticClass:"mt-4",attrs:{autofocus:"",outlined:"",dense:"",items:e.$data.options,"background-color":"background"},model:{value:e.$data.currentSelection,callback:function(t){e.$set(e.$data,"currentSelection",t)},expression:"$data.currentSelection"}})]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{attrs:{color:"primary",disabled:""===e.$data.currentSelection},on:{click:e.onConfirm}},[n("v-icon",[e._v("mdi-check")]),n("span",[e._v(e._s(e.t("general.confirm")))])],1)]},proxy:!0}],null,!1,3232109115)}):e._e()},ei=[],ti={name:"Dropdown",mixins:[G["a"]],components:{BaseWindow:K["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()},onConfirm:function(){this.currentWindow.confirm()}}},ni=ti,ri=n("b974"),ii=Object(W["a"])(ni,Xr,ei,!1,null,null,null),ai=ii.exports;X()(ii,{VBtn:ee["a"],VIcon:gt["a"],VSelect:ri["a"],VSpacer:te["a"]});var oi=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r;return Object(i["a"])(this,n),r=t.call(this,ai,!0,!1),Object(o["a"])(Object(w["a"])(r),"opts",void 0),Object(o["a"])(Object(w["a"])(r),"currentSelection",void 0),r.opts=e,r.currentSelection=e.default,r.defineWindow(),r.open(),r}return Object(a["a"])(n,[{key:"title",get:function(){return this.opts.name}},{key:"options",get:function(){return this.opts.options}},{key:"placeholder",get:function(){return this.opts.placeholder}},{key:"isClosable",get:function(){return this.opts.isClosable}},{key:"confirm",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(il.audioManager.playAudio("click5.ogg",1),"function"!==typeof this.opts.onConfirm){e.next=4;break}return e.next=4,this.opts.onConfirm(this.currentSelection);case 4:Object(j["a"])(Object(k["a"])(n.prototype),"close",this).call(this,null!==(t=this.currentSelection)&&void 0!==t?t:null);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(ae["a"]),si=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:e.$data.title,isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,width:440,height:120},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"default",fn:function(){return[n("v-row",[n("v-text-field",{attrs:{label:e.t(e.$data.label),autofocus:""},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onConfirm(t)}},model:{value:e.$data.inputValue,callback:function(t){e.$set(e.$data,"inputValue",t)},expression:"$data.inputValue"}}),""!==e.$data.expandText?n("p",{staticClass:"expand_text"},[e._v(" "+e._s(e.$data.expandText)+" ")]):e._e()],1)]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{attrs:{color:"primary",disabled:""===e.$data.inputValue},on:{click:e.onConfirm}},[n("v-icon",[e._v("mdi-check")]),n("span",[e._v(e._s(e.t("general.confirm")))])],1)]},proxy:!0}],null,!1,1148471308)}):e._e()},ci=[],ui={name:"Input",mixins:[G["a"]],components:{BaseWindow:K["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close(null),this.currentWindow.inputValue=""},onConfirm:function(){this.currentWindow.confirm(),this.currentWindow.inputValue=""}}},li=ui,di=(n("5138"),n("0fd9")),pi=Object(W["a"])(li,si,ci,!1,null,"7e59e31b",null),hi=pi.exports;X()(pi,{VBtn:ee["a"],VIcon:gt["a"],VRow:di["a"],VSpacer:te["a"],VTextField:Wt["a"]});var fi=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r,a,s,c;return Object(i["a"])(this,n),c=t.call(this,hi,!0,!1),Object(o["a"])(Object(w["a"])(c),"opts",void 0),Object(o["a"])(Object(w["a"])(c),"inputValue",void 0),c.opts=e,c.inputValue=null!==(r=e.default)&&void 0!==r?r:"",Object(j["a"])((a=Object(w["a"])(c),Object(k["a"])(n.prototype)),"defineWindow",a).call(a),Object(j["a"])((s=Object(w["a"])(c),Object(k["a"])(n.prototype)),"open",s).call(s),c}return Object(a["a"])(n,[{key:"title",get:function(){return this.opts.name}},{key:"label",get:function(){return this.opts.label}},{key:"expandText",get:function(){return this.opts.expandText}},{key:"confirm",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(il.audioManager.playAudio("click5.ogg",1),r=this.inputValue+(null!==(t=this.expandText)&&void 0!==t?t:""),"function"!==typeof this.opts.onConfirm){e.next=5;break}return e.next=5,this.opts.onConfirm(r);case 5:Object(j["a"])(Object(k["a"])(n.prototype),"close",this).call(this,r);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(ae["a"]),vi=function(e){return Object(Hr["a"])(e),{BaseWindow:ae["a"],createWindow:function(e,t){return console.warn('[@bridge/windows] Calling "createWindow" is deprecated. Please replace direct function calls by defining a class based window instead.'),Zr(e,t)},createInformationWindow:function(e,t){return new s["a"]({name:e,description:t})},createInputWindow:function(e,t,n,r,i){return new fi({name:e,label:t,default:n,expandText:i,onConfirm:r})},createDropdownWindow:function(e,t,n,r,i){return new oi({name:e,default:r,options:n,placeholder:t,onConfirm:i})},createConfirmWindow:function(e,t,n,r,i){return new Yr["a"]({description:e,confirmText:t,cancelText:n,onConfirm:r,onCancel:i})}}},mi=void 0,bi=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object(Hr["a"])(t),e.prev=1,void 0!==mi){e.next=4;break}return e.abrupt("return",new Promise((function(e){il.ready.once(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.fileSystem.readJSON("projects/".concat(n.selectedProject,"/globals.json"));case 2:mi=t.sent,e(mi);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})));case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e["catch"](1),e.abrupt("return",{});case 9:return e.abrupt("return",Object(S["a"])({},mi));case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),gi=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r){var a;return Object(i["a"])(this,n),a=t.call(this),Object(o["a"])(Object(w["a"])(a),"icon",void 0),Object(o["a"])(Object(w["a"])(a),"name",void 0),Object(o["a"])(Object(w["a"])(a),"id",Object(A["a"])()),Object(o["a"])(Object(w["a"])(a),"type","category"),Object(o["a"])(Object(w["a"])(a),"isVisible",!1),Object(o["a"])(Object(w["a"])(a),"state",Object(ue["h"])({})),Object(o["a"])(Object(w["a"])(a),"disposables",{}),a.icon=e,a.name=r,a}return Object(a["a"])(n,[{key:"addItem",value:function(e){var t=this;return Object(ue["g"])(this.state,e.id,e),this.disposables[e.id]=e.on((function(){return t.trigger()})),this}},{key:"disposeItem",value:function(e){var t;Object(ue["c"])(this.state,e.id),null===(t=this.disposables[e.id])||void 0===t||t.dispose(),this.disposables[e.id]=void 0}},{key:"trigger",value:function(){this.isVisible=!1,this.dispatch()}},{key:"dispose",value:function(){il.toolbar.disposeCategory(this)}}]),n}(Jt["a"]),yi=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.disposables,e.t0=gi,e.next=4,il.getApp();case 4:return e.t1=e.sent.actionManager,e.t2=function(e){il.toolbar.addCategory(e),n.push(e)},e.abrupt("return",{ToolbarCategory:e.t0,actionManager:e.t1,addCategory:e.t2});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wi=function(){return{compare:yr["compare"]}},ji=function(e){var t=e.disposables;return{registerDocumentFormattingEditProvider:function(e,n){t.push(v["languages"].registerDocumentFormattingEditProvider(e,n))}}},ki=function(){return{parse:function(e){return kn.a.parse(e)}}},xi=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(Hr["a"])(t),e.next=3,il.getApp();case 3:return n=e.sent,e.abrupt("return",{setup:n.comMojang.setup,requestFileSystem:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t={},r=Object(R["a"])(Object.getOwnPropertyNames(Object.getPrototypeOf(n.comMojang.fileSystem)));try{for(r.s();!(i=r.n()).done;)a=i.value,"constructor"!==a&&"function"===typeof n.comMojang.fileSystem[a]&&(t[a]=n.comMojang.fileSystem[a].bind(n.comMojang.fileSystem))}catch(o){r.e(o)}finally{r.f()}return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oi=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.disposables,e.abrupt("return",{ContentTab:_["a"],FileTab:F,register:function(e){var t=Sn.register(e);return n.push(t),t},openTab:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]&&l[1],e.next=3,il.getApp();case 3:if(r=e.sent,i=r.project,!n){e.next=12;break}return s=new t(i.inactiveTabSystem),null===(a=i.inactiveTabSystem)||void 0===a||a.add(s,!0),null===(o=i.inactiveTabSystem)||void 0===o||o.setActive(!0),e.abrupt("return",s);case 12:return u=new t(i.tabSystem),null===(c=i.tabSystem)||void 0===c||c.add(u,!0),e.abrupt("return",u);case 15:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),openFilePath:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,il.getApp();case 3:return r=e.sent,i=r.project,e.next=7,i.fileSystem.getFileHandle(t);case 7:return a=e.sent,e.next=10,i.openFile(a,n);case 10:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Si(e){var t=e.isGlobal,n=e.func,r=e.disposables,i=e.app;t?r.push(i.projectManager.forEachProject(n)):n(i.project)}var Ci=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.disposables,i=t.isGlobal,e.abrupt("return",{addTabActions:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:n=e.sent,n.project.tabActionProvider.addTabActions(t);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),register:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:r=e.sent,Si({app:r,disposables:n,isGlobal:i,func:function(e){n.push(e.tabActionProvider.register(t))}});case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),registerPreview:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:r=e.sent,Si({app:r,disposables:n,isGlobal:i,func:function(e){n.push(e.tabActionProvider.registerPreview(t))}});case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ri=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.disposables,e.next=3,il.getApp();case 3:return r=e.sent,i=r.themeManager,e.abrupt("return",{onChange:function(e){var t=i.on(e);return n.push(t),t},getCurrentMode:function(){return r.themeManager.getCurrentMode()},getColor:function(e){return i.getColor(e)},getHighlighterInfo:function(e){return i.getHighlighterInfo(e)}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pi=function(){function e(t){Object(i["a"])(this,e),Object(o["a"])(this,"config",void 0),this.config=t}return Object(a["a"])(e,[{key:"displayData",get:function(){return{icon:this.config.icon,name:this.config.name}}},{key:"isDisabled",value:function(){if("function"===typeof this.config.isDisabled)return this.config.isDisabled()}},{key:"export",value:function(){if("function"===typeof this.config.export)return this.config.export()}}]),e}(),_i=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.disposables,i=t.isGlobal,e.next=3,il.getApp();case 3:return a=e.sent,e.abrupt("return",{hasPacks:function(e){return a.project.hasPacks(e)},registerExporter:function(e){i?a.projectManager.forEachProject((function(t){n.push(t.exportProvider.register(new Pi(e)))})):n.push(a.project.exportProvider.register(new Pi(e)))},compile:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.project.compilerManager.start(e,"build");case 2:case"end":return t.stop()}}),t)})))()}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ai=new Map([["@bridge/ui",Lr],["@bridge/sidebar",Br],["@bridge/notification",$r],["@bridge/fs",zr],["@bridge/path",Gr],["@bridge/env",Ur],["@bridge/project",_i],["@bridge/globals",bi],["@bridge/utils",Jr],["@bridge/file-importer",qr],["@bridge/fetch-definition",Kr],["@bridge/windows",vi],["@bridge/toolbar",yi],["@bridge/compare-versions",wi],["@bridge/monaco",ji],["@bridge/json5",ki],["@bridge/com-mojang",xi],["@bridge/tab",Oi],["@bridge/tab-actions",Ci],["@bridge/theme",Ri]]);new Map([["@bridge/notification",$r],["@bridge/fs",zr],["@bridge/path",Gr],["@bridge/env",Ur],["@bridge/globals",bi],["@bridge/utils",Jr],["@bridge/fetch-definition",Kr],["@bridge/compare-versions",wi]]);function Ti(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ai;return function(){var a=Object(r["a"])(regeneratorRuntime.mark((function r(a){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=i.get(a),!o){r.next=5;break}return r.next=4,o({uiStore:t,disposables:e,isGlobal:n});case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r)})));return function(e){return a.apply(this,arguments)}}()}function Fi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ti(e,t,n)}function Ei(e,t,n){return Di.apply(this,arguments)}function Di(){return Di=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s,c,u,l,d,p,h=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=h.length>3&&void 0!==h[3]&&h[3],a=!0,o=!1,e.prev=3,c=Object(Nn["a"])(t.values());case 5:return e.next=7,c.next();case 7:return u=e.sent,a=u.done,e.next=11,u.value;case 11:if(l=e.sent,a){e.next=33;break}if(d=l,"directory"!==d.kind){e.next=19;break}return e.next=17,Ei(d,n,r,i);case 17:e.next=30;break;case 19:if("file"!==d.kind){e.next=30;break}return e.next=22,d.getFile();case 22:return p=e.sent,e.t0=Mi,e.next=26,p.text();case 26:return e.t1=e.sent,e.t2={uiStore:n,disposables:r,isGlobal:i,language:d.name.endsWith(".ts")?"typeScript":"javaScript"},e.next=30,(0,e.t0)(e.t1,e.t2);case 30:a=!0,e.next=5;break;case 33:e.next=39;break;case 35:e.prev=35,e.t3=e["catch"](3),o=!0,s=e.t3;case 39:if(e.prev=39,e.prev=40,a||null==c.return){e.next=44;break}return e.next=44,c.return();case 44:if(e.prev=44,!o){e.next=47;break}throw s;case 47:return e.finish(44);case 48:return e.finish(39);case 49:case"end":return e.stop()}}),e,null,[[3,35,39,49],[40,,44,48]])}))),Di.apply(this,arguments)}function Mi(e,t){var n=t.uiStore,r=t.disposables,i=t.language,a=t.isGlobal,o=void 0!==a&&a;return je({async:!0,script:e,language:i,env:{require:Fi(r,n,o)}})}function Ii(e){var t=document.createElement("style");return t.innerHTML=e,document.head.appendChild(t),{dispose:function(){document.head.contains(t)&&document.head.removeChild(t)}}}var Wi=n("a256"),Vi=n("dac2");function Bi(e,t,n){return Ni.apply(this,arguments)}function Ni(){return Ni=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var i,a,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=o.length>3&&void 0!==o[3]?o[3]:"ui",a=[],e.prev=2,e.next=5,t.readdir(i,{withFileTypes:!0});case 5:a=e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](2);case 10:return e.next=12,Promise.all(a.map((function(e){return"file"===e.kind?Li(t,"".concat(i,"/").concat(e.name),n,r):Bi(t,n,r,"".concat(i,"/").concat(e.name))})));case 12:case"end":return e.stop()}}),e,null,[[2,8]])}))),Ni.apply(this,arguments)}function Li(e,t,n,r){return $i.apply(this,arguments)}function $i(){return $i=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,i,a){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(".vue"===Object(le["extname"])(n)){e.next=3;break}return u(new Error('NOT A VUE FILE: Provided UI file "'.concat(Object(le["basename"])(n),'" is not a vue file!'))),e.abrupt("return");case 3:o=new Promise(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(r,o){var s,c,l,d,p,h,f,v,m,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Wi["parseComponent"],e.next=3,t.readFile(n);case 3:return e.next=5,e.sent.text();case 5:if(e.t1=e.sent,p=(0,e.t0)(e.t1),h=p.template,f=p.script,v=p.styles,m=p.errors,!(m.length>0)){e.next=15;break}return m.forEach((function(e){return u(e)})),e.abrupt("return",o(m[0]));case 15:return e.t2=S["a"],e.t3=S["a"],e.t4={name:Object(le["basename"])(n)},e.next=20,Mi(null!==(s=null===f||void 0===f||null===(c=f.content)||void 0===c?void 0:c.replace("export default","return"))&&void 0!==s?s:"",{uiStore:i,disposables:a});case 20:e.t5=e.sent,e.t6=(0,e.t3)(e.t4,e.t5),e.t7=U["default"].compile(null!==(l=null===h||void 0===h?void 0:h.content)&&void 0!==l?l:'<p color="red">NO TEMPLATE DEFINED</p>'),b=(0,e.t2)(e.t6,e.t7),b.components=Object.assign(null!==(d=b.components)&&void 0!==d?d:{},Vi),v.forEach((function(e){return a.push(Ii(e.content))})),r(b);case 27:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),i.set(Object(le["relative"])("ui",n).split(/\\|\//g),(function(){return o}));case 5:case"end":return e.stop()}}),e)}))),$i.apply(this,arguments)}function Hi(){var e={};Object(A["a"])();return{get UI(){return e},set:function(t,n){var r=e;while(t.length>1){var i=t.shift();void 0===r[i]&&(r[i]={}),r=r[i]}var a=t.shift();r[Object(le["basename"])(a,Object(le["extname"])(a))]=n},dispose:function(){e=null,null}}}n("9911");var zi=n("ec56"),Ui=function(){function e(t,n){Object(i["a"])(this,e),Object(o["a"])(this,"parent",void 0),Object(o["a"])(this,"icon",void 0),Object(o["a"])(this,"text",void 0),Object(o["a"])(this,"color",void 0),this.parent=t,this.icon=this.parent.getTagIcon(n),this.text=n,this.color=this.parent.getTagColor(n)}return Object(a["a"])(e,[{key:"getText",value:function(){return this.text}},{key:"asSidebarElement",value:function(){return new zi["c"]({id:this.text.toLowerCase(),text:this.text,color:this.color,icon:this.icon})}}]),e}(),Ji=n("4feb"),qi=function(e){return[new Ji["a"]({name:"windows.extensionStore.".concat(e.isActive?"deactivateExtension":"activateExtension"),icon:e.isActive?"mdi-close":"mdi-check",onTrigger:function(){e.setActive(!e.isActive),e.closeActionMenu()}})]},Gi=function(){function e(t,n){var r=this;Object(i["a"])(this,e),Object(o["a"])(this,"parent",void 0),Object(o["a"])(this,"config",void 0),Object(o["a"])(this,"tags",void 0),Object(o["a"])(this,"isLoading",!1),Object(o["a"])(this,"_isInstalled",!1),Object(o["a"])(this,"isUpdateAvailable",!1),Object(o["a"])(this,"connected",void 0),Object(o["a"])(this,"showMenu",!1),Object(o["a"])(this,"isActive",!0),this.parent=t,this.config=n,this.tags=this.config.tags.map((function(e){return r.parent.tags[e]||(r.parent.tags[e]=new Ui(r.parent,e)),r.parent.tags[e]})).sort((function(e,t){return e.getText().localeCompare(t.getText())}))}return Object(a["a"])(e,[{key:"author",get:function(){return this.config.author}},{key:"name",get:function(){return this.config.name}},{key:"version",get:function(){return this.config.version}},{key:"description",get:function(){return this.config.description}},{key:"icon",get:function(){return this.config.icon}},{key:"id",get:function(){return this.config.id}},{key:"releaseTimestamp",get:function(){var e;return null!==(e=this.config.releaseTimestamp)&&void 0!==e?e:Date.now()}},{key:"isInstalled",get:function(){return this._isInstalled}},{key:"displayVersion",get:function(){var e,t;return null!==(e=null===(t=this.connected)||void 0===t?void 0:t.version)&&void 0!==e?e:this.config.version}},{key:"actions",get:function(){return qi(this)}},{key:"extension",get:function(){return this.connected}},{key:"hasTag",value:function(e){return this.tags.includes(e)}},{key:"download",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===t){e.next=2;break}return e.abrupt("return",this.downloadExtension(t));case 2:return n=new Yn("windows.pluginInstallLocation.title"),e.next=5,n.actionManager;case 5:r=e.sent,r.create({icon:"mdi-folder-multiple-outline",name:"actions.pluginInstallLocation.global.name",description:"actions.pluginInstallLocation.global.description",onTrigger:function(){i.downloadExtension(!0)}}),r.create({icon:"mdi-folder-outline",name:"actions.pluginInstallLocation.local.name",description:"actions.pluginInstallLocation.local.description",onTrigger:function(){i.downloadExtension(!1)}});case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"downloadExtension",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u,l,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,il.getApp();case 3:return r=e.sent,e.next=6,fetch(this.parent.getBaseUrl()+this.config.link).then((function(e){return e.arrayBuffer()}));case 6:return i=e.sent,a=t?"extensions":"projects/".concat(r.selectedProject,"/.bridge/extensions"),o=t?r.extensionLoader:r.project.extensionLoader,s=a+"/".concat(this.name.replace(/\s+/g,""),".zip"),e.next=12,r.fileSystem.writeFile(s,i);case 12:return e.prev=12,e.next=15,r.fileSystem.unlink(s.replace(".zip",""));case 15:e.next=19;break;case 17:e.prev=17,e.t0=e["catch"](12);case 19:c=Object(R["a"])(null!==(n=this.config.dependencies)&&void 0!==n?n:[]),e.prev=20,c.s();case 22:if((u=c.n()).done){e.next=31;break}if(l=u.value,d=this.parent.getExtensionById(l),!d){e.next=29;break}if(d.isInstalled){e.next=29;break}return e.next=29,d.downloadExtension(t);case 29:e.next=22;break;case 31:e.next=36;break;case 33:e.prev=33,e.t1=e["catch"](20),c.e(e.t1);case 36:return e.prev=36,c.f(),e.finish(36);case 39:return e.t2=o,e.next=42,r.fileSystem.getDirectoryHandle(a);case 42:return e.t3=e.sent,e.next=45,r.fileSystem.getFileHandle(s);case 45:return e.t4=e.sent,e.next=48,e.t2.loadExtension.call(e.t2,e.t3,e.t4,!0);case 48:p=e.sent,p&&this.setConnected(p),this.setInstalled(),this.isUpdateAvailable=!1,this.isLoading=!1,il.audioManager.playAudio("confirmation_002.ogg",1);case 54:case"end":return e.stop()}}),e,this,[[12,17],[20,33,36,39]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=!(n.length>0&&void 0!==n[0])||n[0],this.connected){e.next=3;break}return e.abrupt("return");case 3:return t&&this.parent.updateInstalled(this),this.connected.deactivate(),e.next=7,this.downloadExtension(this.connected.isGlobal);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setInstalled",value:function(){this._isInstalled=!0,this.parent.addInstalledExtension(this)}},{key:"setIsUpdateAvailable",value:function(){this.isUpdateAvailable=!0}},{key:"setConnected",value:function(e){var t;this.connected=e,this.isActive=null===(t=this.connected)||void 0===t?void 0:t.isActive}},{key:"setActive",value:function(e){if(il.audioManager.playAudio("click5.ogg",1),!this.connected)throw new Error("No extension connected to ExtensionViewer");this.connected.setActive(e),this.isActive=e}},{key:"closeActionMenu",value:function(){il.audioManager.playAudio("click5.ogg",1),this.showMenu=!1}}]),e}();function Ki(e,t){return Object(mr["a"])(e,function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.getFile();case 2:return r=e.sent,e.t0=kn.a,e.next=6,r.text();case 6:e.t1=e.sent,i=e.t0.parse.call(e.t0,e.t1),t.push(T["a"].addPluginFileType(i));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}var Qi=function(){function e(t,n){Object(i["a"])(this,e),Object(o["a"])(this,"fileSystem",void 0),Object(o["a"])(this,"install",void 0),this.fileSystem=t,this.install=n}return Object(a["a"])(e,[{key:"execute",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,o,s,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=il.instance,i=regeneratorRuntime.mark((function e(){var i,s,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=Object(he["a"])(o[a],2),s=i[0],u=i[1],e.next=3,c.fileSystem.directoryExists(s);case 3:if(e.sent){e.next=6;break}return console.warn('Failed to install files from "'.concat(s,'/": No such directory')),e.abrupt("return","continue");case 6:return l=t?n.projects:[n.project],e.t0=mr["a"],e.next=10,c.fileSystem.getDirectoryHandle(s);case 10:return e.t1=e.sent,e.t2=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=Object(R["a"])(l),e.prev=1,r.s();case 3:if((i=r.n()).done){e.next=12;break}return a=i.value,e.next=7,a.fileSystem.getFileHandle(Object(le["join"])(u,n),!0);case 7:return o=e.sent,e.next=10,a.fileSystem.copyFileHandle(t,o);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](1),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}(),e.next=14,(0,e.t0)(e.t1,e.t2);case 14:case"end":return e.stop()}}),e)})),a=0,o=Object.entries(this.install);case 3:if(!(a<o.length)){e.next=11;break}return e.delegateYield(i(),"t0",5);case 5:if(s=e.t0,"continue"!==s){e.next=8;break}return e.abrupt("continue",8);case 8:a++,e.next=3;break;case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),Zi=function(){function e(t,n,r){var a,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(i["a"])(this,e),Object(o["a"])(this,"parent",void 0),Object(o["a"])(this,"manifest",void 0),Object(o["a"])(this,"baseDirectory",void 0),Object(o["a"])(this,"_isGlobal",void 0),Object(o["a"])(this,"disposables",[]),Object(o["a"])(this,"uiStore",Hi()),Object(o["a"])(this,"fileSystem",void 0),Object(o["a"])(this,"_compilerPlugins",{}),Object(o["a"])(this,"isLoaded",!1),Object(o["a"])(this,"installFiles",void 0),this.parent=t,this.manifest=n,this.baseDirectory=r,this._isGlobal=s,this.fileSystem=new Bn["a"](this.baseDirectory),this.installFiles=new Qi(this.fileSystem,null!==(a=null===n||void 0===n?void 0:n.install)&&void 0!==a?a:{})}return Object(a["a"])(e,[{key:"isActive",get:function(){var e;if(!this.parent.activeStatus)throw new Error("Accessed activeStatus property before the corresponding ActiveClass instance was initialized");return null===(e=this.parent.activeStatus)||void 0===e?void 0:e.isActive(this.manifest.id)}},{key:"compilerPlugins",get:function(){return this._compilerPlugins}},{key:"version",get:function(){return this.manifest.version}},{key:"isGlobal",get:function(){return this._isGlobal}},{key:"activate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a,o,s,c,l,d,h,f,v,m,b,g,y,w,j=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isLoaded){e.next=2;break}return e.abrupt("return");case 2:return this.isLoaded=!0,e.next=5,il.getApp();case 5:return i=e.sent,e.next=8,i.fileSystem.baseDirectory.resolve(this.baseDirectory);case 8:if(e.t1=t=e.sent,e.t0=null!==e.t1,!e.t0){e.next=12;break}e.t0=void 0!==t;case 12:if(!e.t0){e.next=16;break}e.t2=t,e.next=17;break;case 16:e.t2=[];case 17:a=e.t2.join("/"),o=Object(R["a"])(null!==(n=this.manifest.dependencies)&&void 0!==n?n:[]),e.prev=19,o.s();case 21:if((s=o.n()).done){e.next=30;break}return c=s.value,e.next=25,this.parent.activate(c);case 25:if(e.sent){e.next=28;break}return u(new Error('Failed to activate extension "'.concat(this.manifest.name,'": Failed to load one of its dependencies'))),e.abrupt("return");case 28:e.next=21;break;case 30:e.next=35;break;case 32:e.prev=32,e.t3=e["catch"](19),o.e(e.t3);case 35:return e.prev=35,o.f(),e.finish(35);case 38:for(l=0,d=Object.entries(null!==(h=null===(f=this.manifest.compiler)||void 0===f?void 0:f.plugins)&&void 0!==h?h:{});l<d.length;l++)v=Object(he["a"])(d[l],2),m=v[0],b=v[1],this._compilerPlugins[m]="".concat(a,"/").concat(b);return this.disposables.push(i.windows.createPreset.addPresets("".concat(a,"/presets"))),e.prev=40,e.t4=mr["a"],e.next=44,this.baseDirectory.getDirectoryHandle("themes");case 44:return e.t5=e.sent,e.t6=function(e){return i.themeManager.loadTheme(e,j.isGlobal,j.disposables)},e.next=48,(0,e.t4)(e.t5,e.t6);case 48:e.next=52;break;case 50:e.prev=50,e.t7=e["catch"](40);case 52:return e.prev=52,e.t8=Ki,e.next=56,this.baseDirectory.getDirectoryHandle("fileDefinitions");case 56:return e.t9=e.sent,e.t10=this.disposables,e.next=60,(0,e.t8)(e.t9,e.t10);case 60:e.next=64;break;case 62:e.prev=62,e.t11=e["catch"](52);case 64:return e.prev=64,e.next=67,this.baseDirectory.getDirectoryHandle("scripts");case 67:g=e.sent,e.next=72;break;case 70:e.prev=70,e.t12=e["catch"](64);case 72:return e.next=74,Promise.all([Bi(this.fileSystem,this.uiStore,this.disposables).then(Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!g){e.next=6;break}return e.next=3,Ei(g,j.uiStore,j.disposables,j.isGlobal);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=void 0;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)}))))]);case 74:return e.next=76,this.fileSystem.directoryExists("snippets");case 76:if(!e.sent){e.next=92;break}return e.next=79,this.baseDirectory.getDirectoryHandle("snippets");case 79:if(y=e.sent,!this.isGlobal){e.next=84;break}this.disposables.push(i.projectManager.onActiveProject(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=(n=j.disposables).push,e.t1=n,e.t2=p["a"],e.next=5,t.snippetLoader.loadFrom(y);case 5:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.next=92;break;case 84:return e.t13=(w=this.disposables).push,e.t14=w,e.t15=p["a"],e.next=89,i.project.snippetLoader.loadFrom(y);case 89:e.t16=e.sent,e.t17=(0,e.t15)(e.t16),e.t13.apply.call(e.t13,e.t14,e.t17);case 92:return e.next=94,this.fileSystem.fileExists(".installed");case 94:if(!e.sent){e.next=96;break}return e.abrupt("return");case 96:return e.next=98,this.installFiles.execute(this.isGlobal);case 98:return e.next=100,this.fileSystem.writeFile(".installed","");case 100:case"end":return e.stop()}}),e,this,[[19,32,35,38],[40,50],[52,62],[64,70]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"deactivate",value:function(){this.disposables.forEach((function(e){return e.dispose()})),this.isLoaded=!1}},{key:"setActive",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,this.activate();case 3:e.next=6;break;case 5:this.deactivate();case 6:return e.next=8,null===(n=this.parent.activeStatus)||void 0===n?void 0:n.setActive(this.manifest.id,t);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"forStore",value:function(e){var t=new Gi(e,this.manifest);return t.setInstalled(),t}},{key:"installFilesToCurrentProject",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.installFiles.execute(!1);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),Yi=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r){var a;return Object(i["a"])(this,n),a=t.call(this),Object(o["a"])(Object(w["a"])(a),"fileSystem",void 0),Object(o["a"])(Object(w["a"])(a),"savePath",void 0),Object(o["a"])(Object(w["a"])(a),"inactiveExtensions",new Set),a.fileSystem=e,a.savePath=r,a.loadFile().finally((function(){return a.dispatch()})),a}return Object(a["a"])(n,[{key:"loadFile",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=Set,e.next=4,this.fileSystem.readJSON(this.savePath);case 4:e.t1=e.sent,this.inactiveExtensions=new e.t0(e.t1),e.next=10;break;case 8:e.prev=8,e.t2=e["catch"](0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fileSystem.writeJSON(this.savePath,Object(p["a"])(this.inactiveExtensions));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setActive",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n?this.inactiveExtensions.delete(t):this.inactiveExtensions.add(t),e.next=3,this.save();case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"isActive",value:function(e){return!this.inactiveExtensions.has(e)}}]),n}($["a"]),Xi=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r){var a,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(i["a"])(this,n),a=t.call(this),Object(o["a"])(Object(w["a"])(a),"fileSystem",void 0),Object(o["a"])(Object(w["a"])(a),"saveInactivePath",void 0),Object(o["a"])(Object(w["a"])(a),"isGlobal",void 0),Object(o["a"])(Object(w["a"])(a),"_extensions",new Map),Object(o["a"])(Object(w["a"])(a),"_loadedInstalledExtensions",new $["a"](2)),Object(o["a"])(Object(w["a"])(a),"activeStatus",void 0),a.fileSystem=e,a.saveInactivePath=r,a.isGlobal=s,a}return Object(a["a"])(n,[{key:"extensions",get:function(){return this._extensions}},{key:"loadActiveExtensions",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.activeStatus=new Yi(this.fileSystem,this.saveInactivePath),e.next=3,this.activeStatus.fired;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getInstalledExtensions",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fired;case 2:return e.abrupt("return",new Map(this.extensions.entries()));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadExtensions",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u,l,d,p,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadActiveExtensions();case 2:n=[],r=!0,i=!1,e.prev=5,o=Object(Nn["a"])(t.values());case 7:return e.next=9,o.next();case 9:return s=e.sent,r=s.done,e.next=13,s.value;case 13:if(c=e.sent,r){e.next=22;break}if(u=c,".DS_Store"!==u.name){e.next=18;break}return e.abrupt("continue",19);case 18:n.push(this.loadExtension(t,u,!1));case 19:r=!0,e.next=7;break;case 22:e.next=28;break;case 24:e.prev=24,e.t0=e["catch"](5),i=!0,a=e.t0;case 28:if(e.prev=28,e.prev=29,r||null==o.return){e.next=33;break}return e.next=33,o.return();case 33:if(e.prev=33,!i){e.next=36;break}throw a;case 36:return e.finish(33);case 37:return e.finish(28);case 38:return e.next=40,Promise.all(n);case 40:this._loadedInstalledExtensions.dispatch(),l=Object(R["a"])(this._extensions),e.prev=42,l.s();case 44:if((d=l.n()).done){e.next=51;break}if(p=Object(he["a"])(d.value,2),p[0],h=p[1],!h.isActive){e.next=49;break}return e.next=49,h.activate();case 49:e.next=44;break;case 51:e.next=56;break;case 53:e.prev=53,e.t1=e["catch"](42),l.e(e.t1);case 56:return e.prev=56,l.f(),e.finish(56);case 59:this.dispatch();case 60:case"end":return e.stop()}}),e,this,[[5,24,28,38],[29,,33,37],[42,53,56,59]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadExtension",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=a.length>2&&void 0!==a[2]&&a[2],"file"!==n.kind||!n.name.endsWith(".zip")){e.next=14;break}return e.t0=this,e.t1=n,e.next=6,t.getDirectoryHandle(n.name.replace(".zip",""),{create:!0});case 6:return e.t2=e.sent,e.next=9,e.t0.unzipExtension.call(e.t0,e.t1,e.t2);case 9:return i=e.sent,e.next=12,t.removeEntry(n.name);case 12:e.next=18;break;case 14:if("directory"!==n.kind){e.next=18;break}return e.next=17,this.loadManifest(n);case 17:i=e.sent;case 18:if(!r||!i){e.next=21;break}return e.next=21,i.activate();case 21:return e.abrupt("return",i);case 22:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"unzipExtension",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var i,a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=new Bn["a"](n),e.next=3,t.getFile();case 3:return a=e.sent,e.next=6,new Promise(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Fr["a"],e.t1=Uint8Array,e.next=4,a.arrayBuffer();case 4:return e.t2=e.sent,e.t3=new e.t1(e.t2),e.t4=function(e,r){e?n(e):t(r)},e.abrupt("return",(0,e.t0)(e.t3,e.t4));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 6:o=e.sent,e.t0=regeneratorRuntime.keys(o);case 8:if((e.t1=e.t0()).done){e.next=20;break}if(s=e.t1.value,!s.startsWith(".")){e.next=12;break}return e.abrupt("continue",8);case 12:if(!s.endsWith("/")){e.next=16;break}return e.next=15,i.mkdir(s.slice(0,-1),{recursive:!0});case 15:return e.abrupt("continue",8);case 16:return e.next=18,i.writeFile(s,o[s]);case 18:e.next=8;break;case 20:return e.next=22,this.loadManifest(n);case 22:return e.abrupt("return",e.sent);case 23:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"loadManifest",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getFileHandle("manifest.json");case 3:n=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return");case 9:return e.next=11,n.getFile();case 11:return r=e.sent,e.next=14,r.text().then((function(e){return JSON.parse(e)}));case 14:if(i=e.sent,!i.id){e.next=21;break}return a=new Zi(this,i,t,this.isGlobal),this._extensions.set(i.id,a),e.abrupt("return",a);case 21:u(new Error('Failed to load extension "'.concat(null!==(o=i.name)&&void 0!==o?o:t.name,'": Invalid extension ID')));case 22:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"activate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.extensions.get(t);case 2:if(n=e.sent,!n){e.next=10;break}if(n.isActive){e.next=7;break}return e.next=7,n.activate();case 7:return e.abrupt("return",!0);case 10:return u(new Error('Failed to activate extension with ID "'.concat(t,'": Extension not found'))),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deactiveAll",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Object(R["a"])(this._extensions);try{for(n.s();!(e=n.n()).done;){var r=Object(he["a"])(e.value,2),i=r[0],a=r[1];a.deactivate(),t&&this._extensions.delete(i)}}catch(o){n.e(o)}finally{n.f()}}},{key:"disposeAll",value:function(){this.deactiveAll(!0),this.resetSignal()}},{key:"mapActive",value:function(e){var t,n=[],r=Object(R["a"])(this._extensions.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.isActive&&n.push(e(i))}}catch(a){r.e(a)}finally{r.f()}return n}}]),n}($["a"]),ea=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(i["a"])(this,e),Object(o["a"])(this,"autoCleanEmptyDispatchers",void 0),Object(o["a"])(this,"events",new Map),Object(o["a"])(this,"any",new Jt["a"]),this.autoCleanEmptyDispatchers=r,n.forEach((function(e){return t.create(e)}))}return Object(a["a"])(e,[{key:"create",value:function(e){var t=this,n=this.events.get(e);if(void 0!==n)throw new Error('Dispatcher for event "'.concat(e,'" is already defined.'));return this.events.set(e,new Jt["a"]),{dispose:function(){t.events.delete(e)}}}},{key:"hasEvent",value:function(e){return this.events.has(e)}},{key:"getDispatcher",value:function(e){var t=this.events.get(e);if(void 0===t)throw new Error('No dispatcher defined for event "'.concat(e,'".'));return t}},{key:"dispatch",value:function(e,t){return this.any.dispatch([e,t]),this.getDispatcher(e).dispatch(t)}},{key:"on",value:function(e,t){var n=this,r=this.getDispatcher(e),i=r.on(t);return{dispose:function(){i.dispose(),n.autoCleanEmptyDispatchers&&!r.hasListeners&&n.events.delete(e)}}}},{key:"off",value:function(e,t){var n=this.getDispatcher(e);n.off(t),this.autoCleanEmptyDispatchers&&!n.hasListeners&&this.events.delete(e)}},{key:"once",value:function(e,t){var n=this,r=this.getDispatcher(e);r.once((function(i){t(i),n.autoCleanEmptyDispatchers&&!r.hasListeners&&n.events.delete(e)}))}}]),e}(),ta=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(i["a"])(this,n),t.call(this,[],!0)}return Object(a["a"])(n,[{key:"dispatch",value:function(e,t){this.hasEvent(e)?Object(j["a"])(Object(k["a"])(n.prototype),"dispatch",this).call(this,e,t):this.any.dispatch([e,t])}},{key:"on",value:function(e,t){return this.hasEvent(e)||this.create(e),Object(j["a"])(Object(k["a"])(n.prototype),"on",this).call(this,e,t)}}]),n}(ea),na=function(){function e(){Object(i["a"])(this,e),Object(o["a"])(this,"definitions",new Set),Object(o["a"])(this,"processedFileTabs",new Set)}return Object(a["a"])(e,[{key:"register",value:function(e){var t=this;return this.definitions.add(e),this.processedFileTabs.forEach((function(t){e.isFor(t)&&t.addAction(new Ji["a"]({icon:e.icon,name:e.name,isDisabled:function(){var n,r;return null!==(n=null===(r=e.isDisabled)||void 0===r?void 0:r.call(e,t))&&void 0!==n&&n},onTrigger:function(){return e.trigger(t)}}))})),{dispose:function(){t.definitions.delete(e),t.processedFileTabs.forEach((function(n){e.isFor(n)&&(n.clearActions(),t.addTabActions(n))}))}}}},{key:"registerPreview",value:function(e){return this.register({icon:"mdi-play",name:e.name,isFor:function(t){return t instanceof F&&t.getProjectPath().startsWith(e.fileMatch)},trigger:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r,i,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,il.getApp();case 2:return a=t.sent,t.next=5,e.createPreview(a.project.inactiveTabSystem,n);case 5:if(o=t.sent,o){t.next=8;break}return t.abrupt("return");case 8:n.connectedTabs.push(o),null===(r=a.project.inactiveTabSystem)||void 0===r||r.add(o,!0),null===(i=a.project.inactiveTabSystem)||void 0===i||i.setActive(!0);case 11:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()})}},{key:"addTabActions",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.processedFileTabs.add(t),t.onClose.on((function(){return a.processedFileTabs.delete(t)})),n=Object(R["a"])(this.definitions),e.prev=3,i=regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.value,e.next=3,n.isFor(t);case 3:if(!e.sent){e.next=5;break}t.addAction(new Ji["a"]({icon:n.icon,name:n.name,onTrigger:function(){return n.trigger(t)}}));case 5:case"end":return e.stop()}}),e)})),n.s();case 6:if((r=n.n()).done){e.next=10;break}return e.delegateYield(i(),"t0",8);case 8:e.next=6;break;case 10:e.next=15;break;case 12:e.prev=12,e.t1=e["catch"](3),n.e(e.t1);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[3,12,15,18]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),ra=(n("498a"),function(){function e(t){var n=t.name,r=t.description,a=t.fileTypes,s=t.locations,c=t.data;Object(i["a"])(this,e),Object(o["a"])(this,"name",void 0),Object(o["a"])(this,"description",void 0),Object(o["a"])(this,"fileTypes",void 0),Object(o["a"])(this,"locations",void 0),Object(o["a"])(this,"data",void 0),this.name=n,this.description=r,this.fileTypes=new Set(a),this.locations=null!==s&&void 0!==s?s:[],this.data=c}return Object(a["a"])(e,[{key:"displayData",get:function(){return{name:this.name,description:this.description}}},{key:"insertData",get:function(){return[this.name,this.data]}},{key:"insertText",get:function(){return JSON.stringify(this.insertData,null,"\t").slice(1,-1).replaceAll("\n\t","\n").trim()}},{key:"isValid",value:function(e,t){return this.fileTypes.has(e)&&(0===this.locations.length||this.locations.some((function(e){return t.some((function(t){return e===t||""!==e&&Object(ge["isMatch"])(t,e)}))})))}}]),e}());v["languages"].registerCompletionItemProvider("json",{provideCompletionItems:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:if(i=e.sent,a=Object(fe["a"])(t.getValue(),t.getOffsetAt(n)).path.join("/"),o=null===(r=i.project.tabSystem)||void 0===r?void 0:r.selectedTab,o instanceof F){e.next=7;break}return e.abrupt("return",{suggestions:[]});case 7:return s=o.getFileType(),e.abrupt("return",{suggestions:i.project.snippetLoader.getSnippetsFor(s,[a]).map((function(e){return{kind:v["languages"].CompletionItemKind.Snippet,label:e.displayData.name,documentation:e.displayData.description,insertText:e.insertText}}))});case 9:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()});var ia=function(){function e(){Object(i["a"])(this,e),Object(o["a"])(this,"snippets",new Set)}return Object(a["a"])(e,[{key:"activate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return t=e.sent,e.next=5,t.project.getCurrentDataPackage();case 5:return n=e.sent,e.next=8,n.getDirectoryHandle("snippet",{create:!0});case 8:return r=e.sent,e.next=11,this.loadFrom(r);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadFrom",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],e.next=3,Object(mr["a"])(t,function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=kn.a,e.next=4,t.getFile().then((function(e){return e.text()}));case 4:e.t1=e.sent,a=e.t0.parse.call(e.t0,e.t1),e.next=12;break;case 8:return e.prev=8,e.t2=e["catch"](0),console.error('Invalid JSON within snippet "'.concat(r,'"')),e.abrupt("return");case 12:n.push(i.addSnippet(new ra(a)));case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deactivate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.snippets.clear();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addSnippet",value:function(e){var t=this;return this.snippets.add(e),{dispose:function(){t.snippets.delete(e)}}}},{key:"getSnippetsFor",value:function(e,t){return Object(p["a"])(this.snippets).filter((function(n){return n.isValid(e,t)}))}}]),e}(),aa=function(){function e(){Object(i["a"])(this,e),Object(o["a"])(this,"exports",new Set)}return Object(a["a"])(e,[{key:"register",value:function(e){var t=this;return this.exports.add(e),{dispose:function(){return t.exports.delete(e)}}}},{key:"getExporters",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Object(p["a"])(this.exports).map(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=S["a"],e.t1=Object(S["a"])({},t.displayData),e.t2={},e.next=5,t.isDisabled();case 5:return e.t3=e.sent,e.t4=function(){return t.export()},e.t5={isDisabled:e.t3,onTrigger:e.t4},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t5));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),oa=function(){function e(t,n,r){var a=this;Object(i["a"])(this,e),Object(o["a"])(this,"parent",void 0),Object(o["a"])(this,"app",void 0),Object(o["a"])(this,"_baseDirectory",void 0),Object(o["a"])(this,"recentFiles",void 0),Object(o["a"])(this,"tabSystems",void 0),Object(o["a"])(this,"_projectData",void 0),Object(o["a"])(this,"packIndexer",void 0),Object(o["a"])(this,"_fileSystem",void 0),Object(o["a"])(this,"compilerManager",new ir(this)),Object(o["a"])(this,"jsonDefaults",new _r(this)),Object(o["a"])(this,"typeLoader",void 0),Object(o["a"])(this,"config",void 0),Object(o["a"])(this,"extensionLoader",void 0),Object(o["a"])(this,"fileChange",new ta),Object(o["a"])(this,"fileSave",new ta),Object(o["a"])(this,"tabActionProvider",new na),Object(o["a"])(this,"snippetLoader",new ia),Object(o["a"])(this,"exportProvider",new aa),this.parent=t,this.app=n,this._baseDirectory=r,this._fileSystem=Object(ue["d"])(new Bn["a"](r)),this.config=new Pn(this._fileSystem),this.packIndexer=new Vn["a"](n,r),this.extensionLoader=new Xi(n.fileSystem,"projects/".concat(this.name,"/.bridge/inactiveExtensions.json")),this.typeLoader=new Tr(this.app.dataLoader),this.recentFiles=Object(ue["e"])(new _n(n,"projects/".concat(this.name,"/.bridge/recentFiles.json"))),this.fileChange.any.on((function(e){return il.eventSystem.dispatch("fileChange",e)})),this.fileSave.any.on((function(e){return il.eventSystem.dispatch("fileSave",e)})),this.tabSystems=[new Cn(this),new Cn(this,1)],setTimeout((function(){return a.onCreate()}),0)}return Object(a["a"])(e,[{key:"projectData",get:function(){return this._projectData}},{key:"name",get:function(){return this.baseDirectory.name}},{key:"tabSystem",get:function(){return this.tabSystems[0].isActive?this.tabSystems[0]:this.tabSystems[1].isActive?this.tabSystems[1]:void 0}},{key:"inactiveTabSystem",get:function(){return this.tabSystems[0].isActive?this.tabSystems[1].isActive?void 0:this.tabSystems[1]:this.tabSystems[0]}},{key:"baseDirectory",get:function(){return this._baseDirectory}},{key:"fileSystem",get:function(){return this._fileSystem}},{key:"isActiveProject",get:function(){return this.name===this.parent.selectedProject}},{key:"activate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=s.length>0&&void 0!==s[0]&&s[0],this.parent.title.setProject(this.name),this.parent.activatedProject.dispatch(this),n){e.next=21;break}r=Object(R["a"])(this.tabSystems),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,a.activate();case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.t1=this.extensionLoader,e.next=24,this.fileSystem.getDirectoryHandle(".bridge/extensions",{create:!0});case 24:return e.t2=e.sent,e.next=27,e.t1.loadExtensions.call(e.t1,e.t2);case 27:return o=null===(t=this.tabSystem)||void 0===t?void 0:t.selectedTab,this.typeLoader.activate(o instanceof F?o.getProjectPath():void 0),e.next=31,this.packIndexer.activate(n);case 31:return e.next=33,Promise.all([this.jsonDefaults.activate(),this.compilerManager.start("default.json","dev")]);case 33:this.snippetLoader.activate();case 34:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"deactivate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||this.tabSystems.forEach((function(e){return e.deactivate()})),this.typeLoader.deactivate(),this.packIndexer.deactivate(),this.compilerManager.deactivate(),this.jsonDefaults.deactivate(),this.extensionLoader.disposeAll(),this.snippetLoader.deactivate()}},{key:"disposeWorkers",value:function(){this.packIndexer.dispose(),this.compilerManager.dispose()}},{key:"dispose",value:function(){this.disposeWorkers(),this.tabSystems.forEach((function(e){return e.dispose()})),this.extensionLoader.disposeAll()}},{key:"refresh",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.deactivate(!0),this.disposeWorkers(),e.next=4,this.activate(!0);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"openFile",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=!(c.length>1&&void 0!==c[1])||c[1],i=Object(R["a"])(this.tabSystems),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=13;break}return o=a.value,e.next=8,o.getTab(t);case 8:if(s=e.sent,!s){e.next=11;break}return e.abrupt("return",r?o.select(s):void 0);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](2),i.e(e.t0);case 18:return e.prev=18,i.f(),e.finish(18);case 21:null===(n=this.tabSystem)||void 0===n||n.open(t,r);case 22:case"end":return e.stop()}}),e,this,[[2,15,18,21]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"closeFile",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Object(R["a"])(this.tabSystems),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=11;break}return i=r.value,e.next=7,i.getTab(t);case 7:a=e.sent,null===a||void 0===a||a.close();case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](1),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getFileTab",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Object(R["a"])(this.tabSystems),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=12;break}return i=r.value,e.next=7,i.getTab(t);case 7:if(a=e.sent,void 0===a){e.next=10;break}return e.abrupt("return",a);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](1),n.e(e.t0);case 17:return e.prev=17,n.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[1,14,17,20]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"absolutePath",value:function(e){return"projects/".concat(this.name,"/").concat(e)}},{key:"getProjectPath",value:function(e){return this.baseDirectory.resolve(e).then((function(e){return null===e||void 0===e?void 0:e.join("/")}))}},{key:"updateFile",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fileSystem.getFileHandle(t);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return");case 8:return e.next=10,Promise.all([this.packIndexer.updateFile(t),this.compilerManager.updateFiles("default.json",[t])]);case 10:return e.next=12,this.jsonDefaults.updateDynamicSchemas(t);case 12:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateFiles",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.packIndexer.updateFiles(t),this.compilerManager.updateFiles("default.json",t)]);case 2:return e.next=4,this.jsonDefaults.updateMultipleDynamicSchemas(t);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"unlinkFile",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.packIndexer.unlink(t);case 2:return e.next=4,this.compilerManager.unlink(t);case 4:return e.next=6,this.fileSystem.unlink(t);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateChangedFiles",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.packIndexer.activate(!0);case 2:return e.next=4,this.compilerManager.start("default.json","dev");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getFileFromDiskOrTab",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fileSystem.getFileHandle(t);case 2:return n=e.sent,e.next=5,this.getFileTab(n);case 5:if(r=e.sent,!(r&&r instanceof F)){e.next=10;break}return e.next=9,r.getFile();case 9:return e.abrupt("return",e.sent);case 10:return e.next=12,n.getFile();case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setActiveTabSystem",value:function(e,t){this.tabSystems.forEach((function(n){return e!==n?n.setActive(t,!1):void 0}))}},{key:"hasPacks",value:function(e){var t,n=this,r=Object(R["a"])(e);try{var i=function(){var e,r=t.value;if(null===(e=n._projectData.contains)||void 0===e||!e.some((function(e){var t=e.id;return t===r})))return{v:!1}};for(r.s();!(t=r.n()).done;){var a=i();if("object"===Object(C["a"])(a))return a.v}}catch(o){r.e(o)}finally{r.f()}return!0}},{key:"loadProject",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.config.setup();case 2:return e.t0=ue["g"],e.t1=this,e.t2=S["a"],e.t3=Object(S["a"])({},this.config.get()),e.t4={},e.t5=this.name,e.t6=this.name,e.next=11,An("projects/".concat(this.name),this.app.fileSystem);case 11:return e.t7=e.sent,e.t8=[],e.t9={path:e.t5,name:e.t6,imgSrc:e.t7,contains:e.t8},e.t10=(0,e.t2)(e.t3,e.t4,e.t9),(0,e.t0)(e.t1,"_projectData",e.t10),e.next=18,In(this.app,this.name).then((function(e){return Object(ue["g"])(t._projectData,"contains",e.sort((function(e,t){return e.id.localeCompare(t.id)})))}));case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"recompile",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=!(n.length>0&&void 0!==n[0])||n[0],t&&this.compilerManager.dispose(),!t||!this.isActiveProject){e.next=6;break}this.compilerManager.start("default.json","dev",!0),e.next=8;break;case 6:return e.next=8,this.fileSystem.writeFile(".bridge/.restartDevServer","");case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function sa(e){if(e["minecraft:geometry"])return e;var t,n=Object.entries(e).filter((function(e){var t=Object(he["a"])(e,2),n=(t[0],t[1]);return"string"!==typeof n})),r=[],i=Object(R["a"])(n);try{for(i.s();!(t=i.n()).done;){var a=Object(he["a"])(t.value,2),o=a[0],s=a[1];r.push({description:{identifier:o,texture_width:s.texturewidth,texture_height:s.textureheight},bones:s.bones})}}catch(c){i.e(c)}finally{i.f()}return{format_version:"1.12.0","minecraft:geometry":r}}var ca=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,a){var s;return Object(i["a"])(this,n),s=t.call(this),Object(o["a"])(Object(w["a"])(s),"app",void 0),Object(o["a"])(Object(w["a"])(s),"filePath",void 0),Object(o["a"])(Object(w["a"])(s),"fileContent",void 0),Object(o["a"])(Object(w["a"])(s),"disposable",void 0),Object(o["a"])(Object(w["a"])(s),"children",[]),Object(o["a"])(Object(w["a"])(s),"ready",new $["a"]),s.app=e,s.filePath=a,s.activate(),e.project.getFileFromDiskOrTab(a).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.onFileChange(t);case 2:return e.next=4,s.setup(t);case 4:s.ready.dispatch();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s}return Object(a["a"])(n,[{key:"setup",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"activate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===this.disposable){e.next=2;break}return e.abrupt("return");case 2:this.disposable=this.app.project.fileChange.on(this.filePath,(function(e){return t.onFileChange(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"requestFile",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.onFileChange(t);case 2:return e.abrupt("return",new Promise((function(e){n.once((function(t){return e(t)}))})));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"compileFile",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.app.project.compilerManager.fired;case 2:return e.next=4,this.app.project.compilerManager.compileWithFile(this.filePath,t);case 4:return n=e.sent,r=Object(he["a"])(n,2),i=r[0],a=r[1],this.children.forEach((function(e){return e.dispose()})),this.children=[],i.forEach((function(e){var n=new ua(o.app,e);o.children.push(n),n.on((function(){return o.onFileChange(t)}))})),e.abrupt("return",new File([a],t.name));case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onFileChange",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.compileFile(t);case 3:e.t1=e.sent,e.t0.dispatch.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"dispose",value:function(){var e;null===(e=this.disposable)||void 0===e||e.dispose(),this.disposable=void 0,this.children.forEach((function(e){return e.dispose()}))}}]),n}(Jt["a"]),ua=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r){var a;return Object(i["a"])(this,n),a=t.call(this),Object(o["a"])(Object(w["a"])(a),"app",void 0),Object(o["a"])(Object(w["a"])(a),"filePath",void 0),Object(o["a"])(Object(w["a"])(a),"disposable",void 0),a.app=e,a.filePath=r,a.activate(),a}return Object(a["a"])(n,[{key:"activate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===this.disposable){e.next=2;break}return e.abrupt("return");case 2:this.disposable=this.app.project.fileSave.on(this.filePath,(function(e){return t.onFileChange(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onFileChange",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.dispatch();case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"dispose",value:function(){var e;null===(e=this.disposable)||void 0===e||e.dispose(),this.disposable=void 0}}]),n}(Jt["a"]),la=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r){var a;return Object(i["a"])(this,n),a=t.call(this,e,r),a.ready.on((function(){a.on((function(e){return a.onChange(e)}))})),a}return Object(a["a"])(n,[{key:"setup",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.compileFile(t);case 3:return e.t1=e.sent,e.next=6,e.t0.onChange.call(e.t0,e.t1,!0);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(ca),da=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r,a){var s;return Object(i["a"])(this,n),s=t.call(this,e.app,r),Object(o["a"])(Object(w["a"])(s),"parent",void 0),Object(o["a"])(Object(w["a"])(s),"includedGeometryIdentifiers",void 0),Object(o["a"])(Object(w["a"])(s),"geometryJson",{}),Object(o["a"])(Object(w["a"])(s),"selected",void 0),s.parent=e,s.includedGeometryIdentifiers=a,s}return Object(a["a"])(n,[{key:"select",value:function(e){this.selected=e}},{key:"onChange",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.prev=1,e.t0=sa,e.t1=kn.a,e.next=6,t.text();case 6:e.t2=e.sent,e.t3=e.t1.parse.call(e.t1,e.t2),this.geometryJson=(0,e.t0)(e.t3),n||this.parent.onChange(),e.next=14;break;case 12:e.prev=12,e.t4=e["catch"](1);case 14:case"end":return e.stop()}}),e,this,[[1,12]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"includedGeometries",get:function(){var e,t,n,r,i,a=this;return void 0===this.includedGeometryIdentifiers?null!==(e=null===(t=this.geometryJson)||void 0===t?void 0:t["minecraft:geometry"])&&void 0!==e?e:[]:null!==(n=null===(r=this.geometryJson)||void 0===r||null===(i=r["minecraft:geometry"])||void 0===i?void 0:i.filter((function(e){var t=e.description;return!a.includedGeometryIdentifiers.includes(t.identifier)})))&&void 0!==n?n:[]}},{key:"identifiers",get:function(){return this.includedGeometries.map((function(e){var t=e.description;return t.identifier}))}},{key:"geometry",get:function(){var e,t=this;return null!==(e=this.includedGeometries.find((function(e){var n=e.description;return n.identifier===t.selected})))&&void 0!==e?e:this.includedGeometries[0]}}]),n}(la),pa=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r,a){var s;return Object(i["a"])(this,n),s=t.call(this,e.app,r),Object(o["a"])(Object(w["a"])(s),"parent",void 0),Object(o["a"])(Object(w["a"])(s),"includedAnimationIdentifiers",void 0),Object(o["a"])(Object(w["a"])(s),"animationJson",{}),s.parent=e,s.includedAnimationIdentifiers=a,s}return Object(a["a"])(n,[{key:"onChange",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.prev=1,e.t0=kn.a,e.next=5,t.text();case 5:e.t1=e.sent,this.animationJson=e.t0.parse.call(e.t0,e.t1),n||this.parent.onChange(),e.next=12;break;case 10:e.prev=10,e.t2=e["catch"](1);case 12:case"end":return e.stop()}}),e,this,[[1,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"includedAnimations",get:function(){var e,t,n=this;return void 0===this.includedAnimationIdentifiers?Object.entries(null!==(e=null===(t=this.animationJson)||void 0===t?void 0:t["animations"])&&void 0!==e?e:{}):Object.entries(this.animationJson["animations"]).filter((function(e){var t=Object(he["a"])(e,2),r=(t[0],t[1].description);return!n.includedAnimationIdentifiers.includes(r.identifier)}))}},{key:"identifiers",get:function(){return this.includedAnimations.map((function(e){var t=Object(he["a"])(e,1),n=t[0];return n}))}}]),n}(la),ha=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r,a){var s;return Object(i["a"])(this,n),s=t.call(this,e.app,a),Object(o["a"])(Object(w["a"])(s),"parent",void 0),Object(o["a"])(Object(w["a"])(s),"shortName",void 0),Object(o["a"])(Object(w["a"])(s),"particleData",{}),s.parent=e,s.shortName=r,s}return Object(a["a"])(n,[{key:"onChange",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.prev=1,e.t0=kn.a,e.next=5,t.text();case 5:e.t1=e.sent,this.particleData=e.t0.parse.call(e.t0,e.t1),n||this.parent.onChange(),e.next=12;break;case 10:e.prev=10,e.t2=e["catch"](1);case 12:case"end":return e.stop()}}),e,this,[[1,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"identifier",get:function(){var e,t,n;return null===(e=this.particleData)||void 0===e||null===(t=e.particle_effect)||void 0===t||null===(n=t.description)||void 0===n?void 0:n.identifier}},{key:"json",get:function(){return this.particleData}}]),n}(la),fa=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r){var a;return Object(i["a"])(this,n),a=t.call(this,e.app,r),Object(o["a"])(Object(w["a"])(a),"parent",void 0),Object(o["a"])(Object(w["a"])(a),"entityData",{}),a.parent=e,a}return Object(a["a"])(n,[{key:"onChange",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.prev=1,e.t0=kn.a,e.next=5,t.text();case 5:e.t1=e.sent,this.entityData=e.t0.parse.call(e.t0,e.t1),n||this.parent.onChange(),e.next=12;break;case 10:e.prev=10,e.t2=e["catch"](1);case 12:case"end":return e.stop()}}),e,this,[[1,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"findComponent",value:function(e){var t=this,n=[],r=function(e){return n.push(e)},i=["*/components/".concat(e),"*/component_groups/*/".concat(e)];return i.forEach((function(e){return fn(e,t.entityData,r)})),n}},{key:"getSeatBoxHelpers",value:function(){var e,t=this.findComponent("minecraft:rideable"),n={x:12.8,y:28.8,z:12.8};return null===(e=t.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.seats)&&void 0!==t?t:[]})).flat().map((function(e){return null===e||void 0===e?void 0:e.position})).filter((function(e){return Array.isArray(e)&&"number"===typeof e[0]&&"number"===typeof e[1]&&"number"===typeof e[2]})))||void 0===e?void 0:e.map((function(e){return{color:"#ff0000",position:{x:-16*e[0],y:16*e[1],z:-16*e[2]},size:n}}))}},{key:"getCollisionBoxes",value:function(){return this.findComponent("minecraft:collision_box").filter((function(e){return"number"===typeof(null===e||void 0===e?void 0:e.width)&&"number"===typeof(null===e||void 0===e?void 0:e.height)})).map((function(e){return{color:"#ffff00",position:{x:0,y:0,z:0},size:{x:16*e.width,y:16*e.height,z:16*e.width}}}))}},{key:"getHitboxes",value:function(){return this.findComponent("minecraft:custom_hit_test").map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.hitboxes)&&void 0!==t?t:[]})).flat().filter((function(e){return"number"===typeof(null===e||void 0===e?void 0:e.width)&&"number"===typeof(null===e||void 0===e?void 0:e.height)&&(void 0===(null===e||void 0===e?void 0:e.pivot)||Array.isArray(null===e||void 0===e?void 0:e.pivot)&&"number"===typeof e.pivot[0]&&"number"===typeof e.pivot[1]&&"number"===typeof e.pivot[2])})).map((function(e){var t,n,r,i,a,o;return{color:"#0000ff",position:{x:-16*(null!==(t=null===e||void 0===e||null===(n=e.pivot)||void 0===n?void 0:n[0])&&void 0!==t?t:0),y:16*((null!==(r=null===e||void 0===e||null===(i=e.pivot)||void 0===i?void 0:i[1])&&void 0!==r?r:0)-e.height/2),z:-16*(null!==(a=null===e||void 0===e||null===(o=e.pivot)||void 0===o?void 0:o[2])&&void 0!==a?a:0)},size:{x:16*e.width,y:16*e.height,z:16*e.width}}}))}}]),n}(la),va=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r){var a;return Object(i["a"])(this,n),a=t.call(this),Object(o["a"])(Object(w["a"])(a),"app",void 0),Object(o["a"])(Object(w["a"])(a),"renderData",void 0),Object(o["a"])(Object(w["a"])(a),"_geometries",[]),Object(o["a"])(Object(w["a"])(a),"_animations",[]),Object(o["a"])(Object(w["a"])(a),"readyPromises",[]),Object(o["a"])(Object(w["a"])(a),"_currentTexturePath",void 0),Object(o["a"])(Object(w["a"])(a),"_runningAnimations",new Set),Object(o["a"])(Object(w["a"])(a),"particleEffects",[]),Object(o["a"])(Object(w["a"])(a),"_serverEntity",void 0),a.app=e,a.renderData=r,a._currentTexturePath=a.texturePaths[0],a}return Object(a["a"])(n,[{key:"ready",get:function(){return Promise.all(this.readyPromises)}},{key:"update",value:function(e){this.renderData=e}},{key:"createGeometry",value:function(e,t){var n=new da(this,e,t);this._geometries.push(n),this.readyPromises.push(n.ready.fired)}},{key:"createAnimation",value:function(e,t){var n=new pa(this,e,t);this._animations.push(n),this.readyPromises.push(n.ready.fired)}},{key:"createParticle",value:function(e,t){var n=new ha(this,e,t);this.particleEffects.push(n),this.readyPromises.push(n.ready.fired)}},{key:"addServerEntity",value:function(e){this._serverEntity=new fa(this,e),this.readyPromises.push(this._serverEntity.ready.fired)}},{key:"selectGeometry",value:function(e){var t,n=Object(R["a"])(this._geometries);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.identifiers.includes(e))return r.select(e)}}catch(i){n.e(i)}finally{n.f()}throw new Error('Failed to find geometry with ID "'.concat(e,'"'))}},{key:"selectTexturePath",value:function(e){this._currentTexturePath=e}},{key:"onChange",value:function(){this.dispatch()}},{key:"identifier",get:function(){return this.renderData.identifier}},{key:"texturePaths",get:function(){return this.renderData.texturePaths}},{key:"geometryIdentifiers",get:function(){return this._geometries.map((function(e){return e.identifiers})).flat()}},{key:"animations",get:function(){var e=this;return this._animations.map((function(e){return e.includedAnimations})).flat().filter((function(t){var n=Object(he["a"])(t,1),r=n[0];return e.renderData.connectedAnimations.has(r)}))}},{key:"runningAnimations",get:function(){return this._runningAnimations}},{key:"modelData",get:function(){return this._geometries[0].geometry}},{key:"currentTexturePath",get:function(){return this._currentTexturePath}},{key:"particles",get:function(){return this.particleEffects.map((function(e){return[e.shortName,e.json]}))}},{key:"serverEntity",get:function(){return this._serverEntity}},{key:"activate",value:function(){this._geometries.forEach((function(e){return e.activate()}))}},{key:"dispose",value:function(){var e;this._geometries.forEach((function(e){return e.dispose()})),this._animations.forEach((function(e){return e.dispose()})),null===(e=this._serverEntity)||void 0===e||e.dispose()}}]),n}(Jt["a"]),ma=n("b9f1"),ba=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{click:function(t){return e.tab.parent.setActive(!0)}}},[n("canvas",{ref:"canvas"})])},ga=[],ya={name:"ThreePreviewTab",props:{tab:Object},activated:function(){this.tab.receiveCanvas(this.$refs.canvas)},mounted:function(){this.tab.receiveCanvas(this.$refs.canvas)},watch:{tab:function(){this.tab.receiveCanvas(this.$refs.canvas)}}},wa=ya,ja=Object(W["a"])(wa,ba,ga,!1,null,null,null),ka=ja.exports,xa=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r){var a;return Object(i["a"])(this,n),a=t.call(this,r),Object(o["a"])(Object(w["a"])(a),"tab",void 0),Object(o["a"])(Object(w["a"])(a),"isForeignFile",!0),a.tab=e,a.onCreate(),a}return Object(a["a"])(n,[{key:"onCreate",value:function(){}},{key:"onActivate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.onChange(),this.isActive=!0;case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"name",get:function(){return"".concat(this.parent.app.locales.translate("preview.name"),": ").concat(this.tab.name)}},{key:"save",value:function(){}},{key:"getFile",value:function(){return this.tab.getFile()}}],[{key:"is",value:function(){return!1}}]),n}(_["a"]),Oa=n("5a89"),Sa=n("4721"),Ca=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;Object(i["a"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(o["a"])(Object(w["a"])(e),"component",ka),Object(o["a"])(Object(w["a"])(e),"setupComplete",new $["a"]),Object(o["a"])(Object(w["a"])(e),"disposables",[]),Object(o["a"])(Object(w["a"])(e),"model",void 0),Object(o["a"])(Object(w["a"])(e),"canvas",void 0),Object(o["a"])(Object(w["a"])(e),"renderer",void 0),Object(o["a"])(Object(w["a"])(e),"_camera",void 0),Object(o["a"])(Object(w["a"])(e),"controls",void 0),Object(o["a"])(Object(w["a"])(e),"_scene",void 0),Object(o["a"])(Object(w["a"])(e),"renderingRequested",!1),Object(o["a"])(Object(w["a"])(e),"width",0),Object(o["a"])(Object(w["a"])(e),"height",0),e}return Object(a["a"])(n,[{key:"scene",get:function(){if(!this._scene)throw new Error("Scene is not defined yet");return this._scene}},{key:"camera",get:function(){if(!this._camera)throw new Error("Camera is not defined yet");return this._camera}},{key:"isFor",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"receiveCanvas",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:r=e.sent,this.canvas=t,this.renderer=new Oa["M"]({antialias:!1,canvas:t}),this.renderer.setPixelRatio(window.devicePixelRatio),this._camera||(this._camera=new Oa["y"](70,2,.1,1e3),this._camera.position.x=-16,this._camera.position.y=16,this._camera.position.z=-16),null===(n=this.controls)||void 0===n||n.dispose(),this.controls=new Sa["a"](this.camera,t),this.controls.addEventListener("change",(function(){i.requestRendering(),i.parent.isActive||i.parent.setActive(!0)})),this._scene||(this._scene=new Oa["C"],this._scene.add(new Oa["a"](16777215))),this._scene.background=new Oa["h"](r.themeManager.getColor("background")),this.disposables.push(r.windowResize.on((function(){return setTimeout((function(){return i.onResize()}))}))),this.onResize(),this.setupComplete.dispatch();case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onActivate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.setupComplete.fired;case 2:return e.next=4,Object(j["a"])(Object(k["a"])(n.prototype),"onActivate",this).call(this);case 4:return e.next=6,il.getApp();case 6:t=e.sent,this.disposables.push(t.themeManager.on((function(){var e=t.themeManager.getColor("background");r.scene.background=new Oa["h"](e),r.requestRendering()})));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onDeactivate",value:function(){var e,t,r;this.setupComplete.resetSignal(),null===(e=this.controls)||void 0===e||e.dispose(),null===(t=this.renderer)||void 0===t||t.resetState(),null===(r=this.renderer)||void 0===r||r.dispose(),this.renderer=void 0,this.controls=void 0,Object(j["a"])(Object(k["a"])(n.prototype),"onDeactivate",this).call(this)}},{key:"render",value:function(){var e,t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null===(e=this.controls)||void 0===e||e.update(),null===(t=this.renderer)||void 0===t||t.render(this.scene,this.camera),this.renderingRequested=!1,n&&this.model&&this.model.shouldTick&&(this.model.tick(),this.isActive&&this.requestRendering())}},{key:"requestRendering",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)return this.render(!1);this.renderingRequested||(this.renderingRequested=!0,requestAnimationFrame((function(){return e.render()})))}},{key:"onResize",value:function(){var e,t,n,r,i,a=null===(e=this.canvas)||void 0===e||null===(t=e.parentElement)||void 0===t?void 0:t.getBoundingClientRect();this.width=null!==(n=null===a||void 0===a?void 0:a.width)&&void 0!==n?n:0,this.height=null!==(r=null===a||void 0===a?void 0:a.height)&&void 0!==r?r:0,null===(i=this.renderer)||void 0===i||i.setSize(this.width,this.height,!0),this.camera&&(this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix()),this.requestRendering()}},{key:"toOtherTabSystem",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(j["a"])(Object(k["a"])(n.prototype),"toOtherTabSystem",this).call(this,t);case 2:return e.next=4,this.setupComplete.fired;case 4:this.onResize();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(xa),Ra=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:e.$data.name,isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,isPersistent:!e.$data.isClosable,hasCloseButton:!1,width:440,height:400},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"default",fn:function(){return e._l(e.$data.options,(function(t,r){return n("v-checkbox",{key:r,attrs:{label:t.name,"hide-details":""},model:{value:t.isSelected,callback:function(n){e.$set(t,"isSelected",n)},expression:"option.isSelected"}})}))},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:e.onClose}},[n("v-icon",[e._v("mdi-check")]),n("span",[e._v(" "+e._s(e.t("general.confirm"))+" ")])],1)]},proxy:!0}],null,!1,3783976996)}):e._e()},Pa=[],_a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mb-6 flex justify-center align-start path-container"},[n("v-icon",{staticClass:"mr-1",attrs:{"x-large":"",color:"primary"}},[e._v("mdi-folder-outline")]),"view"===e.mode?[n("v-btn",{staticClass:"mr-2",attrs:{text:"",small:""},on:{click:function(t){e.mode="edit"}}},[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v(" "+e._s(0===e.path.length?"mdi-plus":"mdi-pencil-outline")+" ")]),e._v(" "+e._s(0===e.path.length?"Add subfolder":"Edit subfolders")+" ")],1),n("span",{on:{dblclick:function(t){e.mode="edit"}}},e._l(e.path.split("/"),(function(t,r){return n("span",{key:r,staticClass:"mr-1"},[e._v(" "+e._s(t)+"/ ")])})),0)]:n("v-text-field",{staticStyle:{display:"inline-block",width:"calc(100% - 44px)","margin-top":"0","padding-top":"0"},attrs:{rules:Object.values(e.rules),autofocus:"",dense:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.tryToViewMode()},blur:function(t){return e.tryToViewMode()}},model:{value:e.editedPath,callback:function(t){e.editedPath=t},expression:"editedPath"}})],2)},Aa=[],Ta={alphanumeric:function(e){return null!==e.match(/^[a-zA-Z0-9_\/]*$/)},noEmptyFolderNames:function(e){return null===e.match(/\/\//g)}},Fa={name:"PresetPath",props:{value:String},data:function(){return{mode:"view",editedPath:"",validationText:"",rules:Object.fromEntries(Object.entries(Ta).map((function(e){var t=Object(he["a"])(e,2),n=t[0],r=t[1];return[n,function(e){return r(e)||il.instance.locales.translate("windows.createPreset.validationRule.".concat(n))}]})))}},mounted:function(){this.mode="view",this.editedPath=this.value,this.sanitizeEditedPath()},computed:{path:function(){return this.value.substring(0,this.value.length-1)}},methods:{sanitizeEditedPath:function(){this.editedPath=this.editedPath.replaceAll("\\","/").replace(/\s+/g,"_"),this.editedPath.endsWith("/")||""===this.editedPath||(this.editedPath=this.editedPath+"/")},isPathValid:function(){var e=this;return void 0===Object.values(this.rules).map((function(t){return t(e.editedPath)})).find((function(e){return"string"===typeof e}))},tryToViewMode:function(){this.isPathValid()&&(this.mode="view")}},watch:{value:function(){this.editedPath=this.value,this.sanitizeEditedPath()},mode:function(){"view"===this.mode&&(this.sanitizeEditedPath(),this.$emit("input",this.editedPath))},editedPath:function(){var e=this;this.validationText=Object.values(this.rules).map((function(t){return t(e.editedPath)})).find((function(e){return"string"===typeof e}))}}},Ea=Fa,Da=(n("1b0a"),Object(W["a"])(Ea,_a,Aa,!1,null,"226d3b58",null)),Ma=Da.exports;X()(Da,{VBtn:ee["a"],VIcon:gt["a"],VTextField:Wt["a"]});var Ia={name:"FilePathWindow",mixins:[G["a"]],components:{BaseWindow:K["a"],PresetPath:Ma},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close(this.$data.options.filter((function(e){var t=e.isSelected;return t})).map((function(e){var t=e.name;return t})))}}},Wa=Ia,Va=n("ac7c"),Ba=Object(W["a"])(Wa,Ra,Pa,!1,null,null,null),Na=Ba.exports;X()(Ba,{VBtn:ee["a"],VCheckbox:Va["a"],VIcon:gt["a"],VSpacer:te["a"]});var La=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r;return Object(i["a"])(this,n),r=t.call(this,Na,!0,!1),Object(o["a"])(Object(w["a"])(r),"config",void 0),r.config=e,r.defineWindow(),r.open(),r}return Object(a["a"])(n,[{key:"name",get:function(){return this.config.name}},{key:"options",get:function(){return this.config.options}},{key:"isClosable",get:function(){return this.config.isClosable}}]),n}(ae["a"]),$a=n("42b0"),Ha=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,a){var s;return Object(i["a"])(this,n),s=t.call(this,e,a),Object(o["a"])(Object(w["a"])(s),"winterskyScene",Object.freeze(new $a["a"].Scene({fetchTexture:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return n=e.sent,e.prev=3,e.next=6,Fe(t.particle_texture_path,n.project.fileSystem);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e["catch"](3);case 11:case"end":return e.stop()}}),e,null,[[3,9]])})));function t(t){return e.apply(this,arguments)}return t}()}))),Object(o["a"])(Object(w["a"])(s),"_renderContainer",void 0),Object(o["a"])(Object(w["a"])(s),"boxHelperDisposables",[]),s.winterskyScene.global_options.loop_mode="once",s.winterskyScene.global_options.tick_rate=60,s.winterskyScene.global_options.max_emitter_particles=1e3,s.winterskyScene.global_options.scale=16,s.setupComplete.once((function(){return s.scene.add(s.winterskyScene.space)})),s}return Object(a["a"])(n,[{key:"renderContainer",get:function(){if(!this._renderContainer)throw new Error("Preview.renderContainer was not defined yet");return this._renderContainer}},{key:"onActivate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(j["a"])(Object(k["a"])(n.prototype),"onActivate",this).call(this);case 2:null===(t=this._renderContainer)||void 0===t||t.activate();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onCreate",value:function(){this.registerActions()}},{key:"registerActions",value:function(){var e=this;this.actions=[],this.addAction(new Ji["a"]({icon:"mdi-refresh",name:"general.reload",onTrigger:function(){return e.reload()}}),new Ji["a"]({icon:"mdi-image-outline",name:"fileType.texture",isDisabled:function(){var t,n,r;return(null!==(t=null===(n=e._renderContainer)||void 0===n||null===(r=n.texturePaths)||void 0===r?void 0:r.length)&&void 0!==t?t:0)<=1},onTrigger:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.renderContainer.texturePaths,r=new oi({name:"fileType.texture",isClosable:!1,options:n,default:e.renderContainer.currentTexturePath}),t.next=4,r.fired;case 4:i=t.sent,e.renderContainer.selectTexturePath(i),e.createModel();case 7:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}),new Ji["a"]({icon:"mdi-cube-outline",name:"fileType.geometry",isDisabled:function(){var t,n,r;return(null!==(t=null===(n=e._renderContainer)||void 0===n||null===(r=n.geometryIdentifiers)||void 0===r?void 0:r.length)&&void 0!==t?t:0)<=1},onTrigger:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.renderContainer.geometryIdentifiers,r=new oi({name:"fileType.geometry",isClosable:!1,options:n,default:n[0]}),t.next=4,r.fired;case 4:i=t.sent,e.renderContainer.selectGeometry(i),e.createModel();case 7:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}),new Ji["a"]({icon:"mdi-movie-open-outline",name:"fileType.clientAnimation",isDisabled:function(){var t,n,r;return 0==(null!==(t=null===(n=e._renderContainer)||void 0===n||null===(r=n.animations)||void 0===r?void 0:r.length)&&void 0!==t?t:0)},onTrigger:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.renderContainer.animations,i=new La({name:"fileType.clientAnimation",options:r.map((function(t){var n=Object(he["a"])(t,1),r=n[0];return{name:r,isSelected:e.renderContainer.runningAnimations.has(r)}}))}),t.next=4,i.fired;case 4:a=t.sent,null===(n=e.model)||void 0===n||n.animator.pauseAll(),e.renderContainer.runningAnimations.clear(),a.forEach((function(t){e.renderContainer.runningAnimations.add(t)})),e.createModel();case 9:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}))}},{key:"onDestroy",value:function(){var e;null===(e=this._renderContainer)||void 0===e||e.dispose(),Object(j["a"])(Object(k["a"])(n.prototype),"onDestroy",this).call(this)}},{key:"onChange",value:function(){}},{key:"createModel",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s,c,u,l=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this._renderContainer){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,il.getApp();case 4:if(n=e.sent,this.model&&(null===(r=this.scene)||void 0===r||r.remove(this.model.getGroup()),this.model.animator.disposeAnimations(),this.boxHelperDisposables.forEach((function(e){return e.dispose()}))),this.registerActions(),this.renderContainer.currentTexturePath){e.next=9;break}return e.abrupt("return");case 9:return e.t0=ma["a"],e.t1=this.renderContainer.modelData,e.next=13,Fe(this.renderContainer.currentTexturePath,n.project.fileSystem);case 13:e.t2=e.sent,this.model=new e.t0(e.t1,e.t2),this.scene.add(this.model.getGroup()),this.model.animator.setupWintersky(this.winterskyScene),this.renderContainer.particles.forEach((function(e){var t,n=Object(he["a"])(e,2),r=n[0],i=n[1];r&&(null===(t=l.model)||void 0===t||t.animator.addEmitter(r,new $a["a"].Config(l.winterskyScene,i)))})),i=Object(R["a"])(this.renderContainer.animations);try{for(i.s();!(a=i.n()).done;)o=Object(he["a"])(a.value,2),s=o[0],c=o[1],this.model.animator.addAnimation(s,c)}catch(d){i.e(d)}finally{i.f()}this.renderContainer.runningAnimations.forEach((function(e){var t;return null===(t=l.model)||void 0===t?void 0:t.animator.play(e)})),u=null===(t=this.renderContainer)||void 0===t?void 0:t.serverEntity,u&&(this.boxHelperDisposables.push(),this.createOutlineBoxes([].concat(Object(p["a"])(u.getHitboxes()),Object(p["a"])(u.getCollisionBoxes()),Object(p["a"])(u.getSeatBoxHelpers())))),this.requestRendering(),setTimeout((function(){l.requestRendering()}),100);case 25:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"createOutlineBoxes",value:function(e){var t=this;this.boxHelperDisposables=e.map((function(e){return t.model.createOutlineBox(e.color,e.position,e.size)}))}},{key:"render",value:function(){this.winterskyScene.updateFacingRotation(this.camera),Object(j["a"])(Object(k["a"])(n.prototype),"render",this).call(this)}},{key:"reload",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.model&&(null===(t=this.scene)||void 0===t||t.remove(this.model.getGroup())),null===(n=this._renderContainer)||void 0===n||n.dispose(),this._renderContainer=void 0,e.next=5,this.onChange();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(j["a"])(Object(k["a"])(n.prototype),"close",this).call(this);case 2:return t=e.sent,t&&(null===(r=this._renderContainer)||void 0===r||r.dispose(),this._renderContainer=void 0),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"icon",get:function(){return"mdi-cube-outline"}},{key:"iconColor",get:function(){return"primary"}}]),n}(Ca);function za(e){return Array.isArray(e)&&3===e.length&&"number"===typeof e[0]&&"number"===typeof e[1]&&"number"===typeof e[2]}var Ua=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r,a){var s;return Object(i["a"])(this,n),s=t.call(this,r,a),Object(o["a"])(Object(w["a"])(s),"blockFilePath",void 0),Object(o["a"])(Object(w["a"])(s),"blockWatcher",void 0),Object(o["a"])(Object(w["a"])(s),"blockJson",{}),Object(o["a"])(Object(w["a"])(s),"previewOptions",{}),s.blockFilePath=e,s.blockWatcher=new ca(il.instance,e),s.blockWatcher.on((function(e){var t;null===(t=s._renderContainer)||void 0===t||t.dispose(),s._renderContainer=void 0,s.loadRenderContainer(e)})),s}return Object(a["a"])(n,[{key:"setPreviewOptions",value:function(e){var t=e.loadComponents,n=void 0===t||t;this.previewOptions={loadComponents:n}}},{key:"close",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(j["a"])(Object(k["a"])(n.prototype),"close",this).call(this);case 2:return t=e.sent,t&&this.blockWatcher.dispose(),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadRenderContainer",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u,l,d,p,h,f,v=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===this._renderContainer){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.setupComplete;case 4:return e.next=6,il.getApp();case 6:if(i=e.sent,a=i.project.packIndexer.service,a){e.next=10;break}return e.abrupt("return");case 10:return e.prev=10,e.t0=Object,e.t3=kn.a,e.next=15,t.text();case 15:if(e.t4=e.sent,e.t5=s=e.t3.parse.call(e.t3,e.t4),e.t2=null===e.t5,e.t2){e.next=20;break}e.t2=void 0===s;case 20:if(!e.t2){e.next=24;break}e.t6=void 0,e.next=25;break;case 24:e.t6=s["minecraft:block"];case 25:if(e.t7=o=e.t6,e.t1=null!==e.t7,!e.t1){e.next=29;break}e.t1=void 0!==o;case 29:if(!e.t1){e.next=33;break}e.t8=o,e.next=34;break;case 33:e.t8={};case 34:e.t9=e.t8,this.blockJson=e.t0.freeze.call(e.t0,e.t9),e.next=41;break;case 38:return e.prev=38,e.t10=e["catch"](10),e.abrupt("return");case 41:return e.next=43,a.getCacheDataFor("block",this.blockFilePath);case 43:return c=e.sent,u=null!==(n=null===c||void 0===c?void 0:c.texture)&&void 0!==n?n:[],e.prev=45,e.t13=kn.a,e.next=49,i.project.getFileFromDiskOrTab("RP/textures/terrain_texture.json").then((function(e){return e.text()}));case 49:if(e.t14=e.sent,e.t15=p=e.t13.parse.call(e.t13,e.t14),e.t12=null===e.t15,e.t12){e.next=54;break}e.t12=void 0===p;case 54:if(!e.t12){e.next=58;break}e.t16=void 0,e.next=59;break;case 58:e.t16=p["texture_data"];case 59:if(e.t17=d=e.t16,e.t11=null!==e.t17,!e.t11){e.next=63;break}e.t11=void 0!==d;case 63:if(!e.t11){e.next=67;break}e.t18=d,e.next=68;break;case 67:e.t18={};case 68:l=e.t18,e.next=74;break;case 71:return e.prev=71,e.t19=e["catch"](45),e.abrupt("return");case 74:return e.next=76,Promise.all(u.map((function(e){var t,n;return null!==(t=null===(n=l[e])||void 0===n?void 0:n.textures)&&void 0!==t?t:[]})).flat().map((function(e){return Oe(i.project.fileSystem,"RP/".concat(e),[".tga",".png",".jpg",".jpeg"])})));case 76:if(h=e.sent,0!==h.length){e.next=79;break}return e.abrupt("return");case 79:return e.next=81,a.find("geometry","identifier",null!==(r=c.geometryIdentifier)&&void 0!==r?r:[]);case 81:f=e.sent,this._renderContainer=new va(i,{identifier:c.geometryIdentifier[0],texturePaths:h.filter((function(e){return void 0!==e})),connectedAnimations:new Set([])}),this._renderContainer.createGeometry(f[0]),this.renderContainer.ready.then((function(){v.createModel()})),this._renderContainer.on((function(){v.createModel()}));case 86:case"end":return e.stop()}}),e,this,[[10,38],[45,71]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createModel",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(j["a"])(Object(k["a"])(n.prototype),"createModel",this).call(this);case 2:this.previewOptions.loadComponents&&this.createOutlineBoxes([].concat(Object(p["a"])(this.loadCollisionBoxes("entity")),Object(p["a"])(this.loadCollisionBoxes("pick"))));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"findComponents",value:function(e,t){var n=[],r=function(e){return n.push(e)},i=["components/".concat(t),"permutations/*/components/".concat(t)];return i.forEach((function(t){return fn(t,e,r)})),n}},{key:"loadCollisionBoxes",value:function(e){return this.findComponents(this.blockJson,"minecraft:".concat(e,"_collision")).filter((function(e){return za(e.origin)&&za(e.size)})).map((function(t){var n=t.origin,r=t.size;return{color:"entity"===e?"#ffff00":"#0000ff",position:{x:n[0]+r[0]/2,y:n[1],z:n[2]+r[2]/2},size:{x:r[0],y:r[1],z:r[2]}}}))}}]),n}(Ha),Ja=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r,a){var s;return Object(i["a"])(this,n),s=t.call(this,r,a),Object(o["a"])(Object(w["a"])(s),"clientEntityFilePath",void 0),Object(o["a"])(Object(w["a"])(s),"previewOptions",{}),Object(o["a"])(Object(w["a"])(s),"clientEntityWatcher",void 0),s.clientEntityFilePath=e,s.clientEntityWatcher=new ca(il.instance,e),s.clientEntityWatcher.on((function(e){var t,n,r=null===(t=s._renderContainer)||void 0===t?void 0:t.runningAnimations;null===(n=s._renderContainer)||void 0===n||n.dispose(),s._renderContainer=void 0,s.loadRenderContainer(e,r)})),s}return Object(a["a"])(n,[{key:"setPreviewOptions",value:function(e){this.previewOptions=e}},{key:"close",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(j["a"])(Object(k["a"])(n.prototype),"close",this).call(this);case 2:return t=e.sent,t&&this.clientEntityWatcher.dispose(),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadRenderContainer",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,o,c,u,l,d,p,h,f,v,m,b,g,y,w,j,k,x,O,S=this,C=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(d=C.length>1&&void 0!==C[1]?C[1]:new Set,void 0===this._renderContainer){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.setupComplete;case 5:return e.next=7,il.getApp();case 7:if(p=e.sent,h=p.project.packIndexer.service,h){e.next=11;break}return e.abrupt("return");case 11:return e.prev=11,e.t2=kn.a,e.next=15,t.text();case 15:if(e.t3=e.sent,e.t4=m=e.t2.parse.call(e.t2,e.t3),e.t1=null===e.t4,e.t1){e.next=20;break}e.t1=void 0===m;case 20:if(!e.t1){e.next=24;break}e.t5=void 0,e.next=25;break;case 24:e.t5=m["minecraft:client_entity"];case 25:if(e.t6=v=e.t5,e.t0=null!==e.t6,!e.t0){e.next=29;break}e.t0=void 0!==v;case 29:if(!e.t0){e.next=33;break}e.t7=v,e.next=34;break;case 33:e.t7={};case 34:f=e.t7,e.next=40;break;case 37:return e.prev=37,e.t8=e["catch"](11),e.abrupt("return");case 40:return e.next=42,h.getCacheDataFor("clientEntity",this.clientEntityFilePath);case 42:return b=e.sent,g=b.texturePath,e.next=46,h.find("clientAnimation","identifier",null!==(n=b.animationIdentifier)&&void 0!==n?n:[],!0);case 46:return y=e.sent,e.next=49,h.find("geometry","identifier",null!==(i=b.geometryIdentifier)&&void 0!==i?i:[]);case 49:if(w=e.sent,0!==w.length){e.next=54;break}return new s["a"]({description:"preview.noGeometry"}),this.close(),e.abrupt("return");case 54:return e.next=56,Promise.all(Object.entries(null!==(a=null===(o=f)||void 0===o||null===(c=o.description)||void 0===c?void 0:c.particle_effects)&&void 0!==a?a:{}).map(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(he["a"])(t,2),r=n[0],i=n[1],e.t0=r,e.next=4,h.find("particle","identifier",[i],!1);case 4:return e.t1=e.sent[0],e.abrupt("return",[e.t0,e.t1]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 56:if(j=e.sent,this._renderContainer=new va(p,{identifier:b.geometryIdentifier[0],texturePaths:g,connectedAnimations:new Set(b.animationIdentifier)}),this._renderContainer.createGeometry(w[0]),y.forEach((function(e){return S._renderContainer.createAnimation(e)})),j.forEach((function(e,t){var n=Object(he["a"])(e,2),r=n[0],i=n[1];i&&S._renderContainer.createParticle(r,i)})),d&&d.forEach((function(e){var t;return null===(t=S._renderContainer)||void 0===t?void 0:t.runningAnimations.add(e)})),!this.previewOptions.loadServerEntity||null===(u=f)||void 0===u||null===(l=u.description)||void 0===l||!l.identifier){e.next=67;break}return e.next=65,h.find("entity","identifier",[null===(k=f)||void 0===k||null===(x=k.description)||void 0===x?void 0:x.identifier],!1);case 65:O=e.sent,O.length>0&&this._renderContainer.addServerEntity(O[0]);case 67:this.renderContainer.ready.then((function(){S.createModel()})),this._renderContainer.on((function(){S.createModel()}));case 69:case"end":return e.stop()}}),e,this,[[11,37]])})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(Ha);function qa(e,t){return Ga.apply(this,arguments)}function Ga(){return Ga=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,c,u,l,d,p,h,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return r=e.sent,i=r.project.packIndexer.service,e.next=6,n.getFile();case 6:return a=e.sent,e.next=9,a.text();case 9:o=e.sent,e.prev=10,c=sa(kn.a.parse(o)),e.next=17;break;case 14:return e.prev=14,e.t0=e["catch"](10),e.abrupt("return");case 17:if(u=c["minecraft:geometry"].map((function(e){var t;return null===e||void 0===e||null===(t=e.description)||void 0===t?void 0:t.identifier})).filter((function(e){return void 0!==e})),l=u[0],!(u.length>1)){e.next=24;break}return d=new oi({default:u[0],options:u,name:"preview.chooseGeometry",isClosable:!1}),e.next=23,d.fired;case 23:l=e.sent;case 24:if(l){e.next=27;break}return new s["a"]({description:"preview.noGeometry"}),e.abrupt("return");case 27:return e.next=29,i.find("clientEntity","geometryIdentifier",[l]);case 29:if(p=e.sent,0!==p.length){e.next=40;break}return e.next=33,i.find("block","geometryIdentifier",[l]);case 33:if(h=e.sent,!(h.length>0)){e.next=38;break}return f=new Ua(h[0],n,t),f.setPreviewOptions({loadComponents:!1}),e.abrupt("return",f);case 38:return new s["a"]({description:"preview.failedClientEntityLoad"}),e.abrupt("return");case 40:return e.abrupt("return",new Ja(p[0],n,t));case 41:case"end":return e.stop()}}),e,null,[[10,14]])}))),Ga.apply(this,arguments)}function Ka(e,t){return Qa.apply(this,arguments)}function Qa(){return Qa=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Ja(n.getProjectPath(),n,t));case 1:case"end":return e.stop()}}),e)}))),Qa.apply(this,arguments)}function Za(e,t){return Ya.apply(this,arguments)}function Ya(){return Ya=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,c,u,l,d,p,h,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return a=e.sent,o=a.project.packIndexer.service,e.next=6,n.getFile();case 6:return c=e.sent,e.next=9,c.text();case 9:u=e.sent,e.prev=10,l=null!==(d=null===(p=kn.a.parse(u))||void 0===p?void 0:p["minecraft:entity"])&&void 0!==d?d:{},e.next=18;break;case 14:return e.prev=14,e.t0=e["catch"](10),new s["a"]({description:"preview.invalidEntity"}),e.abrupt("return");case 18:return e.next=20,o.find("clientEntity","identifier",[null===(r=l)||void 0===r||null===(i=r.description)||void 0===i?void 0:i.identifier]);case 20:if(h=e.sent,0!==h.length){e.next=24;break}return new s["a"]({description:"preview.failedClientEntityLoad"}),e.abrupt("return");case 24:return f=new Ja(h[0],n,t),f.setPreviewOptions({loadServerEntity:!0}),e.abrupt("return",f);case 27:case"end":return e.stop()}}),e,null,[[10,14]])}))),Ya.apply(this,arguments)}var Xa=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r){var a;return Object(i["a"])(this,n),a=t.call(this,e.tabSystem.app,r),Object(o["a"])(Object(w["a"])(a),"tab",void 0),a.tab=e,a}return Object(a["a"])(n,[{key:"onChange",value:function(e){this.tab.onChange(e)}}]),n}(la),eo=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,a){var s;return Object(i["a"])(this,n),s=t.call(this,e,a),Object(o["a"])(Object(w["a"])(s),"emitter",void 0),Object(o["a"])(Object(w["a"])(s),"config",void 0),Object(o["a"])(Object(w["a"])(s),"fileWatcher",void 0),Object(o["a"])(Object(w["a"])(s),"isReloadingDone",new $["a"]),Object(o["a"])(Object(w["a"])(s),"wintersky",Object.freeze(new $a["a"].Scene({fetchTexture:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return n=e.sent,e.prev=3,e.next=6,Fe(t.particle_texture_path,n.project.fileSystem);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e["catch"](3);case 11:case"end":return e.stop()}}),e,null,[[3,9]])})));function t(t){return e.apply(this,arguments)}return t}()}))),s.setupComplete.once((function(){s.scene.add(new Oa["b"](16)),s.wintersky.global_options.tick_rate=60,s.wintersky.global_options.max_emitter_particles=1e3,s.wintersky.global_options.scale=16})),s.isReloadingDone.dispatch(),s}return Object(a["a"])(n,[{key:"onActivate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(j["a"])(Object(k["a"])(n.prototype),"onActivate",this).call(this);case 2:return e.next=4,this.onChange();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onDeactivate",value:function(){var e;null===(e=this.emitter)||void 0===e||e.stop(!0),Object(j["a"])(Object(k["a"])(n.prototype),"onDeactivate",this).call(this)}},{key:"onDestroy",value:function(){var e,t;null===(e=this.fileWatcher)||void 0===e||e.dispose(),null===(t=this.emitter)||void 0===t||t.delete(),Object(j["a"])(Object(k["a"])(n.prototype),"onDestroy",this).call(this)}},{key:"onCreate",value:function(){var e=this;this.addAction(new Ji["a"]({icon:"mdi-refresh",name:"general.reload",onTrigger:function(){return e.reload()}}))}},{key:"receiveCanvas",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=!this._camera,e.next=3,Object(j["a"])(Object(k["a"])(n.prototype),"receiveCanvas",this).call(this,t);case 3:r&&this.camera.position.set(60,30,60);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadParticle",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.fileWatcher||(this.fileWatcher=new Xa(this,this.tab.getProjectPath())),t){e.next=25;break}if(null!==(r=this.fileWatcher)&&void 0!==r){e.next=6;break}e.t1=void 0,e.next=11;break;case 6:return e.t2=r,e.next=9,this.getFile();case 9:e.t3=e.sent,e.t1=e.t2.requestFile.call(e.t2,e.t3);case 11:return e.next=13,e.t1;case 13:if(e.t4=n=e.sent,e.t0=null!==e.t4,!e.t0){e.next=17;break}e.t0=void 0!==n;case 17:if(!e.t0){e.next=21;break}e.t5=n,e.next=24;break;case 21:return e.next=23,this.getFile();case 23:e.t5=e.sent;case 24:t=e.t5;case 25:return e.prev=25,e.t6=kn.a,e.next=29,t.text();case 29:e.t7=e.sent,a=e.t6.parse.call(e.t6,e.t7),e.next=36;break;case 33:return e.prev=33,e.t8=e["catch"](25),e.abrupt("return");case 36:null===(i=this.emitter)||void 0===i||i.delete(),this.scene.children.includes(this.wintersky.space)||this.scene.add(this.wintersky.space),this.config=new $a["a"].Config(this.wintersky,a,{path:this.tab.getProjectPath()}),this.emitter=new $a["a"].Emitter(this.wintersky,this.config,{loop_mode:"looping",parent_mode:"world"}),this.emitter.start();case 41:case"end":return e.stop()}}),e,this,[[25,33]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"render",value:function(){var e,t,n;null===(e=this.controls)||void 0===e||e.update(),this.wintersky.updateFacingRotation(this.camera),null===(t=this.emitter)||void 0===t||t.tick(),null===(n=this.renderer)||void 0===n||n.render(this.scene,this.camera),this.renderingRequested=!1,this.isActive&&this.requestRendering()}},{key:"onChange",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.isReloadingDone.fired;case 2:return this.isReloadingDone.resetSignal(),e.next=5,this.loadParticle(t);case 5:this.isReloadingDone.dispatch();case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(j["a"])(Object(k["a"])(n.prototype),"close",this).call(this);case 2:return r=e.sent,r&&(null===(t=this.fileWatcher)||void 0===t||t.dispose()),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"reload",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.onChange();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"icon",get:function(){return"mdi-cube-outline"}},{key:"iconColor",get:function(){return"primary"}}]),n}(Ca),to=n("4b3f"),no=n("4f96"),ro=function(e){return{register:function(t){e.exports=function(e){var n=e.name,r=e.schema,i=e.template;n(t.command_name),r([]),i((function(e){var n=new t;return n.onApply(e)}))}}}};function io(e){var t=0,n=0,r=0,i=0,a="",o=[];while(r<e.length){switch(e[r]){case"{":t++;break;case"}":t--;break;case"[":n++;break;case"]":n--;break;case"^":case"~":if("~"===a[0]){o.push({startColumn:i,endColumn:r,word:a}),i=r+1,a=e[r];break}case"\t":case" ":if(0===t&&0===n&&""!==a){o.push({startColumn:i,endColumn:r,word:a}),i=r+1,a="";break}default:""!==e[r].trim()&&(a+=e[r]);break}r++}return o.push({startColumn:i,endColumn:r,word:a}),{tokens:o}}function ao(e){return"true"===e||"false"!==e&&("null"===e?null:"undefined"===e?void 0:oo(e)?Number(e):e)}function oo(e){return!isNaN(Number(e))}var so=function(){function e(t,n,r){Object(i["a"])(this,e),Object(o["a"])(this,"commandSrc",void 0),Object(o["a"])(this,"mode",void 0),Object(o["a"])(this,"v1Compat",void 0),Object(o["a"])(this,"_name",void 0),Object(o["a"])(this,"schema",void 0),Object(o["a"])(this,"template",void 0),this.commandSrc=t,this.mode=n,this.v1Compat=r}return Object(a["a"])(e,[{key:"name",get:function(){var e;return null!==(e=this._name)&&void 0!==e?e:"unknown"}},{key:"load",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n={exports:{}};try{je({script:this.commandSrc,env:{module:n,defineCommand:function(e){return e},Bridge:this.v1Compat?ro(n):void 0}})}catch(s){console.error(s)}if("function"===typeof n.exports){e.next=4;break}return e.abrupt("return");case 4:return r=function(e){return o._name=e},i=function(e){return o.schema=e},a=function(){},t&&"server"!==t||(i=function(){},a=function(e){o.template=function(t,n){try{return e(t,n)}catch(s){return console.error(s),[]}}}),e.next=10,n.exports({name:r,schema:i,template:a});case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"process",value:function(e){var t;e.startsWith("/")&&(e=e.slice(1));var n=io(e).tokens.map((function(e){var t=e.word;return t})),r=Object(no["a"])(n),i=(r[0],r.slice(1)),a=null===(t=this.template)||void 0===t?void 0:t.call(this,i.map((function(e){return ao(e)})),{}),o=[];if("string"===typeof a)o=a.split("\n");else if(Array.isArray(a))o=a.filter((function(e){return"string"===typeof e}));else{var s="Failed to process command ".concat(this._name,"; Invalid command template return type: Expected string[] or string, received ").concat(Object(C["a"])(a));console.error(s),o.push("# ".concat(s))}return o.map((function(e){return e.startsWith("/")||e.startsWith("#")?e:"/".concat(e)}))}},{key:"getSchema",value:function(){var e=this;return this.schema?Array.isArray(this.schema)?0===this.schema.length?[{commandName:this.name}]:this.schema.map((function(t){return Object(S["a"])({commandName:e.name},t)})):(this.schema.commandName||(this.schema.commandName=this.name),[this.schema]):[{commandName:this.name}]}},{key:"toString",value:function(){return this.commandSrc}}]),e}();function co(){return uo.apply(this,arguments)}function uo(){return uo=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return i=e.sent,a=null!==(t=null===(n=i.project.config.get().bridge)||void 0===n?void 0:n.v1CompatMode)&&void 0!==t&&t,o="BP/commands",e.prev=5,e.next=8,i.project.fileSystem.getDirectoryHandle(o);case 8:s=e.sent,e.next=14;break;case 11:return e.prev=11,e.t0=e["catch"](5),e.abrupt("return",[]);case 14:return c=[],e.next=17,Object(mr["a"])(s,function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,o,s,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=i.project.compilerManager,e.t1=n,e.next=4,t.getFile();case 4:return e.t2=e.sent,e.next=7,e.t0.compileWithFile.call(e.t0,e.t1,e.t2);case 7:return r=e.sent,o=Object(he["a"])(r,2),o[0],s=o[1],u=new File([s],t.name),e.t3=so,e.next=15,u.text();case 15:return e.t4=e.sent,e.t5=a,l=new e.t3(e.t4,"dev",e.t5),e.next=20,l.load("client");case 20:c.push.apply(c,Object(p["a"])(l.getSchema()));case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),void 0,o);case 17:return e.abrupt("return",c);case 18:case"end":return e.stop()}}),e,null,[[5,11]])}))),uo.apply(this,arguments)}function lo(e,t){return t.includes(e)?"full":t.some((function(t){return t.includes(e)}))?"partial":"none"}var po=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;Object(i["a"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(o["a"])(Object(w["a"])(e),"_data",void 0),e}return Object(a["a"])(n,[{key:"loadCommandData",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s,c,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return r=e.sent,e.next=5,r.dataLoader.readJSON("data/packages/".concat(t,"/language/mcfunction/main.json"));case 5:this._data=e.sent,i=null!==(n=this._data.$customTypes)&&void 0!==n?n:{},a=Object(R["a"])(this._data.vanilla),e.prev=8,a.s();case 10:if((o=a.n()).done){e.next=32;break}s=o.value.commands,c=Object(R["a"])(s),e.prev=13,c.s();case 15:if((u=c.n()).done){e.next=22;break}if(l=u.value,l.arguments){e.next=19;break}return e.abrupt("continue",20);case 19:l.arguments=l.arguments.map((function(e){if(!e.type||!e.type.startsWith("$"))return e;var t=i[e.type.slice(1)];return t?t.map((function(t){return Object(S["a"])(Object(S["a"])({},e),t)})):e})).flat();case 20:e.next=15;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e["catch"](13),c.e(e.t0);case 27:return e.prev=27,c.f(),e.finish(27);case 30:e.next=10;break;case 32:e.next=37;break;case 34:e.prev=34,e.t1=e["catch"](8),a.e(e.t1);case 37:return e.prev=37,a.f(),e.finish(37);case 40:this.dispatch();case 41:case"end":return e.stop()}}),e,this,[[8,34,37,40],[13,24,27,30]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSchema",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]&&i[0],e.next=3,il.getApp().then((function(e){return e.project.config.get().targetVersion}));case 3:if(n=e.sent,this._data){e.next=6;break}throw new Error("Acessing commandData before it was loaded.");case 6:if(r=this._data.vanilla.filter((function(e){var t=e.targetVersion;return!n||!t||Object(yr["compare"])(n,t[1],t[0])})),e.t0=r.map((function(e){return e.commands})).flat(),!t){e.next=12;break}e.t1=[],e.next=15;break;case 12:return e.next=14,co();case 14:e.t1=e.sent;case 15:return e.t2=e.t1,e.abrupt("return",e.t0.concat.call(e.t0,e.t2).filter((function(e){return void 0!==e})));case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"allCommands",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getSchema(t).then((function(t){return Object(p["a"])(new Set(t.map((function(e){return null===e||void 0===e?void 0:e.commandName})).filter((function(t){return!e||(null===t||void 0===t?void 0:t.includes(e))}))))}))}},{key:"getCommandCompletionItems",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getSchema(t).then((function(t){var n=[];return t.filter((function(t){var n;return!e||(null===(n=t.commandName)||void 0===n?void 0:n.includes(e))})).forEach((function(e){n.some((function(t){return t.label===e.commandName}))||n.push({insertText:e.commandName,label:e.commandName,documentation:e.description,kind:v["languages"].CompletionItemKind.Method})})),n}))}},{key:"getCommandDefinitions",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getSchema().then((function(e){return e.filter((function(e){return e.commandName===t}))}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getNextCompletionItems",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.length<=1)){e.next=9;break}return e.t0=this,e.t1=t[0],e.next=5,il.getApp().then((function(e){return e.projectManager.hasFired}));case 5:return e.t2=e.sent,e.next=8,e.t0.getCommandCompletionItems.call(e.t0,e.t1,e.t2);case 8:return e.abrupt("return",e.sent);case 9:return n=t.shift(),e.next=12,this.getCommandDefinitions(n);case 12:if(i=e.sent,i&&0!==i.length){e.next=15;break}return e.abrupt("return",[]);case 15:return a=[],e.next=18,Promise.all(i.map(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.getNextCommandArgument(n,Object(p["a"])(t));case 2:if(r=e.sent,0!==r.length){e.next=5;break}return e.abrupt("return",[]);case 5:return e.next=7,Promise.all(r.map((function(e){return o.getCompletionItems(e)})));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 18:return e.sent.flat(2).forEach((function(e){a.some((function(t){return t.label===e.label}))||a.push(e)})),e.abrupt("return",a);case 20:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getNextCommandArgument",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s,c,u=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.arguments&&0!==t.arguments.length){e.next=2;break}return e.abrupt("return",[]);case 2:i=null!==(r=t.arguments)&&void 0!==r?r:[],a=0,o=regeneratorRuntime.mark((function e(t){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=n[t],""!==r){e.next=3;break}return e.abrupt("return","continue");case 3:return e.next=5,u.isArgumentType(r,i[a]);case 5:if(o=e.sent,"none"!==o){e.next=10;break}return e.abrupt("return",{v:[]});case 10:if("partial"!==o){e.next=12;break}return e.abrupt("return",{v:n.length===t+1?[i[a]]:[]});case 12:if(!("command"===i[a].type&&t+1<n.length)){e.next=21;break}return e.t0=Promise,e.next=16,u.getCommandDefinitions(r);case 16:return e.t1=e.sent.map((function(e){return u.getNextCommandArgument(e,n.slice(t+1))})),e.next=19,e.t0.all.call(e.t0,e.t1);case 19:return e.t2=e.sent.flat(),e.abrupt("return",{v:e.t2});case 21:if(a++,!(a>=i.length)){e.next=24;break}return e.abrupt("return",{v:[]});case 24:case"end":return e.stop()}}),e)})),s=0;case 6:if(!(s<n.length)){e.next=16;break}return e.delegateYield(o(s),"t0",8);case 8:if(c=e.t0,"continue"!==c){e.next=11;break}return e.abrupt("continue",13);case 11:if("object"!==Object(C["a"])(c)){e.next=13;break}return e.abrupt("return",c.v);case 13:s++,e.next=6;break;case 16:if(i[a]){e.next=18;break}return e.abrupt("return",[]);case 18:return e.abrupt("return",[i[a]]);case 19:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"isArgumentType",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=n.type,e.next="string"===e.t0?3:"command"===e.t0?7:"number"===e.t0?18:"selector"===e.t0?19:"boolean"===e.t0?20:"coordinate"===e.t0?21:"jsonData"===e.t0?22:"blockState"===e.t0?23:"molang"===e.t0?24:33;break;case 3:if(null!==(r=n.additionalData)&&void 0!==r&&r.values){e.next=5;break}return e.abrupt("return","full");case 5:return s=null!==(i=null!==(a=null===(o=n.additionalData)||void 0===o?void 0:o.values)&&void 0!==a?a:this.resolveDynamicReference(n.additionalData.schemaReference))&&void 0!==i?i:[],e.abrupt("return",lo(t,s));case 7:return e.t1=lo,e.t2=t,e.t3=this,e.t4=void 0,e.next=13,il.getApp().then((function(e){return e.projectManager.hasFired}));case 13:return e.t5=e.sent,e.next=16,e.t3.allCommands.call(e.t3,e.t4,e.t5);case 16:return e.t6=e.sent,e.abrupt("return",(0,e.t1)(e.t2,e.t6));case 18:return e.abrupt("return",isNaN(Number(t))?"none":"full");case 19:return e.abrupt("return",t.startsWith("@")?"full":"none");case 20:return e.abrupt("return","true"===t||"false"===t?"full":"none");case 21:return e.abrupt("return",t.startsWith("~")||t.startsWith("^")||!isNaN(Number(t))?"full":"none");case 22:return e.abrupt("return",/^\{.*\}$/.test(t)?"full":"none");case 23:return e.abrupt("return",/^\[.*\]$/.test(t)?"full":"none");case 24:c=new to["b"],e.prev=25,c.parse(t),e.next=32;break;case 29:return e.prev=29,e.t7=e["catch"](25),e.abrupt("return","none");case 32:return e.abrupt("return","full");case 33:return e.abrupt("return","none");case 34:case"end":return e.stop()}}),e,this,[[25,29]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getCompletionItems",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.type){e.next=4;break}if(!t.additionalData){e.next=3;break}return e.abrupt("return",null!==(n=null!==(r=null===(i=t.additionalData)||void 0===i?void 0:i.values)&&void 0!==r?r:this.resolveDynamicReference(t.additionalData.schemaReference))&&void 0!==n?n:[]);case 3:return e.abrupt("return",[]);case 4:e.t0=t.type,e.next="command"===e.t0?7:"selector"===e.t0?13:"boolean"===e.t0?14:"number"===e.t0?15:"coordinate"===e.t0?16:"string"===e.t0?17:"jsonData"===e.t0?26:"blockState"===e.t0?27:28;break;case 7:return e.t1=this,e.next=10,this.getCommandCompletionItems();case 10:return e.t2=e.sent,e.t3={documentation:t.description},e.abrupt("return",e.t1.mergeCompletionItems.call(e.t1,e.t2,e.t3));case 13:return e.abrupt("return",this.toCompletionItem(["@a","@e","@p","@s","@r","@initiator"],t.description));case 14:return e.abrupt("return",this.toCompletionItem(["true","false"],t.description,v["languages"].CompletionItemKind.Value));case 15:return e.abrupt("return",this.toCompletionItem(["0","1","2","3","4","5","6","7","8","9"],t.description,v["languages"].CompletionItemKind.Value));case 16:return e.abrupt("return",this.toCompletionItem(["~","^"],t.description,v["languages"].CompletionItemKind.Operator));case 17:if(null===(a=t.additionalData)||void 0===a||!a.values){e.next=21;break}return e.abrupt("return",this.toCompletionItem(t.additionalData.values,t.description));case 21:if(null===(o=t.additionalData)||void 0===o||!o.schemaReference){e.next=25;break}return e.abrupt("return",this.toCompletionItem(this.resolveDynamicReference(t.additionalData.schemaReference).map((function(e){var t=e.value;return t})),t.description));case 25:return e.abrupt("return",[]);case 26:return e.abrupt("return",this.toCompletionItem(["{}"],t.description,v["languages"].CompletionItemKind.Struct));case 27:return e.abrupt("return",this.toCompletionItem(["[]"],t.description,v["languages"].CompletionItemKind.Struct));case 28:return e.abrupt("return",[]);case 29:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"toCompletionItem",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v["languages"].CompletionItemKind.Text;return e.map((function(e){return{label:e,insertText:e,kind:n,documentation:t}}))}},{key:"mergeCompletionItems",value:function(e,t){return e.map((function(e){var n;return Object(S["a"])(Object(S["a"])({},e),{},{documentation:t.documentation?"".concat(t.documentation,"\n\n").concat(null!==(n=e.documentation)&&void 0!==n?n:""):e.documentation})}))}},{key:"resolveDynamicReference",value:function(e){var t=new sn(e,"$ref",e);return t.getCompletionItems({})}}]),n}($["a"]),ho=[{name:"preview.viewModel",fileMatch:"RP/models/",createPreview:function(e,t){return qa(e,t)}},{name:"preview.viewModel",fileMatch:"RP/entity/",createPreview:function(e,t){return Ka(e,t)}},{name:"preview.viewEntity",fileMatch:"BP/entities/",createPreview:function(e,t){return Za(e,t)}},{name:"preview.viewParticle",fileMatch:"RP/particles/",createPreview:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new eo(n,t));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{name:"preview.viewBlock",fileMatch:"BP/blocks/",createPreview:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Ua(n.getProjectPath(),n,t));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}],fo=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;Object(i["a"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(o["a"])(Object(w["a"])(e),"commandData",new po),e}return Object(a["a"])(n,[{key:"onCreate",value:function(){var e=this;ho.forEach((function(t){return e.tabActionProvider.registerPreview(t)})),this.commandData.loadCommandData("minecraftBedrock")}},{key:"getCurrentDataPackage",value:function(){return this.app.dataLoader.getDirectoryHandle("data/packages/minecraftBedrock")}}]),n}(oa),vo={comments:{lineComment:"#"},autoClosingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"{",close:"}"},{open:'"',close:'"'}]},mo={brackets:[["(",")","delimiter.parenthesis"],["[","]","delimiter.square"],["{","}","delimiter.curly"]],keywords:[],selectors:["@a","@e","@p","@r","@s"],tokenizer:{root:[[/#.*/,"comment"],[/"[^"]*"|'[^']*'/,"string"],[/\=|\,|\!|%=|\*=|\+=|-=|\/=|<|=|>|<>/,"definition"],[/true|false/,"number"],[/-?([0-9]+(\.[0-9]+)?)|(\~|\^-?([0-9]+(\.[0-9]+)?)?)/,"number"]].concat(Object(p["a"])(h),[[/[a-z_$][\w$]*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],[/@[a|p|r|e|s]/,{cases:{"@selectors":"type.identifier","@default":"identifier"}}]])}},bo={triggerCharacters:[" "],provideCompletionItems:function(e,t,n,i){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,i,a,o,s,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,il.getApp().then((function(e){return e.project}));case 2:if(r=n.sent,r instanceof fo){n.next=5;break}return n.abrupt("return");case 5:return i=r.commandData,n.next=8,i.fired;case 8:return a=e.getLineContent(t.lineNumber).slice(0,t.column-1),o=io(a),s=o.tokens,c=s[s.length-1],n.next=13,i.getNextCompletionItems(s.map((function(e){return e.word})));case 13:return u=n.sent,n.abrupt("return",{suggestions:u.map((function(e){var n,r,i=e.label,a=e.insertText,o=e.documentation,s=e.kind;return{label:null!==i&&void 0!==i?i:a,insertText:a,documentation:o,kind:s,range:new v["Range"](t.lineNumber,(null!==(n=null===c||void 0===c?void 0:c.startColumn)&&void 0!==n?n:0)+1,t.lineNumber,(null!==(r=null===c||void 0===c?void 0:c.endColumn)&&void 0!==r?r:0)+1)}}))});case 15:case"end":return n.stop()}}),n)})))()}},go=O()(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return n=e.sent,e.next=5,n.projectManager.fired;case 5:if(r=n.project,r instanceof fo){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,r.commandData.fired;case 10:return e.next=12,r.commandData.allCommands(void 0,!r.compilerManager.hasFired);case 12:i=e.sent,mo.keywords=i.map((function(e){return e})),t.updateTokenProvider(mo);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),3e3),yo=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this,{id:"mcfunction",extensions:["mcfunction"],config:vo,tokenProvider:mo,completionItemProvider:bo}),e.disposables.push(il.eventSystem.on("fileChange",(function(){return go(Object(w["a"])(e))}))),e}return Object(a["a"])(n,[{key:"onModelAdded",value:function(e){var t=Object(j["a"])(Object(k["a"])(n.prototype),"onModelAdded",this).call(this,e);return!!t&&(go(this),!0)}},{key:"validate",value:function(){}}]),n}(m),wo={comments:{lineComment:"#"},autoClosingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"{",close:"}"},{open:"'",close:"'"}]},jo={ignoreCase:!0,brackets:[["(",")","delimiter.parenthesis"],["[","]","delimiter.square"],["{","}","delimiter.curly"]],keywords:["return","loop","for_each","break","continue","this","function"],identifiers:["v","t","c","q","f","a","arg","variable","temp","context","query"],tokenizer:{root:[[/#.*/,"comment"],[/'[^']'/,"string"],[/[0-9]+(\.[0-9]+)?/,"number"],[/true|false/,"number"],[/\=|\,|\!|%=|\*=|\+=|-=|\/=|<|=|>|<>/,"definition"],[/[a-z_$][\w$]*/,{cases:{"@keywords":"keyword","@identifiers":"type.identifier","@default":"identifier"}}]]}},ko=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this,{id:"molang",extensions:["molang"],config:wo,tokenProvider:jo}),Object(o["a"])(Object(w["a"])(e),"molang",new to["a"]({})),e}return Object(a["a"])(n,[{key:"validate",value:function(e){try{this.molang.parse(e.getValue()),v["editor"].setModelMarkers(e,this.id,[])}catch(l){var t={},n=t.startColumn,r=void 0===n?0:n,i=t.endColumn,a=void 0===i?1/0:i,o=t.startLineNumber,s=void 0===o?0:o,c=t.endLineNumber,u=void 0===c?1/0:c;v["editor"].setModelMarkers(e,this.id,[{startColumn:r+1,endColumn:a+1,startLineNumber:s+1,endLineNumber:u+1,message:l.message,severity:v["MarkerSeverity"].Error}])}}}]),n}(m),xo=function e(){Object(i["a"])(this,e),Object(o["a"])(this,"languages",new Set([new ko,new y,new yo]))},Oo=n("9483"),So=n("edfe");function Co(e){e.waiting&&e.waiting.postMessage({type:"SKIP_WAITING"}),navigator.serviceWorker.addEventListener("controllerchange",Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(So["c"])("firstStartAfterUpdate",!0);case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)}))))}Object(Oo["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(e){console.log("New content is available; please refresh."),"waiting"===il.fileSystemSetup.status?Co(e):Object(c["b"])({icon:"mdi-update",color:"primary",message:"sidebar.notifications.updateAvailable.message",textColor:"white",onClick:function(){return Co(e)}})},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var Ro=function(e){return{"colorCode.darkRed":{color:"#AA0000"},"colorCode.red":{color:"#FF5555"},"colorCode.gold":{color:"#FFAA00"},"colorCode.yellow":{color:"#FFFF55"},"colorCode.darkGreen":{color:"#00AA00"},"colorCode.green":{color:"#55FF55"},"colorCode.aqua":{color:"#55FFFF"},"colorCode.darkAqua":{color:"#00AAAA"},"colorCode.darkBlue":{color:"#0000AA"},"colorCode.blue":{color:"#5555FF"},"colorCode.lightPurple":{color:"#FF55FF"},"colorCode.darkPurple":{color:"#AA00AA"},"colorCode.white":{color:"#FFFFFF"},"colorCode.gray":{color:"#AAAAAA"},"colorCode.darkGray":{color:"#555555"},"colorCode.black":{color:"#000000"},"colorCode.minecoinGold":{color:"#ff0000"},"colorCode.bold":{color:e,textDecoration:"bold"},"colorCode.italic":{color:e,textDecoration:"italic"},"colorCode.underline":{color:e,textDecoration:"underline"}}},Po={id:"bridge.default.dark",name:"Default Dark",colorScheme:"dark",colors:{text:"#fff",primary:"#0073FF",secondary:"#0073FF",accent:"#0073FF",error:"#ff5252",info:"#2196f3",warning:"#fb8c00",success:"#4caf50",background:"#121212",sidebarNavigation:"#1F1F1F",expandedSidebar:"#1F1F1F",sidebarSelection:"#151515",menu:"#252525",footer:"#111111",tooltip:"#1F1F1F",toolbar:"#000000",tabActive:"#121212",tabInactive:"#1F1F1F",lineHighlightBackground:"#1F1F1F"},highlighter:Object(S["a"])({type:{color:"#a6e22e"},keyword:{color:"#f92672"},definition:{color:"#fd971f"},atom:{color:"#ae81ff"},number:{color:"#ae81ff"},string:{color:"#e6db74"},variable:{color:"#9effff"},variableStrong:{color:"#9effff"},meta:{color:"white"},comment:{color:"#75715e"}},Ro("#fff"))},_o={id:"bridge.default.light",name:"Default Light",colorScheme:"light",colors:{text:"#000",primary:"#0073FF",secondary:"#0073FF",accent:"#0073FF",error:"#ff5252",info:"#2196f3",warning:"#fb8c00",success:"#4caf50",background:"#fafafa",sidebarNavigation:"#FFFFFF",expandedSidebar:"#FFFFFF",sidebarSelection:"#ececec",menu:"#fff",tooltip:"#424242",toolbar:"#e0e0e0",footer:"#f5f5f5",tabActive:"#fafafa",tabInactive:"#ececec",lineHighlightBackground:"#e0e0e0"},highlighter:Object(S["a"])({type:{color:"black"},keyword:{color:"#5A5CAD"},definition:{textDecoration:"underline"},atom:{color:"#6C8CD5"},number:{color:"#164"},string:{color:"red"},variable:{color:"black"},variableStrong:{color:"black"},meta:{color:"yellow"},comment:{color:"#0080FF"}},Ro("#000"))},Ao=n("bb15"),To=function(){function e(t){Object(i["a"])(this,e),Object(o["a"])(this,"theme",void 0),this.theme=t}return Object(a["a"])(e,[{key:"apply",value:function(){var e=this;v["editor"].defineTheme("bridgeMonacoDefault",{base:"light"===this.theme.colorScheme?"vs":"vs-dark",inherit:!1,colors:Object(S["a"])({"editor.background":this.convertColor(this.theme.getColor("background")),"editor.lineHighlightBackground":this.convertColor(this.theme.getColor("lineHighlightBackground")),"editorWidget.background":this.convertColor(this.theme.getColor("background")),"editorWidget.border":this.convertColor(this.theme.getColor("sidebarNavigation")),"pickerGroup.background":this.convertColor(this.theme.getColor("background")),"pickerGroup.border":this.convertColor(this.theme.getColor("sidebarNavigation")),"badge.background":this.convertColor(this.theme.getColor("background")),"input.background":this.convertColor(this.theme.getColor("sidebarNavigation")),"input.border":this.convertColor(this.theme.getColor("menu")),"inputOption.activeBorder":this.convertColor(this.theme.getColor("primary")),focusBorder:this.convertColor(this.theme.getColor("primary")),"list.focusBackground":this.convertColor(this.theme.getColor("menu")),"list.hoverBackground":this.convertColor(this.theme.getColor("sidebarNavigation")),contrastBorder:this.convertColor(this.theme.getColor("sidebarNavigation")),"peekViewTitle.background":this.convertColor(this.theme.getColor("background")),"peekView.border":this.convertColor(this.theme.getColor("primary")),"peekViewResult.background":this.convertColor(this.theme.getColor("sidebarNavigation")),"peekViewResult.selectionBackground":this.convertColor(this.theme.getColor("menu")),"peekViewEditor.background":this.convertColor(this.theme.getColor("background")),"peekViewEditor.matchHighlightBackground":this.convertColor(this.theme.getColor("menu"))},this.theme.getMonacoDefinition()),rules:[{background:this.convertColor(this.theme.getColor("background")),foreground:this.convertColor(this.theme.getColor("text"))}].concat(Object(p["a"])(Object.entries(this.theme.getHighlighterDefinition()).map((function(t){var n=Object(he["a"])(t,2),r=n[0],i=n[1],a=i.color,o=i.background,s=i.textDecoration,c=i.isItalic;return{token:r,foreground:e.convertColor(a),background:o?e.convertColor(o):void 0,fontStyle:"".concat(c?"italic ":"").concat(s)}})).filter((function(e){var t=e.foreground;return void 0!==t}))))})}},{key:"convertColor",value:function(e){return e?e.startsWith("#")?4===e.length?"#".concat(e[1]).concat(e[1]).concat(e[2]).concat(e[2]).concat(e[3]).concat(e[3]):e:Ao["keyword"].hex(e):e}}]),e}(),Fo=function(){function e(t,n){var r;Object(i["a"])(this,e),Object(o["a"])(this,"themeDefinition",void 0),Object(o["a"])(this,"isGlobal",void 0),Object(o["a"])(this,"id",void 0),Object(o["a"])(this,"colorScheme",void 0),Object(o["a"])(this,"name",void 0),Object(o["a"])(this,"colorMap",void 0),Object(o["a"])(this,"highlighterDef",void 0),Object(o["a"])(this,"monacoDef",void 0),Object(o["a"])(this,"monacoSubTheme",void 0),this.themeDefinition=t,this.isGlobal=n,this.id=t.id,this.name=t.name,this.colorScheme=null!==(r=t.colorScheme)&&void 0!==r?r:"dark",this.colorMap=new Map(Object.entries(t.colors)),this.monacoDef=t.monaco,this.highlighterDef=t.highlighter,this.monacoSubTheme=new To(this)}return Object(a["a"])(e,[{key:"apply",value:function(e,t){var n;U["default"].set(t.theme.themes,this.colorScheme,Object.fromEntries(this.colorMap.entries())),U["default"].set(t.theme,"dark","dark"===this.colorScheme),e.setThemeColor(null!==(n=this.colorMap.get("toolbar"))&&void 0!==n?n:"red"),this.monacoSubTheme.apply()}},{key:"getColor",value:function(e){var t;return null!==(t=this.colorMap.get(e))&&void 0!==t?t:"red"}},{key:"getHighlighterInfo",value:function(e){var t;return null===(t=this.highlighterDef)||void 0===t?void 0:t[e]}},{key:"getMonacoDefinition",value:function(){var e;return null!==(e=this.monacoDef)&&void 0!==e?e:{}}},{key:"getHighlighterDefinition",value:function(){var e;return null!==(e=this.highlighterDef)&&void 0!==e?e:{}}},{key:"getThemeDefinition",value:function(){return this.themeDefinition}}]),e}(),Eo=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r;Object(i["a"])(this,n),r=t.call(this),Object(o["a"])(Object(w["a"])(r),"vuetify",void 0),Object(o["a"])(Object(w["a"])(r),"mode",void 0),Object(o["a"])(Object(w["a"])(r),"themeMap",new Map),Object(o["a"])(Object(w["a"])(r),"themeColorTag",document.querySelector("meta[name='theme-color']")),Object(o["a"])(Object(w["a"])(r),"currentTheme","bridge.default.dark"),Object(o["a"])(Object(w["a"])(r),"colorScheme",new $["a"]),r.vuetify=e;var a=window.matchMedia("(prefers-color-scheme: light)");r.mode=a.matches?"light":"dark";var s=function(e){r.colorScheme.dispatch(e.matches?"light":"dark"),r.mode=e.matches?"light":"dark",r.updateTheme()};return"addEventListener"in a?a.addEventListener("change",(function(e){return s(e)})):a.addListener((function(e){return s(e)})),r.themeColorTag||(r.themeColorTag=document.createElement("meta"),document.head.appendChild(r.themeColorTag)),r.themeColorTag.setAttribute("name","theme-color"),r.themeColorTag.id="theme-color-tag",r.addTheme(Po,!0),r.addTheme(_o,!0),r.applyTheme(r.themeMap.get("bridge.default.dark")),r}return Object(a["a"])(n,[{key:"getCurrentMode",value:function(){return this.mode}},{key:"applyTheme",value:function(e){null===e||void 0===e||e.apply(this,this.vuetify)}},{key:"updateTheme",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s,c,u,l,d,p,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return a=e.sent,o=null===N["b"]||void 0===N["b"]||null===(t=N["b"].appearance)||void 0===t?void 0:t.colorScheme,o&&"auto"!==o||(o=this.mode),e.next=7,a.projectManager.projectReady.fired;case 7:s=a.projectConfig.get().bridge,c=null!==(n="light"===o?null===s||void 0===s?void 0:s.lightTheme:null===s||void 0===s?void 0:s.darkTheme)&&void 0!==n?n:"bridge.noSelection",u=null!==(r=null===N["b"]||void 0===N["b"]||null===(i=N["b"].appearance)||void 0===i?void 0:i["".concat(o,"Theme")])&&void 0!==r?r:"bridge.default.".concat(o),l="bridge.noSelection"!==c?c:u,d=this.themeMap.get("bridge.noSelection"!==c?c:u),p=this.themeMap.get("bridge.default.".concat(o)),this.currentTheme!==(d?l:"bridge.default.".concat(o))&&(this.currentTheme=d?l:"bridge.default.".concat(o),this.applyTheme(null!==d&&void 0!==d?d:p),this.dispatch(null!==(h=null===d||void 0===d?void 0:d.colorScheme)&&void 0!==h?h:"dark"));case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadDefaultThemes",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.dataLoader.fired;case 2:return e.t0=mr["a"],e.next=5,t.dataLoader.getDirectoryHandle("data/packages/common/themes");case 5:return e.t1=e.sent,e.t2=function(e){return n.loadTheme(e)},e.next=9,(0,e.t0)(e.t1,e.t2);case 9:this.updateTheme();case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadTheme",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=!(s.length>1&&void 0!==s[1])||s[1],r=s.length>2?s[2]:void 0,e.next=4,t.getFile();case 4:return i=e.sent,e.prev=5,e.t0=kn.a,e.next=9,i.text();case 9:e.t1=e.sent,a=e.t0.parse.call(e.t0,e.t1),e.next=16;break;case 13:throw e.prev=13,e.t2=e["catch"](5),new Error('Failed to load theme "'.concat(i.name,'"'));case 16:o=this.addTheme(a,n),r&&r.push(o);case 18:case"end":return e.stop()}}),e,this,[[5,13]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getThemes",value:function(e,t){var n,r=[],i=Object(R["a"])(this.themeMap);try{for(i.s();!(n=i.n()).done;){var a=Object(he["a"])(n.value,2),o=(a[0],a[1]);e&&o.colorScheme!==e||!o.isGlobal&&t!==o.isGlobal||r.push(o)}}catch(s){i.e(s)}finally{i.f()}return r}},{key:"setThemeColor",value:function(e){this.themeColorTag.setAttribute("content",e)}},{key:"addTheme",value:function(e,t){var n,r,i=this,a=this.themeMap.get("bridge.default.".concat(null!==(n=e.colorScheme)&&void 0!==n?n:"dark"));return this.themeMap.set(e.id,new Fo(er(null!==(r=null===a||void 0===a?void 0:a.getThemeDefinition())&&void 0!==r?r:{},e),t)),this.updateTheme(),{dispose:function(){return i.themeMap.delete(e.id)}}}},{key:"getColor",value:function(e){var t=this.themeMap.get(this.currentTheme);if(!t)throw new Error("No theme currently loaded");return t.getColor(e)}},{key:"getHighlighterInfo",value:function(e){var t=this.themeMap.get(this.currentTheme);if(!t)throw new Error("No theme currently loaded");return t.getHighlighterInfo(e)}}]),n}(Jt["a"]),Do=n("c77e"),Mo=n("c850"),Io=n("19ff"),Wo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.sidebarContent.selectedAction?n("FileDisplayer",{key:e.sidebarContent.selectedAction.config.id,attrs:{entry:e.sidebarContent.directoryEntries[e.sidebarContent.selectedAction.config.id]},on:{contextmenu:e.onContextMenu}}):e._e()},Vo=[],Bo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.directoryEntry&&!e.directoryEntry.isLoading?n("div",{staticClass:"body-1"},[n("Draggable",e._b({on:{change:e.draggedFile},model:{value:e.directoryEntry.children,callback:function(t){e.$set(e.directoryEntry,"children",t)},expression:"directoryEntry.children"}},"Draggable",{group:"pack-explorer",disabled:e.enablePackSpider},!1),[e._l(e.directoryEntry.children,(function(t){return[t.isFile?n("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.uuid,staticClass:"file d-flex rounded-lg",on:{click:function(n){return n.stopPropagation(),e.onClick(t)},contextmenu:function(n){n.preventDefault(),n.stopPropagation(),e.$emit("contextmenu",{type:"file",path:t.path.join("/"),clientX:n.clientX,clientY:n.clientY,entry:t})}}},[n("v-icon",{staticClass:"pr-1",attrs:{color:t.color,small:""}},[e._v(" "+e._s(t.icon||"mdi-file-outline")+" ")]),e._v(" "+e._s(t.name)+" ")],1):n("details",{key:t.uuid,staticClass:"folder",attrs:{open:t.isFolderOpen}},[n("summary",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"rounded-lg",on:{click:function(n){return n.preventDefault(),e.onClick(t)},contextmenu:function(n){n.preventDefault(),n.stopPropagation(),e.$emit("contextmenu",{type:t.type,path:t.path.join("/"),clientX:n.clientX,clientY:n.clientY,entry:t})}}},[n("span",{staticClass:"d-flex"},[n("v-icon",{staticClass:"pr-1",attrs:{color:t.color,small:""}},[e._v(" "+e._s(t.isFolderOpen?"mdi-folder-open":"mdi-folder")+" ")]),n("span",{staticClass:"folder"},[e._v(e._s(t.name))])],1)]),n("FileDisplayer",{attrs:{entry:t},on:{closeWindow:function(t){return e.$emit("closeWindow")},contextmenu:function(t){return e.$emit("contextmenu",t)}}})],1)]}))],2)],1):n("v-progress-linear",{attrs:{indeterminate:""}})},No=[],Lo=function(){function e(t,n,r){var a,s,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(i["a"])(this,e),Object(o["a"])(this,"fileSystem",void 0),Object(o["a"])(this,"parent",void 0),Object(o["a"])(this,"path",void 0),Object(o["a"])(this,"_isFile",void 0),Object(o["a"])(this,"children",[]),Object(o["a"])(this,"displayName",void 0),Object(o["a"])(this,"uuid",Object(A["a"])()),Object(o["a"])(this,"isFolderOpen",!1),Object(o["a"])(this,"hasLoadedChildren",void 0),Object(o["a"])(this,"isLoading",!1),Object(o["a"])(this,"type",void 0),this.fileSystem=t,this.parent=n,this.path=r,this._isFile=c,c||this.isFolderOpen&&this.loadChildren(r),this.type=this._isFile?"file":null!==(a=null===N["b"]||void 0===N["b"]||null===(s=N["b"].general)||void 0===s?void 0:s.enablePackSpider)&&void 0!==a&&a?"virtualFolder":"folder",this.hasLoadedChildren=this._isFile}return Object(a["a"])(e,[{key:"loadChildren",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r,i,a,o,s,c,u,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,il.getApp();case 3:return a=t.sent,t.next=6,null===(i=a.project)||void 0===i?void 0:i.packIndexer.readdir(n,{withFileTypes:!0});case 6:if(t.t1=r=t.sent,t.t0=null!==t.t1,!t.t0){t.next=10;break}t.t0=void 0!==r;case 10:if(!t.t0){t.next=14;break}t.t2=r,t.next=15;break;case 14:t.t2=[];case 15:o=t.t2,this.children=[],s=Object(R["a"])(o),t.prev=18,s.s();case 20:if((c=s.n()).done){t.next=30;break}if(l=c.value,"darwin"!==Object(Lt["a"])()||".DS_Store"!==l.name||"file"!==l.kind){t.next=24;break}return t.abrupt("return");case 24:d=new e(this.fileSystem,this,null!==(u="string"===typeof l.path?l.path.split("/"):l.path)&&void 0!==u?u:n.concat([l.name]),"file"===l.kind),d.setDisplayName(l.displayName),l.filePath&&d.setPath(l.filePath),this.children.push(d);case 28:t.next=20;break;case 30:t.next=35;break;case 32:t.prev=32,t.t3=t["catch"](18),s.e(t.t3);case 35:return t.prev=35,s.f(),t.finish(35);case 38:this.sortChildren(),this.isLoading=!1,this.hasLoadedChildren=!0;case 41:case"end":return t.stop()}}),t,this,[[18,32,35,38]])})));function n(e){return t.apply(this,arguments)}return n}()},{key:"createOpenStateMap",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},e.next=3,this.iterate((function(e){e._isFile||(t[e.getPath()]=e.isFolderOpen)}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"refresh",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.createOpenStateMap();case 2:return t=e.sent,e.next=5,this.loadChildren(this.path);case 5:return e.next=7,this.iterate(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n._isFile||!t[n.getPath()]){e.next=3;break}return e.next=3,n.open();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"name",get:function(){var e;return null!==(e=this.displayName)&&void 0!==e?e:this.path[this.path.length-1]}},{key:"isFile",get:function(){return this._isFile}},{key:"color",get:function(){var e;return null===(e=Fn["a"].get(this.getFullPath()))||void 0===e?void 0:e.color}},{key:"icon",get:function(){var e;return null===(e=T["a"].get(this.getPath()))||void 0===e?void 0:e.icon}},{key:"getFullPath",value:function(){return["projects",il.instance.selectedProject].concat(this.path).join("/")}},{key:"getPath",value:function(){var e,t;return null!==(e=null===(t=this.path)||void 0===t?void 0:t.join("/"))&&void 0!==e?e:[]}},{key:"getPathWithoutPack",value:function(){var e=Object(p["a"])(this.path);return e.shift(),e.join("/")}},{key:"setPath",value:function(e){return this.path=e.split("/")}},{key:"updatePath",value:function(e){this.path=e.split("/"),this._isFile||this.children.forEach((function(t){t.updatePath(Object(le["join"])(e,t.name))}))}},{key:"open",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isFile){e.next=5;break}return il.ready.once(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.fileSystem.getFileHandle(t.getFullPath());case 2:return i=e.sent,e.next=5,null===(r=n.project)||void 0===r?void 0:r.openFile(i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",!0);case 5:if(this.isFolderOpen=!this.isFolderOpen,this.hasLoadedChildren){e.next=9;break}return e.next=9,this.loadChildren(this.path);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setDisplayName",value:function(e){this.displayName=e}},{key:"remove",value:function(){var e=this;if(void 0===this.parent)throw new Error("FileDisplayer: Cannot delete root of FS");this.parent.children=this.parent.children.filter((function(t){return t!==e}))}},{key:"sortChildren",value:function(){this.children=this.children.sort((function(e,t){if(e.isFile&&!t.isFile)return 1;if(!e.isFile&&t.isFile)return-1;if(e.isFile){if(e.getPathWithoutPack()>t.getPathWithoutPack())return 1;if(e.getPathWithoutPack()<t.getPathWithoutPack())return-1}else{if(e.name>t.name)return 1;if(e.name<t.name)return-1}return 0}))}},{key:"updateUUID",value:function(){this.uuid=Object(A["a"])()}},{key:"iterate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t(this);case 2:return e.next=4,Promise.all(this.children.map((function(e){return e.iterate(t)})));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"create",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,i,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:[],r=a.length>1&&void 0!==a[1]&&a[1],i=new e(il.instance.fileSystem,null,n,r),i.open(),t.abrupt("return",Object(ue["e"])(i));case 5:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}]),e}(),$o=n("b76a"),Ho=n.n($o),zo={data:function(){return{settingsState:N["b"]}},computed:{enablePackSpider:function(){var e,t;return null!==(e=null===N["b"]||void 0===N["b"]||null===(t=N["b"].general)||void 0===t?void 0:t.enablePackSpider)&&void 0!==e&&e}}},Uo={name:"FileDisplayer",mixins:[zo],components:{Draggable:Ho.a},props:{entry:Object,startPath:Array},mounted:function(){this.loadDirectory()},data:function(){return{directoryEntry:null,tree:[]}},methods:{loadDirectory:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.entry){t.next=9;break}return t.next=3,il.getApp();case 3:return n=t.sent,t.next=6,n.projectManager.projectReady.fired;case 6:n.project.packIndexer.once(Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Lo.create(e.startPath);case 2:e.directoryEntry=t.sent;case 3:case"end":return t.stop()}}),t)})))),t.next=10;break;case 9:e.directoryEntry=e.entry;case 10:case"end":return t.stop()}}),t)})))()},onClick:function(e){var t=e.open();t&&this.$emit("closeWindow")},draggedFile:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,i,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=Object.values(e)[0].element,!("added"in e)){n.next=13;break}return n.next=4,il.getApp();case 4:return i=n.sent,a=r.getPath(),r.updatePath(Object(le["join"])(t.directoryEntry.getPath(),r.name)),o=r.getPath(),r.parent=t.directoryEntry,n.next=11,i.project.fileSystem.move(a,o);case 11:return n.next=13,i.project.updateChangedFiles();case 13:r.parent&&r.parent.sortChildren();case 14:case"end":return n.stop()}}),n)})))()}},watch:{startPath:function(){this.loadDirectory()},entry:function(){this.loadDirectory()}}},Jo=Uo,qo=(n("6bea"),n("8e36")),Go=Object(W["a"])(Jo,Bo,No,!1,null,"441b0a24",null),Ko=Go.exports;X()(Go,{VIcon:gt["a"],VProgressLinear:qo["a"]}),Gn()(Go,{Ripple:Kn["a"]});var Qo={props:{sidebarContent:Object},components:{FileDisplayer:Ko},methods:{onContextMenu:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.t0=yn["a"],n.t1=e,n.next=4,t.sidebarContent.getContextMenu(e.type,e.path,e.entry);case 4:n.t2=n.sent,(0,n.t0)(n.t1,n.t2);case 6:case"end":return n.stop()}}),n)})))()}}},Zo=Qo,Yo=Object(W["a"])(Zo,Wo,Vo,!1,null,null,null),Xo=Yo.exports,es=n("c573"),ts=n("c112"),ns=n("36cc");function rs(){return is.apply(this,arguments)}function is(){return is=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return t=e.sent,t.windows.loadingWindow.open(),e.next=6,t.project.compilerManager.start("default.json","build");case 6:return e.t0=ns["a"],e.next=9,t.project.fileSystem.getDirectoryHandle("builds/dist",{create:!0});case 9:return e.t1=e.sent,n=new e.t0(e.t1),r="builds/".concat(t.project.name,".mcaddon"),e.prev=12,e.t2=ts["a"],e.t3=r,e.next=17,n.package();case 17:return e.t4=e.sent,e.t5=t.project.fileSystem,e.next=21,(0,e.t2)(e.t3,e.t4,e.t5);case 21:e.next=26;break;case 23:e.prev=23,e.t6=e["catch"](12),console.error(e.t6);case 26:i=t.project.name,rr["a"]||(a=Object(c["b"])({icon:"mdi-export",color:"success",textColor:"white",message:"general.successfulExport.title",onClick:function(){new s["a"]({description:"[".concat(t.locales.translate("general.successfulExport.description"),': "projects/').concat(i,"/").concat(r,'"]')}),a.dispose()}})),t.windows.loadingWindow.close();case 29:case"end":return e.stop()}}),e,null,[[12,23]])}))),is.apply(this,arguments)}function as(){return os.apply(this,arguments)}function os(){return os=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,u,l,d,h,f,v,m,b,g,y,w,j,k,x,O=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=O.length>0&&void 0!==O[0]&&O[0],e.next=3,il.getApp();case 3:return n=e.sent,r=n.project,i=r.fileSystem,n.windows.loadingWindow.open(),e.next=9,n.project.compilerManager.start("default.json","build");case 9:return a=[],r.hasPacks(["worldTemplate"])&&a.push("WT"),e.next=13,i.directoryExists("worlds");case 13:if(!e.sent){e.next=22;break}return e.t0=a.push,e.t1=a,e.t2=p["a"],e.next=19,i.readdir("worlds");case 19:e.t3=e.sent.map((function(e){return"worlds/".concat(e)})),e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 22:if(0!==a.length){e.next=27;break}return n.windows.loadingWindow.close(),e.abrupt("return");case 27:if(1!==a.length){e.next=31;break}o=a[0],e.next=35;break;case 31:return u=new oi({default:a[0],name:"windows.packExplorer.exportAsMctemplate.chooseWorld",options:a}),e.next=34,u.fired;case 34:o=e.sent;case 35:return e.next=37,i.mkdir("builds/mctemplate/behavior_packs",{recursive:!0});case 37:return e.next=39,i.mkdir("builds/mctemplate/resource_packs",{recursive:!0});case 39:return e.next=41,i.readdir("builds/dist");case 41:if(l=e.sent,d=Object.fromEntries(Object.entries({BP:l.find((function(e){return e.endsWith("BP")})),RP:l.find((function(e){return e.endsWith("RP")})),WT:l.find((function(e){return e.endsWith("WT")}))}).map((function(e){var t=Object(he["a"])(e,2),n=t[0],r=t[1];return[n,"builds/dist/".concat(r)]}))),"WT"!==o){e.next=48;break}return e.next=46,i.move(d.WT,"builds/mctemplate");case 46:e.next=50;break;case 48:return e.next=50,i.copyFolder(o,"builds/mctemplate");case 50:if(!d.BP){e.next=57;break}return e.next=53,i.readJSON("".concat(d.BP,"/manifest.json")).catch((function(){return null}));case 53:if(v=e.sent,null===v||null===v||void 0===v||null===(h=v.header)||void 0===h||!h.uuid||null===v||void 0===v||null===(f=v.header)||void 0===f||!f.version){e.next=57;break}return e.next=57,i.writeJSON("builds/mctemplate/world_behavior_packs.json",[{pack_id:v.header.uuid,version:v.header.version}]);case 57:if(!d.RP){e.next=64;break}return e.next=60,i.readJSON("".concat(d.RP,"/manifest.json")).catch((function(){return null}));case 60:if(g=e.sent,null===g||null===g||void 0===g||null===(m=g.header)||void 0===m||!m.uuid||null===g||void 0===g||null===(b=g.header)||void 0===b||!b.version){e.next=64;break}return e.next=64,i.writeJSON("builds/mctemplate/world_resource_packs.json",[{pack_id:g.header.uuid,version:g.header.version}]);case 64:if(!d.BP){e.next=67;break}return e.next=67,i.move(d.BP,"builds/mctemplate/behavior_packs/BP_".concat(n.project.name));case 67:if(!d.RP){e.next=70;break}return e.next=70,i.move(d.RP,"builds/mctemplate/resource_packs/RP_".concat(n.project.name));case 70:return e.next=72,i.fileExists("builds/mctemplate/manifest.json");case 72:if(e.t5=!e.sent,!e.t5){e.next=75;break}e.t5=!t;case 75:if(!e.t5){e.next=94;break}if(e.t6=i,e.t7=[1,0,0],e.t8=Object(A["a"])(),null===(y=n.project.config.get().targetVersion)||void 0===y){e.next=83;break}e.t9=y,e.next=86;break;case 83:return e.next=85,Or();case 85:e.t9=e.sent;case 86:return e.t10=e.t9.split("."),e.t11={name:"pack.name",description:"pack.description",version:e.t7,uuid:e.t8,lock_template_options:!0,base_game_version:e.t10},e.t12=[{type:"world_template",version:[1,0,0],uuid:Object(A["a"])()}],e.t13={format_version:2,header:e.t11,modules:e.t12},e.next=92,e.t6.writeJSON.call(e.t6,"builds/mctemplate/manifest.json",e.t13);case 92:e.next=97;break;case 94:if(!t||"WT"!==o){e.next=97;break}return e.next=97,i.unlink("builds/mctemplate/manifest.json");case 97:return e.t14=ns["a"],e.next=100,n.project.fileSystem.getDirectoryHandle("builds/mctemplate",{create:!0});case 100:return e.t15=e.sent,w=new e.t14(e.t15),j="builds/".concat(n.project.name,".").concat(t?"mcworld":"mctemplate"),e.prev=103,e.t16=ts["a"],e.t17=j,e.next=108,w.package();case 108:return e.t18=e.sent,e.t19=n.project.fileSystem,e.next=112,(0,e.t16)(e.t17,e.t18,e.t19);case 112:e.next=117;break;case 114:e.prev=114,e.t20=e["catch"](103),console.error(e.t20);case 117:return k=n.project.name,rr["a"]||(x=Object(c["b"])({icon:"mdi-export",color:"success",textColor:"white",message:"general.successfulExport.title",disposeOnMiddleClick:!0,onClick:function(){new s["a"]({description:"[".concat(n.locales.translate("general.successfulExport.description"),': "projects/').concat(k,"/").concat(j,'"]')}),x.dispose()}})),e.next=121,i.unlink("builds/mctemplate");case 121:return e.next=123,r.app.windows.loadingWindow.close();case 123:case"end":return e.stop()}}),e,null,[[103,114]])}))),os.apply(this,arguments)}function ss(){return cs.apply(this,arguments)}function cs(){return cs=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:if(t=e.sent,e.t0=t.project.hasPacks(["worldTemplate"]),e.t0){e.next=14;break}return e.next=7,t.project.fileSystem.directoryExists("worlds");case 7:if(e.t1=e.sent,!e.t1){e.next=13;break}return e.next=11,t.project.fileSystem.readdir("worlds");case 11:e.t2=e.sent.length,e.t1=e.t2>0;case 13:e.t0=e.t1;case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}var us=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this),Object(o["a"])(Object(w["a"])(e),"component",Xo),Object(o["a"])(Object(w["a"])(e),"actions",[]),Object(o["a"])(Object(w["a"])(e),"directoryEntries",{}),Object(o["a"])(Object(w["a"])(e),"topPanel",rr["a"]?new nr["a"]({type:"warning",text:"general.fileSystemPolyfill",isDismissible:!0}):void 0),il.eventSystem.on("projectChanged",(function(){il.getApp().then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r,i,a,o,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.unselectAllActions(),o=Object(R["a"])(null!==(a=n.project.projectData.contains)&&void 0!==a?a:[]),t.prev=2,o.s();case 4:if((s=o.n()).done){t.next=15;break}return c=s.value,t.t0=ue["g"],t.t1=e.directoryEntries,t.t2=c.packPath,t.next=11,Lo.create([c.packPath]);case 11:t.t3=t.sent,(0,t.t0)(t.t1,t.t2,t.t3);case 13:t.next=4;break;case 15:t.next=20;break;case 17:t.prev=17,t.t4=t["catch"](2),o.e(t.t4);case 20:return t.prev=20,o.f(),t.finish(20);case 23:e.actions=null!==(r=null===(i=n.project.projectData.contains)||void 0===i?void 0:i.map((function(t){return new Dr["a"](Object(w["a"])(e),{id:t.packPath,icon:t.icon,color:t.color})})))&&void 0!==r?r:[],rr["a"]&&e.actions.push(new Io["a"]({icon:"mdi-content-save-outline",onTrigger:function(){return Object(es["a"])()}})),e.actions.push(new Io["a"]({icon:"mdi-dots-vertical",onTrigger:function(t){e.showMoreMenu(t)}}));case 26:case"end":return t.stop()}}),t,null,[[2,17,20,23]])})));return function(e){return t.apply(this,arguments)}}())})),il.eventSystem.on("fileAdded",(function(){return e.refresh()})),e}return Object(a["a"])(n,[{key:"refresh",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Object.values(this.directoryEntries).map((function(e){return e.refresh()})));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getContextMenu",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,i){var a,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("virtualFolder"!==t){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,il.getApp().then((function(e){return e.project}));case 4:return a=e.sent,e.abrupt("return",[{icon:"mdi-delete-outline",name:"windows.packExplorer.fileActions.delete.name",description:"windows.packExplorer.fileActions.delete.description",onTrigger:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new Yr["a"]({description:"windows.packExplorer.fileActions.delete.confirmText"}),e.next=3,t.fired;case 3:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return i.remove(),e.next=8,Promise.all([a.packIndexer.unlink(n),a.compilerManager.unlink(n)]);case 8:return e.next=10,a.jsonDefaults.reload();case 10:return e.prev=10,e.next=13,a.fileSystem.unlink(n);case 13:e.next=17;break;case 15:e.prev=15,e.t0=e["catch"](10);case 17:return e.next=19,a.recentFiles.removeFile("projects/".concat(a.name,"/").concat(n));case 19:case"end":return e.stop()}}),e,null,[[10,15]])})));function t(){return e.apply(this,arguments)}return t}()}].concat(Object(p["a"])("file"===t?[{icon:"mdi-pencil-outline",name:"windows.packExplorer.fileActions.rename.name",description:"windows.packExplorer.fileActions.rename.description",onTrigger:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,r,s,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=i.name.split(".").slice(0,-1).join("."),r=new fi({name:"windows.packExplorer.fileActions.rename.name",label:"general.fileName",default:t,expandText:Object(le["extname"])(n)}),e.next=4,r.fired;case 4:if(s=e.sent,s){e.next=7;break}return e.abrupt("return");case 7:return c=Object(le["join"])(Object(le["dirname"])(n),s),e.next=10,a.fileSystem.fileExists(c);case 10:if(!e.sent){e.next=16;break}return u=new Yr["a"]({description:"general.confirmOverwriteFile"}),e.next=14,u.fired;case 14:if(e.sent){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,Promise.all([a.packIndexer.unlink(n),a.compilerManager.unlink(n)]);case 18:return e.next=20,a.fileSystem.move(n,c);case 20:return e.next=22,a.updateFile(c);case 22:return e.next=24,a.recentFiles.removeFile("projects/".concat(a.name,"/").concat(n));case 24:o.refresh();case 25:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{icon:"mdi-content-duplicate",name:"windows.packExplorer.fileActions.duplicate.name",description:"windows.packExplorer.fileActions.duplicate.description",onTrigger:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,r,s,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=i.name.split(".").slice(0,-1).join("."),r=new fi({name:"windows.packExplorer.fileActions.duplicate.name",label:"general.fileName",default:t,expandText:Object(le["extname"])(n)}),e.next=4,r.fired;case 4:if(s=e.sent,s){e.next=7;break}return e.abrupt("return");case 7:return c=Object(le["join"])(Object(le["dirname"])(n),s),e.next=10,a.fileSystem.fileExists(c);case 10:if(!e.sent){e.next=16;break}return u=new Yr["a"]({description:"general.confirmOverwriteFile"}),e.next=14,u.fired;case 14:if(e.sent){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,a.fileSystem.copyFile(n,c);case 18:return e.next=20,a.updateFile(c);case 20:o.refresh();case 21:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{icon:"mdi-cogs",name:"windows.packExplorer.fileActions.viewCompilerOutput.name",description:"windows.packExplorer.fileActions.viewCompilerOutput.description",onTrigger:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,r,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=a.app,e.next=3,a.compilerManager.current.getCompilerOutputPath(n);case 3:return i=e.sent,o=r.comMojang.hasComMojang?r.comMojang.fileSystem:a.fileSystem,e.next=7,o.fileExists(i);case 7:if(e.sent){e.next=10;break}return new s["a"]({description:"windows.packExplorer.fileActions.viewCompilerOutput.fileMissing"}),e.abrupt("return");case 10:return e.next=12,o.getFileHandle(i);case 12:return c=e.sent,e.next=15,null===(t=a.tabSystem)||void 0===t?void 0:t.open(c,!0,!0);case 15:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]:[]),[{icon:"mdi-folder-outline",name:"windows.packExplorer.fileActions.revealFilePath.name",description:"windows.packExplorer.fileActions.revealFilePath.description",onTrigger:function(){return new s["a"]({name:"windows.packExplorer.fileActions.revealFilePath.name",description:"[".concat(n,"]"),isPersistent:!1}).open()}}]));case 6:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"showMoreMenu",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return n=e.sent,e.t0=yn["a"],e.t1=t,e.t3={icon:"mdi-plus",name:"windows.packExplorer.createPreset",onTrigger:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return t=e.sent,e.next=5,t.windows.createPreset.open();case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},e.t4={icon:"mdi-refresh",name:"windows.packExplorer.refresh.name",onTrigger:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n.actionManager.trigger("bridge.action.refreshProject");case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},e.t5={icon:"mdi-restart-alert",name:"windows.packExplorer.restartDevServer.name",onTrigger:function(){new Yr["a"]({description:"windows.packExplorer.restartDevServer.description",onConfirm:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.project.fileSystem.unlink(".bridge/.lightningCache"),n.project.fileSystem.unlink(".bridge/.compilerFiles")]);case 2:return e.next=4,n.project.fileSystem.writeFile(".bridge/.restartDevServer","");case 4:n.actionManager.trigger("bridge.action.refreshProject");case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()})}},e.t6={type:"divider"},e.t7={icon:"mdi-export",name:"windows.packExplorer.exportAsBrproject.name",onTrigger:function(){return Object(es["a"])()}},e.t8={icon:"mdi-folder-zip-outline",name:"windows.packExplorer.exportAsMcaddon.name",onTrigger:function(){return rs()}},e.next=13,ss();case 13:return e.t9=!e.sent,e.t10=function(){return as(!0)},e.t11={icon:"mdi-earth-box",name:"windows.packExplorer.exportAsMcworld.name",isDisabled:e.t9,onTrigger:e.t10},e.next=18,ss();case 18:return e.t12=!e.sent,e.t13=function(){return as()},e.t14={icon:"mdi-earth-box-plus",name:"windows.packExplorer.exportAsMctemplate.name",isDisabled:e.t12,onTrigger:e.t13},e.t2=[e.t3,e.t4,e.t5,e.t6,e.t7,e.t8,e.t11,e.t14],e.t15=p["a"],e.next=25,n.project.exportProvider.getExporters();case 25:e.t16=e.sent,e.t17=(0,e.t15)(e.t16),e.t18=[{type:"divider"},{icon:"mdi-cog-outline",name:"windows.packExplorer.projectConfig.name",onTrigger:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.project,e.next=3,r.fileSystem.fileExists("config.json");case 3:if(e.sent){e.next=6;break}return new s["a"]({description:"windows.packExplorer.projectConfig.missing"}),e.abrupt("return");case 6:return e.next=8,null===(t=r.tabSystem)||void 0===t?void 0:t.openPath("projects/".concat(r.name,"/config.json"));case 8:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}],e.t19=e.t2.concat.call(e.t2,e.t17,e.t18),(0,e.t0)(e.t1,e.t19);case 30:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(Mr),ls=n("6997");function ds(){Ir({id:"projects",displayName:"windows.projectChooser.title",icon:"mdi-view-dashboard-outline",onClick:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!rr["a"]){e.next=10;break}return t=new Yn("windows.projectChooser.title",{isPersistent:!1}),e.next=4,t.actionManager;case 4:n=e.sent,n.create({icon:"mdi-plus",name:"windows.projectChooser.newProject.name",description:"windows.projectChooser.saveCurrentProject.description",onTrigger:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:t=e.sent,t.windows.createProject.open();case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}),n.create({icon:"mdi-content-save-outline",name:"windows.projectChooser.saveCurrentProject.name",description:"windows.projectChooser.saveCurrentProject.description",onTrigger:function(){return Object(es["a"])()}}),n.create({icon:"mdi-folder-open-outline",name:"windows.projectChooser.openNewProject.name",description:"windows.projectChooser.openNewProject.description",onTrigger:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,window.showOpenFilePicker({multiple:!1,types:[{description:"Project",accept:{"application/zip":[".brproject"]}}]});case 4:n=e.sent,r=Object(he["a"])(n,1),t=r[0],e.next=12;break;case 9:return e.prev=9,e.t0=e["catch"](0),e.abrupt("return");case 12:if(t.name.endsWith(".brproject")){e.next=14;break}return e.abrupt("return",new s["a"]({description:"windows.projectChooser.wrongFileType"}));case 14:return e.next=16,Object(ls["a"])(t);case 16:case"end":return e.stop()}}),e,null,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}()}),e.next=11;break;case 10:il.instance.windows.projectChooser.open();case 11:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()});var e=Ir({id:"packExplorer",displayName:"windows.packExplorer.title",icon:"mdi-folder-outline",sidebarContent:new us});e.click(),Ir({id:"fileSearch",displayName:"findAndReplace.name",icon:"mdi-file-search-outline",onClick:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:n=e.sent,null===(t=n.project.tabSystem)||void 0===t||t.add(new Mo["a"](n.project.tabSystem),!0);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}),Ir({id:"compiler",displayName:"sidebar.compiler.name",icon:"mdi-cogs",onClick:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return n=e.sent,e.next=5,null===(t=n.project)||void 0===t?void 0:t.compilerManager.openWindow();case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}),Ir({id:"extensions",displayName:"sidebar.extensions.name",icon:"mdi-puzzle-outline",onClick:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return t=e.sent,e.next=5,t.windows.extensionStore.open();case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}),Vr["a"].loadedSettings.once((function(e){for(var t=0,n=Object.values(Er["a"].sidebarElements);t<n.length;t++){var r,i,a,o=n[t];o.isVisible=null===(r=null===e||void 0===e||null===(i=e.sidebar)||void 0===i||null===(a=i.sidebarElements)||void 0===a?void 0:a[o.uuid])||void 0===r||r}}))}var ps=n("2dd6"),hs=new Set(["INPUT","TEXTAREA"]);function fs(e){var t=new gi("mdi-pencil-outline","toolbar.edit.name");t.addItem(e.actionManager.create({icon:"mdi-content-copy",name:"actions.copy.name",description:"actions.copy.description",keyBinding:"Ctrl + C",prevent:function(e){return""!==(null===e||void 0===e?void 0:e.value)&&hs.has(e.tagName)},onTrigger:function(){var t,n;return null===(t=e.tabSystem)||void 0===t||null===(n=t.selectedTab)||void 0===n?void 0:n.copy()}})),t.addItem(e.actionManager.create({icon:"mdi-content-cut",name:"actions.cut.name",description:"actions.cut.description",keyBinding:"Ctrl + X",prevent:function(e){return""!==(null===e||void 0===e?void 0:e.value)&&hs.has(e.tagName)},onTrigger:function(){var t,n;return null===(t=e.tabSystem)||void 0===t||null===(n=t.selectedTab)||void 0===n?void 0:n.cut()}})),t.addItem(e.actionManager.create({icon:"mdi-content-paste",name:"actions.paste.name",description:"actions.paste.description",keyBinding:"Ctrl + V",prevent:function(e){return""!==(null===e||void 0===e?void 0:e.value)&&hs.has(e.tagName)},onTrigger:function(){var t,n;return null===(t=e.tabSystem)||void 0===t||null===(n=t.selectedTab)||void 0===n?void 0:n.paste()}})),il.toolbar.addCategory(t)}var vs=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;Object(i["a"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(o["a"])(Object(w["a"])(e),"id",Object(A["a"])()),Object(o["a"])(Object(w["a"])(e),"type","divider"),e}return n}(Jt["a"]);function ms(e){var t=new gi("mdi-file-outline","toolbar.file.name");t.addItem(e.actionManager.create({id:"bridge.action.newProject",icon:"mdi-folder-outline",name:"actions.newProject.name",description:"actions.newProject.description",onTrigger:function(){return e.windows.createProject.open()}})),t.addItem(e.actionManager.create({id:"bridge.action.newFile",icon:"mdi-file-plus-outline",name:"actions.newFile.name",description:"actions.newFile.description",keyBinding:"Ctrl + N",onTrigger:function(){return e.windows.createPreset.open()}})),t.addItem(e.actionManager.create({id:"bridge.action.searchFile",icon:"mdi-magnify",name:"actions.searchFile.name",description:"actions.searchFile.description",keyBinding:"Ctrl + P",onTrigger:function(){return e.windows.filePicker.open()}})),t.addItem(e.actionManager.create({icon:"mdi-file-cancel-outline",name:"actions.closeFile.name",description:"actions.closeFile.description",keyBinding:"Ctrl + W",onTrigger:function(){return il.ready.once((function(e){var t;return null===(t=e.tabSystem)||void 0===t?void 0:t.close()}))}})),t.addItem(new vs),t.addItem(e.actionManager.create({icon:"mdi-content-save-outline",name:"actions.saveFile.name",description:"actions.saveFile.description",keyBinding:"Ctrl + S",onTrigger:function(){return il.ready.once((function(e){var t;return null===(t=e.tabSystem)||void 0===t?void 0:t.save()}))}})),t.addItem(e.actionManager.create({icon:"mdi-content-save-edit-outline",name:"actions.saveAs.name",description:"actions.saveAs.description",keyBinding:"Ctrl + Shift + S",onTrigger:function(){return il.ready.once((function(e){var t;return null===(t=e.tabSystem)||void 0===t?void 0:t.saveAs()}))}})),t.addItem(e.actionManager.create({icon:"mdi-content-save-settings-outline",name:"actions.saveAll.name",description:"actions.saveAll.description",keyBinding:"win32"===Object(Lt["a"])()?"Ctrl + Alt + S":"Ctrl + Meta + S",onTrigger:function(){return il.ready.once((function(e){var t;return null===(t=e.tabSystem)||void 0===t?void 0:t.saveAll()}))}})),t.addItem(new vs),t.addItem(e.actionManager.create({icon:"mdi-cancel",name:"actions.clearAllNotifications.name",description:"actions.clearAllNotifications.description",onTrigger:function(){return Object(c["a"])()}})),t.addItem(new gi("mdi-palette-outline","toolbar.file.preferences.name").addItem(e.actionManager.create({id:"bridge.action.openSettings",icon:"mdi-cog-outline",name:"actions.settings.name",description:"actions.settings.description",keyBinding:"Ctrl + ,",onTrigger:function(){return e.windows.settings.open()}})).addItem(e.actionManager.create({icon:"mdi-puzzle-outline",name:"actions.extensions.name",description:"actions.extensions.description",onTrigger:function(){return e.windows.extensionStore.open()}}))),il.toolbar.addCategory(t)}function bs(e){var t=new gi("mdi-help","toolbar.help.name");t.addItem(e.actionManager.create({name:"actions.releases.name",icon:"mdi-alert-decagram",description:"actions.releases.description",onTrigger:function(){return window.open("https://github.com/bridge-core/editor/releases","_blank")}})),t.addItem(e.actionManager.create({name:"actions.bugReports.name",icon:"mdi-bug-outline",description:"actions.bugReports.description",onTrigger:function(){return window.open("https://github.com/bridge-core/editor/issues/new/choose","_blank")}})),t.addItem(new vs),t.addItem(e.actionManager.create({name:"actions.extensionAPI.name",icon:"mdi-puzzle-outline",description:"actions.extensionAPI.description",onTrigger:function(){return il.openUrl("https://bridge-core.github.io/extension-docs/","_blank")}})),t.addItem(e.actionManager.create({name:"actions.gettingStarted.name",icon:"mdi-help-circle-outline",description:"actions.gettingStarted.description",onTrigger:function(){return il.openUrl("https://bridge-core.github.io/editor-docs/getting-started/","_blank")}})),t.addItem(e.actionManager.create({name:"actions.faq.name",icon:"mdi-frequently-asked-questions",description:"actions.faq.description",onTrigger:function(){return il.openUrl("https://bridge-core.github.io/editor-docs/faq/","_blank")}})),il.toolbar.addCategory(t)}function gs(e){var t=new gi("mdi-wrench-outline","toolbar.tools.name");t.addItem(e.actionManager.create({icon:"mdi-book-open-page-variant",name:"actions.docs.name",description:"actions.docs.description",onTrigger:function(){return il.openUrl("https://bedrock.dev","DocWindow")}})),t.addItem(new vs),t.addItem(e.actionManager.create({id:"bridge.action.refreshProject",icon:"mdi-folder-refresh-outline",name:"windows.packExplorer.refresh.name",description:"windows.packExplorer.refresh.description",keyBinding:"win32"===Object(Lt["a"])()?"Ctrl + Alt + R":"Ctrl + Meta + R",onTrigger:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return t=e.sent,e.next=5,t.project.refresh();case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()})),t.addItem(e.actionManager.create({icon:"mdi-reload",name:"actions.reloadAutoCompletions.name",description:"actions.reloadAutoCompletions.description",keyBinding:"Ctrl + Shift + R",onTrigger:function(){return e.project.jsonDefaults.reload()}})),t.addItem(e.actionManager.create({icon:"mdi-puzzle-outline",name:"actions.reloadExtensions.name",description:"actions.reloadExtensions.description",onTrigger:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.extensionLoader.deactiveAll(!0),t.t0=e.extensionLoader,t.next=4,e.fileSystem.getDirectoryHandle("extensions");case 4:return t.t1=t.sent,t.t0.loadExtensions.call(t.t0,t.t1),e.project.extensionLoader.deactiveAll(!0),t.t2=e.project.extensionLoader,t.next=10,e.project.fileSystem.getDirectoryHandle(".bridge/extensions");case 10:t.t3=t.sent,t.t2.loadExtensions.call(t.t2,t.t3);case 12:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()})),il.toolbar.addCategory(t)}function ys(e){return ws.apply(this,arguments)}function ws(){return ws=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:ms(t),fs(t),gs(t),bs(t);case 4:case"end":return e.stop()}}),e)}))),ws.apply(this,arguments)}var js=n("923f"),ks=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:"windows.browserUnsupported.title",isVisible:e.isVisible,isPersistent:!0,hasCloseButton:!1,width:420,height:240},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"default",fn:function(){return[n("div",{staticClass:"text-center"},[n("v-icon",{staticStyle:{"font-size":"8em"},attrs:{color:"error"}},[e._v(" mdi-alert-octagon-outline ")]),n("p",[e._v(e._s(e.t("windows.browserUnsupported.description")))])],1)]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{attrs:{color:"error"},on:{click:e.onContinue}},[n("v-icon",{staticClass:"mr-1"},[e._v("mdi-check")]),e._v(" "+e._s(e.t("windows.browserUnsupported.continue"))+" ")],1),n("v-spacer")]},proxy:!0}],null,!1,3226775507)}):e._e()},xs=[],Os={name:"Discord",mixins:[G["a"]],components:{BaseWindow:K["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()},onContinue:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(So["c"])("confirmedUnsupportedBrowser",!0);case 2:e.onClose();case 3:case"end":return t.stop()}}),t)})))()}}},Ss=Os,Cs=Object(W["a"])(Ss,ks,xs,!1,null,null,null),Rs=Cs.exports;X()(Cs,{VBtn:ee["a"],VIcon:gt["a"],VSpacer:te["a"]});var Ps=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this,Rs),e.defineWindow(),e}return n}(ae["a"]),_s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SidebarWindow",{attrs:{windowTitle:"windows.extensionStore.title",isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,percentageWidth:80,percentageHeight:80,sidebarItems:e.sidebar.elements},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"sidebar",fn:function(){return[n("v-text-field",{staticClass:"pt-2",attrs:{"prepend-inner-icon":"mdi-magnify",label:e.t("windows.extensionStore.searchExtensions"),autocomplete:"off",autofocus:"",outlined:"",dense:""},model:{value:e.sidebar._filter,callback:function(t){e.$set(e.sidebar,"_filter",t)},expression:"sidebar._filter"}})]},proxy:!0},{key:"default",fn:function(){return[0===e.currentExtensions.length?n("div",[e._v(" No plugins match your search... ")]):e._l(e.currentExtensions,(function(t){return n("ExtensionCard",{key:t.id+"."+t.isInstalled+"."+t.isUpdateAvailable,attrs:{extension:t},on:{search:function(t){return e.sidebar._filter=t},select:function(t){return e.$data.selectedSidebar=t}}})}))]},proxy:!0}]),model:{value:e.$data.selectedSidebar,callback:function(t){e.$set(e.$data,"selectedSidebar",t)},expression:"$data.selectedSidebar"}})},As=[],Ts=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"body-1 pa-4 mb-2 rounded-lg card"},[n("div",{staticClass:"d-flex align-center"},[e.extension.icon?n("v-icon",{staticClass:"mr-1",attrs:{color:"accent"}},[e._v(" "+e._s(e.extension.icon)+" ")]):e._e(),n("h3",[e._v(e._s(e.extension.name))]),n("v-spacer"),e.extension.isInstalled?e.extension.isUpdateAvailable?n("v-btn",{staticClass:"rounded-lg elevation-0",attrs:{loading:e.extension.isLoading,color:"primary",small:""},on:{click:function(t){return e.extension.update()}}},[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v("mdi-sync")]),e._v(" Update ")],1):n("v-tooltip",{attrs:{color:e.extension.isActive?"success":"error",right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[e.extension.isActive?n("v-icon",e._g({attrs:{color:"success"}},r),[e._v(" mdi-check ")]):n("v-icon",e._g({attrs:{color:"error"}},r),[e._v("mdi-close")])]}}])},[n("span",[e._v(" "+e._s(e.extension.isActive?"Extension Active":"Extension Inactive")+" ")])]):n("v-btn",{staticClass:"rounded-lg elevation-0",attrs:{loading:e.extension.isLoading,color:"primary",small:""},on:{click:function(t){return e.extension.download()}}},[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v("mdi-download")]),e._v(" Download ")],1),e.extension.isInstalled?n("v-menu",{attrs:{"offset-y":"","offset-x":"",rounded:"lg"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("v-btn",e._g(e._b({attrs:{small:"",icon:""}},"v-btn",i,!1),r),[n("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!1,3448670655),model:{value:e.extension.showMenu,callback:function(t){e.$set(e.extension,"showMenu",t)},expression:"extension.showMenu"}},[n("v-list",{attrs:{dense:""}},e._l(e.extension.actions,(function(t,r){return n("v-list-item",{key:r,on:{click:function(e){return e.stopPropagation(),t.trigger()}}},[n("v-list-item-icon",[n("v-icon",{attrs:{color:"primary"}},[e._v(" "+e._s(t.icon))])],1),n("v-list-item-title",[e._v(" "+e._s(e.t(t.name))+" ")])],1)})),1)],1):e._e()],1),n("div",{staticClass:"d-flex mb-4"},e._l(e.tags,(function(t){return n("v-chip",{key:t.text,staticClass:"mr-2",attrs:{color:t.color,"text-color":t.color?"white":void 0,small:""},on:{click:function(n){"search"===t.type?e.$emit("search",t.text):e.$emit("select",t.text.toLowerCase())}}},[n("v-icon",{staticClass:"mr-1"},[e._v(e._s(t.icon))]),e._v(" "+e._s(t.text)+" ")],1)})),1),n("span",[e._v(e._s(e.extension.description))])])},Fs=[],Es={name:"ExtensionCard",mixins:[G["a"]],props:{extension:Object},computed:{tags:function(){return[{icon:"mdi-account-outline",color:"primary",text:this.extension.author,type:"search"},{icon:"mdi-code-braces",text:this.extension.displayVersion,type:"search"}].concat(this.extension.tags)}}},Ds=Es,Ms=(n("8743"),n("cc20")),Is=n("8860"),Ws=n("da13"),Vs=n("34c3"),Bs=n("5d23"),Ns=n("e449"),Ls=n("3a2f"),$s=Object(W["a"])(Ds,Ts,Fs,!1,null,"40981367",null),Hs=$s.exports;X()($s,{VBtn:ee["a"],VChip:Ms["a"],VIcon:gt["a"],VList:Is["a"],VListItem:Ws["a"],VListItemIcon:Vs["a"],VListItemTitle:Bs["k"],VMenu:Ns["a"],VSpacer:te["a"],VTooltip:Ls["a"]});var zs={name:"CreatePresetWindow",mixins:[G["a"]],components:{SidebarWindow:Nr["a"],ExtensionCard:Hs},props:["currentWindow"],data:function(){return this.currentWindow},computed:{currentExtensions:function(){if(""!==this.sidebar._filter){var e=this.sidebar._filter.toLowerCase();return this.extensions.filter((function(t){return t.name.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.author.toLowerCase().includes(e)||t.version.includes(e)||t.tags.some((function(t){return t.text.toLowerCase().includes(e)}))}))}return this.sidebar.currentState}},methods:{onClose:function(){this.currentWindow.close()}}},Us=zs,Js=Object(W["a"])(Us,_s,As,!1,null,null,null),qs=Js.exports;X()(Js,{VTextField:Wt["a"]});var Gs=n("6c6e"),Ks=void 0,Qs=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this,qs),Object(o["a"])(Object(w["a"])(e),"baseUrl","https://raw.githubusercontent.com/bridge-core/plugins/master"),Object(o["a"])(Object(w["a"])(e),"sidebar",new zi["a"]([])),Object(o["a"])(Object(w["a"])(e),"extensions",[]),Object(o["a"])(Object(w["a"])(e),"extensionTags",void 0),Object(o["a"])(Object(w["a"])(e),"installedExtensions",new Set),Object(o["a"])(Object(w["a"])(e),"tags",{}),Object(o["a"])(Object(w["a"])(e),"updates",new Set),il.eventSystem.on("projectChanged",(function(){var e;null===(e=Ks)||void 0===e||e.dispose(),Ks=void 0})),e.defineWindow(),e}return Object(a["a"])(n,[{key:"open",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,r,i,a,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return il.audioManager.playAudio("click5.ogg",1),e.next=3,il.getApp();case 3:return r=e.sent,r.windows.loadingWindow.open(),this.sidebar.removeElements(),this.installedExtensions.clear(),e.next=9,r.dataLoader.fired;case 9:return e.next=11,r.dataLoader.readJSON("data/packages/common/extensionTags.json");case 11:return this.extensionTags=e.sent,e.next=14,r.extensionLoader.getInstalledExtensions();case 14:return i=e.sent,e.prev=15,e.next=18,fetch("".concat(this.baseUrl,"/extensions.json")).then((function(e){return e.json()}));case 18:a=e.sent,e.next=27;break;case 21:return e.prev=21,e.t0=e["catch"](15),this.close(),r.windows.loadingWindow.close(),new s["a"]({description:"windows.extensionStore.offlineError"}),e.abrupt("return");case 27:this.extensions=a.map((function(e){return new Gi(o,e)})),this.updates.clear(),i.forEach((function(e,t){var n=o.extensions.find((function(e){return e.id===t}));n?(n.setInstalled(),n.setConnected(e),Object(yr["compare"])(e.version,n.version,"<")&&(n.setIsUpdateAvailable(),o.updates.add(n))):e.forStore(o)})),null===(t=Ks)||void 0===t||t.dispose(),this.setupSidebar(),r.windows.loadingWindow.close(),Object(j["a"])(Object(k["a"])(n.prototype),"open",this).call(this);case 34:case"end":return e.stop()}}),e,this,[[15,21]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){var e=this;il.audioManager.playAudio("click5.ogg",1),Object(j["a"])(Object(k["a"])(n.prototype),"close",this).call(this),this.updates.size>0&&(Ks=new Gs["a"]({icon:"mdi-sync",color:"primary",message:"sidebar.notifications.updateExtensions",onClick:function(){var t;e.updates.forEach((function(e){return e.update(!1)})),null===(t=Ks)||void 0===t||t.dispose()}}))}},{key:"updateInstalled",value:function(e){this.updates.delete(e)}},{key:"setupSidebar",value:function(){var e=this;this.sidebar.addElement(new zi["c"]({id:"all",text:"All",icon:"mdi-format-list-bulleted-square",color:"primary"}),this.getExtensions()),this.sidebar.addElement(new zi["c"]({id:"installed",text:"Installed",icon:"mdi-download-circle-outline",color:"primary"}),this.installedExtensions),Object.values(this.tags).forEach((function(t){return e.sidebar.addElement(t.asSidebarElement(),e.getExtensionsByTag(t))})),this.sidebar.setDefaultSelected()}},{key:"getExtensions",value:function(e){return Object(p["a"])(new Set([].concat(Object(p["a"])(this.extensions),Object(p["a"])(this.installedExtensions)))).filter((function(t){return!e||t.hasTag(e)})).sort((function(e,t){var n=e.releaseTimestamp,r=t.releaseTimestamp;return r-n}))}},{key:"getExtensionsByTag",value:function(e){return this.getExtensions(e)}},{key:"getTagIcon",value:function(e){var t;return null===(t=this.extensionTags[e])||void 0===t?void 0:t.icon}},{key:"getTagColor",value:function(e){var t;return null===(t=this.extensionTags[e])||void 0===t?void 0:t.color}},{key:"getExtensionById",value:function(e){return this.getExtensions().find((function(t){return t.id===e}))}},{key:"selectedSidebar",get:function(){return this.sidebar.selected},set:function(e){this.sidebar.clearFilter(),this.sidebar.selected=e}},{key:"getBaseUrl",value:function(){return this.baseUrl}},{key:"addInstalledExtension",value:function(e){this.installedExtensions.add(e)}}]),n}(ae["a"]),Zs=n("b147"),Ys=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("SidebarWindow",{attrs:{windowTitle:"windows.createPreset.title",isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,percentageWidth:80,percentageHeight:80,sidebarItems:e.sidebar.elements},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"sidebar",fn:function(){return[n("v-text-field",{staticClass:"pt-2",attrs:{"prepend-inner-icon":"mdi-magnify",label:e.t("windows.createPreset.searchPresets"),autocomplete:"off",autofocus:"",outlined:"",dense:""},model:{value:e.sidebar._filter,callback:function(t){e.$set(e.sidebar,"_filter",t)},expression:"sidebar._filter"}})]},proxy:!0},{key:"default",fn:function(){return[n("h1",{staticClass:"mt-2 d-flex align-center",class:{"mb-6":!e.content.description}},[n("v-icon",{staticClass:"mr-1",attrs:{large:""}},[e._v(e._s(e.content.icon))]),e._v(" "+e._s(e.content.name)+" ")],1),e.content.description?n("p",{staticClass:"mt-2 mb-6"},[e._v(" "+e._s(e.content.description)+" ")]):e._e(),"string"===typeof e.content.models.PRESET_PATH?n("PresetPath",{model:{value:e.content.models.PRESET_PATH,callback:function(t){e.$set(e.content.models,"PRESET_PATH",t)},expression:"content.models.PRESET_PATH"}}):e._e(),e._l(e.content.fields,(function(t,r){var i=t[0],a=t[1],o=t[2];return void 0===o&&(o={}),[o.type&&"textInput"!==o.type?"fileInput"===o.type?n("v-file-input",{key:r,staticClass:"mb-1",attrs:{accept:o.accept,"prepend-icon":null,"prepend-inner-icon":o.icon||"mdi-paperclip",label:i,autocomplete:"off",outlined:"",dense:""},model:{value:e.content.models[a],callback:function(t){e.$set(e.content.models,a,t)},expression:"content.models[id]"}}):"selectInput"===o.type?n(o.options.length>4?"v-autocomplete":"v-select",{key:r,tag:"component",staticClass:"mb-1",attrs:{items:o.options,"menu-props":{maxHeight:220},label:i,autocomplete:"off",outlined:"",dense:""},model:{value:e.content.models[a],callback:function(t){e.$set(e.content.models,a,t)},expression:"content.models[id]"}}):"switch"===o.type?n("v-switch",{key:r,staticClass:"mb-1",attrs:{label:i},model:{value:e.content.models[a],callback:function(t){e.$set(e.content.models,a,t)},expression:"content.models[id]"}}):"numberInput"===o.type?n("v-slider",{key:r,staticClass:"mb-1",attrs:{min:o.min||0,max:o.max||10,discrete:"",step:o.step||1,"thumb-label":"always",label:i},model:{value:e.content.models[a],callback:function(t){e.$set(e.content.models,a,t)},expression:"content.models[id]"}}):e._e():n("v-text-field",{key:r,staticClass:"mb-1",attrs:{label:i,rules:o.validate?o.validate.map((function(t){return e.$data.validationRules[t]})):[],autocomplete:"off",outlined:"",dense:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onCreatePreset(t)}},model:{value:e.content.models[a],callback:function(t){e.$set(e.content.models,a,t)},expression:"content.models[id]"}})]}))]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{attrs:{color:"primary",disabled:!e.fieldsReady},on:{click:e.onCreatePreset}},[n("v-icon",{staticClass:"mr-1"},[e._v("mdi-plus")]),e._v(" Create ")],1)]},proxy:!0}],null,!1,3464484252),model:{value:e.sidebar.selected,callback:function(t){e.$set(e.sidebar,"selected",t)},expression:"sidebar.selected"}}):e._e()},Xs=[],ec={name:"CreatePresetWindow",mixins:[G["a"]],components:{SidebarWindow:Nr["a"],PresetPath:Ma},props:["currentWindow"],data:function(){return this.currentWindow},computed:{content:function(){return this.sidebar.currentState},fieldsReady:function(){var e=this;return Object.values(this.content.fields||{}).every((function(t){var n=Object(he["a"])(t,3),r=(n[0],n[1]),i=n[2],a=void 0===i?{}:i;return(!a.validate||!a.validate.some((function(t){return!0!==e.$data.validationRules[t](e.content.models[r])})))&&(!!e.content.models[r]||a.optional)}))}},methods:{onClose:function(){this.currentWindow.close()},onCreatePreset:function(){this.fieldsReady&&this.currentWindow.createPreset(this.content)}}},tc=ec,nc=n("23a7"),rc=n("ba0d"),ic=n("b73d"),ac=Object(W["a"])(tc,Ys,Xs,!1,null,null,null),oc=ac.exports;function sc(e,t,n){return t.forEach((function(t){return e=e.replaceAll("{{".concat(t,"}}"),n[t])})),e}X()(ac,{VBtn:ee["a"],VFileInput:nc["a"],VIcon:gt["a"],VSlider:rc["a"],VSpacer:te["a"],VSwitch:ic["a"],VTextField:Wt["a"]});var cc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r){var a;return Object(i["a"])(this,n),a=t.call(this,e),Object(o["a"])(Object(w["a"])(a),"dataLoader",void 0),a.dataLoader=r,a}return Object(a["a"])(n,[{key:"getDirectoryHandle",value:function(e,t){return e.startsWith("data/packages/")?this.dataLoader.getDirectoryHandle(e,t):Object(j["a"])(Object(k["a"])(n.prototype),"getDirectoryHandle",this).call(this,e,t)}}]),n}(Bn["a"]);function uc(e,t,n,r){return lc.apply(this,arguments)}function lc(){return lc=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,i,a){var o,s,c,u,l,d,p,h,f,v,m,b,g;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return s=e.sent,c=null===(o=s.project)||void 0===o?void 0:o.fileSystem,u=new cc(s.fileSystem.baseDirectory,s.dataLoader),l=n.startsWith("./")?n=n.replaceAll("./",t+"/"):"data/packages/minecraftBedrock/".concat(n),e.next=8,s.dataLoader.fired;case 8:return e.next=10,u.readFile(l);case 10:return d=e.sent,e.next=13,d.text();case 13:p=e.sent,h={exports:void 0},e.prev=15,je({script:p,env:{module:h}}),e.next=22;break;case 19:throw e.prev=19,e.t0=e["catch"](15),new Error('Failed to execute PresetScript "'.concat(n,'": ').concat(e.t0));case 22:if("function"===typeof h.exports){e.next=24;break}throw new Error('Failed to execute PresetScript "'.concat(n,'": module.exports is of type ').concat(Object(C["a"])(h.exports)));case 24:return f=[],v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{inject:[]};return"string"!==typeof t&&(t=JSON.stringify(t,null,"\t")),m(e,t,n)},m=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,o,s,u,l,d,p=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=p.length>2&&void 0!==p[2]?p[2]:{inject:[]},o=r.inject,s=void 0===o?[]:o,e.t0=void 0===a.mayOverwriteFiles,!e.t0){e.next=6;break}return e.next=5,c.fileExists(t);case 5:e.t0=e.sent;case 6:if(!e.t0){e.next=19;break}return u=new Yr["a"]({description:"windows.createPreset.overwriteFiles",confirmText:"windows.createPreset.overwriteFilesConfirm"}),e.next=10,u.fired;case 10:if(l=e.sent,!l){e.next=15;break}a.mayOverwriteFiles=!0,e.next=17;break;case 15:return a.mayOverwriteFiles=!1,e.abrupt("return");case 17:e.next=21;break;case 19:if(!1!==a.mayOverwriteFiles){e.next=21;break}return e.abrupt("return");case 21:return e.next=23,c.getFileHandle(t,!0);case 23:d=e.sent,f.push(d),c.write(d,"string"===typeof n?sc(n,s,i):n);case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,o,u,l,d,p,h,v,m=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=m.length>2&&void 0!==m[2]?m[2]:{inject:[]},o=r.inject,u=void 0===o?[]:o,e.next=3,s.project.fileSystem.getFileHandle(t,!0);case 3:if(l=e.sent,void 0!==a.mayOverwriteUnsavedChanges){e.next=22;break}return e.next=7,s.project.getFileTab(l);case 7:if(d=e.sent,void 0===d||!d.isUnsaved){e.next=20;break}return p=new Yr["a"]({description:"windows.createPreset.overwriteUnsavedChanges",confirmText:"windows.createPreset.overwriteUnsavedChangesConfirm"}),e.next=12,p.fired;case 12:if(h=e.sent,!h){e.next=18;break}a.mayOverwriteUnsavedChanges=!0,d.close(),e.next=20;break;case 18:return a.mayOverwriteUnsavedChanges=!1,e.abrupt("return");case 20:e.next=24;break;case 22:if(!1!==a.mayOverwriteUnsavedChanges){e.next=24;break}return e.abrupt("return");case 24:return v="",e.prev=25,e.next=28,c.readFile(t);case 28:return e.next=30,e.sent.text();case 30:v=e.sent,e.next=35;break;case 33:e.prev=33,e.t0=e["catch"](25);case 35:if(f.push(l),"string"!==typeof n){e.next=42;break}return n=sc(n,u,i),e.next=40,c.writeFile(t,"".concat(v,"\n").concat(n));case 40:e.next=45;break;case 42:return n=sc(kn.a.stringify(n),u,i),e.next=45,c.writeJSON(t,er(kn.a.parse(v),kn.a.parse(n)),!0);case 45:case"end":return e.stop()}}),e,null,[[25,33]])})));return function(t,n){return e.apply(this,arguments)}}(),g=function(e){return u.readFile("".concat(t,"/").concat(e))},e.next=31,h.exports({models:i,createFile:m,expandFile:b,loadPresetFile:g,createJSONFile:v});case 31:return e.abrupt("return",f);case 32:case"end":return e.stop()}}),e,null,[[15,19]])}))),lc.apply(this,arguments)}function dc(e,t,n){return pc.apply(this,arguments)}function pc(){return pc=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s,c,u,l,d,p,h,f,v,m,b,g,y,w,j;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object(he["a"])(n,3),o=a[0],s=a[1],c=a[2],e.next=3,il.getApp();case 3:return u=e.sent,l=new cc(u.fileSystem.baseDirectory,u.dataLoader),d=null!==(i=null===c||void 0===c?void 0:c.inject)&&void 0!==i?i:[],p="".concat(t,"/").concat(o),h=sc("projects/".concat(u.selectedProject,"/").concat(s),d,r),f=Object(le["extname"])(h),e.next=11,l.mkdir(Object(le["dirname"])(h),{recursive:!0});case 11:if(".json"!==f){e.next=29;break}return e.next=14,l.readJSON(p);case 14:return m=e.sent,e.prev=15,e.next=18,l.readJSON(h);case 18:b=e.sent,e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](15),b={};case 24:return e.next=26,l.writeFile(h,sc(JSON.stringify(er(b,m),null,"\t"),d,r));case 26:v=e.sent,e.next=50;break;case 29:return e.next=31,l.readFile(p);case 31:return g=e.sent,e.next=34,g.text();case 34:return y=e.sent,e.prev=35,e.next=38,l.readFile(h);case 38:return e.next=40,e.sent.text();case 40:w=e.sent,e.next=46;break;case 43:e.prev=43,e.t1=e["catch"](35),w="";case 46:return j=sc(y,d,r),e.next=49,l.writeFile(h,"".concat(w).concat(""!==w?"\n":"").concat(j));case 49:v=e.sent;case 50:return e.abrupt("return",v);case 51:case"end":return e.stop()}}),e,null,[[15,21],[35,43]])}))),pc.apply(this,arguments)}var hc=[".mcfunction",".json",".js",".ts",".txt",".molang"];function fc(e,t,n){return vc.apply(this,arguments)}function vc(){return vc=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,s,c,u,l,d,p,h,f,v,m,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object(he["a"])(n,3),o=a[0],s=a[1],c=a[2],e.next=3,il.getApp();case 3:return u=e.sent,l=new cc(u.fileSystem.baseDirectory,u.dataLoader),d=null!==(i=null===c||void 0===c?void 0:c.inject)&&void 0!==i?i:[],p="".concat(t,"/").concat(o),h=sc("projects/".concat(u.selectedProject,"/").concat(s),d,r),f=Object(le["extname"])(h),e.next=11,l.mkdir(Object(le["dirname"])(h),{recursive:!0});case 11:if(0!==d.length&&hc.includes(f)){e.next=17;break}return e.next=14,l.copyFile(p,h);case 14:v=e.sent,e.next=26;break;case 17:return e.next=19,l.readFile(p);case 19:return m=e.sent,e.next=22,m.text();case 22:return b=e.sent,e.next=25,l.writeFile(h,sc(b,d,r));case 25:v=e.sent;case 26:return e.abrupt("return",v);case 27:case"end":return e.stop()}}),e)}))),vc.apply(this,arguments)}var mc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r;return Object(i["a"])(this,n),r=t.call(this,e),Object(o["a"])(Object(w["a"])(r),"resetState",void 0),r.resetState=e.resetState,r}return n}(zi["c"]),bc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this,oc),Object(o["a"])(Object(w["a"])(e),"loadPresetPaths",new Map),Object(o["a"])(Object(w["a"])(e),"sidebar",new zi["a"]([])),Object(o["a"])(Object(w["a"])(e),"_validationRules",{alphanumeric:function(e){return null!==e.match(/^[a-zA-Z0-9_\.]*$/)},lowercase:function(e){return e.toLowerCase()===e},required:function(e){return!!e}}),e.defineWindow(),e}return Object(a["a"])(n,[{key:"validationRules",get:function(){return Object.fromEntries(Object.entries(this._validationRules).map((function(e){var t=Object(he["a"])(e,2),n=t[0],r=t[1];return[n,function(e){return r(e)||il.instance.locales.translate("windows.createPreset.validationRule.".concat(n))}]})))}},{key:"addPreset",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a,o,s,c,u,l,d,p,h,f,v,m,b,g,y=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return o=e.sent,e.next=5,t.readJSON(n);case 5:if(s=e.sent,s.category){e.next=8;break}throw new Error("Error loading ".concat(n,": Missing preset category"));case 8:if(null!==(r=o.project)&&void 0!==r&&r.hasPacks(null!==(i=s.packTypes)&&void 0!==i?i:[])){e.next=10;break}return e.abrupt("return");case 10:if(!s.requiredModules){e.next=32;break}l=null===(c=o.projectConfig.get().capabilities)||void 0===c?void 0:c.includes("gameTestAPI"),d=null===(u=o.projectConfig.get().capabilities)||void 0===u?void 0:u.includes("scriptingAPI"),p=Object(R["a"])(s.requiredModules),e.prev=14,p.s();case 16:if((h=p.n()).done){e.next=24;break}if(f=h.value,"gameTest"!=f||l){e.next=20;break}return e.abrupt("return");case 20:if("scriping"!=f||d){e.next=22;break}return e.abrupt("return");case 22:e.next=16;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](14),p.e(e.t0);case 29:return e.prev=29,p.f(),e.finish(29);case 32:if(null===(a=o.projectConfig.get().targetVersion)||void 0===a){e.next=36;break}e.t1=a,e.next=39;break;case 36:return e.next=38,Or();case 38:e.t1=e.sent;case 39:if(v=e.t1,!s.targetVersion||Object(yr["compare"])(v,s.targetVersion[1],s.targetVersion[0])){e.next=42;break}return e.abrupt("return");case 42:m=this.sidebar.rawElements.find((function(e){return e.getText()===s.category})),m||(m=new zi["b"]({isOpen:!1,text:s.category,items:[]}),this.sidebar.addElement(m)),b=Object(A["a"])(),g=function(){var e,t;y.sidebar.setState(b,Object(S["a"])(Object(S["a"])({},s),{},{presetPath:Object(le["dirname"])(n),models:Object(S["a"])(Object(S["a"])({PROJECT_PREFIX:null!==(e=o.projectConfig.get().namespace)&&void 0!==e?e:"bridge"},null!==(t=s.additionalModels)&&void 0!==t?t:{}),Object.fromEntries(s.fields.map((function(e){var t,n=Object(he["a"])(e,3),r=(n[0],n[1]),i=n[2],a=void 0===i?{}:i;return[r,null!==(t=a.default)&&void 0!==t?t:a.type&&"textInput"!==a.type?null:""]}))))}))},m.addItem(new mc({id:b,text:s.name,icon:s.icon,color:"primary",resetState:g})),g();case 48:case"end":return e.stop()}}),e,this,[[14,26,29,32]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"loadPresets",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"data/packages/minecraftBedrock/preset",e.next=3,t.fired;case 3:return r=[],e.prev=4,e.next=7,t.readdir(n,{withFileTypes:!0});case 7:r=e.sent,e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](4);case 12:i=Object(R["a"])(r),e.prev=13,i.s();case 15:if((a=i.n()).done){e.next=28;break}if(o=a.value,"directory"!==o.kind){e.next=22;break}return e.next=20,this.loadPresets(t,"".concat(n,"/").concat(o.name));case 20:e.next=26;break;case 22:if("manifest.json"!==o.name){e.next=26;break}return e.next=25,this.addPreset(t,"".concat(n,"/").concat(o.name));case 25:return e.abrupt("return",e.sent);case 26:e.next=15;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e["catch"](13),i.e(e.t1);case 33:return e.prev=33,i.f(),e.finish(33);case 36:case"end":return e.stop()}}),e,this,[[4,10],[13,30,33,36]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"open",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,r,i,a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return t=e.sent,r=t.fileSystem,t.windows.loadingWindow.open(),this.sidebar.removeElements(),e.next=8,this.loadPresets(t.dataLoader);case 8:i=Object(R["a"])(this.loadPresetPaths),e.prev=9,i.s();case 11:if((a=i.n()).done){e.next=17;break}return o=Object(he["a"])(a.value,2),o[0],s=o[1],e.next=15,this.loadPresets(r,s);case 15:e.next=11;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](9),i.e(e.t0);case 22:return e.prev=22,i.f(),e.finish(22);case 25:this.sidebar.setDefaultSelected(),t.windows.loadingWindow.close(),Object(j["a"])(Object(k["a"])(n.prototype),"open",this).call(this);case 28:case"end":return e.stop()}}),e,this,[[9,19,22,25]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"addPresets",value:function(e){var t=this,n=Object(A["a"])();return this.loadPresetPaths.set(n,e),{dispose:function(){return t.loadPresetPaths.delete(n)}}}},{key:"createPreset",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,o,s,c,u,l,d,h,f,v,m,b,g,y,w,j,k,x,O,S,C,P,_,A,T,F,E,D,M,I,W,V,B=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.presetPath,i=t.createFiles,a=void 0===i?[]:i,o=t.expandFiles,s=void 0===o?[]:o,n){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,il.getApp();case 5:c=e.sent,c.windows.loadingWindow.open(),u=c.project.fileSystem,l=[],d=[],h={mayOverwriteFiles:void 0,mayOverwriteUnsavedChanges:void 0},f=Object(R["a"])(a),e.prev=12,f.s();case 14:if((v=f.n()).done){e.next=35;break}if(g=v.value,"string"!==typeof g){e.next=18;break}return e.abrupt("continue",33);case 18:return y=sc(g[1],null!==(m=null===(b=g[2])||void 0===b?void 0:b.inject)&&void 0!==m?m:[],this.sidebar.currentState.models),e.next=21,u.fileExists(y);case 21:if(!e.sent){e.next=33;break}return w=new Yr["a"]({description:"windows.createPreset.overwriteFiles",confirmText:"windows.createPreset.overwriteFilesConfirm"}),e.next=25,w.fired;case 25:if(j=e.sent,!j){e.next=31;break}return h.mayOverwriteFiles=!0,e.abrupt("break",35);case 31:return c.windows.loadingWindow.close(),e.abrupt("return");case 33:e.next=14;break;case 35:e.next=40;break;case 37:e.prev=37,e.t0=e["catch"](12),f.e(e.t0);case 40:return e.prev=40,f.f(),e.finish(40);case 43:k=c.project,x=Object(R["a"])(s),e.prev=45,x.s();case 47:if((O=x.n()).done){e.next=72;break}if(P=O.value,"string"!==typeof P){e.next=51;break}return e.abrupt("continue",70);case 51:return _=sc(P[1],null!==(S=null===(C=P[2])||void 0===C?void 0:C.inject)&&void 0!==S?S:[],this.sidebar.currentState.models),e.next=54,k.fileSystem.getFileHandle(_);case 54:return A=e.sent,e.next=57,k.getFileTab(A);case 57:if(T=e.sent,void 0===T||!T.isUnsaved){e.next=70;break}return F=new Yr["a"]({description:"windows.createPreset.overwriteUnsavedChanges",confirmText:"windows.createPreset.overwriteUnsavedChangesConfirm"}),e.next=62,F.fired;case 62:if(E=e.sent,!E){e.next=68;break}h.mayOverwriteUnsavedChanges=!0,k.closeFile(A),e.next=70;break;case 68:return c.windows.loadingWindow.close(),e.abrupt("return");case 70:e.next=47;break;case 72:e.next=77;break;case 74:e.prev=74,e.t1=e["catch"](45),x.e(e.t1);case 77:return e.prev=77,x.f(),e.finish(77);case 80:return l.push.apply(l,Object(p["a"])(a.map(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=11;break}return e.t0=d.push,e.t1=d,e.t2=p["a"],e.next=6,uc(n,t,B.sidebar.currentState.models,h);case 6:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4),e.next=16;break;case 11:return e.t5=d,e.next=14,fc(n,t,B.sidebar.currentState.models);case 14:e.t6=e.sent,e.t5.push.call(e.t5,e.t6);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).concat(Object(p["a"])(s.map(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=d,e.next=3,dc(n,t,B.sidebar.currentState.models);case 3:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())))),e.next=83,Promise.all(l);case 83:il.eventSystem.dispatch("fileAdded",void 0),!1!==h.mayOverwriteFiles&&this.close(),D=[],M=0,I=d;case 87:if(!(M<I.length)){e.next=100;break}return W=I[M],e.next=91,c.project.getProjectPath(W);case 91:if(V=e.sent,V){e.next=94;break}return e.abrupt("continue",97);case 94:return D.push(V),e.next=97,c.project.openFile(W,W===d[d.length-1]);case 97:M++,e.next=87;break;case 100:return e.next=102,c.project.updateFiles(D);case 102:this.sidebar.currentElement instanceof mc&&this.sidebar.currentElement.resetState(),c.windows.loadingWindow.close();case 104:case"end":return e.stop()}}),e,this,[[12,37,40,43],[45,74,77,80]])})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(ae["a"]),gc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:"windows.createProject.title",isVisible:e.isVisible,hasMaximizeButton:!1,hasCloseButton:!e.isFirstProject,isFullscreen:!1,isPersistent:e.isCreatingProject||e.isFirstProject,percentageWidth:80,percentageHeight:80},on:{closeWindow:e.close},scopedSlots:e._u([{key:"default",fn:function(){return[e.isFirstProject?n("div",{staticClass:"rounded-lg pa-3 content-area mb-2"},[n("h1",{staticClass:"text-h4"},[e._v(" "+e._s(e.t("windows.createProject.welcome"))+" ")]),n("span",[e._v(" "+e._s(e.t("windows.createProject.welcomeDescription"))+" ")])]):e._e(),n("v-row",{staticClass:"mb-6",attrs:{"no-gutters":""}},e._l(e.availablePackTypes,(function(t,r){return n("PackTypeViewer",{key:t.id,class:{"mr-1":0===r,"ml-1":r+1===e.availablePackTypes.length,"mx-1":r>0&&r+1<e.availablePackTypes.length},attrs:{packType:t,isSelectable:"",selected:e.createOptions.packs.includes(t.packPath)},on:{click:function(n){return e.togglePack(t.packPath)}},scopedSlots:e._u(["BP"===t.packPath?{key:"default",fn:function(t){var r=t.selected;return[n("v-switch",{staticClass:"mt-3",attrs:{inset:"",dense:"",label:e.t("windows.createProject.scripting"),value:e.createOptions.scripting,disabled:!r},nativeOn:{click:function(t){t.stopPropagation(),e.createOptions.scripting=!e.createOptions.scripting}}}),n("v-switch",{staticClass:"ma-0",attrs:{inset:"",dense:"",label:e.t("windows.createProject.gameTest"),value:e.createOptions.gameTest,disabled:!r},nativeOn:{click:function(t){t.stopPropagation(),e.createOptions.gameTest=!e.createOptions.gameTest}}})]}}:"RP"===t.packPath?{key:"default",fn:function(t){var r=t.selected;return[n("v-switch",{staticClass:"mt-3",attrs:{inset:"",dense:"",label:e.t("windows.createProject.rpAsBpDependency"),value:e.createOptions.rpAsBpDependency||e.createOptions.packs.includes("BP"),disabled:!r||!e.createOptions.packs.includes("BP")},nativeOn:{click:function(t){t.stopPropagation(),e.createOptions.rpAsBpDependency=!e.createOptions.rpAsBpDependency}}})]}}:null],null,!0)})})),1),n("div",{staticClass:"d-flex"},[n("v-file-input",{staticClass:"mr-2",attrs:{label:e.t("windows.createProject.packIcon"),"prepend-icon":null,"prepend-inner-icon":"mdi-image-outline",accept:"image/png",outlined:"",dense:""},model:{value:e.createOptions.icon,callback:function(t){e.$set(e.createOptions,"icon",t)},expression:"createOptions.icon"}}),n("v-text-field",{staticClass:"ml-2",attrs:{label:e.t("windows.createProject.projectName"),autocomplete:"off",outlined:"",dense:""},model:{value:e.createOptions.name,callback:function(t){e.$set(e.createOptions,"name",t)},expression:"createOptions.name"}})],1),n("v-textarea",{attrs:{label:e.t("windows.createProject.projectDescription"),autocomplete:"off","auto-grow":"",rows:"1",counter:"",outlined:"",dense:""},model:{value:e.createOptions.description,callback:function(t){e.$set(e.createOptions,"description",t)},expression:"createOptions.description"}}),n("div",{staticClass:"d-flex"},[n("v-text-field",{staticClass:"mr-2",attrs:{label:e.t("windows.createProject.projectPrefix"),autocomplete:"off",outlined:"",dense:""},model:{value:e.createOptions.namespace,callback:function(t){e.$set(e.createOptions,"namespace",t)},expression:"createOptions.namespace"}}),n("v-text-field",{staticClass:"mx-2",attrs:{label:e.t("windows.createProject.projectAuthor"),autocomplete:"off",outlined:"",dense:""},model:{value:e.createOptions.author,callback:function(t){e.$set(e.createOptions,"author",t)},expression:"createOptions.author"}}),n("v-autocomplete",{staticClass:"ml-2",attrs:{label:e.t("windows.createProject.projectTargetVersion"),autocomplete:"off",items:e.availableTargetVersions,loading:e.availableTargetVersionsLoading,outlined:"",dense:"","menu-props":{maxHeight:220}},model:{value:e.createOptions.targetVersion,callback:function(t){e.$set(e.createOptions,"targetVersion",t)},expression:"createOptions.targetVersion"}})],1),n("div",{staticClass:"d-flex"},[n("v-switch",{staticClass:"ma-3",attrs:{inset:"",dense:"",label:e.t("windows.createProject.useLangForManifest"),value:e.createOptions.useLangForManifest},nativeOn:{click:function(t){t.stopPropagation(),e.createOptions.useLangForManifest=!e.createOptions.useLangForManifest}}})],1)]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{attrs:{color:"primary",disabled:!e.currentWindow.hasRequiredData,loading:e.shouldLoad},on:{click:e.createProject}},[n("v-icon",{staticClass:"pr-2"},[e._v("mdi-plus")]),n("span",[e._v(e._s(e.t("windows.createProject.create")))])],1)]},proxy:!0}],null,!1,644475368)}):e._e()},yc=[],wc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-col",{directives:[{name:"ripple",rawName:"v-ripple",value:e.isSelectable,expression:"isSelectable"}],class:{"rounded-lg pa-3 content-area":!0,selected:e.selected},on:{click:function(t){return t.stopPropagation(),e.$emit("click")}}},[n("div",{staticClass:"d-flex"},[n("v-icon",{staticClass:"mr-2",attrs:{color:e.packType.color}},[e._v(" "+e._s(e.packType.icon)+" ")]),n("span",{staticClass:"text-h6"},[e._v(" "+e._s(e.t("packType."+e.packType.id+".name"))+" ")])],1),e.isSelectable?n("div",{staticClass:"d-flex align-center mb-2"},[e.selected?[n("v-icon",{staticClass:"mr-1",attrs:{color:"success",small:""}},[e._v(" mdi-checkbox-marked-circle-outline ")]),n("span",[e._v(" "+e._s(e.t("windows.createProject.selectedPack"))+" ")])]:[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v(" mdi-checkbox-blank-circle-outline ")]),n("span",[e._v(" "+e._s(e.t("windows.createProject.omitPack"))+" ")])]],2):e._e(),e.packType.version?n("div",{staticClass:"mb-2"},[e._v(" Pack Version: v"+e._s(e.packType.version.join("."))+" ")]):e._e(),n("span",[e._v(e._s(e.t("packType."+e.packType.id+".description")))]),e._t("default",null,{selected:e.selected})],2)},jc=[],kc={name:"PackTypeViewer",mixins:[G["a"]],props:{packType:Object,selected:Boolean,isSelectable:Boolean}},xc=kc,Oc=(n("703d"),n("62ad")),Sc=Object(W["a"])(xc,wc,jc,!1,null,"b0f687dc",null),Cc=Sc.exports;X()(Sc,{VCol:Oc["a"],VIcon:gt["a"]}),Gn()(Sc,{Ripple:Kn["a"]});var Rc={name:"CreateProjectWindow",mixins:[G["a"]],components:{BaseWindow:K["a"],PackTypeViewer:Cc},props:["currentWindow"],data:function(){return this.currentWindow},computed:{shouldLoad:function(){return this.isFirstProject,this.isCreatingProject}},methods:{close:function(){this.currentWindow.close()},createProject:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isCreatingProject=!0,t.next=3,e.currentWindow.createProject();case 3:e.isCreatingProject=!1,e.currentWindow.close();case 5:case"end":return t.stop()}}),t)})))()},togglePack:function(e){var t=this.createOptions.packs,n=t.indexOf(e);n>-1?t.splice(n,1):t.push(e)},setModel:function(e,t){this.createOptions[e]=t}}},Pc=Rc,_c=(n("7526"),n("c6a6")),Ac=n("a844"),Tc=Object(W["a"])(Pc,gc,yc,!1,null,"2e40ea48",null),Fc=Tc.exports;X()(Tc,{VAutocomplete:_c["a"],VBtn:ee["a"],VFileInput:nc["a"],VIcon:gt["a"],VRow:di["a"],VSpacer:te["a"],VSwitch:ic["a"],VTextField:Wt["a"],VTextarea:Ac["a"]});var Ec=function(){function e(){Object(i["a"])(this,e)}return Object(a["a"])(e,[{key:"create",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.mkdir(this.packPath);case 2:r=Object(R["a"])(this.createFiles),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=11;break}return a=i.value,e.next=9,a.create(t,n);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[3,13,16,19]])})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),Dc=function e(){Object(i["a"])(this,e)},Mc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r;return Object(i["a"])(this,n),r=t.call(this),Object(o["a"])(Object(w["a"])(r),"pack",void 0),r.pack=e,r}return Object(a["a"])(n,[{key:"type",get:function(){switch(this.pack){case"BP":return"data";case"RP":return"resources";case"SP":return"skin_pack";case"WT":return"world_template"}}},{key:"transformTargetVersion",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return i=e.sent,e.next=5,i.dataLoader.readJSON("data/packages/minecraftBedrock/minEngineVersionMap.json");case 5:return a=e.sent,e.abrupt("return",null!==(r=a[n])&&void 0!==r?r:n);case 7:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"create",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0={authors:[n.author],generated_with:{bridge:[En["a"]]}},e.t1=n.useLangForManifest?n.name:"pack.name",e.t2=n.useLangForManifest?n.description:"pack.description",this.type,e.next=6,this.transformTargetVersion(t,n.targetVersion);case 6:e.t3=e.sent.split(".").map((function(e){return Number(e)})),e.next=10;break;case 9:e.t3=void 0;case 10:if(e.t4=e.t3,e.t5=Object(A["a"])(),e.t6=[1,0,0],e.t7={name:e.t1,description:e.t2,min_engine_version:e.t4,uuid:e.t5,version:e.t6},e.t8=[{description:n.description,type:this.type,uuid:Object(A["a"])(),version:[1,0,0]}],r={format_version:2,metadata:e.t0,header:e.t7,modules:e.t8},!n.rpAsBpDependency||!n.packs.includes("RP")){e.next=25;break}if("resources"!==this.type){e.next=21;break}n.rpUuid=r.header.uuid,e.next=25;break;case 21:if("data"!==this.type){e.next=25;break}if(n.rpUuid){e.next=24;break}throw new Error("Trying to register RP uuid before it was defined");case 24:r.dependencies=[{uuid:n.rpUuid,version:[1,0,0]}];case 25:return"data"===this.type&&n.scripting&&r.modules.push({type:"client_data",uuid:Object(A["a"])(),version:[1,0,0]}),"data"===this.type&&n.gameTest&&(r.modules.push({type:"javascript",uuid:Object(A["a"])(),entry:"scripts/gametests/Main.js",version:[1,0,0]}),r.dependencies||(r.dependencies=[]),r.dependencies.push({uuid:"b26a4d4c-afdf-4690-88f8-931846312678",version:[0,1,0]},{uuid:"6f4b6893-1bb6-42fd-b458-7fa3d0c89616",version:[0,1,0]})),"world_template"===this.type&&(r.header.lock_template_options=!0,r.header.base_game_version=n.targetVersion.split(".")),e.next=30,t.writeJSON("".concat(this.pack,"/manifest.json"),r,!0);case 30:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Dc),Ic=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r;return Object(i["a"])(this,n),r=t.call(this),Object(o["a"])(Object(w["a"])(r),"packPath",void 0),r.packPath=e,r}return Object(a["a"])(n,[{key:"create",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(("BP"==this.packPath||"SP"==this.packPath)&&n.useLangForManifest){e.next=7;break}return e.next=3,t.mkdir("".concat(this.packPath,"/texts"));case 3:return e.next=5,t.writeFile("".concat(this.packPath,"/texts/en_US.lang"),n.useLangForManifest?"":"pack.name=".concat(n.name," ").concat(this.packPath,"\npack.description=").concat(n.description));case 5:return e.next=7,t.writeJSON("".concat(this.packPath,"/texts/languages.json"),["en_US"],!0);case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Dc),Wc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r;return Object(i["a"])(this,n),r=t.call(this),Object(o["a"])(Object(w["a"])(r),"packPath",void 0),r.packPath=e,r}return Object(a["a"])(n,[{key:"create",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=n.icon,r){e.next=10;break}return e.next=4,il.getApp();case 4:return i=e.sent,e.next=7,i.dataLoader.fired;case 7:return e.next=9,i.dataLoader.readFile("data/packages/common/packIcon.png");case 9:r=e.sent;case 10:return e.next=12,t.writeFile("".concat(this.packPath,"/pack_icon.png"),r);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Dc),Vc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"create",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.writeJSON("BP/functions/tick.json",{values:[]},!0);case 2:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Dc),Bc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"create",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.gameTest){e.next=5;break}return e.next=3,t.mkdir("BP/scripts",{recursive:!0});case 3:return e.next=5,t.writeFile("BP/scripts/main.js","");case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Dc),Nc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"create",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return n=e.sent,e.next=5,n.dataLoader.fired;case 5:return e.next=7,n.dataLoader.readFile("data/packages/minecraftBedrock/vanilla/player.json");case 7:return r=e.sent,e.next=10,t.writeFile("BP/entities/player.json",r);case 10:return e.next=12,t.writeFile("BP/loot_tables/empty.json","{}");case 12:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(Dc),Lc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;Object(i["a"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(o["a"])(Object(w["a"])(e),"packPath","BP"),Object(o["a"])(Object(w["a"])(e),"createFiles",[new Mc(e.packPath),new Ic(e.packPath),new Wc(e.packPath),new Vc,new Bc,new Nc]),e}return n}(Ec),$c=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"create",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.writeJSON("RP/blocks.json",{format_version:[1,1,0]},!0);case 2:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Dc),Hc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"create",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.mkdir("RP/textures",{recursive:!0});case 2:return e.next=4,t.writeJSON("RP/textures/item_texture.json",{resource_pack_name:n.name,texture_name:"atlas.items",texture_data:{}},!0);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Dc),zc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"create",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.mkdir("RP/textures",{recursive:!0});case 2:return e.next=4,t.writeJSON("RP/textures/terrain_texture.json",{num_mip_levels:4,padding:8,resource_pack_name:n.name,texture_name:"atlas.terrain",texture_data:{}},!0);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Dc),Uc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"create",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.mkdir("RP/textures",{recursive:!0});case 2:return e.next=4,t.writeJSON("RP/textures/flipbook_textures.json",[],!0);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Dc),Jc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"create",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.writeJSON("RP/biomes_client.json",{biomes:{}},!0);case 2:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Dc),qc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"create",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.writeJSON("RP/sounds.json",{},!0);case 2:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Dc),Gc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"create",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.mkdir("RP/sounds",{recursive:!0});case 2:return e.next=4,t.writeJSON("RP/sounds/sound_definitions.json",{sound_definitions:{}},!0);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Dc),Kc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;Object(i["a"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(o["a"])(Object(w["a"])(e),"packPath","RP"),Object(o["a"])(Object(w["a"])(e),"createFiles",[new Mc(e.packPath),new Ic(e.packPath),new Wc(e.packPath),new $c,new Hc,new zc,new Uc,new Jc,new qc,new Gc]),e}return n}(Ec),Qc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"create",value:function(e,t){return e.writeJSON("SP/skins.json",{geometry:"skinpacks/skins.json",skins:[],serialize_name:t.namespace,localization_name:t.namespace},!0)}}]),n}(Dc),Zc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;Object(i["a"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(o["a"])(Object(w["a"])(e),"packPath","SP"),Object(o["a"])(Object(w["a"])(e),"createFiles",[new Mc(e.packPath),new Ic(e.packPath),new Wc(e.packPath),new Qc]),e}return n}(Ec),Yc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"create",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.mkdir(".bridge/compiler");case 2:return e.next=4,t.writeJSON(".bridge/compiler/default.json",{icon:"mdi-cogs",name:"[Default Script]",description:'[Transforms the "bridge." folder structure to "com.mojang". "bridge." runs it automatically in dev mode in the background to enable fast, incremental builds for testing.]',plugins:["typeScript","entityIdentifierAlias","customEntityComponents","customItemComponents","customBlockComponents","customCommands","moLang",["simpleRewrite",{packName:n.name}]]},!0);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Dc),Xc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;Object(i["a"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(o["a"])(Object(w["a"])(e),"packPath",".bridge"),Object(o["a"])(Object(w["a"])(e),"createFiles",[new Yc]),e}return n}(Ec),eu=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"create",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.writeFile(".gitignore","Desktop.ini    \n.DS_Store \n!.bridge/\n.bridge/*\n!.bridge/compiler/\n!.bridge/extensions\n!.bridge/config.json\nbuilds");case 2:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Dc),tu=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;Object(i["a"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(o["a"])(Object(w["a"])(e),"packPath","WT"),Object(o["a"])(Object(w["a"])(e),"createFiles",[new Mc(e.packPath)]),e}return n}(Ec),nu=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"create",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=[],n.gameTest&&r.push("gameTestAPI"),n.scripting&&r.push("scriptingAPI"),e.next=5,t.writeJSON("config.json",{type:"minecraftBedrock",name:n.name,namespace:n.namespace,author:n.author,targetVersion:n.targetVersion,description:n.description,capabilities:r,packs:Object.fromEntries(n.packs.filter((function(e){return".bridge"!==e})).map((function(e){return[Fn["a"].getIdFromPackPath(e),"./".concat(e)]})))},!0);case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(Dc),ru=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this,Fc,!1),Object(o["a"])(Object(w["a"])(e),"isFirstProject",!1),Object(o["a"])(Object(w["a"])(e),"createOptions",e.getDefaultOptions()),Object(o["a"])(Object(w["a"])(e),"isCreatingProject",!1),Object(o["a"])(Object(w["a"])(e),"availableTargetVersions",[]),Object(o["a"])(Object(w["a"])(e),"availableTargetVersionsLoading",!0),Object(o["a"])(Object(w["a"])(e),"packs",{BP:new Lc,RP:new Kc,SP:new Zc,WT:new tu,".bridge":new Xc}),Object(o["a"])(Object(w["a"])(e),"availablePackTypes",[]),Object(o["a"])(Object(w["a"])(e),"createFiles",[new eu,new nu]),e.defineWindow(),il.ready.once(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.dataLoader.fired;case 2:return t.next=4,n.dataLoader.readJSON("data/packages/minecraftBedrock/formatVersions.json");case 4:e.availableTargetVersions=t.sent.reverse(),e.createOptions.targetVersion=e.availableTargetVersions[0],e.availableTargetVersionsLoading=!1;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Fn["a"].ready.once((function(){e.availablePackTypes=Fn["a"].all()})),e}return Object(a["a"])(n,[{key:"hasRequiredData",get:function(){return this.createOptions.packs.length>1&&this.createOptions.name.length>0&&this.createOptions.namespace.length>0&&this.createOptions.author.length>0&&this.createOptions.targetVersion.length>0}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isFirstProject=e,Object(j["a"])(Object(k["a"])(n.prototype),"open",this).call(this)}},{key:"createProject",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,s,c,u,l,d,p,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:if(t=e.sent,!rr["a"]||this.isFirstProject){e.next=10;break}return n=new Yr["a"]({description:"windows.createProject.saveCurrentProject",cancelText:"general.no",confirmText:"general.yes"}),e.next=7,n.fired;case 7:if(!e.sent){e.next=10;break}return e.next=10,Object(es["a"])();case 10:return r=t.fileSystem,e.next=13,r.getDirectoryHandle("projects/".concat(this.createOptions.name),{create:!0});case 13:i=e.sent,a=new Bn["a"](i),o=Object(R["a"])(this.createFiles),e.prev=16,o.s();case 18:if((s=o.n()).done){e.next=24;break}return c=s.value,e.next=22,c.create(a,this.createOptions);case 22:e.next=18;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](16),o.e(e.t0);case 29:return e.prev=29,o.f(),e.finish(29);case 32:u=this.createOptions.packs.sort((function(e,t){return t.localeCompare(e)})),l=Object(R["a"])(u),e.prev=34,l.s();case 36:if((d=l.n()).done){e.next=42;break}return p=d.value,e.next=40,this.packs[p].create(a,this.createOptions);case 40:e.next=36;break;case 42:e.next=47;break;case 44:e.prev=44,e.t1=e["catch"](34),l.e(e.t1);case 47:return e.prev=47,l.f(),e.finish(47);case 50:return this.isFirstProject||(h=t.project.name),e.next=53,t.projectManager.addProject(i);case 53:return e.next=55,t.extensionLoader.installFilesToCurrentProject();case 55:if(!rr["a"]||this.isFirstProject){e.next=58;break}return e.next=58,t.projectManager.removeProject(h);case 58:return this.createOptions=this.getDefaultOptions(),e.next=61,il.audioManager.playAudio("confirmation_002.ogg",1);case 61:case"end":return e.stop()}}),e,this,[[16,26,29,32],[34,44,47,50]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getDefaultOptions",value:function(){return{author:"",description:"",icon:null,name:"",namespace:"bridge",targetVersion:this.availableTargetVersions?this.availableTargetVersions[0]:"",packs:[".bridge","BP","RP"],scripting:!1,gameTest:!1,rpAsBpDependency:!1,useLangForManifest:!1}}}]),n}(ae["a"]),iu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseWindow",{attrs:{windowTitle:"windows.openFile.title",isVisible:e.isVisible,hasMaximizeButton:!1,hasCloseButton:!0,isFullscreen:!1,width:460,height:120},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"default",fn:function(){return[n("v-autocomplete",{attrs:{label:e.t("windows.openFile.search"),items:e.packFiles,dense:"","no-data-text":e.t("windows.openFile.noData"),outlined:"",autofocus:"","auto-select-first":""},on:{change:e.onChange},model:{value:e.selectedFile,callback:function(t){e.selectedFile=t},expression:"selectedFile"}})]},proxy:!0}])})},au=[],ou={name:"OpenFileWindow",mixins:[G["a"]],components:{BaseWindow:K["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()},onChange:function(e){e&&this.currentWindow.openFile(e)}}},su=ou,cu=Object(W["a"])(su,iu,au,!1,null,null,null),uu=cu.exports;X()(cu,{VAutocomplete:_c["a"]});var lu=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this,uu,!1,!0),Object(o["a"])(Object(w["a"])(e),"packFiles",[]),Object(o["a"])(Object(w["a"])(e),"selectedFile",""),Object(o["a"])(Object(w["a"])(e),"isCurrentlyOpening",!1),e.defineWindow(),e}return Object(a["a"])(n,[{key:"open",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,r,i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(il.audioManager.playAudio("click5.ogg",1),!this.isCurrentlyOpening){e.next=3;break}return e.abrupt("return");case 3:return this.isCurrentlyOpening=!0,this.selectedFile="",e.next=7,il.getApp();case 7:if(r=e.sent,r.windows.loadingWindow.open(),i=null===(t=r.project)||void 0===t?void 0:t.packIndexer,!i){e.next=23;break}return e.next=13,null===(o=i.service)||void 0===o?void 0:o.getAllFiles(!0);case 13:if(e.t1=a=e.sent,e.t0=null!==e.t1,!e.t0){e.next=17;break}e.t0=void 0!==a;case 17:if(!e.t0){e.next=21;break}e.t2=a,e.next=22;break;case 21:e.t2=[];case 22:this.packFiles=e.t2;case 23:r.windows.loadingWindow.close(),Object(j["a"])(Object(k["a"])(n.prototype),"open",this).call(this),this.isCurrentlyOpening=!1;case 26:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"openFile",value:function(e){il.ready.once(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.fileSystem.getFileHandle("projects/".concat(n.selectedProject,"/").concat(e));case 2:i=t.sent,null===(r=n.project)||void 0===r||r.openFile(i);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),il.audioManager.playAudio("confirmation_002.ogg",1),this.close()}}]),n}(ae["a"]),du=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SidebarWindow",{attrs:{windowTitle:"windows.projectChooser.title",isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,percentageWidth:80,percentageHeight:80,sidebarItems:e.sidebar.elements,actions:e.actions},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"sidebar",fn:function(){return[n("v-text-field",{staticClass:"pt-2",attrs:{"prepend-inner-icon":"mdi-magnify",label:e.t("windows.projectChooser.searchProjects"),outlined:"",dense:""},model:{value:e.sidebar._filter,callback:function(t){e.$set(e.sidebar,"_filter",t)},expression:"sidebar._filter"}})]},proxy:!0},{key:"default",fn:function(){return[n("div",{staticClass:"d-flex align-center mb-4 rounded-lg content-area pa-4"},[n("img",{staticClass:"mr-2 project-logo rounded-lg",attrs:{height:"64",src:e.sidebar.currentState.imgSrc,draggable:"false"}}),n("div",[n("h1",{staticClass:"text-h4"},[e._v(e._s(e.sidebar.currentState.name))]),n("h2",{staticClass:"text-h6"},[e._v(" by "+e._s(e.sidebar.currentState.author||"Unknown")+" ")])])]),n("div",{staticClass:"d-flex"},e._l(e.sidebar.currentState.contains,(function(t,r){return n("PackTypeViewer",{key:t.id,class:{"mr-1":0===r,"ml-1":r+1===e.sidebar.currentState.contains.length,"mx-1":r>0&&r+1<e.sidebar.currentState.contains.length},attrs:{packType:t}})})),1)]},proxy:!0},{key:"actions",fn:function(t){var r=t.selectedSidebar;return[n("v-spacer"),n("v-btn",{attrs:{color:"error",disabled:e.currentProject===r},on:{click:function(t){return e.onDeleteProject(r)}}},[n("v-icon",[e._v("mdi-delete")]),e._v(" Delete ")],1),n("v-btn",{attrs:{color:"primary",disabled:e.currentProject===r},on:{click:e.onSelectProject}},[n("v-icon",[e._v("mdi-check")]),e._v(" Select ")],1)]}}]),model:{value:e.sidebar.selected,callback:function(t){e.$set(e.sidebar,"selected",t)},expression:"sidebar.selected"}})},pu=[],hu={name:"ProjectChooserWindow",mixins:[G["a"]],components:{SidebarWindow:Nr["a"],PackTypeViewer:Cc},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()},onSelectProject:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,il.getApp();case 2:n=t.sent,n.projectManager.selectProject(e.sidebar.selected),e.currentWindow.close();case 5:case"end":return t.stop()}}),t)})))()},onDeleteProject:function(e){var t=this;new Yr["a"]({description:"windows.deleteProject.description",confirmText:"windows.deleteProject.confirm",cancelText:"general.cancel",onConfirm:function(){var n=Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,il.getApp();case 2:return r=n.sent,n.next=5,r.projectManager.removeProject(e);case 5:return n.next=7,t.currentWindow.loadProjects();case 7:case"end":return n.stop()}}),n)})));function i(){return n.apply(this,arguments)}return i}()})}}},fu=hu,vu=(n("0c99"),Object(W["a"])(fu,du,pu,!1,null,"dd0d4dfe",null)),mu=vu.exports;X()(vu,{VBtn:ee["a"],VIcon:gt["a"],VSpacer:te["a"],VTextField:Wt["a"]});var bu=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this,mu,!1,!0),Object(o["a"])(Object(w["a"])(e),"sidebar",new zi["a"]([])),Object(o["a"])(Object(w["a"])(e),"currentProject",void 0),e.defineWindow(),e.actions.push(new Ji["a"]({icon:"mdi-import",name:"windows.projectChooser.importBrproject",onTrigger:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,window.showOpenFilePicker({multiple:!1,types:[{description:"bridge. Project",accept:{"application/zip":[".brproject"]}}]});case 4:r=t.sent,i=Object(he["a"])(r,1),n=i[0],t.next=12;break;case 9:return t.prev=9,t.t0=t["catch"](0),t.abrupt("return");case 12:return e.close(),t.next=15,Object(ls["a"])(n);case 15:case"end":return t.stop()}}),t,null,[[0,9]])})));function n(){return t.apply(this,arguments)}return n}()}),new Ji["a"]({icon:"mdi-plus",name:"windows.projectChooser.newProject.name",onTrigger:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,il.getApp();case 2:n=t.sent,e.close(),n.windows.createProject.open();case 5:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()})),e}return Object(a["a"])(n,[{key:"addProject",value:function(e,t,n){this.sidebar.addElement(new zi["c"]({color:"primary",text:null!==t&&void 0!==t?t:"Unknown",icon:"mdi-alpha-".concat(t[0].toLowerCase(),"-box-outline"),id:null!==e&&void 0!==e?e:Object(A["a"])()}),n),this.sidebar.setDefaultSelected()}},{key:"loadProjects",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.sidebar.removeElements(),e.next=3,il.getApp();case 3:return t=e.sent,e.next=6,t.projectManager.getProjects();case 6:return n=e.sent,n.forEach((function(e){return r.addProject(e.path,e.name,e)})),this.sidebar.setDefaultSelected(t.projectManager.selectedProject),e.abrupt("return",t.projectManager.selectedProject);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"open",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadProjects();case 2:this.currentProject=e.sent,Object(j["a"])(Object(k["a"])(n.prototype),"open",this).call(this);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(ae["a"]),gu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseWindow",{attrs:{windowTitle:"windows.changelogWindow.title",isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,width:600,height:600},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"default",fn:function(){return[n("div",{staticClass:"mt-4 mb-2 d-flex align-center"},[n("v-icon",{staticClass:"mr-2",attrs:{color:"primary",large:""}},[e._v("mdi-update")]),n("h1",[e._v("v"+e._s(e.$data.version))])],1),n("v-divider",{staticClass:"mb-4"}),n("div",{staticClass:"changelog",domProps:{innerHTML:e._s(e.$data.changelog)}})]},proxy:!0}])})},yu=[],wu={name:"ChangelogComponent",components:{BaseWindow:K["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()}}},ju=wu,ku=(n("60a6"),Object(W["a"])(ju,gu,yu,!1,null,null,null)),xu=ku.exports;X()(ku,{VDivider:It["a"],VIcon:gt["a"]});var Ou="/",Su=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this,xu),Object(o["a"])(Object(w["a"])(e),"changelog",void 0),Object(o["a"])(Object(w["a"])(e),"version",void 0),e.defineWindow(),e}return Object(a["a"])(n,[{key:"open",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return il.audioManager.playAudio("click5.ogg",1),e.next=3,il.getApp();case 3:return t=e.sent,t.windows.loadingWindow.open(),e.next=7,fetch(Ou+"changelog.html").then((function(e){return e.text()})).then((function(e){r.changelog=e,r.version=En["a"]}));case 7:t.windows.loadingWindow.close(),Object(j["a"])(Object(k["a"])(n.prototype),"open",this).call(this);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(ae["a"]),Cu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:"windows.socials.title",isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,width:420,height:140},on:{closeWindow:e.close},scopedSlots:e._u([{key:"default",fn:function(){return[n("p",[e._v(e._s(e.t("windows.socials.content")))])]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{attrs:{color:"#7289DA"},on:{click:e.openDiscord}},[n("v-icon",{attrs:{color:"white"}},[e._v("mdi-discord")]),n("span",{staticClass:"white--text"},[e._v(e._s(e.t("windows.socials.discord")))])],1),n("v-btn",{attrs:{color:"#1DA1F2"},on:{click:e.openTwitter}},[n("v-icon",{attrs:{color:"white"}},[e._v("mdi-twitter")]),n("span",{staticClass:"white--text"},[e._v(e._s(e.t("windows.socials.twitter")))])],1),n("v-btn",{attrs:{color:"#333"},on:{click:e.openGithub}},[n("v-icon",{attrs:{color:"white"}},[e._v("mdi-github")]),n("span",{staticClass:"white--text"},[e._v(e._s(e.t("windows.socials.github")))])],1)]},proxy:!0}],null,!1,533919895)}):e._e()},Ru=[],Pu={name:"Socials",mixins:[G["a"]],components:{BaseWindow:K["a"]},data:function(){return this.currentWindow},props:["currentWindow"],methods:{close:function(){this.currentWindow.close()},openDiscord:function(){window.open("https://discord.gg/jj2PmqU","_blank")},openTwitter:function(){window.open("https://twitter.com/bridgeEditor","_blank")},openGithub:function(){window.open("https://github.com/bridge-core","_blank")}}},_u=Pu,Au=Object(W["a"])(_u,Cu,Ru,!1,null,null,null),Tu=Au.exports;X()(Au,{VBtn:ee["a"],VIcon:gt["a"],VSpacer:te["a"]});var Fu=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this,Tu),e.defineWindow(),e}return n}(ae["a"]),Eu=function e(t){Object(i["a"])(this,e),Object(o["a"])(this,"app",void 0),Object(o["a"])(this,"settings",void 0),Object(o["a"])(this,"socialsWindow",new Fu),Object(o["a"])(this,"projectChooser",new bu),Object(o["a"])(this,"createProject",new ru),Object(o["a"])(this,"loadingWindow",new Zs["a"]),Object(o["a"])(this,"filePicker",new lu),Object(o["a"])(this,"createPreset",new bc),Object(o["a"])(this,"extensionStore",new Qs),Object(o["a"])(this,"browserUnsupported",new Ps),Object(o["a"])(this,"changelogWindow",new Su),this.app=t,this.settings=new Vr["a"](t)},Du=n("0d04"),Mu=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this),Object(o["a"])(Object(w["a"])(e),"_virtualFileSystem",void 0),e.loadData(),e}return Object(a["a"])(n,[{key:"virtualFileSystem",get:function(){if(!this._virtualFileSystem)throw new Error("DataLoader: virtualFileSystem is not initialized");return this._virtualFileSystem}},{key:"loadData",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a,o,s,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(Ou+"packages.zip").then((function(e){return e.arrayBuffer()}));case 2:return t=e.sent,e.next=5,new Promise((function(e,n){return Object(Fr["a"])(new Uint8Array(t),function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(r,i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=2;break}return t.abrupt("return",n(r));case 2:e(i);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}));case 5:return n=e.sent,this._virtualFileSystem=new Du["a"](null,"dataFolder"),e.next=9,this._virtualFileSystem.getDirectoryHandle("data",{create:!0});case 9:i=e.sent,a={".":i},e.t0=regeneratorRuntime.keys(n);case 12:if((e.t1=e.t0()).done){e.next=27;break}if(o=e.t1.value,s=Object(le["basename"])(o),c=Object(le["dirname"])(o),!o.endsWith("/")){e.next=23;break}return e.next=19,a[c].getDirectoryHandle(s,{create:!0});case 19:u=e.sent,a[o.slice(0,-1)]=u,e.next=25;break;case 23:return e.next=25,a[c].getFileHandle(s,{create:!0,initialData:n[o]});case 25:e.next=12;break;case 27:this.setup(this._virtualFileSystem);case 28:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(Bn["a"]),Iu=function(){function e(){Object(i["a"])(this,e),Object(o["a"])(this,"state",Object(ue["h"])({}))}return Object(a["a"])(e,[{key:"addCategory",value:function(e){Object(ue["g"])(this.state,e.id,e)}},{key:"disposeCategory",value:function(e){Object(ue["c"])(this.state,e.id)}}]),e}(),Wu=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this),Object(o["a"])(Object(w["a"])(e),"state",Object(ue["e"])({currentHeight:window.innerHeight,currentWidth:window.innerWidth})),window.addEventListener("resize",Object(f["a"])((function(){return e.dispatch()}),200,{trailing:!0})),e.on((function(t){var n=Object(he["a"])(t,2),r=n[0],i=n[1];e.state.currentWidth=r,e.state.currentHeight=i})),e}return Object(a["a"])(n,[{key:"dispatch",value:function(){Object(j["a"])(Object(k["a"])(n.prototype),"dispatch",this).call(this,[window.innerWidth,window.innerHeight])}}]),n}(Jt["a"]),Vu=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this,{message:"sidebar.notifications.installApp.message",color:"primary",icon:"mdi-download",textColor:"white",isVisible:!1}),Object(o["a"])(Object(w["a"])(e),"isInstallable",new $["a"]),Object(o["a"])(Object(w["a"])(e),"isInstalled",new $["a"]),Object(o["a"])(Object(w["a"])(e),"installEvent",void 0),window.addEventListener("beforeinstallprompt",(function(t){return e.onInstallPrompt(t)})),window.addEventListener("appinstalled",(function(){return e.dispose()})),e.addClickHandler((function(){return e.prompt()})),e}return Object(a["a"])(n,[{key:"onInstallPrompt",value:function(e){e.preventDefault(),this.installEvent=e,this.show(),this.isInstallable.dispatch()}},{key:"prompt",value:function(){var e=this;this.installEvent?(this.installEvent.prompt(),this.installEvent.userChoice.then((function(t){"accepted"===t.outcome&&(e.dispose(),e.isInstalled.dispatch())}))):this.dispose()}}]),n}(Gs["a"]),Bu=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,r){return Object(i["a"])(this,n),t.call(this,e,5,r)}return Object(a["a"])(n,[{key:"isEquals",value:function(e,t){return e.path===t.path}}]),n}(de),Nu=function(){function e(){Object(i["a"])(this,e),Object(o["a"])(this,"titleTag",void 0),Object(o["a"])(this,"current",Object(ue["f"])("bridge. v2")),this.titleTag=document.head.getElementsByTagName("title")[0]}return Object(a["a"])(e,[{key:"setProject",value:function(e){this.titleTag.innerText="".concat(e," - bridge. v2"),this.current.value="".concat(e," - bridge. v2")}}]),e}(),Lu=n("c8ae"),$u=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r;return Object(i["a"])(this,n),r=t.call(this),Object(o["a"])(Object(w["a"])(r),"app",void 0),Object(o["a"])(Object(w["a"])(r),"addedProject",new Jt["a"]),Object(o["a"])(Object(w["a"])(r),"activatedProject",new Jt["a"]),Object(o["a"])(Object(w["a"])(r),"recentProjects",void 0),Object(o["a"])(Object(w["a"])(r),"state",Object(ue["h"])({})),Object(o["a"])(Object(w["a"])(r),"title",Object.freeze(new Nu)),Object(o["a"])(Object(w["a"])(r),"_selectedProject",void 0),Object(o["a"])(Object(w["a"])(r),"projectReady",new $["a"]),r.app=e,r.loadProjects(),r.recentProjects=Object(ue["e"])(new Bu(r.app,"data/recentProjects.json")),r.once((function(){r.recentProjects.keep((function(e){return Object.values(r.state).findIndex((function(t){return t.projectData.path===e.path}))>-1}))})),r}return Object(a["a"])(n,[{key:"currentProject",get:function(){if(this.selectedProject)return this.state[this.selectedProject]}},{key:"selectedProject",get:function(){return this._selectedProject}},{key:"getProjects",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fired;case 2:return e.abrupt("return",Object.values(this.state).map((function(e){return e.projectData})));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addProject",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=!(i.length>1&&void 0!==i[1])||i[1],r=new fo(this,this.app,t),e.next=4,r.loadProject();case 4:if(Object(ue["g"])(this.state,r.name,r),!n){e.next=9;break}return e.next=8,this.selectProject(r.name);case 8:this.addedProject.dispatch(r);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeProject",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.state[t],n){e.next=3;break}return e.abrupt("return");case 3:return Object(ue["c"])(this.state,t),e.next=6,this.app.fileSystem.unlink("projects/".concat(t));case 6:this.recentProjects.remove(n.projectData);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadProjects",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.app.fileSystem.fired;case 2:return e.next=4,this.app.dataLoader.fired;case 4:return e.next=6,Lu["a"].ready.fired;case 6:return t=[],e.prev=7,e.next=10,this.app.fileSystem.readdir("projects",{withFileTypes:!0});case 10:t=e.sent,e.next=15;break;case 13:e.prev=13,e.t0=e["catch"](7);case 15:if(n=t.filter((function(e){var t=e.kind;return"directory"===t})),0!==n.length){e.next=23;break}return r=this.app.windows.createProject,r.open(!0),e.next=21,r.fired;case 21:e.next=41;break;case 23:if(rr["a"]){e.next=41;break}i=Object(R["a"])(n),e.prev=25,i.s();case 27:if((a=i.n()).done){e.next=33;break}return o=a.value,e.next=31,this.addProject(o,!1);case 31:e.next=27;break;case 33:e.next=38;break;case 35:e.prev=35,e.t1=e["catch"](25),i.e(e.t1);case 38:return e.prev=38,i.f(),e.finish(38);case 41:this.dispatch();case 42:case"end":return e.stop()}}),e,this,[[7,13],[25,35,38,41]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"selectProject",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0!==this.state[t]){e.next=2;break}throw new Error('Cannot select project "'.concat(t,'" because it no longer exists'));case 2:return e.next=4,il.getApp();case 4:if(i=e.sent,null===(n=this.currentProject)||void 0===n||n.deactivate(),this._selectedProject=t,il.eventSystem.dispatch("disableValidation",null),null===(r=this.currentProject)||void 0===r||r.activate(),!this.currentProject){e.next=12;break}return e.next=12,this.recentProjects.add(this.currentProject.projectData);case 12:return e.next=14,So["c"]("selectedProject",t);case 14:i.themeManager.updateTheme(),il.eventSystem.dispatch("projectChanged",void 0),this.projectReady.hasFired||this.projectReady.dispatch();case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"selectLastProject",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fired;case 2:return e.next=4,So["b"]("selectedProject");case 4:if(n=e.sent,"string"!==typeof n){e.next=18;break}return e.prev=6,e.next=9,t.fileSystem.getDirectoryHandle("projects/".concat(n));case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e["catch"](6),e.next=15,this.loadFallback();case 15:n=e.sent;case 16:e.next=21;break;case 18:return e.next=20,this.loadFallback();case 20:n=e.sent;case 21:if("string"!==typeof n){e.next=26;break}return e.next=24,this.selectProject(n);case 24:e.next=27;break;case 26:throw new Error("Expected string, found ".concat(Object(C["a"])(n)));case 27:case"end":return e.stop()}}),e,this,[[6,11]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadFallback",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fired;case 2:return t=Object.keys(this.state)[0],e.next=5,So["c"]("selectedProject",t);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateAllEditorOptions",value:function(e){Object.values(this.state).forEach((function(t){return t.tabSystems.forEach((function(t){return t.updateOptions(e)}))}))}},{key:"forEachProject",value:function(e){return Object.values(this.state).forEach(e),this.addedProject.on(e)}},{key:"onActiveProject",value:function(e){return this.projectReady.hasFired&&this.currentProject&&e(this.currentProject),this.activatedProject.on(e)}},{key:"recompileAll",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=!(a.length>0&&void 0!==a[0])||a[0],n=0,r=Object.values(this.state);case 2:if(!(n<r.length)){e.next=9;break}return i=r[n],e.next=6,i.recompile(t);case 6:n++,e.next=2;break;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}($["a"]),Hu=function(){function e(){Object(i["a"])(this,e),Object(o["a"])(this,"isVisible",!1),Object(o["a"])(this,"actionManager",void 0),Object(o["a"])(this,"position",{x:0,y:0})}return Object(a["a"])(e,[{key:"show",value:function(e,t){this.position.x=e.clientX,this.position.y=e.clientY,this.actionManager=t,this.isVisible=!0}}]),e}(),zu=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r;return Object(i["a"])(this,n),r=t.call(this,e.fileSystem,"data/inactiveExtensions.json",!0),Object(o["a"])(Object(w["a"])(r),"app",void 0),r.app=e,r}return Object(a["a"])(n,[{key:"getInstalledExtensions",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Map,e.t1=[],e.t2=p["a"],e.next=5,Object(j["a"])(Object(k["a"])(n.prototype),"getInstalledExtensions",this).call(this);case 5:return e.t3=e.sent.entries(),e.t4=(0,e.t2)(e.t3),e.t5=p["a"],e.next=10,this.app.project.extensionLoader.getInstalledExtensions();case 10:return e.t6=e.sent.entries(),e.t7=(0,e.t5)(e.t6),e.t8=e.t1.concat.call(e.t1,e.t4,e.t7),e.abrupt("return",new e.t0(e.t8));case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mapActive",value:function(e){var t,n=this.app.project.extensionLoader.mapActive(e),r=Object(R["a"])(this._extensions.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.isActive&&n.push(e(i))}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"installFilesToCurrentProject",value:function(){return Promise.all(Object(p["a"])(this.extensions.values()).map((function(e){return e.installFilesToCurrentProject()})))}},{key:"reload",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.disposeAll(),e.t0=this,e.next=4,this.fileSystem.getDirectoryHandle("extensions");case 4:e.t1=e.sent,e.t0.loadExtensions.call(e.t0,e.t1);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(Xi),Uu=function(){function e(t){var n=this;Object(i["a"])(this,e),Object(o["a"])(this,"app",void 0),Object(o["a"])(this,"state",U["default"].observable({isHovering:!1})),Object(o["a"])(this,"fileHandlers",new Map),this.app=t,window.addEventListener("dragover",(function(e){var t;e.preventDefault(),"move"!==(null===(t=e.dataTransfer)||void 0===t?void 0:t.effectAllowed)&&(n.state.isHovering=!0)})),window.addEventListener("mouseout",(function(e){e.preventDefault(),null==e.relatedTarget&&(n.state.isHovering=!1)})),window.addEventListener("dragend",(function(e){e.preventDefault(),n.state.isHovering=!1})),window.addEventListener("drop",(function(e){var t,r;e.preventDefault(),n.onDrop(Object(p["a"])(null!==(t=null===(r=e.dataTransfer)||void 0===r?void 0:r.items)&&void 0!==t?t:[])),n.state.isHovering=!1})),"launchQueue"in window&&window.launchQueue.setConsumer(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.files.length){e.next=2;break}return e.abrupt("return");case 2:r=Object(R["a"])(t.files),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=11;break}return a=i.value,e.next=9,n.importFile(a);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,13,16,19]])})));return function(t){return e.apply(this,arguments)}}())}return Object(a["a"])(e,[{key:"onDrop",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Object(R["a"])(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=19;break}return i=r.value,e.next=7,i.getAsFileSystemHandle();case 7:if(a=e.sent,a){e.next=10;break}return e.abrupt("return");case 10:if("directory"!==a.kind){e.next=14;break}rr["a"]||"com.mojang"!==a.name||this.app.comMojang.handleComMojangDrop(a),e.next=17;break;case 14:if("file"!==a.kind){e.next=17;break}return e.next=17,this.importFile(a);case 17:e.next=3;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](1),n.e(e.t0);case 24:return e.prev=24,n.f(),e.finish(24);case 27:case"end":return e.stop()}}),e,this,[[1,21,24,27]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"importFile",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Object(le["extname"])(t.name),r=this.fileHandlers.get(n),r){e.next=4;break}return e.abrupt("return",!1);case 4:return e.prev=4,e.next=7,r(t);case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](4),console.error(e.t0),e.abrupt("return",!1);case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,this,[[4,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addFileImporter",value:function(e,t){var n=this;if(this.fileHandlers.has(e))throw new Error("Handler for ".concat(e," already exists"));return this.fileHandlers.set(e,t),{dispose:function(){return n.fileHandlers.delete(e)}}}}]),e}(),Ju=function(){function e(t,n){Object(i["a"])(this,e),Object(o["a"])(this,"disposables",[]);var r,a=Object(R["a"])(t);try{for(a.s();!(r=a.n()).done;){var s=r.value;this.disposables.push(n.addFileImporter(s,this.onImport.bind(this)))}}catch(c){a.e(c)}finally{a.f()}}return Object(a["a"])(e,[{key:"dispose",value:function(){this.disposables.forEach((function(e){return e.dispose()}))}}]),e}(),qu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:"windows.filePath.title",isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,isPersistent:e.$data.isPersistent,hasCloseButton:!1,width:440,height:140},on:{closeWindow:function(t){return e.onClose(!0)}},scopedSlots:e._u([{key:"default",fn:function(){return[n("PresetPath",{model:{value:e.currentFilePath,callback:function(t){e.currentFilePath=t},expression:"currentFilePath"}})]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.onClose(!1)}}},[n("v-icon",[e._v("mdi-check")]),n("span",[e._v(" "+e._s(e.t("general.confirm"))+" ")])],1)]},proxy:!0}],null,!1,2163908922)}):e._e()},Gu=[],Ku={name:"FilePathWindow",mixins:[G["a"]],components:{BaseWindow:K["a"],PresetPath:Ma},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(e){this.currentWindow.close(e?null:this.currentFilePath)}}},Qu=Ku,Zu=Object(W["a"])(Qu,qu,Gu,!1,null,null,null),Yu=Zu.exports;X()(Zu,{VBtn:ee["a"],VIcon:gt["a"],VSpacer:te["a"]});var Xu=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(i["a"])(this,n),r=t.call(this,Yu,!0,!1),Object(o["a"])(Object(w["a"])(r),"isPersistent",void 0),Object(o["a"])(Object(w["a"])(r),"currentFilePath",void 0),r.isPersistent=a,r.currentFilePath=null!==e&&void 0!==e?e:"",r.defineWindow(),r.open(),r}return n}(ae["a"]),el=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e){return Object(i["a"])(this,n),t.call(this,[".mcfunction",".mcstructure",".json",".molang",".js",".ts",".lang",".tga",".png",".jpg",".jpeg"],e)}return Object(a["a"])(n,[{key:"onImport",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return n=e.sent,r=n.locales.translate.bind(n.locales),i=new Yn("fileDropper.importMethod",{isPersistent:!0}),e.next=7,i.actionManager;case 7:return a=e.sent,a.create({icon:"mdi-content-save-outline",name:"fileDropper.saveToProject.title",description:"[".concat(r("fileDropper.saveToProject.description1"),' "').concat(t.name,'" ').concat(r("fileDropper.saveToProject.description2"),"]"),onTrigger:function(){return o.onSave(t)}}),a.create({icon:"mdi-share-outline",name:"fileDropper.openFile.title",description:"[".concat(r("fileDropper.openFile.description1"),' "').concat(t.name,'" ').concat(r("fileDropper.openFile.description2"),"]"),onTrigger:function(){return o.onOpen(t)}}),i.open(),e.next=13,i.fired;case 13:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onSave",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return n=e.sent,r=new Xu("",!1),r.open(),e.next=7,r.fired;case 7:if(i=e.sent,null!==i){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,n.project.fileSystem.fileExists("".concat(i).concat(t.name));case 12:if(a=e.sent,!a){e.next=20;break}return o=new Yr["a"]({description:"windows.createPreset.overwriteFiles",confirmText:"windows.createPreset.overwriteFilesConfirm"}),o.open(),e.next=18,o.fired;case 18:if(e.sent){e.next=20;break}return e.abrupt("return");case 20:return n.windows.loadingWindow.open(),e.next=23,n.project.fileSystem.getFileHandle("".concat(i).concat(t.name),!0);case 23:return s=e.sent,e.next=26,n.project.fileSystem.copyFileHandle(t,s);case 26:return il.eventSystem.dispatch("fileAdded",void 0),e.next=29,n.project.updateFile("".concat(i).concat(t.name));case 29:return e.next=31,n.project.openFile(s);case 31:n.windows.loadingWindow.close();case 32:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onOpen",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,il.getApp();case 2:return n=e.sent,e.next=5,n.project.openFile(t);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(Ju),tl=function e(t){Object(i["a"])(this,e),new el(t)},nl=n("442f"),rl=function(){function e(){var t,n,r=this;Object(i["a"])(this,e),Object(o["a"])(this,"currentAudioPlaying",void 0),Object(o["a"])(this,"masterVolume",1),Object(o["a"])(this,"isMuted",null===(t=!(null!==N["b"]&&void 0!==N["b"]&&null!==(n=N["b"].audio)&&void 0!==n&&n.playAudio))||void 0===t||t),il.getApp().then((function(){var e;r.isMuted=!(null!==N["b"]&&void 0!==N["b"]&&null!==(e=N["b"].audio)&&void 0!==e&&e.playAudio)}))}return Object(a["a"])(e,[{key:"playAudio",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"click5.ogg",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="/audio/";this.isMuted||(this.currentAudioPlaying?this.currentAudioPlaying.currentTime/this.currentAudioPlaying.duration==1&&(this.currentAudioPlaying=new Audio(n+e),this.currentAudioPlaying.volume=t*this.masterVolume,this.currentAudioPlaying.play()):(this.currentAudioPlaying=new Audio(n+e),this.currentAudioPlaying.volume=t*this.masterVolume,this.currentAudioPlaying.play()))}}]),e}(),il=function(){function e(t){var n=this;Object(i["a"])(this,e),Object(o["a"])(this,"keyBindingManager",new Ut),Object(o["a"])(this,"actionManager",new Nt["a"](this.keyBindingManager)),Object(o["a"])(this,"themeManager",void 0),Object(o["a"])(this,"taskManager",new ps["a"]),Object(o["a"])(this,"dataLoader",new Mu),Object(o["a"])(this,"fileSystem",new Bn["a"]),Object(o["a"])(this,"projectManager",new $u(this)),Object(o["a"])(this,"extensionLoader",new zu(this)),Object(o["a"])(this,"windowResize",new Wu),Object(o["a"])(this,"contextMenu",new Hu),Object(o["a"])(this,"locales",void 0),Object(o["a"])(this,"fileDropper",new Uu(this)),Object(o["a"])(this,"fileImportManager",new tl(this.fileDropper)),Object(o["a"])(this,"comMojang",new nl["a"](this)),Object(o["a"])(this,"languageManager",new xo),Object(o["a"])(this,"_windows",void 0),this.themeManager=new Eo(t.$vuetify),this.locales=new js["a"](t.$vuetify),this._windows=new Eu(this);var r="Are you sure that you want to close bridge.? Unsaved progress will be lost.";window.addEventListener("beforeunload",(function(e){var t;if(null!==(t=n.tabSystem)&&void 0!==t&&t.hasUnsavedTabs||n.taskManager.hasRunningTasks||rr["a"])return e.preventDefault(),e.returnValue=r,r}))}return Object(a["a"])(e,[{key:"windows",get:function(){return this._windows}},{key:"tabSystem",get:function(){var e;return null===(e=this.projectManager.currentProject)||void 0===e?void 0:e.tabSystem}},{key:"selectedProject",get:function(){return this.projectManager.selectedProject}},{key:"project",get:function(){if(!this.projectManager.currentProject)throw new Error("Trying to access project before it is defined. Make sure to await app.projectManager.projectReady.fired");return this.projectManager.currentProject}},{key:"projects",get:function(){return Object.values(this.projectManager.state)}},{key:"projectConfig",get:function(){return this.project.config}},{key:"beforeStartUp",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.time("[APP] beforeStartUp()"),navigator.clearAppBadge&&navigator.clearAppBadge(),ds(),ys(this),n=Object(c["b"])({icon:"mdi-link-variant",message:"sidebar.notifications.socials.message",color:"#1DA1F2",textColor:"white",onClick:function(){i.windows.socialsWindow.open(),n.dispose()}}),r=Object(c["b"])({icon:"mdi-help-circle-outline",message:"sidebar.notifications.gettingStarted.message",onClick:function(){e.openUrl("https://bridge-core.github.io/editor-docs/getting-started/"),r.dispose()}}),console.timeEnd("[APP] beforeStartUp()");case 6:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}()},{key:"startUp",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.time("[APP] startUp()"),this.locales.setDefaultLanguage(),e.next=4,Promise.all([this.fileSystem.mkdir("projects"),this.fileSystem.mkdir("extensions"),this.fileSystem.mkdir("data"),T["a"].setup(this.dataLoader),Fn["a"].setup(this.dataLoader)]);case 4:this.projectManager.projectReady.fired.then(Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=t.extensionLoader,e.next=3,t.fileSystem.getDirectoryHandle("extensions");case 3:return e.t1=e.sent,e.abrupt("return",e.t0.loadExtensions.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})))),console.timeEnd("[APP] startUp()");case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}],[{key:"instance",get:function(){return this._instance}},{key:"getApp",value:function(){return new Promise((function(t){return e.ready.once((function(e){return t(e)}))}))}},{key:"openUrl",value:function(e,t){var n;return null!==N["b"]&&void 0!==N["b"]&&null!==(n=N["b"].general)&&void 0!==n&&n.openLinksInBrowser?window.open(e,"_blank"):window.open(e,t,"toolbar=no,menubar=no,status=no")}},{key:"main",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var i,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._instance=Object.freeze(new e(n)),this.instance.windows.loadingWindow.open(),t.next=4,this.instance.beforeStartUp();case 4:return t.next=6,this.fileSystemSetup.setupFileSystem(this.instance);case 6:if(i=t.sent,i){t.next=9;break}return t.abrupt("return",this.instance.windows.loadingWindow.close());case 9:return this.instance.fileSystem.setup(i),t.next=12,Object(So["b"])("firstStartAfterUpdate");case 12:if(!t.sent){t.next=16;break}return t.next=15,Object(So["c"])("firstStartAfterUpdate",!1);case 15:this.instance.windows.changelogWindow.open();case 16:return t.next=18,Vr["a"].loadSettings(this.instance).then(Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.instance.dataLoader.fired;case 2:a.instance.themeManager.loadDefaultThemes(a.instance);case 3:case"end":return e.stop()}}),e)}))));case 18:return t.next=20,this.instance.startUp();case 20:if(this.ready.dispatch(this.instance),rr["a"]){t.next=24;break}return t.next=24,this.instance.projectManager.selectLastProject(this.instance);case 24:this.instance.windows.loadingWindow.close();case 25:case"end":return t.stop()}}),t,this)})));function n(e){return t.apply(this,arguments)}return n}()}]),e}();Object(o["a"])(il,"installApp",new Vu),Object(o["a"])(il,"fileSystemSetup",new Do["a"]),Object(o["a"])(il,"toolbar",new Iu),Object(o["a"])(il,"eventSystem",new ea(["projectChanged","currentTabSwitched","refreshCurrentContext","disableValidation","fileAdded","fileChange","fileSave"])),Object(o["a"])(il,"ready",new $["a"]),Object(o["a"])(il,"_instance",void 0),Object(o["a"])(il,"audioManager",new rl)},d28d:function(e,t,n){"use strict";n("dcb5")},d42b:function(e,t,n){"use strict";n("105b")},d526:function(e,t,n){"use strict";n("9f8f")},dc1f:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("99af"),n("b0c0"),n("96cf");var r=n("1da1"),i=n("d4ec"),a=n("bee2"),o=n("ade3"),s=n("ec26"),c=function(){function e(t,n){Object(i["a"])(this,e),Object(o["a"])(this,"parent",void 0),Object(o["a"])(this,"_name",void 0),Object(o["a"])(this,"uuid",Object(s["a"])()),this.parent=t,this._name=n}return Object(a["a"])(e,[{key:"path",get:function(){return this.parent?this.parent.path.concat(this.name):[]}},{key:"name",get:function(){return this._name}},{key:"getParent",value:function(){return this.parent}},{key:"isSameEntry",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t===this);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"queryPermission",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return","granted");case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"requestPermission",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return","granted");case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},dcb5:function(e,t,n){},dd63:function(e,t,n){"use strict";n("18fd")},de42:function(e,t,n){},def5:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-alert",{attrs:{type:e.infoPanel.type,rounded:"lg",border:"bottom",dismissible:e.infoPanel.isDismissible}},[e._v(" "+e._s(e.t(e.infoPanel.text))+" ")])},i=[],a=n("7c64"),o=n("7ade"),s={mixins:[a["a"]],props:{infoPanel:o["a"]}},c=s,u=n("2877"),l=n("6544"),d=n.n(l),p=n("0798"),h=Object(u["a"])(c,r,i,!1,null,null,null);t["a"]=h.exports;d()(h,{VAlert:p["a"]})},df3c:function(e,t,n){},dffd:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("99af"),n("4de4"),n("0481"),n("d81d"),n("4069"),n("b0c0"),n("d3b7"),n("6062"),n("8a79"),n("3ca3"),n("2ca0"),n("159b"),n("ddb0"),n("96cf");var r,i=n("b85c"),a=n("2909"),o=n("1da1"),s=n("668b"),c=n("db05"),u=n("f374");(function(e){var t,n=new Set,r=[];function l(e){return d.apply(this,arguments)}function d(){return d=Object(o["a"])(regeneratorRuntime.mark((function n(i){var a,o,c,u,l,d,p,h,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(r.length>0)){n.next=2;break}return n.abrupt("return");case 2:return t=i,n.next=5,t.fired;case 5:return a="data/packages/minecraftBedrock/fileDefinition",n.next=8,t.getDirectoryHandle(a);case 8:o=n.sent,c=!0,u=!1,n.prev=11,d=Object(s["a"])(o.values());case 13:return n.next=15,d.next();case 15:return p=n.sent,c=p.done,n.next=19,p.value;case 19:if(h=n.sent,c){n.next=31;break}if(f=h,"file"!==f.kind){n.next=28;break}return n.t0=r,n.next=26,t.readJSON("".concat(a,"/").concat(f.name));case 26:n.t1=n.sent,n.t0.push.call(n.t0,n.t1);case 28:c=!0,n.next=13;break;case 31:n.next=37;break;case 33:n.prev=33,n.t2=n["catch"](11),u=!0,l=n.t2;case 37:if(n.prev=37,n.prev=38,c||null==d.return){n.next=42;break}return n.next=42,d.return();case 42:if(n.prev=42,!u){n.next=45;break}throw l;case 45:return n.finish(42);case 46:return n.finish(37);case 47:e.ready.dispatch();case 48:case"end":return n.stop()}}),n,null,[[11,33,37,47],[38,,42,46]])}))),d.apply(this,arguments)}function p(e){return n.add(e),{dispose:function(){return n.delete(e)}}}function h(){return Object(a["a"])(n.values())}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n.clear(),e.forEach((function(e){return n.add(e)}))}function v(e,t){var n,a=Object(i["a"])(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(void 0!==t&&t===o.id)return o;if(e)if(o.scope){if("string"===typeof o.scope){if(e.startsWith(o.scope))return o}else if(Array.isArray(o.scope)&&o.scope.some((function(t){return e.startsWith(t)})))return o}else if(o.matcher){if("string"===typeof o.matcher&&Object(c["isMatch"])(e,o.matcher))return o;if(Array.isArray(o.matcher)){var s,u=Object(i["a"])(o.matcher);try{for(u.s();!(s=u.n()).done;){var l=s.value;if(Object(c["isMatch"])(e,l))return o}}catch(d){u.e(d)}finally{u.f()}}}}}catch(d){a.e(d)}finally{a.f()}}function m(){var e,t=[],n=Object(i["a"])(r);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.push(a.id)}}catch(o){n.e(o)}finally{n.f()}return t}function b(e){var t,n;return null!==(t=null===(n=v(e))||void 0===n?void 0:n.id)&&void 0!==t?t:"unknown"}function g(){return r.map((function(e){var t=e.matcher,n=e.schema;return{fileMatch:Array.isArray(t)?Object(a["a"])(t):[t],uri:n}})).flat()}e.ready=new u["a"],e.setup=l,e.addPluginFileType=p,e.getPluginFileTypes=h,e.setPluginFileTypes=f,e.get=v,e.getIds=m,e.getId=b,e.getMonacoSchemaArray=g;var y={};function w(e){return j.apply(this,arguments)}function j(){return j=Object(o["a"])(regeneratorRuntime.mark((function e(n){var r,i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=null!==(r=v(n))&&void 0!==r?r:{},a=i.lightningCache,a){e.next=3;break}return e.abrupt("return",[]);case 3:if(!y[a]){e.next=5;break}return e.abrupt("return",y[a]);case 5:if(!a.endsWith(".json")){e.next=11;break}return e.next=8,t.readJSON("data/packages/minecraftBedrock/lightningCache/".concat(a));case 8:y[a]=e.sent,e.next=21;break;case 11:if(!a.endsWith(".js")){e.next=20;break}return e.next=14,t.readFile("data/packages/minecraftBedrock/lightningCache/".concat(a));case 14:return o=e.sent,e.next=17,o.text();case 17:y[a]=e.sent,e.next=21;break;case 20:throw new Error('Unknown lightning cache file format: "'.concat(a,'"'));case 21:return e.abrupt("return",y[a]);case 22:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function k(){return x.apply(this,arguments)}function x(){return x=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(r.map((function(e){var n=e.id,r=e.packSpider;if(r)return t.readJSON("data/packages/minecraftBedrock/packSpider/".concat(r)).then((function(e){return{id:n,packSpider:e}}))})).filter((function(e){return void 0!==e})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}e.getLightningCache=w,e.getPackSpiderData=k})(r||(r={}))},e6b7:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("07ac");var r=n("d4ec"),i=n("ade3"),a=n("a6f4"),o=function e(){Object(r["a"])(this,e)};Object(i["a"])(o,"state",Object(a["e"])({})),Object(i["a"])(o,"isAnyWindowVisible",Object(a["f"])(!0)),Object(i["a"])(o,"_",Object(a["i"])(o.state,(function(){for(var e=0,t=Object.values(o.state);e<t.length;e++){var n=t[e];if(n.isVisible)return void(o.isAnyWindowVisible.value=!0)}o.isAnyWindowVisible.value=!1})))},ec56:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d}));n("4de4"),n("7db0"),n("caad"),n("d81d"),n("2532");var r=n("b85c"),i=n("d4ec"),a=n("bee2"),o=n("ade3"),s=n("a026"),c=n("d009"),u=function(){function e(t){var n=t.items,r=t.text,a=t.isOpen,s=t.shouldSort;Object(i["a"])(this,e),Object(o["a"])(this,"type","category"),Object(o["a"])(this,"text",void 0),Object(o["a"])(this,"items",void 0),Object(o["a"])(this,"isOpen",void 0),Object(o["a"])(this,"shouldSort",void 0),this.text=r,this.items=n,this.isOpen=null===a||void 0===a||a,this.shouldSort=null===s||void 0===s||s,this.shouldSort&&this.sortCategory()}return Object(a["a"])(e,[{key:"addItem",value:function(e){this.items.push(e),this.shouldSort&&this.sortCategory()}},{key:"removeItems",value:function(){this.items=[]}},{key:"getText",value:function(){return this.text}},{key:"getSearchText",value:function(){return this.text.toLowerCase()}},{key:"getItems",value:function(){return this.items}},{key:"setOpen",value:function(e){c["a"].audioManager.playAudio("click5.ogg",1),this.isOpen=e}},{key:"getCurrentElement",value:function(e){return this.items.find((function(t){var n=t.id;return n===e}))}},{key:"sortCategory",value:function(){this.items=this.items.sort((function(e,t){return e.getSearchText().localeCompare(t.getSearchText())}))}},{key:"hasFilterMatches",value:function(e){return void 0!==this.items.find((function(t){return t.getSearchText().includes(e)}))}},{key:"filtered",value:function(t){return 0===t.length?this:s["default"].observable(new e({items:this.items.filter((function(e){return e.getSearchText().includes(t)})),text:this.text,isOpen:!0}))}}]),e}(),l=function(){function e(t){var n=t.id,r=t.text,a=t.icon,s=t.color;Object(i["a"])(this,e),Object(o["a"])(this,"type","item"),Object(o["a"])(this,"id",void 0),Object(o["a"])(this,"text",void 0),Object(o["a"])(this,"icon",void 0),Object(o["a"])(this,"color",void 0),this.id=n,this.text=r,this.icon=a,this.color=s}return Object(a["a"])(e,[{key:"getText",value:function(){return this.text}},{key:"getSearchText",value:function(){return this.text.toLowerCase()}}]),e}(),d=function(){function e(t){Object(i["a"])(this,e),Object(o["a"])(this,"_elements",void 0),Object(o["a"])(this,"_selected",void 0),Object(o["a"])(this,"_filter",""),Object(o["a"])(this,"state",{}),this._elements=t,this.selected=this.findDefaultSelected()}return Object(a["a"])(e,[{key:"addElement",value:function(e,t){"item"===e.type&&t&&(this.state[e.id]=t),this._elements.push(e)}},{key:"removeElements",value:function(){this._elements=[]}},{key:"filter",get:function(){return this._filter.toLowerCase()}},{key:"elements",get:function(){var e=this,t=this.sortSidebar(this._elements.filter((function(t){return"item"===t.type?t.getSearchText().includes(e.filter):t.hasFilterMatches(e.filter)})).map((function(t){return"item"===t.type?t:t.filtered(e.filter)})));if(1===t.length){var n=t[0];"category"===n.type&&1===n.getItems().length&&(n.setOpen(!0),this.setDefaultSelected(n.getItems()[0].id))}return t}},{key:"rawElements",get:function(){return this._elements}},{key:"currentElement",get:function(){if(this.selected){var e,t=Object(r["a"])(this._elements);try{for(t.s();!(e=t.n()).done;){var n=e.value;if("item"!==n.type){var i=n.getCurrentElement(this.selected);if(i)return i}else if(n.id===this.selected)return n}}catch(a){t.e(a)}finally{t.f()}}}},{key:"currentState",get:function(){var e;return this.selected&&null!==(e=this.state[this.selected])&&void 0!==e?e:{}}},{key:"getState",value:function(e){var t;return null!==(t=this.state[e])&&void 0!==t?t:{}}},{key:"setState",value:function(e,t){s["default"].set(this.state,e,t)}},{key:"sortSidebar",value:function(e){return e.sort((function(e,t){return e.type!==t.type?e.type.localeCompare(t.type):e.getSearchText().localeCompare(t.getSearchText())}))}},{key:"findDefaultSelected",value:function(){var e,t=Object(r["a"])(this.sortSidebar(this.elements));try{for(t.s();!(e=t.n()).done;){var n=e.value;if("category"===n.type&&n.getItems().length>0)return n.getItems()[0].id;if("item"===n.type)return n.id}}catch(i){t.e(i)}finally{t.f()}}},{key:"setDefaultSelected",value:function(e){e?this.selected=e:this.selected||(this.selected=this.findDefaultSelected())}},{key:"resetSelected",value:function(){this.selected=void 0}},{key:"clearFilter",value:function(){this._filter=""}},{key:"selected",get:function(){return this._selected},set:function(e){e&&c["a"].audioManager.playAudio("click5.ogg",1),this._selected=e}}]),e}()},ed38:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-flex flex-column justify-center align-center px-4",style:"padding-top: 14vh;"},[r("img",{staticClass:"mb-4",staticStyle:{height:"160px",width:"160px"},attrs:{alt:"bridge. Logo",draggable:"false",src:n("736d")}}),r("h1",{staticClass:"text-h3 text-center"},[e._v(e._s(e.t("welcome.title")))]),r("h2",{staticClass:"text-h6 mb-12 text-center"},[e._v(e._s(e.t("welcome.subtitle")))]),r("v-row",{staticStyle:{"flex-wrap":"nowrap",width:"60vw"}},[e.actions.length>0?r("v-col",{attrs:{tag:"ul"}},[r("p",[e._v(e._s(e.t("welcome.quickActions")))]),r("v-divider",{staticClass:"mb-2"}),e._l(e.actions,(function(t){return r("li",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.id,staticClass:"rounded-lg pa-1 clickable",on:{click:function(){return t.trigger()}}},[r("v-icon",{attrs:{color:"accent",medium:""}},[e._v(e._s(t.icon))]),r("span",{attrs:{color:"text--primary"}},[e._v(e._s(e.t(t.name)))]),t.keyBinding?r("span",{staticClass:"text--secondary",staticStyle:{float:"right"}},[e._v(" "+e._s(t.keyBinding.toStrKeyCode())+" ")]):e._e()],1)}))],2):e._e(),e.$vuetify.breakpoint.smAndUp&&e.files.length>0?r("v-col",{attrs:{tag:"ul"}},[r("p",[e._v(e._s(e.t("welcome.recentFiles")))]),r("v-divider",{staticClass:"mb-2"}),e._l(e.files,(function(t){return r("li",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.path,staticClass:"d-flex rounded-lg pa-1 clickable",on:{click:function(n){return e.openFile(t.path)}}},[r("v-icon",{attrs:{color:t.color||"error",medium:""}},[e._v(" "+e._s(t.icon)+" ")]),r("span",{staticClass:"primary-text"},[e._v(e._s(t.name))])],1)}))],2):e._e(),e.$vuetify.breakpoint.mdAndUp&&e.projects.length>0?r("v-col",{class:{disabled:!e.maySwitchProjects},attrs:{tag:"ul"}},[r("p",[e._v(e._s(e.t("welcome.recentProjects")))]),e.maySwitchProjects?r("v-divider",{staticClass:"mb-2"}):r("v-progress-linear",{staticClass:"mb-1",attrs:{rounded:"",indeterminate:""}}),e._l(e.projects,(function(t){return r("li",{directives:[{name:"ripple",rawName:"v-ripple",value:e.maySwitchProjects,expression:"maySwitchProjects"}],key:t.name,class:{"d-flex rounded-lg pa-1":!0,clickable:e.maySwitchProjects},on:{click:function(n){e.maySwitchProjects&&e.selectProject(t.path)}}},[r("div",{staticClass:"d-flex align-center"},[t.imgSrc?r("img",{staticClass:"mr-1 pack-icon",attrs:{src:t.imgSrc,alt:t.name+" Logo",draggable:"false"}}):e._e(),r("span",{staticClass:"primary-text"},[e._v(e._s(t.path))])])])}))],2):e._e()],1)],1)},i=[],a=(n("4de4"),n("d81d"),n("96cf"),n("1da1")),o=n("7c64"),s=n("a50c"),c=n("d009"),u=n("7a00"),l={name:"welcome-screen",mixins:[o["a"],u["a"]],components:{ActionViewer:s["a"]},mounted:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].getApp();case 2:return n=t.sent,r=["bridge.action.newProject","bridge.action.newFile","bridge.action.searchFile","bridge.action.openSettings"],e.actions=r.map((function(e){return n.actionManager.state[e]})),t.next=7,n.projectManager.fired;case 7:e.projectManager=n.projectManager;case 8:case"end":return t.stop()}}),t)})))()},data:function(){return{actions:[],projectManager:null,maySwitchProjects:!0}},computed:{files:function(){return this.project?this.project.recentFiles.elements:[]},projects:function(){var e=this;return this.projectManager?this.projectManager.recentProjects.elements.filter((function(t){var n=t.path;return n!==e.projectManager.selectedProject})):[]}},methods:{openFile:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].getApp();case 2:return n=t.sent,t.next=5,n.fileSystem.getFileHandle(e);case 5:r=t.sent,n.project.openFile(r);case 7:case"end":return t.stop()}}),t)})))()},selectProject:function(e){c["a"].getApp().then((function(t){return t.projectManager.selectProject(e)}))}}},d=l,p=(n("06bc"),n("2877")),h=n("6544"),f=n.n(h),v=n("62ad"),m=n("ce7e"),b=n("132d"),g=n("8e36"),y=n("0fd9"),w=n("269a"),j=n.n(w),k=n("5607"),x=Object(p["a"])(d,r,i,!1,null,"32cf8c24",null);t["a"]=x.exports;f()(x,{VCol:v["a"],VDivider:m["a"],VIcon:b["a"],VProgressLinear:g["a"],VRow:y["a"]}),j()(x,{Ripple:k["a"]})},efe6:function(e,t,n){},f0b9:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));n("b0c0");var r=function(){try{return"undefined"!==typeof e&&"node"===e.release.name}catch(t){return!1}}}).call(this,n("4362"))},f374:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n("d3b7");var r=n("d4ec"),i=n("bee2"),a=n("257e"),o=n("45eb"),s=n("7e84"),c=n("262e"),u=n("2caf"),l=n("ade3"),d=n("1834"),p=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Object(r["a"])(this,n),e=t.call(this),Object(l["a"])(Object(a["a"])(e),"needsToFireAmount",void 0),Object(l["a"])(Object(a["a"])(e),"firedTimes",0),Object(l["a"])(Object(a["a"])(e),"data",void 0),e.needsToFireAmount=i,e}return Object(i["a"])(n,[{key:"fired",get:function(){var e=this;return new Promise((function(t){return e.once(t)}))}},{key:"hasFired",get:function(){return this.firedTimes>=this.needsToFireAmount}},{key:"setFiredTimes",value:function(e){this.firedTimes=e}},{key:"resetSignal",value:function(){this.data=void 0,this.firedTimes=0}},{key:"dispatch",value:function(e){if(this.firedTimes<this.needsToFireAmount&&this.firedTimes++,this.data=e,this.hasFired)return Object(o["a"])(Object(s["a"])(n.prototype),"dispatch",this).call(this,e)}},{key:"on",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.hasFired&&e(this.data),Object(o["a"])(Object(s["a"])(n.prototype),"on",this).call(this,e,t)}}]),n}(d["a"])},f9b9:function(e,t,n){}});
//# sourceMappingURL=app.f4cff3c2.js.map