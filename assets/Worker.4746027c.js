var ts=Object.defineProperty,us=Object.defineProperties;var rs=Object.getOwnPropertyDescriptors;var Ft=Object.getOwnPropertySymbols;var gr=Object.prototype.hasOwnProperty,yr=Object.prototype.propertyIsEnumerable;var su=(W,G,V)=>G in W?ts(W,G,{enumerable:!0,configurable:!0,writable:!0,value:V}):W[G]=V,mr=(W,G)=>{for(var V in G||(G={}))gr.call(G,V)&&su(W,V,G[V]);if(Ft)for(var V of Ft(G))yr.call(G,V)&&su(W,V,G[V]);return W},vr=(W,G)=>us(W,rs(G));var wr=(W,G)=>{var V={};for(var ne in W)gr.call(W,ne)&&G.indexOf(ne)<0&&(V[ne]=W[ne]);if(W!=null&&Ft)for(var ne of Ft(W))G.indexOf(ne)<0&&yr.call(W,ne)&&(V[ne]=W[ne]);return V};var j=(W,G,V)=>(su(W,typeof G!="symbol"?G+"":G,V),V);(function(){"use strict";const W=Symbol("Comlink.proxy"),G=Symbol("Comlink.endpoint"),V=Symbol("Comlink.releaseProxy"),ne=Symbol("Comlink.thrown"),au=t=>typeof t=="object"&&t!==null||typeof t=="function",Br={canHandle:t=>au(t)&&t[W],serialize(t){const{port1:e,port2:u}=new MessageChannel;return gt(t,e),[u,[u]]},deserialize(t){return t.start(),Sr(t)}},br={canHandle:t=>au(t)&&ne in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},rt=new Map([["proxy",Br],["throw",br]]);function gt(t,e=self){e.addEventListener("message",function u(r){if(!r||!r.data)return;const{id:n,type:a,path:i}=Object.assign({path:[]},r.data),s=(r.data.argumentList||[]).map(be);let o;try{const A=i.slice(0,-1).reduce((D,y)=>D[y],t),d=i.reduce((D,y)=>D[y],t);switch(a){case 0:o=d;break;case 1:A[i.slice(-1)[0]]=be(r.data.value),o=!0;break;case 2:o=d.apply(A,s);break;case 3:{const D=new d(...s);o=$r(D)}break;case 4:{const{port1:D,port2:y}=new MessageChannel;gt(t,y),o=Rr(D,[D])}break;case 5:o=void 0;break}}catch(A){o={value:A,[ne]:0}}Promise.resolve(o).catch(A=>({value:A,[ne]:0})).then(A=>{const[d,D]=mt(A);e.postMessage(Object.assign(Object.assign({},d),{id:n}),D),a===5&&(e.removeEventListener("message",u),ou(e))})}),e.start&&e.start()}function _r(t){return t.constructor.name==="MessagePort"}function ou(t){_r(t)&&t.close()}function Sr(t,e){return yt(t,[],e)}function nt(t){if(t)throw new Error("Proxy has been released and is not useable")}function yt(t,e=[],u=function(){}){let r=!1;const n=new Proxy(u,{get(a,i){if(nt(r),i===V)return()=>He(t,{type:5,path:e.map(s=>s.toString())}).then(()=>{ou(t),r=!0});if(i==="then"){if(e.length===0)return{then:()=>n};const s=He(t,{type:0,path:e.map(o=>o.toString())}).then(be);return s.then.bind(s)}return yt(t,[...e,i])},set(a,i,s){nt(r);const[o,A]=mt(s);return He(t,{type:1,path:[...e,i].map(d=>d.toString()),value:o},A).then(be)},apply(a,i,s){nt(r);const o=e[e.length-1];if(o===G)return He(t,{type:4}).then(be);if(o==="bind")return yt(t,e.slice(0,-1));const[A,d]=cu(s);return He(t,{type:2,path:e.map(D=>D.toString()),argumentList:A},d).then(be)},construct(a,i){nt(r);const[s,o]=cu(i);return He(t,{type:3,path:e.map(A=>A.toString()),argumentList:s},o).then(be)}});return n}function xr(t){return Array.prototype.concat.apply([],t)}function cu(t){const e=t.map(mt);return[e.map(u=>u[0]),xr(e.map(u=>u[1]))]}const lu=new WeakMap;function Rr(t,e){return lu.set(t,e),t}function $r(t){return Object.assign(t,{[W]:!0})}function mt(t){for(const[e,u]of rt)if(u.canHandle(t)){const[r,n]=u.serialize(t);return[{type:3,name:e,value:r},n]}return[{type:0,value:t},lu.get(t)||[]]}function be(t){switch(t.type){case 3:return rt.get(t.name).deserialize(t.value);case 0:return t.value}}function He(t,e,u){return new Promise(r=>{const n=Or();t.addEventListener("message",function a(i){!i.data||!i.data.id||i.data.id!==n||(t.removeEventListener("message",a),r(i.data))}),t.start&&t.start(),t.postMessage(Object.assign({id:n},e),u)})}function Or(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var it,Pr=new Uint8Array(16);function Tr(){if(!it&&(it=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!it))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return it(Pr)}var kr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Hr(t){return typeof t=="string"&&kr.test(t)}for(var q=[],vt=0;vt<256;++vt)q.push((vt+256).toString(16).substr(1));function Lr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=(q[t[e+0]]+q[t[e+1]]+q[t[e+2]]+q[t[e+3]]+"-"+q[t[e+4]]+q[t[e+5]]+"-"+q[t[e+6]]+q[t[e+7]]+"-"+q[t[e+8]]+q[t[e+9]]+"-"+q[t[e+10]]+q[t[e+11]]+q[t[e+12]]+q[t[e+13]]+q[t[e+14]]+q[t[e+15]]).toLowerCase();if(!Hr(u))throw TypeError("Stringified UUID is invalid");return u}function Ir(t,e,u){t=t||{};var r=t.random||(t.rng||Tr)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){u=u||0;for(var n=0;n<16;++n)e[u+n]=r[n];return e}return Lr(r)}class Nr{constructor(){j(this,"listeners",new Set)}get hasListeners(){return this.listeners.size>0}dispatch(e){this.listeners.forEach(u=>u(e))}on(e,u=!0){if(this.listeners.add(e),u)return{dispose:()=>{this.off(e)}}}off(e){this.listeners.delete(e)}once(e,u=!1){const r=n=>{e(n),this.off(r)};return this.on(r,u)}disposeListeners(){this.listeners=new Set}}class Du extends Nr{constructor(e=1){super();j(this,"firedTimes",0);j(this,"data");this.needsToFireAmount=e}get fired(){return new Promise(e=>this.once(e,!1))}get hasFired(){return this.firedTimes>=this.needsToFireAmount}setFiredTimes(e){this.firedTimes=e}resetSignal(){this.data=void 0,this.firedTimes=0}dispatch(e){if(this.firedTimes<this.needsToFireAmount&&this.firedTimes++,this.data=e,this.hasFired)return super.dispatch(e)}on(e,u=!0){return this.hasFired&&e(this.data),super.on(e,u)}}function Mr(){if(!(!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent))||!indexedDB.databases)return Promise.resolve();let e;return new Promise(u=>{const r=()=>indexedDB.databases().finally(u);e=setInterval(r,100),r()}).finally(()=>clearInterval(e))}function ye(t){return new Promise((e,u)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>u(t.error)})}function wt(t,e){const u=Mr().then(()=>{const r=indexedDB.open(t);return r.onupgradeneeded=()=>r.result.createObjectStore(e),ye(r)});return(r,n)=>u.then(a=>n(a.transaction(e,r).objectStore(e)))}let Bt;function _e(){return Bt||(Bt=wt("keyval-store","keyval")),Bt}function fu(t,e=_e()){return e("readonly",u=>ye(u.get(t)))}function jr(t,e,u=_e()){return u("readwrite",r=>(r.put(e,t),ye(r.transaction)))}function Wr(t,e=_e()){return e("readwrite",u=>(t.forEach(r=>u.put(r[1],r[0])),ye(u.transaction)))}function Gr(t,e=_e()){return e("readonly",u=>Promise.all(t.map(r=>ye(u.get(r)))))}function Kr(t,e=_e()){return e("readwrite",u=>(u.delete(t),ye(u.transaction)))}function Ur(t=_e()){return t("readwrite",e=>(e.clear(),ye(e.transaction)))}function zr(t,e){return t("readonly",u=>(u.openCursor().onsuccess=function(){!this.result||(e(this.result),this.result.continue())},ye(u.transaction)))}function Vr(t=_e()){const e=[];return zr(t,u=>e.push(u.key)).then(()=>e)}const Xr=wt("virtual-fs","virtual-fs-store"),Jr=t=>fu(t,Xr);class hu{constructor(e="virtual-fs"){j(this,"store");this.store=wt(e,`${e}-store`)}set(e,u){return jr(e,u,this.store)}get(e){return fu(e,this.store)}del(e){return Kr(e,this.store)}setMany(e){return Wr(e,this.store)}getMany(e){return Gr(e,this.store)}clear(){return Ur(this.store)}async has(e){return await Jr(e)!==void 0}keys(){return Vr(this.store)}}class du{constructor(e,u,r=[],n=Ir()){j(this,"_idbWrapper",null);j(this,"parent",null);j(this,"isVirtual",!0);j(this,"setupDone",new Du);this._name=u,this.basePath=r,this.uuid=n,e===null?this._idbWrapper=new hu:e instanceof hu?this._idbWrapper=e:this.parent=e}get path(){return this.parent?this.parent.path.concat(this.name):this.basePath}get idbKey(){return this.path.length===0?this._name:this.path.join("/")}get idbWrapper(){return this._idbWrapper===null?this.parent.idbWrapper:this._idbWrapper}get name(){return this._name}getParent(){return this.parent}async isSameEntry(e){return e.idbKey===this.idbKey}async queryPermission(e){return"granted"}async requestPermission(e){return"granted"}}const Qr=new TextEncoder,Au=Symbol("writeMethod");class qr{constructor(e){j(this,"tmpData",new Uint8Array);j(this,"cursorOffset",0);j(this,"locked",!1);this.fileHandle=e}async write(e){let u;if(typeof e=="string")u=Qr.encode(e);else if(e instanceof Blob)u=await e.arrayBuffer().then(r=>new Uint8Array(r));else if("type"in e){if(e.type==="seek")return await this.seek(e.position);if(e.type==="truncate")return await this.truncate(e.size);if(e.type==="write")return e.position&&await this.seek(e.position),await this.write(e.data);throw new Error(`Unknown data type: ${e.type}`)}else ArrayBuffer.isView(e)?u=new Uint8Array(e.buffer):u=new Uint8Array(e);this.tmpData=new Uint8Array([...this.tmpData.slice(0,this.cursorOffset),...u]),this.cursorOffset=this.tmpData.length}async seek(e){this.cursorOffset=Math.floor(e)}async truncate(e){this.tmpData=this.tmpData.slice(0,e),this.cursorOffset>e&&(this.cursorOffset=e)}async close(){await this.fileHandle[Au](this.tmpData)}async abort(){throw new Error("WriteStream was aborted")}getWriter(){}}var Zr=function(t){return Object.prototype.toString.call(t)};function Cu(t){return typeof t=="function"&&/native code/.test(t.toString())}var Yr=typeof Symbol!="undefined"&&Cu(Symbol)&&typeof Reflect!="undefined"&&Cu(Reflect.ownKeys),Le=function(t){return t};function ie(t,e,u){var r=u.get,n=u.set;Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:r||Le,set:n||Le})}function bt(t,e,u,r){Object.defineProperty(t,e,{value:u,enumerable:!!r,writable:!0,configurable:!0})}function Ie(t,e){return Object.hasOwnProperty.call(t,e)}function Ne(t){return Array.isArray(t)}function pu(t){return t!==null&&typeof t=="object"}function ce(t){return Zr(t)==="[object Object]"}function Se(t){return typeof t=="function"}/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var _t=function(t,e){return _t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,r){u.__proto__=r}||function(u,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(u[n]=r[n])},_t(t,e)};function en(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_t(t,e);function u(){this.constructor=t}t.prototype=e===null?Object.create(e):(u.prototype=e.prototype,new u)}function Eu(t){var e=typeof Symbol=="function"&&Symbol.iterator,u=e&&t[e],r=0;if(u)return u.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var St,st=[],Fu=function(){function t(e){this.active=!0,this.effects=[],this.cleanups=[],this.vm=e}return t.prototype.run=function(e){if(this.active)try{return this.on(),e()}finally{this.off()}},t.prototype.on=function(){this.active&&(st.push(this),St=this)},t.prototype.off=function(){this.active&&(st.pop(),St=st[st.length-1])},t.prototype.stop=function(){this.active&&(this.vm.$destroy(),this.effects.forEach(function(e){return e.stop()}),this.cleanups.forEach(function(e){return e()}),this.active=!1)},t}();(function(t){en(e,t);function e(u){u===void 0&&(u=!1);var r=this,n=void 0;return an(function(){n=wu($t())}),r=t.call(this,n)||this,u||tn(r),r}return e})(Fu);function tn(t,e){var u;if(e=e||St,e&&e.active){e.effects.push(t);return}var r=(u=vu())===null||u===void 0?void 0:u.proxy;r&&r.$on("hook:destroyed",function(){return t.stop()})}function un(t){if(!t.scope){var e=new Fu(t.proxy);t.scope=e,t.proxy.$on("hook:destroyed",function(){return e.stop()})}return t.scope}var xt=void 0;try{var xe=require("vue");xe&&yu(xe)?xt=xe:xe&&"default"in xe&&yu(xe.default)&&(xt=xe.default)}catch{}var Rt=null,Me=null,Je=!0,gu="__composition_api_installed__";function yu(t){return t&&Se(t)&&t.name==="Vue"}function rn(t){return Ie(t,gu)}function $t(){return Rt}function nn(){var t=Rt||xt;return t}function sn(t){Rt=t,Object.defineProperty(t,gu,{configurable:!0,writable:!0,value:!0})}function an(t){var e=Je;Je=!1;try{t()}finally{Je=e}}function on(t){!Je||mu(t&&Pt(t))}function mu(t){if(!!Je){var e=Me;e==null||e.scope.off(),Me=t,Me==null||Me.scope.on()}}function vu(){return Me}var Ot=new WeakMap;function Pt(t){if(Ot.has(t))return Ot.get(t);var e={proxy:t,update:t.$forceUpdate,uid:t._uid,emit:t.$emit.bind(t),parent:null,root:null};un(e);var u=["data","props","attrs","refs","vnode","slots"];return u.forEach(function(r){ie(e,r,{get:function(){return t["$"+r]}})}),ie(e,"isMounted",{get:function(){return t._isMounted}}),ie(e,"isUnmounted",{get:function(){return t._isDestroyed}}),ie(e,"isDeactivated",{get:function(){return t._inactive}}),ie(e,"emitted",{get:function(){return t._events}}),Ot.set(t,e),t.$parent&&(e.parent=Pt(t.$parent)),t.$root&&(e.root=Pt(t.$root)),e}function wu(t,e){e===void 0&&(e={});var u=t.config.silent;t.config.silent=!0;var r=new t(e);return t.config.silent=u,r}function cn(t){var e=$t();return e&&t instanceof e}function ln(t,e){return function(){for(var u=[],r=0;r<arguments.length;r++)u[r]=arguments[r];if(!!t.$scopedSlots[e])return t.$scopedSlots[e].apply(t,u)}}function Dn(t,e){var u;if(!t)u={};else{if(t._normalized)return t._normalized;u={};for(var r in t)t[r]&&r[0]!=="$"&&(u[r]=!0)}for(var r in e)r in u||(u[r]=!0);return u}var Qe="composition-api.refKey",Bu=new WeakMap,fn=new WeakMap,hn=new WeakMap,bu=function(){function t(e){var u=e.get,r=e.set;ie(this,"value",{get:u,set:r})}return t}();function _u(t,e){var u=new bu(t),r=Object.seal(u);return hn.set(r,!0),r}function Su(t){var e;if(se(t))return t;var u=Ou((e={},e[Qe]=t,e));return _u({get:function(){return u[Qe]},set:function(r){return u[Qe]=r}})}function se(t){return t instanceof bu}function dn(t){if(!ce(t))return t;var e={};for(var u in t)e[u]=An(t,u);return e}function An(t,e){var u=t[e];return se(u)?u:_u({get:function(){return t[e]},set:function(r){return t[e]=r}})}function je(t){var e;return Boolean(t&&Ie(t,"__ob__")&&typeof t.__ob__=="object"&&((e=t.__ob__)===null||e===void 0?void 0:e.__raw__))}function qe(t){var e;return Boolean(t&&Ie(t,"__ob__")&&typeof t.__ob__=="object"&&!(!((e=t.__ob__)===null||e===void 0)&&e.__raw__))}function Tt(t){if(!(!ce(t)||je(t)||Ne(t)||se(t)||cn(t)||Bu.has(t))){Bu.set(t,!0);for(var e=Object.keys(t),u=0;u<e.length;u++)Cn(t,e[u])}}function Cn(t,e,u){if(e!=="__ob__"&&!je(t[e])){var r,n,a=Object.getOwnPropertyDescriptor(t,e);if(a){if(a.configurable===!1)return;r=a.get,n=a.set,(!r||n)&&arguments.length===2&&(u=t[e])}Tt(u),ie(t,e,{get:function(){var s=r?r.call(t):u;return e!==Qe&&se(s)?s.value:s},set:function(s){if(!(r&&!n)){var o=r?r.call(t):u;e!==Qe&&se(o)&&!se(s)?o.value=s:n?n.call(t,s):u=s,Tt(s)}}})}}function xu(t){var e=nn(),u;if(e.observable)u=e.observable(t);else{var r=wu(e,{data:{$$state:t}});u=r._data.$$state}return Ie(u,"__ob__")||Ru(u),u}function Ru(t,e){var u,r;if(e===void 0&&(e=new Set),!e.has(t)){bt(t,"__ob__",pn(t)),e.add(t);try{for(var n=Eu(Object.keys(t)),a=n.next();!a.done;a=n.next()){var i=a.value,s=t[i];!(ce(s)||Ne(s))||je(s)||!Object.isExtensible(s)||Ru(s,e)}}catch(o){u={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}}}function pn(t){return t===void 0&&(t={}),{value:t,dep:{notify:Le,depend:Le,addSub:Le,removeSub:Le}}}function $u(){return xu({}).__ob__}function Ou(t){if(!pu(t)||!(ce(t)||Ne(t))||je(t)||!Object.isExtensible(t))return t;var e=xu(t);return Tt(e),e}function En(t){if(!(ce(t)||Ne(t))||!Object.isExtensible(t))return t;var e=$u();return e.__raw__=!0,bt(t,"__ob__",e),fn.set(t,!0),t}function Fn(t,e,u){var r=t.__composition_api_state__=t.__composition_api_state__||{};r[e]=u}function gn(t,e){return(t.__composition_api_state__||{})[e]}var We={set:Fn,get:gn};function yn(t,e,u){var r=t.$options.props;!(e in t)&&!(r&&Ie(r,e))&&(se(u)?ie(t,e,{get:function(){return u.value},set:function(n){u.value=n}}):ie(t,e,{get:function(){return qe(u)&&u.__ob__.dep.depend(),u},set:function(n){u=n}}))}function kt(t){var e=We.get(t,"rawBindings")||{};if(!(!e||!Object.keys(e).length)){for(var u=t.$refs,r=We.get(t,"refs")||[],n=0;n<r.length;n++){var a=r[n],i=e[a];!u[a]&&i&&se(i)&&(i.value=null)}for(var s=Object.keys(u),o=[],n=0;n<s.length;n++){var a=s[n],i=e[a];u[a]&&i&&se(i)&&(i.value=u[a],o.push(a))}We.set(t,"refs",o)}}function Pu(t,e){var u=t.$options._parentVnode;if(!!u){for(var r=We.get(t,"slots")||[],n=Dn(u.data.scopedSlots,t.$slots),a=0;a<r.length;a++){var i=r[a];n[i]||delete e[i]}for(var s=Object.keys(n),a=0;a<s.length;a++){var i=s[a];e[i]||(e[i]=ln(t,i))}We.set(t,"slots",s)}}function Ht(t,e,u){var r=vu();on(t);try{return e(t)}catch(n){if(u)u(n);else throw n}finally{mu(r)}}function mn(t){t.mixin({beforeCreate:e,mounted:function(){kt(this)},updated:function(){var i;kt(this),!((i=this.$vnode)===null||i===void 0)&&i.context&&kt(this.$vnode.context)}});function e(){var i=this,s=i.$options,o=s.setup,A=s.render;if(A&&(s.render=function(){for(var D=this,y=[],B=0;B<arguments.length;B++)y[B]=arguments[B];return Ht(i,function(){return A.apply(D,y)})}),!!o&&!!Se(o)){var d=s.data;s.data=function(){return u(i,i.$props),Se(d)?d.call(i,i):d||{}}}}function u(i,s){s===void 0&&(s={});var o=i.$options.setup,A=a(i);bt(s,"__ob__",$u()),Pu(i,A.slots);var d;if(Ht(i,function(){d=o(s,A)}),!!d){if(Se(d)){var D=d;i.$options.render=function(){return Pu(i,A.slots),Ht(i,function(){return D()})};return}else if(ce(d)){qe(d)&&(d=dn(d)),We.set(i,"rawBindings",d);var y=d;Object.keys(y).forEach(function(B){var F=y[B];if(!se(F))if(qe(F))Ne(F)&&(F=Su(F));else if(Se(F)){var p=F;F=F.bind(i),Object.keys(p).forEach(function(S){F[S]=p[S]})}else pu(F)?n(F)&&r(F):F=Su(F);yn(i,B,F)});return}}}function r(i,s){if(s===void 0&&(s=new Set),!s.has(i)&&!(!ce(i)||se(i)||qe(i)||je(i))){var o=$t(),A=o.util.defineReactive;Object.keys(i).forEach(function(d){var D=i[d];A(i,d,D),D&&(s.add(D),r(D,s))})}}function n(i,s){return s===void 0&&(s=new Map),s.has(i)?s.get(i):(s.set(i,!1),Ne(i)&&qe(i)?(s.set(i,!0),!0):!ce(i)||je(i)?!1:Object.keys(i).some(function(o){return n(i[o],s)}))}function a(i){var s={slots:{}},o=["root","parent","refs","listeners","isServer","ssrContext"],A=["attrs"],d=["emit"];return o.forEach(function(D){var y="$"+D;ie(s,D,{get:function(){return i[y]},set:function(){}})}),A.forEach(function(D){var y="$"+D;ie(s,D,{get:function(){var B,F,p=Ou({}),S=i[y],g=function(x){ie(p,x,{get:function(){return i[y][x]}})};try{for(var _=Eu(Object.keys(S)),m=_.next();!m.done;m=_.next()){var P=m.value;g(P)}}catch(x){B={error:x}}finally{try{m&&!m.done&&(F=_.return)&&F.call(_)}finally{if(B)throw B.error}}return p},set:function(){}})}),d.forEach(function(D){var y="$"+D;ie(s,D,{get:function(){return function(){for(var B=[],F=0;F<arguments.length;F++)B[F]=arguments[F];var p=i[y];p.apply(i,B)}}})}),s}}function Tu(t,e){if(!t)return e;if(!e)return t;for(var u,r,n,a=Yr?Reflect.ownKeys(t):Object.keys(t),i=0;i<a.length;i++)u=a[i],u!=="__ob__"&&(r=e[u],n=t[u],Ie(e,u)?r!==n&&ce(r)&&!se(r)&&ce(n)&&!se(n)&&Tu(n,r):e[u]=n);return e}function vn(t){rn(t)||(t.config.optionMergeStrategies.setup=function(e,u){return function(n,a){return Tu(Se(e)?e(n,a)||{}:void 0,Se(u)?u(n,a)||{}:void 0)}},sn(t),mn(t))}var wn={install:function(t){return vn(t)}};typeof window!="undefined"&&window.Vue&&window.Vue.use(wn);class Ze extends du{constructor(e,u,r,n=!1){super(e,u);j(this,"kind","file");j(this,"isFile",!0);j(this,"isDirectory",!1);j(this,"fileData");this.inMemory=n,r?this.setup(r):this.setupDone.dispatch()}get isFileStoredInMemory(){return this.fileData!==void 0}moveData(){if(!this.fileData)throw new Error(`No file data to move to IDB for file "${this.name}"`);const e=this.fileData;return this.fileData=void 0,this.inMemory=!1,e}async setup(e){this.fileData=globalThis.document?En(e):e;const u=this.path.join("/").startsWith("data/packages");if(this.inMemory||u&&e.length<5e4)return this.inMemory=!0,this.setupDone.dispatch();(!u||globalThis.document)&&await this.updateIdb(e),this.setupDone.dispatch()}async updateIdb(e){await this.idbWrapper.set(this.idbKey,e),this.fileData=void 0}async loadFromIdb(){if(this.fileData)return this.fileData;let e=await this.idbWrapper.get(this.idbKey);if(e===void 0)throw console.log(this.parent),new Error(`File not found: "${this.path.join("/")}"`);return e}serialize(){return{kind:"file",name:this.name,fileData:this.fileData}}async removeSelf(e=!0){await this.idbWrapper.del(this.idbKey),this.parent&&e&&this.parent.deleteChild(this.name)}async getFile(){const e=await this.loadFromIdb();return new File([e],this.name)}async createWritable(){return new qr(this)}async[Au](e){this.inMemory?this.fileData=e:await this.updateIdb(e)}}class de extends du{constructor(e,u,r,n=!1,a=[]){super(e,u,a);j(this,"kind","directory");j(this,"isDirectory",!0);j(this,"isFile",!1);this.children=r,this.updateIdb(n)}get isDirectoryInMemory(){return this.children!==void 0}async moveToIdb(){const e=this.allInMemoryChildren();this.idbWrapper.setMany(e.map(u=>[u.idbKey,u.moveData()]))}moveData(){if(!this.children)throw new Error(`No directory data to move to IDB for directory "${this.name}"`);const e=[...this.children.values()].map(u=>u.name);return this.children=void 0,e}allInMemoryChildren(){if(!this.children)return[];const e=[this];for(const u of this.children.values())u instanceof de?u.isDirectoryInMemory&&e.push(...u.allInMemoryChildren()):u.isFileStoredInMemory&&e.push(u);return e}async updateIdb(e=!1){e&&await this.idbWrapper.clear(),!this.children&&!await this.hasChildren()&&await this.idbWrapper.set(this.idbKey,[]),this.setupDone.dispatch()}async addChild(e){await this.has(e.name)||(this.children?this.children.set(e.name,e):await this.idbWrapper.set(this.idbKey,[...await this.fromIdb(),e.name]))}async fromIdb(){var e;return(e=await this.idbWrapper.get(this.idbKey))!=null?e:[]}async getChildren(){return this.children?[...this.children.values()]:await Promise.all((await this.fromIdb()).map(e=>this.getChild(e)).filter(e=>e!==void 0))}getChildPath(e){return this.path.concat(e).join("/")}async getChild(e){if(this.children)return this.children.get(e);if(await this.has(e)){const u=await this.idbWrapper.get(this.getChildPath(e));if(u instanceof Uint8Array)return new Ze(this,e);if(Array.isArray(u))return new de(this,e)}}async deleteChild(e){this.children?this.children.delete(e):await this.idbWrapper.set(this.idbKey,(await this.fromIdb()).filter(u=>u!==e))}async hasChildren(){return this.children?this.children.size>0:(await this.fromIdb()).length>0}async has(e){return this.children?this.children.has(e):(await this.fromIdb()).includes(e)}serialize(){return{kind:"directory",name:this.name,path:this.path,children:this.children?[...this.children.values()].map(e=>e.serialize()):void 0}}static deserialize(e,u=null){var n;const r=new de(u,e.name,void 0,!1,e.path);for(const a of(n=e.children)!=null?n:[])a.kind==="directory"?r.addChild(de.deserialize(a,r)):r.addChild(new Ze(r,a.name,a.fileData));return r}async getDirectoryHandle(e,{create:u}={}){let r=await this.getChild(e);if(r&&r.kind==="file")throw new Error(`TypeMismatch: Expected directory with name "${e}", found file`);if(!r)if(u)r=new de(this,e,this.children?new Map:void 0),await r.setupDone.fired,await this.addChild(r);else throw new Error(`No file with the name ${e} exists in this folder`);return r}async getFileHandle(e,{create:u,initialData:r}={}){let n=await this.getChild(e);if(n&&n.kind==="directory")throw new Error(`TypeMismatch: Expected file with name "${e}", found directory`);if(!n)if(u)n=new Ze(this,e,r!=null?r:new Uint8Array),await n.setupDone.fired,await this.addChild(n);else throw new Error(`No file with the name ${e} exists in this folder`);return n}async removeEntry(e,{recursive:u}={}){const r=await this.getChild(e);if(r){if(r.kind==="directory"&&!u&&await r.hasChildren())throw new Error('Cannot remove directory with children without "recursive" option being set to true')}else throw new Error(`No entry with the name ${e} exists in this folder`);await r.removeSelf(),await this.deleteChild(e)}async resolve(e){const u=[e.name];let r=e.getParent();for(;r!==null&&!await r.isSameEntry(this);)u.unshift(r.name),r=r.getParent();return r===null?null:u}async removeSelf(e=!0){const u=await this.getChildren();for(const r of u)await r.removeSelf(!1);this.children||await this.idbWrapper.del(this.idbKey),this.parent&&e&&this.parent.deleteChild(this.name)}[Symbol.asyncIterator](){return this.entries()}keys(){return this.children?this.children.keys():{childNamesPromise:this.fromIdb(),[Symbol.asyncIterator](){return{i:0,childNamesPromise:this.childNamesPromise,async next(){const e=await this.childNamesPromise;return this.i<e.length?{done:!1,value:e[this.i++]}:{done:!0}}}}}}entries(){return this.children?this.children.entries():{childrenPromise:this.getChildren(),[Symbol.asyncIterator](){return{i:0,childrenPromise:this.childrenPromise,async next(){const e=await this.childrenPromise;return this.i<e.length?{done:!1,value:[e[this.i].name,e[this.i++]]}:{done:!0}}}}}}values(){return this.children?this.children.values():{childrenPromise:this.getChildren(),[Symbol.asyncIterator](){return{i:0,childrenPromise:this.childrenPromise,async next(){const e=await this.childrenPromise;return this.i<e.length?{done:!1,value:e[this.i++]}:{done:!0}}}}}}getEntries(){return this.values()}getDirectory(e,u={}){return this.getDirectoryHandle(e,u)}getFile(e,u={}){return this.getFileHandle(e,u)}}rt.set("VirtualFileHandle",{canHandle:t=>t instanceof Ze,serialize:t=>[t.serialize(),[]],deserialize:t=>new Ze(null,t.name,t.fileData)}),rt.set("VirtualDirectoryHandle",{canHandle:t=>t instanceof de,serialize:t=>[t.serialize(),[]],deserialize:t=>de.deserialize(t)});var Bn=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,bn=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,_n=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,Lt={Space_Separator:Bn,ID_Start:bn,ID_Continue:_n},K={isSpaceSeparator(t){return typeof t=="string"&&Lt.Space_Separator.test(t)},isIdStartChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="$"||t==="_"||Lt.ID_Start.test(t))},isIdContinueChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="$"||t==="_"||t==="\u200C"||t==="\u200D"||Lt.ID_Continue.test(t))},isDigit(t){return typeof t=="string"&&/[0-9]/.test(t)},isHexDigit(t){return typeof t=="string"&&/[0-9A-Fa-f]/.test(t)}};let It,Y,Ae,at,me,oe,J,Nt,Ye;var Sn=function(e,u){It=String(e),Y="start",Ae=[],at=0,me=1,oe=0,J=void 0,Nt=void 0,Ye=void 0;do J=xn(),On[Y]();while(J.type!=="eof");return typeof u=="function"?ku({"":Ye},"",u):Ye};function ku(t,e,u){const r=t[e];if(r!=null&&typeof r=="object")for(const n in r){const a=ku(r,n,u);a===void 0?delete r[n]:r[n]=a}return u.call(t,e,r)}let b,w,et,Ce,$;function xn(){for(b="default",w="",et=!1,Ce=1;;){$=pe();const t=Hu[b]();if(t)return t}}function pe(){if(It[at])return String.fromCodePoint(It.codePointAt(at))}function f(){const t=pe();return t===`
`?(me++,oe=0):t?oe+=t.length:oe++,t&&(at+=t.length),t}const Hu={default(){switch($){case"	":case"\v":case"\f":case" ":case"\xA0":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":f();return;case"/":f(),b="comment";return;case void 0:return f(),H("eof")}if(K.isSpaceSeparator($)){f();return}return Hu[Y]()},comment(){switch($){case"*":f(),b="multiLineComment";return;case"/":f(),b="singleLineComment";return}throw L(f())},multiLineComment(){switch($){case"*":f(),b="multiLineCommentAsterisk";return;case void 0:throw L(f())}f()},multiLineCommentAsterisk(){switch($){case"*":f();return;case"/":f(),b="default";return;case void 0:throw L(f())}f(),b="multiLineComment"},singleLineComment(){switch($){case`
`:case"\r":case"\u2028":case"\u2029":f(),b="default";return;case void 0:return f(),H("eof")}f()},value(){switch($){case"{":case"[":return H("punctuator",f());case"n":return f(),Re("ull"),H("null",null);case"t":return f(),Re("rue"),H("boolean",!0);case"f":return f(),Re("alse"),H("boolean",!1);case"-":case"+":f()==="-"&&(Ce=-1),b="sign";return;case".":w=f(),b="decimalPointLeading";return;case"0":w=f(),b="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":w=f(),b="decimalInteger";return;case"I":return f(),Re("nfinity"),H("numeric",1/0);case"N":return f(),Re("aN"),H("numeric",NaN);case'"':case"'":et=f()==='"',w="",b="string";return}throw L(f())},identifierNameStartEscape(){if($!=="u")throw L(f());f();const t=Mt();switch(t){case"$":case"_":break;default:if(!K.isIdStartChar(t))throw Lu();break}w+=t,b="identifierName"},identifierName(){switch($){case"$":case"_":case"\u200C":case"\u200D":w+=f();return;case"\\":f(),b="identifierNameEscape";return}if(K.isIdContinueChar($)){w+=f();return}return H("identifier",w)},identifierNameEscape(){if($!=="u")throw L(f());f();const t=Mt();switch(t){case"$":case"_":case"\u200C":case"\u200D":break;default:if(!K.isIdContinueChar(t))throw Lu();break}w+=t,b="identifierName"},sign(){switch($){case".":w=f(),b="decimalPointLeading";return;case"0":w=f(),b="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":w=f(),b="decimalInteger";return;case"I":return f(),Re("nfinity"),H("numeric",Ce*(1/0));case"N":return f(),Re("aN"),H("numeric",NaN)}throw L(f())},zero(){switch($){case".":w+=f(),b="decimalPoint";return;case"e":case"E":w+=f(),b="decimalExponent";return;case"x":case"X":w+=f(),b="hexadecimal";return}return H("numeric",Ce*0)},decimalInteger(){switch($){case".":w+=f(),b="decimalPoint";return;case"e":case"E":w+=f(),b="decimalExponent";return}if(K.isDigit($)){w+=f();return}return H("numeric",Ce*Number(w))},decimalPointLeading(){if(K.isDigit($)){w+=f(),b="decimalFraction";return}throw L(f())},decimalPoint(){switch($){case"e":case"E":w+=f(),b="decimalExponent";return}if(K.isDigit($)){w+=f(),b="decimalFraction";return}return H("numeric",Ce*Number(w))},decimalFraction(){switch($){case"e":case"E":w+=f(),b="decimalExponent";return}if(K.isDigit($)){w+=f();return}return H("numeric",Ce*Number(w))},decimalExponent(){switch($){case"+":case"-":w+=f(),b="decimalExponentSign";return}if(K.isDigit($)){w+=f(),b="decimalExponentInteger";return}throw L(f())},decimalExponentSign(){if(K.isDigit($)){w+=f(),b="decimalExponentInteger";return}throw L(f())},decimalExponentInteger(){if(K.isDigit($)){w+=f();return}return H("numeric",Ce*Number(w))},hexadecimal(){if(K.isHexDigit($)){w+=f(),b="hexadecimalInteger";return}throw L(f())},hexadecimalInteger(){if(K.isHexDigit($)){w+=f();return}return H("numeric",Ce*Number(w))},string(){switch($){case"\\":f(),w+=Rn();return;case'"':if(et)return f(),H("string",w);w+=f();return;case"'":if(!et)return f(),H("string",w);w+=f();return;case`
`:case"\r":throw L(f());case"\u2028":case"\u2029":Pn($);break;case void 0:throw L(f())}w+=f()},start(){switch($){case"{":case"[":return H("punctuator",f())}b="value"},beforePropertyName(){switch($){case"$":case"_":w=f(),b="identifierName";return;case"\\":f(),b="identifierNameStartEscape";return;case"}":return H("punctuator",f());case'"':case"'":et=f()==='"',b="string";return}if(K.isIdStartChar($)){w+=f(),b="identifierName";return}throw L(f())},afterPropertyName(){if($===":")return H("punctuator",f());throw L(f())},beforePropertyValue(){b="value"},afterPropertyValue(){switch($){case",":case"}":return H("punctuator",f())}throw L(f())},beforeArrayValue(){if($==="]")return H("punctuator",f());b="value"},afterArrayValue(){switch($){case",":case"]":return H("punctuator",f())}throw L(f())},end(){throw L(f())}};function H(t,e){return{type:t,value:e,line:me,column:oe}}function Re(t){for(const e of t){if(pe()!==e)throw L(f());f()}}function Rn(){switch(pe()){case"b":return f(),"\b";case"f":return f(),"\f";case"n":return f(),`
`;case"r":return f(),"\r";case"t":return f(),"	";case"v":return f(),"\v";case"0":if(f(),K.isDigit(pe()))throw L(f());return"\0";case"x":return f(),$n();case"u":return f(),Mt();case`
`:case"\u2028":case"\u2029":return f(),"";case"\r":return f(),pe()===`
`&&f(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw L(f());case void 0:throw L(f())}return f()}function $n(){let t="",e=pe();if(!K.isHexDigit(e)||(t+=f(),e=pe(),!K.isHexDigit(e)))throw L(f());return t+=f(),String.fromCodePoint(parseInt(t,16))}function Mt(){let t="",e=4;for(;e-- >0;){const u=pe();if(!K.isHexDigit(u))throw L(f());t+=f()}return String.fromCodePoint(parseInt(t,16))}const On={start(){if(J.type==="eof")throw $e();jt()},beforePropertyName(){switch(J.type){case"identifier":case"string":Nt=J.value,Y="afterPropertyName";return;case"punctuator":ot();return;case"eof":throw $e()}},afterPropertyName(){if(J.type==="eof")throw $e();Y="beforePropertyValue"},beforePropertyValue(){if(J.type==="eof")throw $e();jt()},beforeArrayValue(){if(J.type==="eof")throw $e();if(J.type==="punctuator"&&J.value==="]"){ot();return}jt()},afterPropertyValue(){if(J.type==="eof")throw $e();switch(J.value){case",":Y="beforePropertyName";return;case"}":ot()}},afterArrayValue(){if(J.type==="eof")throw $e();switch(J.value){case",":Y="beforeArrayValue";return;case"]":ot()}},end(){}};function jt(){let t;switch(J.type){case"punctuator":switch(J.value){case"{":t={};break;case"[":t=[];break}break;case"null":case"boolean":case"numeric":case"string":t=J.value;break}if(Ye===void 0)Ye=t;else{const e=Ae[Ae.length-1];Array.isArray(e)?e.push(t):e[Nt]=t}if(t!==null&&typeof t=="object")Ae.push(t),Array.isArray(t)?Y="beforeArrayValue":Y="beforePropertyName";else{const e=Ae[Ae.length-1];e==null?Y="end":Array.isArray(e)?Y="afterArrayValue":Y="afterPropertyValue"}}function ot(){Ae.pop();const t=Ae[Ae.length-1];t==null?Y="end":Array.isArray(t)?Y="afterArrayValue":Y="afterPropertyValue"}function L(t){return ct(t===void 0?`JSON5: invalid end of input at ${me}:${oe}`:`JSON5: invalid character '${Iu(t)}' at ${me}:${oe}`)}function $e(){return ct(`JSON5: invalid end of input at ${me}:${oe}`)}function Lu(){return oe-=5,ct(`JSON5: invalid identifier character at ${me}:${oe}`)}function Pn(t){console.warn(`JSON5: '${Iu(t)}' in strings is not valid ECMAScript; consider escaping`)}function Iu(t){const e={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(e[t])return e[t];if(t<" "){const u=t.charCodeAt(0).toString(16);return"\\x"+("00"+u).substring(u.length)}return t}function ct(t){const e=new SyntaxError(t);return e.lineNumber=me,e.columnNumber=oe,e}var Tn=function(e,u,r){const n=[];let a="",i,s,o="",A;if(u!=null&&typeof u=="object"&&!Array.isArray(u)&&(r=u.space,A=u.quote,u=u.replacer),typeof u=="function")s=u;else if(Array.isArray(u)){i=[];for(const p of u){let S;typeof p=="string"?S=p:(typeof p=="number"||p instanceof String||p instanceof Number)&&(S=String(p)),S!==void 0&&i.indexOf(S)<0&&i.push(S)}}return r instanceof Number?r=Number(r):r instanceof String&&(r=String(r)),typeof r=="number"?r>0&&(r=Math.min(10,Math.floor(r)),o="          ".substr(0,r)):typeof r=="string"&&(o=r.substr(0,10)),d("",{"":e});function d(p,S){let g=S[p];switch(g!=null&&(typeof g.toJSON5=="function"?g=g.toJSON5(p):typeof g.toJSON=="function"&&(g=g.toJSON(p))),s&&(g=s.call(S,p,g)),g instanceof Number?g=Number(g):g instanceof String?g=String(g):g instanceof Boolean&&(g=g.valueOf()),g){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof g=="string")return D(g);if(typeof g=="number")return String(g);if(typeof g=="object")return Array.isArray(g)?F(g):y(g)}function D(p){const S={"'":.1,'"':.2},g={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let _="";for(let P=0;P<p.length;P++){const x=p[P];switch(x){case"'":case'"':S[x]++,_+=x;continue;case"\0":if(K.isDigit(p[P+1])){_+="\\x00";continue}}if(g[x]){_+=g[x];continue}if(x<" "){let ee=x.charCodeAt(0).toString(16);_+="\\x"+("00"+ee).substring(ee.length);continue}_+=x}const m=A||Object.keys(S).reduce((P,x)=>S[P]<S[x]?P:x);return _=_.replace(new RegExp(m,"g"),g[m]),m+_+m}function y(p){if(n.indexOf(p)>=0)throw TypeError("Converting circular structure to JSON5");n.push(p);let S=a;a=a+o;let g=i||Object.keys(p),_=[];for(const P of g){const x=d(P,p);if(x!==void 0){let ee=B(P)+":";o!==""&&(ee+=" "),ee+=x,_.push(ee)}}let m;if(_.length===0)m="{}";else{let P;if(o==="")P=_.join(","),m="{"+P+"}";else{let x=`,
`+a;P=_.join(x),m=`{
`+a+P+`,
`+S+"}"}}return n.pop(),a=S,m}function B(p){if(p.length===0)return D(p);const S=String.fromCodePoint(p.codePointAt(0));if(!K.isIdStartChar(S))return D(p);for(let g=S.length;g<p.length;g++)if(!K.isIdContinueChar(String.fromCodePoint(p.codePointAt(g))))return D(p);return p}function F(p){if(n.indexOf(p)>=0)throw TypeError("Converting circular structure to JSON5");n.push(p);let S=a;a=a+o;let g=[];for(let m=0;m<p.length;m++){const P=d(String(m),p);g.push(P!==void 0?P:"null")}let _;if(g.length===0)_="[]";else if(o===""){let m=g.join(",");_="["+m+"]"}else{let m=`,
`+a,P=g.join(m);_=`[
`+a+P+`,
`+S+"]"}return n.pop(),a=S,_}},kn={parse:Sn,stringify:Tn};async function tt(t,e,u=new Set,r=""){for await(const n of t.values()){const a=r.length===0?n.name:`${r}/${n.name}`;if(n.kind==="file"){if(n.name[0]===".")continue;await e(n,a,t)}else n.kind==="directory"&&!u.has(a)&&await tt(n,e,u,a)}}function le(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function Nu(t,e){for(var u="",r=0,n=-1,a=0,i,s=0;s<=t.length;++s){if(s<t.length)i=t.charCodeAt(s);else{if(i===47)break;i=47}if(i===47){if(!(n===s-1||a===1))if(n!==s-1&&a===2){if(u.length<2||r!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){var o=u.lastIndexOf("/");if(o!==u.length-1){o===-1?(u="",r=0):(u=u.slice(0,o),r=u.length-1-u.lastIndexOf("/")),n=s,a=0;continue}}else if(u.length===2||u.length===1){u="",r=0,n=s,a=0;continue}}e&&(u.length>0?u+="/..":u="..",r=2)}else u.length>0?u+="/"+t.slice(n+1,s):u=t.slice(n+1,s),r=s-n-1;n=s,a=0}else i===46&&a!==-1?++a:a=-1}return u}function Hn(t,e){var u=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return u?u===e.root?u+r:u+t+r:r}var Ge={resolve:function(){for(var e="",u=!1,r,n=arguments.length-1;n>=-1&&!u;n--){var a;n>=0?a=arguments[n]:(r===void 0&&(r=process.cwd()),a=r),le(a),a.length!==0&&(e=a+"/"+e,u=a.charCodeAt(0)===47)}return e=Nu(e,!u),u?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(le(e),e.length===0)return".";var u=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=Nu(e,!u),e.length===0&&!u&&(e="."),e.length>0&&r&&(e+="/"),u?"/"+e:e},isAbsolute:function(e){return le(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,u=0;u<arguments.length;++u){var r=arguments[u];le(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":Ge.normalize(e)},relative:function(e,u){if(le(e),le(u),e===u||(e=Ge.resolve(e),u=Ge.resolve(u),e===u))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var n=e.length,a=n-r,i=1;i<u.length&&u.charCodeAt(i)===47;++i);for(var s=u.length,o=s-i,A=a<o?a:o,d=-1,D=0;D<=A;++D){if(D===A){if(o>A){if(u.charCodeAt(i+D)===47)return u.slice(i+D+1);if(D===0)return u.slice(i+D)}else a>A&&(e.charCodeAt(r+D)===47?d=D:D===0&&(d=0));break}var y=e.charCodeAt(r+D),B=u.charCodeAt(i+D);if(y!==B)break;y===47&&(d=D)}var F="";for(D=r+d+1;D<=n;++D)(D===n||e.charCodeAt(D)===47)&&(F.length===0?F+="..":F+="/..");return F.length>0?F+u.slice(i+d):(i+=d,u.charCodeAt(i)===47&&++i,u.slice(i))},_makeLong:function(e){return e},dirname:function(e){if(le(e),e.length===0)return".";for(var u=e.charCodeAt(0),r=u===47,n=-1,a=!0,i=e.length-1;i>=1;--i)if(u=e.charCodeAt(i),u===47){if(!a){n=i;break}}else a=!1;return n===-1?r?"/":".":r&&n===1?"//":e.slice(0,n)},basename:function(e,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');le(e);var r=0,n=-1,a=!0,i;if(u!==void 0&&u.length>0&&u.length<=e.length){if(u.length===e.length&&u===e)return"";var s=u.length-1,o=-1;for(i=e.length-1;i>=0;--i){var A=e.charCodeAt(i);if(A===47){if(!a){r=i+1;break}}else o===-1&&(a=!1,o=i+1),s>=0&&(A===u.charCodeAt(s)?--s===-1&&(n=i):(s=-1,n=o))}return r===n?n=o:n===-1&&(n=e.length),e.slice(r,n)}else{for(i=e.length-1;i>=0;--i)if(e.charCodeAt(i)===47){if(!a){r=i+1;break}}else n===-1&&(a=!1,n=i+1);return n===-1?"":e.slice(r,n)}},extname:function(e){le(e);for(var u=-1,r=0,n=-1,a=!0,i=0,s=e.length-1;s>=0;--s){var o=e.charCodeAt(s);if(o===47){if(!a){r=s+1;break}continue}n===-1&&(a=!1,n=s+1),o===46?u===-1?u=s:i!==1&&(i=1):u!==-1&&(i=-1)}return u===-1||n===-1||i===0||i===1&&u===n-1&&u===r+1?"":e.slice(u,n)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return Hn("/",e)},parse:function(e){le(e);var u={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return u;var r=e.charCodeAt(0),n=r===47,a;n?(u.root="/",a=1):a=0;for(var i=-1,s=0,o=-1,A=!0,d=e.length-1,D=0;d>=a;--d){if(r=e.charCodeAt(d),r===47){if(!A){s=d+1;break}continue}o===-1&&(A=!1,o=d+1),r===46?i===-1?i=d:D!==1&&(D=1):i!==-1&&(D=-1)}return i===-1||o===-1||D===0||D===1&&i===o-1&&i===s+1?o!==-1&&(s===0&&n?u.base=u.name=e.slice(1,o):u.base=u.name=e.slice(s,o)):(s===0&&n?(u.name=e.slice(1,i),u.base=e.slice(1,o)):(u.name=e.slice(s,i),u.base=e.slice(s,o)),u.ext=e.slice(i,o)),s>0?u.dir=e.slice(0,s-1):n&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};Ge.posix=Ge;var Ee=Ge;const Ln=Ee.dirname,Wt=Ee.join,Mu=Ee.extname,In=Ee.basename,ju=Ee.resolve;Ee.relative;async function Nn(){return typeof(await(await navigator.storage.getDirectory()).getFileHandle("bridge-supports-writable-test",{create:!0})).createWritable=="function"}async function Wu(){var t;return typeof((t=navigator.storage)==null?void 0:t.getDirectory)!="function"||!await Nn()?new de(null,"bridgeFolder",void 0):await navigator.storage.getDirectory()}class Gt extends Du{constructor(e){super();j(this,"_baseDirectory");e&&this.setup(e)}get baseDirectory(){return this._baseDirectory}setup(e){this._baseDirectory=e,this.hasFired||this.dispatch()}async getDirectoryHandle(e,{create:u,createOnce:r}={}){if(e===""||e===".")return this.baseDirectory;let n=this.baseDirectory;const a=e.split(/\\|\//g);a[0]==="."&&a.shift(),a[0]==="~local"&&(n=await Wu(),a.shift());for(const i of a){try{n=await n.getDirectoryHandle(i,{create:r||u})}catch{throw new Error(`Failed to access "${e}": Directory does not exist`)}r&&(r=!1,u=!1)}return n}async getFileHandle(e,u=!1){if(e.length===0)throw new Error("Error: filePath is empty");const r=await this.getDirectoryHandle(Ln(e),{create:u});try{return await r.getFileHandle(In(e),{create:u})}catch{throw new Error(`File does not exist: "${e}"`)}}async pathTo(e){let r=await(await Wu()).resolve(e).then(n=>n==null?void 0:n.join("/"));return r?r="~local/"+r:r=await this.baseDirectory.resolve(e).then(n=>n==null?void 0:n.join("/")),r}async mkdir(e,{recursive:u}={}){await this.getDirectoryHandle(e,{create:!0})}async readdir(e,{withFileTypes:u}={}){const r=await this.getDirectoryHandle(e),n=[];for await(const a of r.values())a.kind==="file"&&a.name===".DS_Store"||(u?n.push(a):n.push(a.name));return n}async readFilesFromDir(e,u=this.getDirectoryHandle(e)){u=await u;const r=[];for await(const n of u.values())n.kind==="file"&&n.name===".DS_Store"||(n.kind==="file"?r.push({name:n.name,kind:n.kind,path:`${e}/${n.name}`}):n.kind==="directory"&&r.push(...await this.readFilesFromDir(`${e}/${n.name}`,n)));return r}readFile(e){return this.getFileHandle(e).then(u=>u.getFile())}async unlink(e){if(e.length===0)throw new Error("Error: filePath is empty");const u=e.split(/\\|\//g),r=u.pop();let n;try{n=await this.getDirectoryHandle(u.join("/"))}catch{return}try{await n.removeEntry(r,{recursive:!0})}catch{}}async writeFile(e,u){const r=await this.getFileHandle(e,!0);return await this.write(r,u),r}async write(e,u){const r=await e.createWritable({keepExistingData:!1});await r.write(u),await r.close()}async readJSON(e){const u=await this.readFile(e);try{return await kn.parse(await u.text())}catch{throw new Error(`Invalid JSON: ${e}`)}}writeJSON(e,u,r=!1){return this.writeFile(e,JSON.stringify(u,null,r?"	":void 0))}async move(e,u){if(await this.fileExists(e))await this.copyFile(e,u);else if(await this.directoryExists(e))await this.copyFolder(e,u);else throw new Error(`File or folder does not exist: ${e}`);await this.unlink(e)}async copyFile(e,u){const r=await this.getFileHandle(e,!1),n=await this.getFileHandle(u,!0);return await this.copyFileHandle(r,n)}async copyFileHandle(e,u){return await this.write(u,await e.getFile()),u}async copyFolder(e,u){const r=await this.getDirectoryHandle(e,{create:!1});await tt(r,async(n,a)=>{await this.copyFileHandle(n,await this.getFileHandle(Wt(u,a),!0))})}async copyFolderByHandle(e,u){const r=new Gt(u);await tt(e,async(n,a)=>{await this.copyFileHandle(n,await r.getFileHandle(a,!0))})}loadFileHandleAsDataUrl(e){return new Promise(async(u,r)=>{const n=new FileReader;try{const a=await e.getFile();n.addEventListener("load",()=>{u(n.result)}),n.addEventListener("error",r),n.readAsDataURL(a)}catch{r(`File does not exist: "${e.name}"`)}})}async fileExists(e){try{return await this.getFileHandle(e),!0}catch{return!1}}async directoryExists(e){try{return await this.getDirectoryHandle(e),!0}catch{return!1}}async getDirectoryHandlesFromGlob(e,u="."){const r=e.split(/\/|\\/g),n=new Set([await this.getDirectoryHandle(u)]);for(const a of r){if(a==="*")for(const i of[...n.values()]){n.delete(i);for await(const s of i.values())s.kind==="directory"&&n.add(s)}else{if(a==="**")return console.warn('"**" is not supported yet'),[];for(const i of[...n.values()]){n.delete(i);try{n.add(await i.getDirectoryHandle(a))}catch{}}}if(n.size===0)return[]}return[...n.values()]}}function Mn(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}var Kt=(t=>(t[t.matchCase=0]="matchCase",t[t.ignoreCase=1]="ignoreCase",t[t.useRegExp=2]="useRegExp",t))(Kt||{});function jn(t,e,u){return t.replace(e,(r,...n)=>(n=n.slice(0,-2),u.replace(/{(\d+)}/g,(a,...i)=>{var s;return(s=n[Number(i[0])])!=null?s:a})))}function Gu(t,e){let u;try{u=new RegExp(e===Kt.useRegExp?t:Mn(t),`g${e===Kt.ignoreCase?"i":""}`)}catch{return}return u}var Wn=Object.defineProperty,Gn=Object.defineProperties,Kn=Object.getOwnPropertyDescriptors,Ku=Object.getOwnPropertySymbols,Un=Object.prototype.hasOwnProperty,zn=Object.prototype.propertyIsEnumerable,Uu=(t,e,u)=>e in t?Wn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:u}):t[e]=u,Ke=(t,e)=>{for(var u in e||(e={}))Un.call(e,u)&&Uu(t,u,e[u]);if(Ku)for(var u of Ku(e))zn.call(e,u)&&Uu(t,u,e[u]);return t},lt=(t,e)=>Gn(t,Kn(e));function zu(t,e){for(var u=0,r=t.length-1;r>=0;r--){var n=t[r];n==="."?t.splice(r,1):n===".."?(t.splice(r,1),u++):u&&(t.splice(r,1),u--)}if(e)for(;u--;u)t.unshift("..");return t}var Vn=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,Ut=function(t){return Vn.exec(t).slice(1)};function Dt(){for(var t="",e=!1,u=arguments.length-1;u>=-1&&!e;u--){var r=u>=0?arguments[u]:"/";if(typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!r)continue;t=r+"/"+t,e=r.charAt(0)==="/"}return t=zu(Xt(t.split("/"),function(n){return!!n}),!e).join("/"),(e?"/":"")+t||"."}function zt(t){var e=Vt(t),u=Jn(t,-1)==="/";return t=zu(Xt(t.split("/"),function(r){return!!r}),!e).join("/"),!t&&!e&&(t="."),t&&u&&(t+="/"),(e?"/":"")+t}function Vt(t){return t.charAt(0)==="/"}function Vu(){var t=Array.prototype.slice.call(arguments,0);return zt(Xt(t,function(e,u){if(typeof e!="string")throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))}function Xu(t,e){t=Dt(t).substr(1),e=Dt(e).substr(1);function u(A){for(var d=0;d<A.length&&A[d]==="";d++);for(var D=A.length-1;D>=0&&A[D]==="";D--);return d>D?[]:A.slice(d,D-d+1)}for(var r=u(t.split("/")),n=u(e.split("/")),a=Math.min(r.length,n.length),i=a,s=0;s<a;s++)if(r[s]!==n[s]){i=s;break}for(var o=[],s=i;s<r.length;s++)o.push("..");return o=o.concat(n.slice(i)),o.join("/")}var Ju="/",Qu=":";function qu(t){var e=Ut(t),u=e[0],r=e[1];return!u&&!r?".":(r&&(r=r.substr(0,r.length-1)),u+r)}function Zu(t,e){var u=Ut(t)[2];return e&&u.substr(-1*e.length)===e&&(u=u.substr(0,u.length-e.length)),u}function Yu(t){return Ut(t)[3]}var Xn={extname:Yu,basename:Zu,dirname:qu,sep:Ju,delimiter:Qu,relative:Xu,join:Vu,isAbsolute:Vt,normalize:zt,resolve:Dt};function Xt(t,e){if(t.filter)return t.filter(e);for(var u=[],r=0;r<t.length;r++)e(t[r],r,t)&&u.push(t[r]);return u}var Jn="ab".substr(-1)==="b"?function(t,e,u){return t.substr(e,u)}:function(t,e,u){return e<0&&(e=t.length+e),t.substr(e,u)},Jt=Object.freeze({__proto__:null,resolve:Dt,normalize:zt,isAbsolute:Vt,join:Vu,relative:Xu,sep:Ju,delimiter:Qu,dirname:qu,basename:Zu,extname:Yu,default:Xn});function er(){throw new Error("setTimeout has not been defined")}function tr(){throw new Error("clearTimeout has not been defined")}var ve=er,we=tr,Ue;typeof window!="undefined"?Ue=window:typeof self!="undefined"?Ue=self:Ue={},typeof Ue.setTimeout=="function"&&(ve=setTimeout),typeof Ue.clearTimeout=="function"&&(we=clearTimeout);function ur(t){if(ve===setTimeout)return setTimeout(t,0);if((ve===er||!ve)&&setTimeout)return ve=setTimeout,setTimeout(t,0);try{return ve(t,0)}catch{try{return ve.call(null,t,0)}catch{return ve.call(this,t,0)}}}function Qn(t){if(we===clearTimeout)return clearTimeout(t);if((we===tr||!we)&&clearTimeout)return we=clearTimeout,clearTimeout(t);try{return we(t)}catch{try{return we.call(null,t)}catch{return we.call(this,t)}}}var Fe=[],ze=!1,Oe,ft=-1;function qn(){!ze||!Oe||(ze=!1,Oe.length?Fe=Oe.concat(Fe):ft=-1,Fe.length&&rr())}function rr(){if(!ze){var t=ur(qn);ze=!0;for(var e=Fe.length;e;){for(Oe=Fe,Fe=[];++ft<e;)Oe&&Oe[ft].run();ft=-1,e=Fe.length}Oe=null,ze=!1,Qn(t)}}function Zn(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var u=1;u<arguments.length;u++)e[u-1]=arguments[u];Fe.push(new nr(t,e)),Fe.length===1&&!ze&&ur(rr)}function nr(t,e){this.fun=t,this.array=e}nr.prototype.run=function(){this.fun.apply(null,this.array)};var Yn="browser",ei="browser",ti=!0,ui=[],ri="",ni={},ii={},si={};function Pe(){}var ai=Pe,oi=Pe,ci=Pe,li=Pe,Di=Pe,fi=Pe,hi=Pe;function di(t){throw new Error("process.binding is not supported")}function Ai(){return"/"}function Ci(t){throw new Error("process.chdir is not supported")}function pi(){return 0}var Ve=Ue.performance||{},Ei=Ve.now||Ve.mozNow||Ve.msNow||Ve.oNow||Ve.webkitNow||function(){return new Date().getTime()};function Fi(t){var e=Ei.call(Ve)*.001,u=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(u=u-t[0],r=r-t[1],r<0&&(u--,r+=1e9)),[u,r]}var gi=new Date;function yi(){var t=new Date,e=t-gi;return e/1e3}var mi={nextTick:Zn,title:Yn,browser:ti,env:{NODE_ENV:"production"},argv:ui,version:ri,versions:ni,on:ai,addListener:oi,once:ci,off:li,removeListener:Di,removeAllListeners:fi,emit:hi,binding:di,cwd:Ai,chdir:Ci,umask:pi,hrtime:Fi,platform:ei,release:ii,config:si,uptime:yi};function vi(t,e,u){return u={path:e,exports:{},require:function(r,n){return wi(r,n==null?u.path:n)}},t(u,u.exports),u.exports}function wi(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}const De="\\\\/",ir=`[^${De}]`,ge="\\.",Bi="\\+",bi="\\?",ht="\\/",_i="(?=.)",sr="[^/]",Qt=`(?:${ht}|$)`,ar=`(?:^|${ht})`,qt=`${ge}{1,2}${Qt}`,Si=`(?!${ge})`,xi=`(?!${ar}${qt})`,Ri=`(?!${ge}{0,1}${Qt})`,$i=`(?!${qt})`,Oi=`[^.${ht}]`,Pi=`${sr}*?`,or={DOT_LITERAL:ge,PLUS_LITERAL:Bi,QMARK_LITERAL:bi,SLASH_LITERAL:ht,ONE_CHAR:_i,QMARK:sr,END_ANCHOR:Qt,DOTS_SLASH:qt,NO_DOT:Si,NO_DOTS:xi,NO_DOT_SLASH:Ri,NO_DOTS_SLASH:$i,QMARK_NO_DOT:Oi,STAR:Pi,START_ANCHOR:ar},Ti=lt(Ke({},or),{SLASH_LITERAL:`[${De}]`,QMARK:ir,STAR:`${ir}*?`,DOTS_SLASH:`${ge}{1,2}(?:[${De}]|$)`,NO_DOT:`(?!${ge})`,NO_DOTS:`(?!(?:^|[${De}])${ge}{1,2}(?:[${De}]|$))`,NO_DOT_SLASH:`(?!${ge}{0,1}(?:[${De}]|$))`,NO_DOTS_SLASH:`(?!${ge}{1,2}(?:[${De}]|$))`,QMARK_NO_DOT:`[^.${De}]`,START_ANCHOR:`(?:^|[${De}])`,END_ANCHOR:`(?:[${De}]|$)`}),ki={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var Te={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:ki,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Jt.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?Ti:or}},Q=vi(function(t,e){const{REGEX_BACKSLASH:u,REGEX_REMOVE_BACKSLASH:r,REGEX_SPECIAL_CHARS:n,REGEX_SPECIAL_CHARS_GLOBAL:a}=Te;e.isObject=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),e.hasRegexChars=i=>n.test(i),e.isRegexChar=i=>i.length===1&&e.hasRegexChars(i),e.escapeRegex=i=>i.replace(a,"\\$1"),e.toPosixSlashes=i=>i.replace(u,"/"),e.removeBackslashes=i=>i.replace(r,s=>s==="\\"?"":s),e.supportsLookbehinds=()=>{const i=mi.version.slice(1).split(".").map(Number);return i.length===3&&i[0]>=9||i[0]===8&&i[1]>=10},e.isWindows=i=>i&&typeof i.windows=="boolean"?i.windows:Jt.sep==="\\",e.escapeLast=(i,s,o)=>{const A=i.lastIndexOf(s,o);return A===-1?i:i[A-1]==="\\"?e.escapeLast(i,s,A-1):`${i.slice(0,A)}\\${i.slice(A)}`},e.removePrefix=(i,s={})=>{let o=i;return o.startsWith("./")&&(o=o.slice(2),s.prefix="./"),o},e.wrapOutput=(i,s={},o={})=>{const A=o.contains?"":"^",d=o.contains?"":"$";let D=`${A}(?:${i})${d}`;return s.negated===!0&&(D=`(?:^(?!${D}).*$)`),D}});const{CHAR_ASTERISK:Zt,CHAR_AT:Hi,CHAR_BACKWARD_SLASH:ut,CHAR_COMMA:Li,CHAR_DOT:Yt,CHAR_EXCLAMATION_MARK:eu,CHAR_FORWARD_SLASH:cr,CHAR_LEFT_CURLY_BRACE:tu,CHAR_LEFT_PARENTHESES:uu,CHAR_LEFT_SQUARE_BRACKET:Ii,CHAR_PLUS:Ni,CHAR_QUESTION_MARK:lr,CHAR_RIGHT_CURLY_BRACE:Mi,CHAR_RIGHT_PARENTHESES:Dr,CHAR_RIGHT_SQUARE_BRACKET:ji}=Te,fr=t=>t===cr||t===ut,hr=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)};var Wi=(t,e)=>{const u=e||{},r=t.length-1,n=u.parts===!0||u.scanToEnd===!0,a=[],i=[],s=[];let o=t,A=-1,d=0,D=0,y=!1,B=!1,F=!1,p=!1,S=!1,g=!1,_=!1,m=!1,P=!1,x=!1,ee=0,te,v,k={value:"",depth:0,isGlob:!1};const Z=()=>A>=r,h=()=>o.charCodeAt(A+1),M=()=>(te=v,o.charCodeAt(++A));for(;A<r;){v=M();let ue;if(v===ut){_=k.backslashes=!0,v=M(),v===tu&&(g=!0);continue}if(g===!0||v===tu){for(ee++;Z()!==!0&&(v=M());){if(v===ut){_=k.backslashes=!0,M();continue}if(v===tu){ee++;continue}if(g!==!0&&v===Yt&&(v=M())===Yt){if(y=k.isBrace=!0,F=k.isGlob=!0,x=!0,n===!0)continue;break}if(g!==!0&&v===Li){if(y=k.isBrace=!0,F=k.isGlob=!0,x=!0,n===!0)continue;break}if(v===Mi&&(ee--,ee===0)){g=!1,y=k.isBrace=!0,x=!0;break}}if(n===!0)continue;break}if(v===cr){if(a.push(A),i.push(k),k={value:"",depth:0,isGlob:!1},x===!0)continue;if(te===Yt&&A===d+1){d+=2;continue}D=A+1;continue}if(u.noext!==!0&&(v===Ni||v===Hi||v===Zt||v===lr||v===eu)===!0&&h()===uu){if(F=k.isGlob=!0,p=k.isExtglob=!0,x=!0,v===eu&&A===d&&(P=!0),n===!0){for(;Z()!==!0&&(v=M());){if(v===ut){_=k.backslashes=!0,v=M();continue}if(v===Dr){F=k.isGlob=!0,x=!0;break}}continue}break}if(v===Zt){if(te===Zt&&(S=k.isGlobstar=!0),F=k.isGlob=!0,x=!0,n===!0)continue;break}if(v===lr){if(F=k.isGlob=!0,x=!0,n===!0)continue;break}if(v===Ii){for(;Z()!==!0&&(ue=M());){if(ue===ut){_=k.backslashes=!0,M();continue}if(ue===ji){B=k.isBracket=!0,F=k.isGlob=!0,x=!0;break}}if(n===!0)continue;break}if(u.nonegate!==!0&&v===eu&&A===d){m=k.negated=!0,d++;continue}if(u.noparen!==!0&&v===uu){if(F=k.isGlob=!0,n===!0){for(;Z()!==!0&&(v=M());){if(v===uu){_=k.backslashes=!0,v=M();continue}if(v===Dr){x=!0;break}}continue}break}if(F===!0){if(x=!0,n===!0)continue;break}}u.noext===!0&&(p=!1,F=!1);let I=o,Be="",c="";d>0&&(Be=o.slice(0,d),o=o.slice(d),D-=d),I&&F===!0&&D>0?(I=o.slice(0,D),c=o.slice(D)):F===!0?(I="",c=o):I=o,I&&I!==""&&I!=="/"&&I!==o&&fr(I.charCodeAt(I.length-1))&&(I=I.slice(0,-1)),u.unescape===!0&&(c&&(c=Q.removeBackslashes(c)),I&&_===!0&&(I=Q.removeBackslashes(I)));const l={prefix:Be,input:t,start:d,base:I,glob:c,isBrace:y,isBracket:B,isGlob:F,isExtglob:p,isGlobstar:S,negated:m,negatedExtglob:P};if(u.tokens===!0&&(l.maxDepth=0,fr(v)||i.push(k),l.tokens=i),u.parts===!0||u.tokens===!0){let ue;for(let T=0;T<a.length;T++){const fe=ue?ue+1:d,he=a[T],ae=t.slice(fe,he);u.tokens&&(T===0&&d!==0?(i[T].isPrefix=!0,i[T].value=Be):i[T].value=ae,hr(i[T]),l.maxDepth+=i[T].depth),(T!==0||ae!=="")&&s.push(ae),ue=he}if(ue&&ue+1<t.length){const T=t.slice(ue+1);s.push(T),u.tokens&&(i[i.length-1].value=T,hr(i[i.length-1]),l.maxDepth+=i[i.length-1].depth)}l.slashes=a,l.parts=s}return l};const{MAX_LENGTH:dt,POSIX_REGEX_SOURCE:Gi,REGEX_NON_SPECIAL_CHARS:Ki,REGEX_SPECIAL_CHARS_BACKREF:Ui,REPLACEMENTS:dr}=Te,zi=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();const u=`[${t.join("-")}]`;try{new RegExp(u)}catch{return t.map(n=>Q.escapeRegex(n)).join("..")}return u},Xe=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,Ar=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=dr[t]||t;const u=Ke({},e),r=typeof u.maxLength=="number"?Math.min(dt,u.maxLength):dt;let n=t.length;if(n>r)throw new SyntaxError(`Input length: ${n}, exceeds maximum allowed length: ${r}`);const a={type:"bos",value:"",output:u.prepend||""},i=[a],s=u.capture?"":"?:",o=Q.isWindows(e),A=Te.globChars(o),d=Te.extglobChars(A),{DOT_LITERAL:D,PLUS_LITERAL:y,SLASH_LITERAL:B,ONE_CHAR:F,DOTS_SLASH:p,NO_DOT:S,NO_DOT_SLASH:g,NO_DOTS_SLASH:_,QMARK:m,QMARK_NO_DOT:P,STAR:x,START_ANCHOR:ee}=A,te=E=>`(${s}(?:(?!${ee}${E.dot?p:D}).)*?)`,v=u.dot?"":S,k=u.dot?m:P;let Z=u.bash===!0?te(u):x;u.capture&&(Z=`(${Z})`),typeof u.noext=="boolean"&&(u.noextglob=u.noext);const h={input:t,index:-1,start:0,dot:u.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:i};t=Q.removePrefix(t,h),n=t.length;const M=[],I=[],Be=[];let c=a,l;const ue=()=>h.index===n-1,T=h.peek=(E=1)=>t[h.index+E],fe=h.advance=()=>t[++h.index]||"",he=()=>t.slice(h.index+1),ae=(E="",N=0)=>{h.consumed+=E,h.index+=N},At=E=>{h.output+=E.output!=null?E.output:E.value,ae(E.value)},Yi=()=>{let E=1;for(;T()==="!"&&(T(2)!=="("||T(3)==="?");)fe(),h.start++,E++;return E%2===0?!1:(h.negated=!0,h.start++,!0)},Ct=E=>{h[E]++,Be.push(E)},ke=E=>{h[E]--,Be.pop()},O=E=>{if(c.type==="globstar"){const N=h.braces>0&&(E.type==="comma"||E.type==="brace"),C=E.extglob===!0||M.length&&(E.type==="pipe"||E.type==="paren");E.type!=="slash"&&E.type!=="paren"&&!N&&!C&&(h.output=h.output.slice(0,-c.output.length),c.type="star",c.value="*",c.output=Z,h.output+=c.output)}if(M.length&&E.type!=="paren"&&(M[M.length-1].inner+=E.value),(E.value||E.output)&&At(E),c&&c.type==="text"&&E.type==="text"){c.value+=E.value,c.output=(c.output||"")+E.value;return}E.prev=c,i.push(E),c=E},pt=(E,N)=>{const C=lt(Ke({},d[N]),{conditions:1,inner:""});C.prev=c,C.parens=h.parens,C.output=h.output;const R=(u.capture?"(":"")+C.open;Ct("parens"),O({type:E,value:N,output:h.output?"":F}),O({type:"paren",extglob:!0,value:fe(),output:R}),M.push(C)},es=E=>{let N=E.close+(u.capture?")":""),C;if(E.type==="negate"){let R=Z;E.inner&&E.inner.length>1&&E.inner.includes("/")&&(R=te(u)),(R!==Z||ue()||/^\)+$/.test(he()))&&(N=E.close=`)$))${R}`),E.inner.includes("*")&&(C=he())&&/^\.[^\\/.]+$/.test(C)&&(N=E.close=`)${C})${R})`),E.prev.type==="bos"&&(h.negatedExtglob=!0)}O({type:"paren",extglob:!0,value:l,output:N}),ke("parens")};if(u.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let E=!1,N=t.replace(Ui,(C,R,z,re,X,iu)=>re==="\\"?(E=!0,C):re==="?"?R?R+re+(X?m.repeat(X.length):""):iu===0?k+(X?m.repeat(X.length):""):m.repeat(z.length):re==="."?D.repeat(z.length):re==="*"?R?R+re+(X?Z:""):Z:R?C:`\\${C}`);return E===!0&&(u.unescape===!0?N=N.replace(/\\/g,""):N=N.replace(/\\+/g,C=>C.length%2===0?"\\\\":C?"\\":"")),N===t&&u.contains===!0?(h.output=t,h):(h.output=Q.wrapOutput(N,h,e),h)}for(;!ue();){if(l=fe(),l==="\0")continue;if(l==="\\"){const C=T();if(C==="/"&&u.bash!==!0||C==="."||C===";")continue;if(!C){l+="\\",O({type:"text",value:l});continue}const R=/^\\+/.exec(he());let z=0;if(R&&R[0].length>2&&(z=R[0].length,h.index+=z,z%2!==0&&(l+="\\")),u.unescape===!0?l=fe():l+=fe(),h.brackets===0){O({type:"text",value:l});continue}}if(h.brackets>0&&(l!=="]"||c.value==="["||c.value==="[^")){if(u.posix!==!1&&l===":"){const C=c.value.slice(1);if(C.includes("[")&&(c.posix=!0,C.includes(":"))){const R=c.value.lastIndexOf("["),z=c.value.slice(0,R),re=c.value.slice(R+2),X=Gi[re];if(X){c.value=z+X,h.backtrack=!0,fe(),!a.output&&i.indexOf(c)===1&&(a.output=F);continue}}}(l==="["&&T()!==":"||l==="-"&&T()==="]")&&(l=`\\${l}`),l==="]"&&(c.value==="["||c.value==="[^")&&(l=`\\${l}`),u.posix===!0&&l==="!"&&c.value==="["&&(l="^"),c.value+=l,At({value:l});continue}if(h.quotes===1&&l!=='"'){l=Q.escapeRegex(l),c.value+=l,At({value:l});continue}if(l==='"'){h.quotes=h.quotes===1?0:1,u.keepQuotes===!0&&O({type:"text",value:l});continue}if(l==="("){Ct("parens"),O({type:"paren",value:l});continue}if(l===")"){if(h.parens===0&&u.strictBrackets===!0)throw new SyntaxError(Xe("opening","("));const C=M[M.length-1];if(C&&h.parens===C.parens+1){es(M.pop());continue}O({type:"paren",value:l,output:h.parens?")":"\\)"}),ke("parens");continue}if(l==="["){if(u.nobracket===!0||!he().includes("]")){if(u.nobracket!==!0&&u.strictBrackets===!0)throw new SyntaxError(Xe("closing","]"));l=`\\${l}`}else Ct("brackets");O({type:"bracket",value:l});continue}if(l==="]"){if(u.nobracket===!0||c&&c.type==="bracket"&&c.value.length===1){O({type:"text",value:l,output:`\\${l}`});continue}if(h.brackets===0){if(u.strictBrackets===!0)throw new SyntaxError(Xe("opening","["));O({type:"text",value:l,output:`\\${l}`});continue}ke("brackets");const C=c.value.slice(1);if(c.posix!==!0&&C[0]==="^"&&!C.includes("/")&&(l=`/${l}`),c.value+=l,At({value:l}),u.literalBrackets===!1||Q.hasRegexChars(C))continue;const R=Q.escapeRegex(c.value);if(h.output=h.output.slice(0,-c.value.length),u.literalBrackets===!0){h.output+=R,c.value=R;continue}c.value=`(${s}${R}|${c.value})`,h.output+=c.value;continue}if(l==="{"&&u.nobrace!==!0){Ct("braces");const C={type:"brace",value:l,output:"(",outputIndex:h.output.length,tokensIndex:h.tokens.length};I.push(C),O(C);continue}if(l==="}"){const C=I[I.length-1];if(u.nobrace===!0||!C){O({type:"text",value:l,output:l});continue}let R=")";if(C.dots===!0){const z=i.slice(),re=[];for(let X=z.length-1;X>=0&&(i.pop(),z[X].type!=="brace");X--)z[X].type!=="dots"&&re.unshift(z[X].value);R=zi(re,u),h.backtrack=!0}if(C.comma!==!0&&C.dots!==!0){const z=h.output.slice(0,C.outputIndex),re=h.tokens.slice(C.tokensIndex);C.value=C.output="\\{",l=R="\\}",h.output=z;for(const X of re)h.output+=X.output||X.value}O({type:"brace",value:l,output:R}),ke("braces"),I.pop();continue}if(l==="|"){M.length>0&&M[M.length-1].conditions++,O({type:"text",value:l});continue}if(l===","){let C=l;const R=I[I.length-1];R&&Be[Be.length-1]==="braces"&&(R.comma=!0,C="|"),O({type:"comma",value:l,output:C});continue}if(l==="/"){if(c.type==="dot"&&h.index===h.start+1){h.start=h.index+1,h.consumed="",h.output="",i.pop(),c=a;continue}O({type:"slash",value:l,output:B});continue}if(l==="."){if(h.braces>0&&c.type==="dot"){c.value==="."&&(c.output=D);const C=I[I.length-1];c.type="dots",c.output+=l,c.value+=l,C.dots=!0;continue}if(h.braces+h.parens===0&&c.type!=="bos"&&c.type!=="slash"){O({type:"text",value:l,output:D});continue}O({type:"dot",value:l,output:D});continue}if(l==="?"){if(!(c&&c.value==="(")&&u.noextglob!==!0&&T()==="("&&T(2)!=="?"){pt("qmark",l);continue}if(c&&c.type==="paren"){const R=T();let z=l;if(R==="<"&&!Q.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(c.value==="("&&!/[!=<:]/.test(R)||R==="<"&&!/<([!=]|\w+>)/.test(he()))&&(z=`\\${l}`),O({type:"text",value:l,output:z});continue}if(u.dot!==!0&&(c.type==="slash"||c.type==="bos")){O({type:"qmark",value:l,output:P});continue}O({type:"qmark",value:l,output:m});continue}if(l==="!"){if(u.noextglob!==!0&&T()==="("&&(T(2)!=="?"||!/[!=<:]/.test(T(3)))){pt("negate",l);continue}if(u.nonegate!==!0&&h.index===0){Yi();continue}}if(l==="+"){if(u.noextglob!==!0&&T()==="("&&T(2)!=="?"){pt("plus",l);continue}if(c&&c.value==="("||u.regex===!1){O({type:"plus",value:l,output:y});continue}if(c&&(c.type==="bracket"||c.type==="paren"||c.type==="brace")||h.parens>0){O({type:"plus",value:l});continue}O({type:"plus",value:y});continue}if(l==="@"){if(u.noextglob!==!0&&T()==="("&&T(2)!=="?"){O({type:"at",extglob:!0,value:l,output:""});continue}O({type:"text",value:l});continue}if(l!=="*"){(l==="$"||l==="^")&&(l=`\\${l}`);const C=Ki.exec(he());C&&(l+=C[0],h.index+=C[0].length),O({type:"text",value:l});continue}if(c&&(c.type==="globstar"||c.star===!0)){c.type="star",c.star=!0,c.value+=l,c.output=Z,h.backtrack=!0,h.globstar=!0,ae(l);continue}let E=he();if(u.noextglob!==!0&&/^\([^?]/.test(E)){pt("star",l);continue}if(c.type==="star"){if(u.noglobstar===!0){ae(l);continue}const C=c.prev,R=C.prev,z=C.type==="slash"||C.type==="bos",re=R&&(R.type==="star"||R.type==="globstar");if(u.bash===!0&&(!z||E[0]&&E[0]!=="/")){O({type:"star",value:l,output:""});continue}const X=h.braces>0&&(C.type==="comma"||C.type==="brace"),iu=M.length&&(C.type==="pipe"||C.type==="paren");if(!z&&C.type!=="paren"&&!X&&!iu){O({type:"star",value:l,output:""});continue}for(;E.slice(0,3)==="/**";){const Et=t[h.index+4];if(Et&&Et!=="/")break;E=E.slice(3),ae("/**",3)}if(C.type==="bos"&&ue()){c.type="globstar",c.value+=l,c.output=te(u),h.output=c.output,h.globstar=!0,ae(l);continue}if(C.type==="slash"&&C.prev.type!=="bos"&&!re&&ue()){h.output=h.output.slice(0,-(C.output+c.output).length),C.output=`(?:${C.output}`,c.type="globstar",c.output=te(u)+(u.strictSlashes?")":"|$)"),c.value+=l,h.globstar=!0,h.output+=C.output+c.output,ae(l);continue}if(C.type==="slash"&&C.prev.type!=="bos"&&E[0]==="/"){const Et=E[1]!==void 0?"|$":"";h.output=h.output.slice(0,-(C.output+c.output).length),C.output=`(?:${C.output}`,c.type="globstar",c.output=`${te(u)}${B}|${B}${Et})`,c.value+=l,h.output+=C.output+c.output,h.globstar=!0,ae(l+fe()),O({type:"slash",value:"/",output:""});continue}if(C.type==="bos"&&E[0]==="/"){c.type="globstar",c.value+=l,c.output=`(?:^|${B}|${te(u)}${B})`,h.output=c.output,h.globstar=!0,ae(l+fe()),O({type:"slash",value:"/",output:""});continue}h.output=h.output.slice(0,-c.output.length),c.type="globstar",c.output=te(u),c.value+=l,h.output+=c.output,h.globstar=!0,ae(l);continue}const N={type:"star",value:l,output:Z};if(u.bash===!0){N.output=".*?",(c.type==="bos"||c.type==="slash")&&(N.output=v+N.output),O(N);continue}if(c&&(c.type==="bracket"||c.type==="paren")&&u.regex===!0){N.output=l,O(N);continue}(h.index===h.start||c.type==="slash"||c.type==="dot")&&(c.type==="dot"?(h.output+=g,c.output+=g):u.dot===!0?(h.output+=_,c.output+=_):(h.output+=v,c.output+=v),T()!=="*"&&(h.output+=F,c.output+=F)),O(N)}for(;h.brackets>0;){if(u.strictBrackets===!0)throw new SyntaxError(Xe("closing","]"));h.output=Q.escapeLast(h.output,"["),ke("brackets")}for(;h.parens>0;){if(u.strictBrackets===!0)throw new SyntaxError(Xe("closing",")"));h.output=Q.escapeLast(h.output,"("),ke("parens")}for(;h.braces>0;){if(u.strictBrackets===!0)throw new SyntaxError(Xe("closing","}"));h.output=Q.escapeLast(h.output,"{"),ke("braces")}if(u.strictSlashes!==!0&&(c.type==="star"||c.type==="bracket")&&O({type:"maybe_slash",value:"",output:`${B}?`}),h.backtrack===!0){h.output="";for(const E of h.tokens)h.output+=E.output!=null?E.output:E.value,E.suffix&&(h.output+=E.suffix)}return h};Ar.fastpaths=(t,e)=>{const u=Ke({},e),r=typeof u.maxLength=="number"?Math.min(dt,u.maxLength):dt,n=t.length;if(n>r)throw new SyntaxError(`Input length: ${n}, exceeds maximum allowed length: ${r}`);t=dr[t]||t;const a=Q.isWindows(e),{DOT_LITERAL:i,SLASH_LITERAL:s,ONE_CHAR:o,DOTS_SLASH:A,NO_DOT:d,NO_DOTS:D,NO_DOTS_SLASH:y,STAR:B,START_ANCHOR:F}=Te.globChars(a),p=u.dot?D:d,S=u.dot?y:d,g=u.capture?"":"?:",_={negated:!1,prefix:""};let m=u.bash===!0?".*?":B;u.capture&&(m=`(${m})`);const P=v=>v.noglobstar===!0?m:`(${g}(?:(?!${F}${v.dot?A:i}).)*?)`,x=v=>{switch(v){case"*":return`${p}${o}${m}`;case".*":return`${i}${o}${m}`;case"*.*":return`${p}${m}${i}${o}${m}`;case"*/*":return`${p}${m}${s}${o}${S}${m}`;case"**":return p+P(u);case"**/*":return`(?:${p}${P(u)}${s})?${S}${o}${m}`;case"**/*.*":return`(?:${p}${P(u)}${s})?${S}${m}${i}${o}${m}`;case"**/.*":return`(?:${p}${P(u)}${s})?${i}${o}${m}`;default:{const k=/^(.*?)\.(\w+)$/.exec(v);if(!k)return;const Z=x(k[1]);return Z?Z+i+k[2]:void 0}}},ee=Q.removePrefix(t,_);let te=x(ee);return te&&u.strictSlashes!==!0&&(te+=`${s}?`),te};var ru=Ar;const Vi=t=>t&&typeof t=="object"&&!Array.isArray(t),U=(t,e,u=!1)=>{if(Array.isArray(t)){const d=t.map(y=>U(y,e,u));return y=>{for(const B of d){const F=B(y);if(F)return F}return!1}}const r=Vi(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!r)throw new TypeError("Expected pattern to be a non-empty string");const n=e||{},a=Q.isWindows(e),i=r?U.compileRe(t,e):U.makeRe(t,e,!1,!0),s=i.state;delete i.state;let o=()=>!1;if(n.ignore){const d=lt(Ke({},e),{ignore:null,onMatch:null,onResult:null});o=U(n.ignore,d,u)}const A=(d,D=!1)=>{const{isMatch:y,match:B,output:F}=U.test(d,i,e,{glob:t,posix:a}),p={glob:t,state:s,regex:i,posix:a,input:d,output:F,match:B,isMatch:y};return typeof n.onResult=="function"&&n.onResult(p),y===!1?(p.isMatch=!1,D?p:!1):o(d)?(typeof n.onIgnore=="function"&&n.onIgnore(p),p.isMatch=!1,D?p:!1):(typeof n.onMatch=="function"&&n.onMatch(p),D?p:!0)};return u&&(A.state=s),A};U.test=(t,e,u,{glob:r,posix:n}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};const a=u||{},i=a.format||(n?Q.toPosixSlashes:null);let s=t===r,o=s&&i?i(t):t;return s===!1&&(o=i?i(t):t,s=o===r),(s===!1||a.capture===!0)&&(a.matchBase===!0||a.basename===!0?s=U.matchBase(t,e,u,n):s=e.exec(o)),{isMatch:Boolean(s),match:s,output:o}},U.matchBase=(t,e,u,r=Q.isWindows(u))=>(e instanceof RegExp?e:U.makeRe(e,u)).test(Jt.basename(t)),U.isMatch=(t,e,u)=>U(e,u)(t),U.parse=(t,e)=>Array.isArray(t)?t.map(u=>U.parse(u,e)):ru(t,lt(Ke({},e),{fastpaths:!1})),U.scan=(t,e)=>Wi(t,e),U.compileRe=(t,e,u=!1,r=!1)=>{if(u===!0)return t.output;const n=e||{},a=n.contains?"":"^",i=n.contains?"":"$";let s=`${a}(?:${t.output})${i}`;t&&t.negated===!0&&(s=`^(?!${s}).*$`);const o=U.toRegex(s,e);return r===!0&&(o.state=t),o},U.makeRe=(t,e={},u=!1,r=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let n={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(n.output=ru.fastpaths(t,e)),n.output||(n=ru(t,e)),U.compileRe(n,e,u,r)},U.toRegex=(t,e)=>{try{const u=e||{};return new RegExp(t,u.flags||(u.nocase?"i":""))}catch(u){if(e&&e.debug===!0)throw u;return/$^/}},U.constants=Te;var Xi=U,Ji=Xi;function Cr(t,e){return Array.isArray(e)?e.some(u=>Cr(t,u)):Ji(e)(t)}new TextEncoder;const pr={behaviorPack:"./BP",resourcePack:"./RP",skinPack:"./SP",worldTemplate:"./WT"};class Qi{constructor(e){this.basePath=e,this.data={}}async refreshConfig(){this.data=await this.readConfig()}async setup(){await this.refreshConfig()}get(){return this.data}getRelativePackRoot(e){var u,r;return(r=(u=this.data.packs)==null?void 0:u[e])!=null?r:pr[e]}getAbsolutePackRoot(e){return this.resolvePackPath(e)}resolvePackPath(e,u){return!u&&!e?this.basePath:!e&&u?Ee.join(this.basePath,u):!u&&e?Ee.resolve(this.basePath,this.getRelativePackRoot(e)):Ee.resolve(this.basePath,`${this.getRelativePackRoot(e)}/${u}`)}getAvailablePackPaths(){var e;const u=[];for(const r of Object.keys((e=this.data.packs)!=null?e:{}))u.push(this.resolvePackPath(r));return u}getAvailablePacks(){var e;const u={};for(const r in(e=this.data.packs)!=null?e:{})u[r]=this.resolvePackPath(r);return u}async save(){await this.writeConfig(this.data)}}class qi extends Qi{constructor(e,u,r){super(u);this.fileSystem=e,this.project=r,r&&r.fileSave.on(this.resolvePackPath(void 0,"config.json"),()=>{this.refreshConfig(),this.project.app.windows.createPreset.onPresetsChanged(),this.project.compilerService.reloadPlugins()})}readConfig(){return this.fileSystem.readJSON("config.json").catch(()=>({}))}async writeConfig(e){await this.fileSystem.writeJSON("config.json",e,!0)}async setup(e=!0){var a,i,s,o,A,d,D;if(e&&await this.fileSystem.fileExists(".bridge/config.json")){const n=await this.fileSystem.readJSON(".bridge/config.json"),{darkTheme:y,lightTheme:B,gameTestAPI:F,scriptingAPI:p,prefix:S}=n,g=wr(n,["darkTheme","lightTheme","gameTestAPI","scriptingAPI","prefix"]);await this.fileSystem.unlink(".bridge/config.json");const _={};F&&(_.enableGameTestFramework=!0),p&&(_.additionalModdingCapabilities=!0);const m=vr(mr({type:"minecraftBedrock",name:this.fileSystem.baseDirectory.name,namespace:S,experimentalGameplay:_},g),{authors:g.author?[g.author]:["Unknown"],packs:pr,bridge:{darkTheme:y,lightTheme:B}});await this.fileSystem.writeJSON("config.json",m,!0),this.data=m;return}await super.setup();const u=(i=(a=this.data.bridge)==null?void 0:a.formatVersion)!=null?i:0;this.data.bridge||(this.data.bridge={});let r=!1;if(e&&this.project&&this.data.capabilities){const y=await this.project.app.dataLoader.readJSON("data/packages/minecraftBedrock/experimentalGameplay.json"),B=(s=this.data.experimentalGameplay)!=null?s:{},F=(o=this.data.capabilities)!=null?o:[];B.enableGameTestFramework=F.includes("gameTestAPI"),B.additionalModdingCapabilities=F.includes("scriptingAPI");for(const p of y)(d=B[A=p.id])!=null||(B[A]=!0);this.data.experimentalGameplay=B,this.data.capabilities=void 0,r=!0}if(e&&this.data.author&&!this.data.authors&&(this.data.authors=typeof this.data.author=="string"?[this.data.author]:this.data.author,this.data.author=void 0,r=!0),e&&await this.fileSystem.fileExists(".bridge/compiler/default.json")){const y=await this.fileSystem.readJSON(".bridge/compiler/default.json");this.data.compiler={plugins:y.plugins},await this.fileSystem.unlink(".bridge/compiler/default.json"),r=!0}e&&u===0&&((D=this.data.compiler)==null?void 0:D.plugins)&&!this.data.compiler.plugins.includes("formatVersionCorrection")&&(this.data.bridge.formatVersion=1,this.data.compiler.plugins.push("formatVersionCorrection"),r=!0),r&&await this.writeConfig(this.data)}async getWorldHandles(){var r;if(!this.project)throw new Error("Cannot use getWorldHandles() within web workers yet");const e=this.project.app,u=((r=this.get().worlds)!=null?r:["./worlds/*"]).map(n=>this.resolvePackPath(void 0,n));return(await Promise.all(u.map(n=>e.fileSystem.getDirectoryHandlesFromGlob(n)))).flat()}getAuthorImage(){var u;const e=(u=this.get().authors)==null?void 0:u.find(r=>typeof r!="string"&&r.logo);if(!!e)return this.resolvePackPath(void 0,e.logo)}}globalThis.process={cwd:()=>"",env:{}};const Er=new Set([".js",".ts",".lang",".mcfunction",".txt",".molang",".json",".html"]),Fr=new Set([".bridge","builds",".git s"]),nu=100;class Zi{constructor(e,u){j(this,"fileSystem");j(this,"matchedFiles",new Set);j(this,"config");this.projectFolderHandle=e,this.projectPath=u,this.fileSystem=new Gt(e),this.config=new qi(this.fileSystem,u)}setMatchedFiles(e){const u=this.matchedFiles;return this.matchedFiles=new Set(e),[...u]}matchFolder(e,u,r){if(u===""&&r==="")return!0;let n=u.length===0?!0:void 0,a=r.length===0?!0:void 0,i=u.replaceAll(" ","").split(","),s=r.replaceAll(" ","").split(",");const o={BP:"behaviorPack",RP:"resourcePack",SP:"skinPack",WT:"worldTemplate"};for(const d of Object.keys(o))i=i.map(D=>D.replace(d,ju(this.config.getRelativePackRoot(o[d])))),s=s.map(D=>D.replace(d,ju(this.config.getRelativePackRoot(o[d]))));const A=(d,D)=>D.includes("*")?Cr(d,D):d.startsWith(D);return n!=null||(n=i.some(d=>A(e,d))),a!=null||(a=!s.some(d=>A(e,d))),n&&a}async createQuery(e,{searchType:u,includeFiles:r,excludeFiles:n}){if(this.matchedFiles.clear(),e==="")return[];const a=[],i=Gu(e,u);return i?(await this.iterateProject(i,a,r,n),a):[]}async executeQuery(e,u,{searchType:r}){if(e==="")return[];const n=Gu(e,r);if(!n)return[];await this.replaceAll(n,u)}async iterateProject(e,u,r,n){await tt(this.projectFolderHandle,async(a,i)=>{const s=Mu(i);if(!Er.has(s)||!this.matchFolder(i,r,n))return;const o=[],A=await a.getFile().then(D=>D.text());e.lastIndex=0;let d=e.exec(A);for(;d!==null;){let D=d.index-nu/2,y=nu/2;D<0&&(y=y+D,D=0),o.push({isStartOfFile:D===0,beforeMatch:A.substr(D,y),match:d[0],afterMatch:A.substr(d.index+d[0].length,nu/2)}),d=e.exec(A)}if(o.length>0){const D=Wt(this.projectPath,i);this.matchedFiles.add(D),u.push({filePath:D,matches:o})}},Fr)}async replaceAll(e,u){await tt(this.projectFolderHandle,async(r,n)=>{const a=Mu(n);if(!Er.has(a)||!this.matchedFiles.has(Wt(this.projectPath,n)))return;const i=await r.getFile().then(o=>o.text()),s=jn(i,e,u);i!==s&&await this.fileSystem.write(r,s)},Fr)}async replaceInFile(e,u){}}gt(Zi)})();
