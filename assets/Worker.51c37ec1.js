(function(){"use strict";const cu=Symbol("Comlink.proxy"),Ft=Symbol("Comlink.endpoint"),Et=Symbol("Comlink.releaseProxy"),He=Symbol("Comlink.thrown"),lu=u=>typeof u=="object"&&u!==null||typeof u=="function",pt={canHandle:u=>lu(u)&&u[cu],serialize(u){const{port1:e,port2:t}=new MessageChannel;return $e(u,e),[t,[t]]},deserialize(u){return u.start(),mt(u)}},gt={canHandle:u=>lu(u)&&He in u,serialize({value:u}){let e;return u instanceof Error?e={isError:!0,value:{message:u.message,name:u.name,stack:u.stack}}:e={isError:!1,value:u},[e,[]]},deserialize(u){throw u.isError?Object.assign(new Error(u.value.message),u.value):u.value}},ne=new Map([["proxy",pt],["throw",gt]]);function $e(u,e=self){e.addEventListener("message",function t(r){if(!r||!r.data)return;const{id:n,type:s,path:i}=Object.assign({path:[]},r.data),a=(r.data.argumentList||[]).map(Q);let D;try{const f=i.slice(0,-1).reduce((c,E)=>c[E],u),l=i.reduce((c,E)=>c[E],u);switch(s){case 0:D=l;break;case 1:f[i.slice(-1)[0]]=Q(r.data.value),D=!0;break;case 2:D=l.apply(f,a);break;case 3:{const c=new l(...a);D=vt(c)}break;case 4:{const{port1:c,port2:E}=new MessageChannel;$e(u,E),D=Bt(c,[c])}break;case 5:D=void 0;break}}catch(f){D={value:f,[He]:0}}Promise.resolve(D).catch(f=>({value:f,[He]:0})).then(f=>{const[l,c]=ke(f);e.postMessage(Object.assign(Object.assign({},l),{id:n}),c),s===5&&(e.removeEventListener("message",t),fu(e))})}),e.start&&e.start()}function yt(u){return u.constructor.name==="MessagePort"}function fu(u){yt(u)&&u.close()}function mt(u,e){return Te(u,[],e)}function we(u){if(u)throw new Error("Proxy has been released and is not useable")}function Te(u,e=[],t=function(){}){let r=!1;const n=new Proxy(t,{get(s,i){if(we(r),i===Et)return()=>ie(u,{type:5,path:e.map(a=>a.toString())}).then(()=>{fu(u),r=!0});if(i==="then"){if(e.length===0)return{then:()=>n};const a=ie(u,{type:0,path:e.map(D=>D.toString())}).then(Q);return a.then.bind(a)}return Te(u,[...e,i])},set(s,i,a){we(r);const[D,f]=ke(a);return ie(u,{type:1,path:[...e,i].map(l=>l.toString()),value:D},f).then(Q)},apply(s,i,a){we(r);const D=e[e.length-1];if(D===Ft)return ie(u,{type:4}).then(Q);if(D==="bind")return Te(u,e.slice(0,-1));const[f,l]=Au(a);return ie(u,{type:2,path:e.map(c=>c.toString()),argumentList:f},l).then(Q)},construct(s,i){we(r);const[a,D]=Au(i);return ie(u,{type:3,path:e.map(f=>f.toString()),argumentList:a},D).then(Q)}});return n}function wt(u){return Array.prototype.concat.apply([],u)}function Au(u){const e=u.map(ke);return[e.map(t=>t[0]),wt(e.map(t=>t[1]))]}const Cu=new WeakMap;function Bt(u,e){return Cu.set(u,e),u}function vt(u){return Object.assign(u,{[cu]:!0})}function ke(u){for(const[e,t]of ne)if(t.canHandle(u)){const[r,n]=t.serialize(u);return[{type:3,name:e,value:r},n]}return[{type:0,value:u},Cu.get(u)||[]]}function Q(u){switch(u.type){case 3:return ne.get(u.name).deserialize(u.value);case 0:return u.value}}function ie(u,e,t){return new Promise(r=>{const n=bt();u.addEventListener("message",function s(i){!i.data||!i.data.id||i.data.id!==n||(u.removeEventListener("message",s),r(i.data))}),u.start&&u.start(),u.postMessage(Object.assign({id:n},e),t)})}function bt(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var Be,_t=new Uint8Array(16);function St(){if(!Be&&(Be=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Be))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Be(_t)}var Rt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Pt(u){return typeof u=="string"&&Rt.test(u)}for(var P=[],Ie=0;Ie<256;++Ie)P.push((Ie+256).toString(16).substr(1));function xt(u){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(P[u[e+0]]+P[u[e+1]]+P[u[e+2]]+P[u[e+3]]+"-"+P[u[e+4]]+P[u[e+5]]+"-"+P[u[e+6]]+P[u[e+7]]+"-"+P[u[e+8]]+P[u[e+9]]+"-"+P[u[e+10]]+P[u[e+11]]+P[u[e+12]]+P[u[e+13]]+P[u[e+14]]+P[u[e+15]]).toLowerCase();if(!Pt(t))throw TypeError("Stringified UUID is invalid");return t}function Ot(u,e,t){u=u||{};var r=u.random||(u.rng||St)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var n=0;n<16;++n)e[t+n]=r[n];return e}return xt(r)}class Ht{constructor(){this.listeners=new Set}get hasListeners(){return this.listeners.size>0}dispatch(e){this.listeners.forEach(t=>t(e))}on(e,t=!0){if(this.listeners.add(e),t)return{dispose:()=>{this.off(e)}}}off(e){this.listeners.delete(e)}once(e,t=!1){const r=n=>{e(n),this.off(r)};return this.on(r,t)}disposeListeners(){this.listeners=new Set}}class hu extends Ht{constructor(e=1){super(),this.needsToFireAmount=e,this.firedTimes=0}get fired(){return new Promise(e=>this.once(e,!1))}get hasFired(){return this.firedTimes>=this.needsToFireAmount}setFiredTimes(e){this.firedTimes=e}resetSignal(){this.data=void 0,this.firedTimes=0}dispatch(e){if(this.firedTimes<this.needsToFireAmount&&this.firedTimes++,this.data=e,this.hasFired)return super.dispatch(e)}on(e,t=!0){return this.hasFired&&e(this.data),super.on(e,t)}}function $t(){if(!(!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent))||!indexedDB.databases)return Promise.resolve();let e;return new Promise(t=>{const r=()=>indexedDB.databases().finally(t);e=setInterval(r,100),r()}).finally(()=>clearInterval(e))}function U(u){return new Promise((e,t)=>{u.oncomplete=u.onsuccess=()=>e(u.result),u.onabort=u.onerror=()=>t(u.error)})}function Ne(u,e){const t=$t().then(()=>{const r=indexedDB.open(u);return r.onupgradeneeded=()=>r.result.createObjectStore(e),U(r)});return(r,n)=>t.then(s=>n(s.transaction(e,r).objectStore(e)))}let Le;function Z(){return Le||(Le=Ne("keyval-store","keyval")),Le}function du(u,e=Z()){return e("readonly",t=>U(t.get(u)))}function Tt(u,e,t=Z()){return t("readwrite",r=>(r.put(e,u),U(r.transaction)))}function kt(u,e=Z()){return e("readwrite",t=>(u.forEach(r=>t.put(r[1],r[0])),U(t.transaction)))}function It(u,e=Z()){return e("readonly",t=>Promise.all(u.map(r=>U(t.get(r)))))}function Nt(u,e=Z()){return e("readwrite",t=>(t.delete(u),U(t.transaction)))}function Lt(u=Z()){return u("readwrite",e=>(e.clear(),U(e.transaction)))}function Mt(u,e){return u("readonly",t=>(t.openCursor().onsuccess=function(){!this.result||(e(this.result),this.result.continue())},U(t.transaction)))}function jt(u=Z()){const e=[];return Mt(u,t=>e.push(t.key)).then(()=>e)}const Wt=Ne("virtual-fs","virtual-fs-store"),zt=u=>du(u,Wt);class ve{constructor(e="virtual-fs"){this.storeName=e,this.store=Ne(e,`${e}-store`)}set(e,t){return Tt(e,t,this.store)}get(e){return du(e,this.store)}del(e){return Nt(e,this.store)}setMany(e){return kt(e,this.store)}getMany(e){return It(e,this.store)}clear(){return Lt(this.store)}async has(e){return await zt(e)!==void 0}keys(){return jt(this.store)}}class Fu{constructor(e,t,r=[],n=Ot()){this._name=t,this.basePath=r,this.uuid=n,this._idbWrapper=null,this.parent=null,this.isVirtual=!0,this.setupDone=new hu,e===null?this._idbWrapper=new ve:e instanceof ve?this._idbWrapper=e:this.parent=e}get path(){return this.parent?this.parent.path.concat(this.name):this.basePath}get hasParentContext(){return this.path.length>1}get idbKey(){return this.path.length===0?this._name:this.path.join("/")}get idbWrapper(){return this._idbWrapper===null?this.parent.idbWrapper:this._idbWrapper}get name(){return this._name}getParent(){return this.parent}async isSameEntry(e){return e.idbKey===this.idbKey}async queryPermission(e){return"granted"}async requestPermission(e){return"granted"}}const Kt=new TextEncoder,Eu=Symbol("writeMethod");class Vt{constructor(e){this.fileHandle=e,this.tmpData=new Uint8Array,this.cursorOffset=0,this.locked=!1}async write(e){let t;if(typeof e=="string")t=Kt.encode(e);else if(e instanceof Blob)t=await e.arrayBuffer().then(r=>new Uint8Array(r));else if("type"in e){if(e.type==="seek")return await this.seek(e.position);if(e.type==="truncate")return await this.truncate(e.size);if(e.type==="write")return e.position&&await this.seek(e.position),await this.write(e.data);throw new Error(`Unknown data type: ${e.type}`)}else ArrayBuffer.isView(e)?t=new Uint8Array(e.buffer):t=new Uint8Array(e);this.tmpData=new Uint8Array([...this.tmpData.slice(0,this.cursorOffset),...t]),this.cursorOffset=this.tmpData.length}async seek(e){this.cursorOffset=Math.floor(e)}async truncate(e){this.tmpData=this.tmpData.slice(0,e),this.cursorOffset>e&&(this.cursorOffset=e)}async close(){await this.fileHandle[Eu](this.tmpData)}async abort(){throw new Error("WriteStream was aborted")}getWriter(){}}var Ut=function(u){return Object.prototype.toString.call(u)};function pu(u){return typeof u=="function"&&/native code/.test(u.toString())}var Gt=typeof Symbol<"u"&&pu(Symbol)&&typeof Reflect<"u"&&pu(Reflect.ownKeys),se=function(u){return u};function O(u,e,t){var r=t.get,n=t.set;Object.defineProperty(u,e,{enumerable:!0,configurable:!0,get:r||se,set:n||se})}function Me(u,e,t,r){Object.defineProperty(u,e,{value:t,enumerable:!!r,writable:!0,configurable:!0})}function ae(u,e){return Object.hasOwnProperty.call(u,e)}function oe(u){return Array.isArray(u)}function gu(u){return u!==null&&typeof u=="object"}function k(u){return Ut(u)==="[object Object]"}function q(u){return typeof u=="function"}/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var je=function(u,e){return je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])},je(u,e)};function Jt(u,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");je(u,e);function t(){this.constructor=u}u.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function yu(u){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&u[e],r=0;if(t)return t.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&r>=u.length&&(u=void 0),{value:u&&u[r++],done:!u}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var We,be=[],mu=function(){function u(e){this.active=!0,this.effects=[],this.cleanups=[],this.vm=e}return u.prototype.run=function(e){if(this.active)try{return this.on(),e()}finally{this.off()}},u.prototype.on=function(){this.active&&(be.push(this),We=this)},u.prototype.off=function(){this.active&&(be.pop(),We=be[be.length-1])},u.prototype.stop=function(){this.active&&(this.vm.$destroy(),this.effects.forEach(function(e){return e.stop()}),this.cleanups.forEach(function(e){return e()}),this.active=!1)},u}();(function(u){Jt(e,u);function e(t){t===void 0&&(t=!1);var r=this,n=void 0;return er(function(){n=_u(Ve())}),r=u.call(this,n)||this,t||Xt(r),r}return e})(mu);function Xt(u,e){var t;if(e=e||We,e&&e.active){e.effects.push(u);return}var r=(t=bu())===null||t===void 0?void 0:t.proxy;r&&r.$on("hook:destroyed",function(){return u.stop()})}function Qt(u){if(!u.scope){var e=new mu(u.proxy);u.scope=e,u.proxy.$on("hook:destroyed",function(){return e.stop()})}return u.scope}var ze=void 0;try{var Y=require("vue");Y&&Bu(Y)?ze=Y:Y&&"default"in Y&&Bu(Y.default)&&(ze=Y.default)}catch{}var Ke=null,De=null,Fe=!0,wu="__composition_api_installed__";function Bu(u){return u&&q(u)&&u.name==="Vue"}function Zt(u){return ae(u,wu)}function Ve(){return Ke}function qt(){var u=Ke||ze;return u}function Yt(u){Ke=u,Object.defineProperty(u,wu,{configurable:!0,writable:!0,value:!0})}function er(u){var e=Fe;Fe=!1;try{u()}finally{Fe=e}}function ur(u){!Fe||vu(u&&Ge(u))}function vu(u){if(!!Fe){var e=De;e==null||e.scope.off(),De=u,De==null||De.scope.on()}}function bu(){return De}var Ue=new WeakMap;function Ge(u){if(Ue.has(u))return Ue.get(u);var e={proxy:u,update:u.$forceUpdate,uid:u._uid,emit:u.$emit.bind(u),parent:null,root:null};Qt(e);var t=["data","props","attrs","refs","vnode","slots"];return t.forEach(function(r){O(e,r,{get:function(){return u["$"+r]}})}),O(e,"isMounted",{get:function(){return u._isMounted}}),O(e,"isUnmounted",{get:function(){return u._isDestroyed}}),O(e,"isDeactivated",{get:function(){return u._inactive}}),O(e,"emitted",{get:function(){return u._events}}),Ue.set(u,e),u.$parent&&(e.parent=Ge(u.$parent)),u.$root&&(e.root=Ge(u.$root)),e}function _u(u,e){e===void 0&&(e={});var t=u.config.silent;u.config.silent=!0;var r=new u(e);return u.config.silent=t,r}function tr(u){var e=Ve();return e&&u instanceof e}function rr(u,e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(!!u.$scopedSlots[e])return u.$scopedSlots[e].apply(u,t)}}function nr(u,e){var t;if(!u)t={};else{if(u._normalized)return u._normalized;t={};for(var r in u)u[r]&&r[0]!=="$"&&(t[r]=!0)}for(var r in e)r in t||(t[r]=!0);return t}var Ee="composition-api.refKey",Su=new WeakMap,ir=new WeakMap,sr=new WeakMap,Ru=function(){function u(e){var t=e.get,r=e.set;O(this,"value",{get:t,set:r})}return u}();function Pu(u,e){var t=new Ru(u),r=Object.seal(t);return sr.set(r,!0),r}function xu(u){var e;if(H(u))return u;var t=Tu((e={},e[Ee]=u,e));return Pu({get:function(){return t[Ee]},set:function(r){return t[Ee]=r}})}function H(u){return u instanceof Ru}function ar(u){if(!k(u))return u;var e={};for(var t in u)e[t]=or(u,t);return e}function or(u,e){var t=u[e];return H(t)?t:Pu({get:function(){return u[e]},set:function(r){return u[e]=r}})}function ce(u){var e;return Boolean(u&&ae(u,"__ob__")&&typeof u.__ob__=="object"&&((e=u.__ob__)===null||e===void 0?void 0:e.__raw__))}function pe(u){var e;return Boolean(u&&ae(u,"__ob__")&&typeof u.__ob__=="object"&&!(!((e=u.__ob__)===null||e===void 0)&&e.__raw__))}function Je(u){if(!(!k(u)||ce(u)||oe(u)||H(u)||tr(u)||Su.has(u))){Su.set(u,!0);for(var e=Object.keys(u),t=0;t<e.length;t++)Dr(u,e[t])}}function Dr(u,e,t){if(e!=="__ob__"&&!ce(u[e])){var r,n,s=Object.getOwnPropertyDescriptor(u,e);if(s){if(s.configurable===!1)return;r=s.get,n=s.set,(!r||n)&&arguments.length===2&&(t=u[e])}Je(t),O(u,e,{get:function(){var a=r?r.call(u):t;return e!==Ee&&H(a)?a.value:a},set:function(a){if(!(r&&!n)){var D=r?r.call(u):t;e!==Ee&&H(D)&&!H(a)?D.value=a:n?n.call(u,a):t=a,Je(a)}}})}}function Ou(u){var e=qt(),t;if(e.observable)t=e.observable(u);else{var r=_u(e,{data:{$$state:u}});t=r._data.$$state}return ae(t,"__ob__")||Hu(t),t}function Hu(u,e){var t,r;if(e===void 0&&(e=new Set),!e.has(u)){Me(u,"__ob__",cr(u)),e.add(u);try{for(var n=yu(Object.keys(u)),s=n.next();!s.done;s=n.next()){var i=s.value,a=u[i];!(k(a)||oe(a))||ce(a)||!Object.isExtensible(a)||Hu(a,e)}}catch(D){t={error:D}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}}}function cr(u){return u===void 0&&(u={}),{value:u,dep:{notify:se,depend:se,addSub:se,removeSub:se}}}function $u(){return Ou({}).__ob__}function Tu(u){if(!gu(u)||!(k(u)||oe(u))||ce(u)||!Object.isExtensible(u))return u;var e=Ou(u);return Je(e),e}function lr(u){if(!(k(u)||oe(u))||!Object.isExtensible(u))return u;var e=$u();return e.__raw__=!0,Me(u,"__ob__",e),ir.set(u,!0),u}function fr(u,e,t){var r=u.__composition_api_state__=u.__composition_api_state__||{};r[e]=t}function Ar(u,e){return(u.__composition_api_state__||{})[e]}var le={set:fr,get:Ar};function Cr(u,e,t){var r=u.$options.props;!(e in u)&&!(r&&ae(r,e))&&(H(t)?O(u,e,{get:function(){return t.value},set:function(n){t.value=n}}):O(u,e,{get:function(){return pe(t)&&t.__ob__.dep.depend(),t},set:function(n){t=n}}))}function Xe(u){var e=le.get(u,"rawBindings")||{};if(!(!e||!Object.keys(e).length)){for(var t=u.$refs,r=le.get(u,"refs")||[],n=0;n<r.length;n++){var s=r[n],i=e[s];!t[s]&&i&&H(i)&&(i.value=null)}for(var a=Object.keys(t),D=[],n=0;n<a.length;n++){var s=a[n],i=e[s];t[s]&&i&&H(i)&&(i.value=t[s],D.push(s))}le.set(u,"refs",D)}}function ku(u,e){var t=u.$options._parentVnode;if(!!t){for(var r=le.get(u,"slots")||[],n=nr(t.data.scopedSlots,u.$slots),s=0;s<r.length;s++){var i=r[s];n[i]||delete e[i]}for(var a=Object.keys(n),s=0;s<a.length;s++){var i=a[s];e[i]||(e[i]=rr(u,i))}le.set(u,"slots",a)}}function Qe(u,e,t){var r=bu();ur(u);try{return e(u)}catch(n){if(t)t(n);else throw n}finally{vu(r)}}function hr(u){u.mixin({beforeCreate:e,mounted:function(){Xe(this)},updated:function(){var i;Xe(this),!((i=this.$vnode)===null||i===void 0)&&i.context&&Xe(this.$vnode.context)}});function e(){var i=this,a=i.$options,D=a.setup,f=a.render;if(f&&(a.render=function(){for(var c=this,E=[],B=0;B<arguments.length;B++)E[B]=arguments[B];return Qe(i,function(){return f.apply(c,E)})}),!!D&&!!q(D)){var l=a.data;a.data=function(){return t(i,i.$props),q(l)?l.call(i,i):l||{}}}}function t(i,a){a===void 0&&(a={});var D=i.$options.setup,f=s(i);Me(a,"__ob__",$u()),ku(i,f.slots);var l;if(Qe(i,function(){l=D(a,f)}),!!l){if(q(l)){var c=l;i.$options.render=function(){return ku(i,f.slots),Qe(i,function(){return c()})};return}else if(k(l)){pe(l)&&(l=ar(l)),le.set(i,"rawBindings",l);var E=l;Object.keys(E).forEach(function(B){var p=E[B];if(!H(p))if(pe(p))oe(p)&&(p=xu(p));else if(q(p)){var C=p;p=p.bind(i),Object.keys(C).forEach(function(g){p[g]=C[g]})}else gu(p)?n(p)&&r(p):p=xu(p);Cr(i,B,p)});return}}}function r(i,a){if(a===void 0&&(a=new Set),!a.has(i)&&!(!k(i)||H(i)||pe(i)||ce(i))){var D=Ve(),f=D.util.defineReactive;Object.keys(i).forEach(function(l){var c=i[l];f(i,l,c),c&&(a.add(c),r(c,a))})}}function n(i,a){return a===void 0&&(a=new Map),a.has(i)?a.get(i):(a.set(i,!1),oe(i)&&pe(i)?(a.set(i,!0),!0):!k(i)||ce(i)?!1:Object.keys(i).some(function(D){return n(i[D],a)}))}function s(i){var a={slots:{}},D=["root","parent","refs","listeners","isServer","ssrContext"],f=["attrs"],l=["emit"];return D.forEach(function(c){var E="$"+c;O(a,c,{get:function(){return i[E]},set:function(){}})}),f.forEach(function(c){var E="$"+c;O(a,c,{get:function(){var B,p,C=Tu({}),g=i[E],A=function(S){O(C,S,{get:function(){return i[E][S]}})};try{for(var y=yu(Object.keys(g)),v=y.next();!v.done;v=y.next()){var b=v.value;A(b)}}catch(S){B={error:S}}finally{try{v&&!v.done&&(p=y.return)&&p.call(y)}finally{if(B)throw B.error}}return C},set:function(){}})}),l.forEach(function(c){var E="$"+c;O(a,c,{get:function(){return function(){for(var B=[],p=0;p<arguments.length;p++)B[p]=arguments[p];var C=i[E];C.apply(i,B)}}})}),a}}function Iu(u,e){if(!u)return e;if(!e)return u;for(var t,r,n,s=Gt?Reflect.ownKeys(u):Object.keys(u),i=0;i<s.length;i++)t=s[i],t!=="__ob__"&&(r=e[t],n=u[t],ae(e,t)?r!==n&&k(r)&&!H(r)&&k(n)&&!H(n)&&Iu(n,r):e[t]=n);return e}function dr(u){Zt(u)||(u.config.optionMergeStrategies.setup=function(e,t){return function(n,s){return Iu(q(e)?e(n,s)||{}:void 0,q(t)?t(n,s)||{}:void 0)}},Yt(u),hr(u))}var Fr={install:function(u){return dr(u)}};typeof window<"u"&&window.Vue&&window.Vue.use(Fr);class I extends Fu{constructor(e,t,r,n=!1,s){super(e,t,s),this.inMemory=n,this.kind="file",this.isFile=!0,this.isDirectory=!1,r?this.setup(r):this.setupDone.dispatch()}get isFileStoredInMemory(){return this.fileData!==void 0}moveData(){if(!this.fileData)throw new Error(`No file data to move to IDB for file "${this.name}"`);const e=this.fileData;return this.fileData=void 0,this.inMemory=!1,e}async setup(e){this.fileData=globalThis.document?lr(e):e;const t=this.path.join("/").startsWith("data/packages");if(this.inMemory||t&&e.length<5e4)return this.inMemory=!0,this.setupDone.dispatch();(!t||globalThis.document)&&await this.updateIdb(e),this.setupDone.dispatch()}async updateIdb(e){await this.idbWrapper.set(this.idbKey,e),this.fileData=void 0}async loadFromIdb(){if(this.fileData)return this.fileData;let e=await this.idbWrapper.get(this.idbKey);if(e===void 0)throw console.log(this.parent),new Error(`File not found: "${this.path.join("/")}"`);return e}serialize(){return{idbWrapper:this.idbWrapper.storeName,kind:"file",name:this.name,path:this.path,fileData:this.fileData}}static deserialize(e){return new I(e.idbWrapper?new ve(e.idbWrapper):null,e.name,e.fileData,e.fileData!==void 0,e.path)}async isSameEntry(e){return this.parent===null?!1:super.isSameEntry(e)}async removeSelf(e=!0){await this.idbWrapper.del(this.idbKey),this.parent&&e&&this.parent.deleteChild(this.name)}async getFile(){const e=await this.loadFromIdb();return new File([e],this.name)}async createWritable(){return new Vt(this)}async[Eu](e){this.inMemory?this.fileData=e:await this.updateIdb(e)}}class $ extends Fu{constructor(e,t,r,n=!1,s=[]){super(e,t,s),this.children=r,this.kind="directory",this.isDirectory=!0,this.isFile=!1,this.updateIdb(n)}get isDirectoryInMemory(){return this.children!==void 0}async moveToIdb(){const e=this.allInMemoryChildren();this.idbWrapper.setMany(e.map(t=>[t.idbKey,t.moveData()]))}moveData(){if(!this.children)throw new Error(`No directory data to move to IDB for directory "${this.name}"`);const e=[...this.children.values()].map(t=>t.name);return this.children=void 0,e}allInMemoryChildren(){if(!this.children)return[];const e=[this];for(const t of this.children.values())t instanceof $?t.isDirectoryInMemory&&e.push(...t.allInMemoryChildren()):t.isFileStoredInMemory&&e.push(t);return e}async updateIdb(e=!1){e&&await this.idbWrapper.clear(),!this.children&&!await this.hasChildren()&&await this.idbWrapper.set(this.idbKey,[]),this.setupDone.dispatch()}async addChild(e){await this.has(e.name)||(this.children?this.children.set(e.name,e):await this.idbWrapper.set(this.idbKey,[...await this.fromIdb(),e.name]))}async fromIdb(){var e;return(e=await this.idbWrapper.get(this.idbKey))!=null?e:[]}async getChildren(){return this.children?[...this.children.values()]:await Promise.all((await this.fromIdb()).map(e=>this.getChild(e)).filter(e=>e!==void 0))}getChildPath(e){return this.path.concat(e).join("/")}async getChild(e){if(this.children)return this.children.get(e);if(await this.has(e)){const t=await this.idbWrapper.get(this.getChildPath(e));if(t instanceof Uint8Array)return new I(this,e);if(Array.isArray(t))return new $(this,e)}}async deleteChild(e){this.children?this.children.delete(e):await this.idbWrapper.set(this.idbKey,(await this.fromIdb()).filter(t=>t!==e))}async hasChildren(){return this.children?this.children.size>0:(await this.fromIdb()).length>0}async has(e){return this.children?this.children.has(e):(await this.fromIdb()).includes(e)}serialize(){return{idbWrapper:this.idbWrapper.storeName,kind:"directory",name:this.name,path:this.path,children:this.children?[...this.children.values()].map(e=>e.serialize()):void 0}}static deserialize(e,t=null){var n;const r=new $(t||new ve(e.idbWrapper),e.name,void 0,!1,e.path);for(const s of(n=e.children)!=null?n:[])s.kind==="directory"?r.addChild($.deserialize(s,r)):r.addChild(new I(r,s.name,s.fileData));return r}async getDirectoryHandle(e,{create:t}={}){let r=await this.getChild(e);if(r&&r.kind==="file")throw new Error(`TypeMismatch: Expected directory with name "${e}", found file`);if(!r)if(t)r=new $(this,e,this.children?new Map:void 0),await r.setupDone.fired,await this.addChild(r);else throw new Error(`No file with the name ${e} exists in this folder`);return r}async getFileHandle(e,{create:t,initialData:r}={}){let n=await this.getChild(e);if(n&&n.kind==="directory")throw new Error(`TypeMismatch: Expected file with name "${e}", found directory`);if(!n)if(t)n=new I(this,e,r!=null?r:new Uint8Array),await n.setupDone.fired,await this.addChild(n);else throw new Error(`No file with the name ${e} exists in this folder`);return n}async removeEntry(e,{recursive:t}={}){const r=await this.getChild(e);if(r){if(r.kind==="directory"&&!t&&await r.hasChildren())throw new Error('Cannot remove directory with children without "recursive" option being set to true')}else throw new Error(`No entry with the name ${e} exists in this folder`);await r.removeSelf(),await this.deleteChild(e)}async resolve(e){const t=[e.name];let r=e.getParent();for(;r!==null&&!await r.isSameEntry(this);)t.unshift(r.name),r=r.getParent();return r===null?null:t}async removeSelf(e=!0){const t=await this.getChildren();for(const r of t)await r.removeSelf(!1);this.children||await this.idbWrapper.del(this.idbKey),this.parent&&e&&this.parent.deleteChild(this.name)}[Symbol.asyncIterator](){return this.entries()}keys(){return this.children?this.children.keys():{childNamesPromise:this.fromIdb(),[Symbol.asyncIterator](){return{i:0,childNamesPromise:this.childNamesPromise,async next(){const e=await this.childNamesPromise;return this.i<e.length?{done:!1,value:e[this.i++]}:{done:!0}}}}}}entries(){return this.children?this.children.entries():{childrenPromise:this.getChildren(),[Symbol.asyncIterator](){return{i:0,childrenPromise:this.childrenPromise,async next(){const e=await this.childrenPromise;return this.i<e.length?{done:!1,value:[e[this.i].name,e[this.i++]]}:{done:!0}}}}}}values(){return this.children?this.children.values():{childrenPromise:this.getChildren(),[Symbol.asyncIterator](){return{i:0,childrenPromise:this.childrenPromise,async next(){const e=await this.childrenPromise;return this.i<e.length?{done:!1,value:e[this.i++]}:{done:!0}}}}}}getEntries(){return this.values()}getDirectory(e,t={}){return this.getDirectoryHandle(e,t)}getFile(e,t={}){return this.getFileHandle(e,t)}}ne.set("VirtualFileHandle",{canHandle:u=>u instanceof I,serialize:u=>[u.serialize(),[]],deserialize:u=>new I(null,u.name,u.fileData)}),ne.set("VirtualDirectoryHandle",{canHandle:u=>u instanceof $,serialize:u=>[u.serialize(),[]],deserialize:u=>$.deserialize(u)}),ne.set("VirtualDirectoryHandleArray",{canHandle:u=>Array.isArray(u)&&u.every(({directory:e})=>e instanceof $),serialize:u=>[u.map(({directory:e,...t})=>({directory:e.serialize(),...t})),[]],deserialize:u=>u.map(({directory:e,...t})=>({directory:$.deserialize(e),...t}))}),ne.set("VirtualFileHandleArray",{canHandle:u=>Array.isArray(u)&&u.every(({fileHandle:e})=>e instanceof I),serialize:u=>[u.map(({fileHandle:e,...t})=>({fileHandle:e.serialize(),...t})),[]],deserialize:u=>u.map(({fileHandle:e,...t})=>({fileHandle:I.deserialize(e),...t}))});var Er=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,pr=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,gr=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,Ze={Space_Separator:Er,ID_Start:pr,ID_Continue:gr},_={isSpaceSeparator(u){return typeof u=="string"&&Ze.Space_Separator.test(u)},isIdStartChar(u){return typeof u=="string"&&(u>="a"&&u<="z"||u>="A"&&u<="Z"||u==="$"||u==="_"||Ze.ID_Start.test(u))},isIdContinueChar(u){return typeof u=="string"&&(u>="a"&&u<="z"||u>="A"&&u<="Z"||u>="0"&&u<="9"||u==="$"||u==="_"||u==="\u200C"||u==="\u200D"||Ze.ID_Continue.test(u))},isDigit(u){return typeof u=="string"&&/[0-9]/.test(u)},isHexDigit(u){return typeof u=="string"&&/[0-9A-Fa-f]/.test(u)}};let qe,x,M,_e,G,T,R,Ye,ge;var yr=function(e,t){qe=String(e),x="start",M=[],_e=0,G=1,T=0,R=void 0,Ye=void 0,ge=void 0;do R=mr(),vr[x]();while(R.type!=="eof");return typeof t=="function"?Nu({"":ge},"",t):ge};function Nu(u,e,t){const r=u[e];if(r!=null&&typeof r=="object")for(const n in r){const s=Nu(r,n,t);s===void 0?delete r[n]:r[n]=s}return t.call(u,e,r)}let d,h,ye,j,F;function mr(){for(d="default",h="",ye=!1,j=1;;){F=W();const u=Lu[d]();if(u)return u}}function W(){if(qe[_e])return String.fromCodePoint(qe.codePointAt(_e))}function o(){const u=W();return u===`
`?(G++,T=0):u?T+=u.length:T++,u&&(_e+=u.length),u}const Lu={default(){switch(F){case"	":case"\v":case"\f":case" ":case"\xA0":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":o();return;case"/":o(),d="comment";return;case void 0:return o(),m("eof")}if(_.isSpaceSeparator(F)){o();return}return Lu[x]()},comment(){switch(F){case"*":o(),d="multiLineComment";return;case"/":o(),d="singleLineComment";return}throw w(o())},multiLineComment(){switch(F){case"*":o(),d="multiLineCommentAsterisk";return;case void 0:throw w(o())}o()},multiLineCommentAsterisk(){switch(F){case"*":o();return;case"/":o(),d="default";return;case void 0:throw w(o())}o(),d="multiLineComment"},singleLineComment(){switch(F){case`
`:case"\r":case"\u2028":case"\u2029":o(),d="default";return;case void 0:return o(),m("eof")}o()},value(){switch(F){case"{":case"[":return m("punctuator",o());case"n":return o(),ee("ull"),m("null",null);case"t":return o(),ee("rue"),m("boolean",!0);case"f":return o(),ee("alse"),m("boolean",!1);case"-":case"+":o()==="-"&&(j=-1),d="sign";return;case".":h=o(),d="decimalPointLeading";return;case"0":h=o(),d="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":h=o(),d="decimalInteger";return;case"I":return o(),ee("nfinity"),m("numeric",1/0);case"N":return o(),ee("aN"),m("numeric",NaN);case'"':case"'":ye=o()==='"',h="",d="string";return}throw w(o())},identifierNameStartEscape(){if(F!=="u")throw w(o());o();const u=eu();switch(u){case"$":case"_":break;default:if(!_.isIdStartChar(u))throw Mu();break}h+=u,d="identifierName"},identifierName(){switch(F){case"$":case"_":case"\u200C":case"\u200D":h+=o();return;case"\\":o(),d="identifierNameEscape";return}if(_.isIdContinueChar(F)){h+=o();return}return m("identifier",h)},identifierNameEscape(){if(F!=="u")throw w(o());o();const u=eu();switch(u){case"$":case"_":case"\u200C":case"\u200D":break;default:if(!_.isIdContinueChar(u))throw Mu();break}h+=u,d="identifierName"},sign(){switch(F){case".":h=o(),d="decimalPointLeading";return;case"0":h=o(),d="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":h=o(),d="decimalInteger";return;case"I":return o(),ee("nfinity"),m("numeric",j*(1/0));case"N":return o(),ee("aN"),m("numeric",NaN)}throw w(o())},zero(){switch(F){case".":h+=o(),d="decimalPoint";return;case"e":case"E":h+=o(),d="decimalExponent";return;case"x":case"X":h+=o(),d="hexadecimal";return}return m("numeric",j*0)},decimalInteger(){switch(F){case".":h+=o(),d="decimalPoint";return;case"e":case"E":h+=o(),d="decimalExponent";return}if(_.isDigit(F)){h+=o();return}return m("numeric",j*Number(h))},decimalPointLeading(){if(_.isDigit(F)){h+=o(),d="decimalFraction";return}throw w(o())},decimalPoint(){switch(F){case"e":case"E":h+=o(),d="decimalExponent";return}if(_.isDigit(F)){h+=o(),d="decimalFraction";return}return m("numeric",j*Number(h))},decimalFraction(){switch(F){case"e":case"E":h+=o(),d="decimalExponent";return}if(_.isDigit(F)){h+=o();return}return m("numeric",j*Number(h))},decimalExponent(){switch(F){case"+":case"-":h+=o(),d="decimalExponentSign";return}if(_.isDigit(F)){h+=o(),d="decimalExponentInteger";return}throw w(o())},decimalExponentSign(){if(_.isDigit(F)){h+=o(),d="decimalExponentInteger";return}throw w(o())},decimalExponentInteger(){if(_.isDigit(F)){h+=o();return}return m("numeric",j*Number(h))},hexadecimal(){if(_.isHexDigit(F)){h+=o(),d="hexadecimalInteger";return}throw w(o())},hexadecimalInteger(){if(_.isHexDigit(F)){h+=o();return}return m("numeric",j*Number(h))},string(){switch(F){case"\\":o(),h+=wr();return;case'"':if(ye)return o(),m("string",h);h+=o();return;case"'":if(!ye)return o(),m("string",h);h+=o();return;case`
`:case"\r":throw w(o());case"\u2028":case"\u2029":br(F);break;case void 0:throw w(o())}h+=o()},start(){switch(F){case"{":case"[":return m("punctuator",o())}d="value"},beforePropertyName(){switch(F){case"$":case"_":h=o(),d="identifierName";return;case"\\":o(),d="identifierNameStartEscape";return;case"}":return m("punctuator",o());case'"':case"'":ye=o()==='"',d="string";return}if(_.isIdStartChar(F)){h+=o(),d="identifierName";return}throw w(o())},afterPropertyName(){if(F===":")return m("punctuator",o());throw w(o())},beforePropertyValue(){d="value"},afterPropertyValue(){switch(F){case",":case"}":return m("punctuator",o())}throw w(o())},beforeArrayValue(){if(F==="]")return m("punctuator",o());d="value"},afterArrayValue(){switch(F){case",":case"]":return m("punctuator",o())}throw w(o())},end(){throw w(o())}};function m(u,e){return{type:u,value:e,line:G,column:T}}function ee(u){for(const e of u){if(W()!==e)throw w(o());o()}}function wr(){switch(W()){case"b":return o(),"\b";case"f":return o(),"\f";case"n":return o(),`
`;case"r":return o(),"\r";case"t":return o(),"	";case"v":return o(),"\v";case"0":if(o(),_.isDigit(W()))throw w(o());return"\0";case"x":return o(),Br();case"u":return o(),eu();case`
`:case"\u2028":case"\u2029":return o(),"";case"\r":return o(),W()===`
`&&o(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw w(o());case void 0:throw w(o())}return o()}function Br(){let u="",e=W();if(!_.isHexDigit(e)||(u+=o(),e=W(),!_.isHexDigit(e)))throw w(o());return u+=o(),String.fromCodePoint(parseInt(u,16))}function eu(){let u="",e=4;for(;e-- >0;){const t=W();if(!_.isHexDigit(t))throw w(o());u+=o()}return String.fromCodePoint(parseInt(u,16))}const vr={start(){if(R.type==="eof")throw ue();uu()},beforePropertyName(){switch(R.type){case"identifier":case"string":Ye=R.value,x="afterPropertyName";return;case"punctuator":Se();return;case"eof":throw ue()}},afterPropertyName(){if(R.type==="eof")throw ue();x="beforePropertyValue"},beforePropertyValue(){if(R.type==="eof")throw ue();uu()},beforeArrayValue(){if(R.type==="eof")throw ue();if(R.type==="punctuator"&&R.value==="]"){Se();return}uu()},afterPropertyValue(){if(R.type==="eof")throw ue();switch(R.value){case",":x="beforePropertyName";return;case"}":Se()}},afterArrayValue(){if(R.type==="eof")throw ue();switch(R.value){case",":x="beforeArrayValue";return;case"]":Se()}},end(){}};function uu(){let u;switch(R.type){case"punctuator":switch(R.value){case"{":u={};break;case"[":u=[];break}break;case"null":case"boolean":case"numeric":case"string":u=R.value;break}if(ge===void 0)ge=u;else{const e=M[M.length-1];Array.isArray(e)?e.push(u):e[Ye]=u}if(u!==null&&typeof u=="object")M.push(u),Array.isArray(u)?x="beforeArrayValue":x="beforePropertyName";else{const e=M[M.length-1];e==null?x="end":Array.isArray(e)?x="afterArrayValue":x="afterPropertyValue"}}function Se(){M.pop();const u=M[M.length-1];u==null?x="end":Array.isArray(u)?x="afterArrayValue":x="afterPropertyValue"}function w(u){return Re(u===void 0?`JSON5: invalid end of input at ${G}:${T}`:`JSON5: invalid character '${ju(u)}' at ${G}:${T}`)}function ue(){return Re(`JSON5: invalid end of input at ${G}:${T}`)}function Mu(){return T-=5,Re(`JSON5: invalid identifier character at ${G}:${T}`)}function br(u){console.warn(`JSON5: '${ju(u)}' in strings is not valid ECMAScript; consider escaping`)}function ju(u){const e={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(e[u])return e[u];if(u<" "){const t=u.charCodeAt(0).toString(16);return"\\x"+("00"+t).substring(t.length)}return u}function Re(u){const e=new SyntaxError(u);return e.lineNumber=G,e.columnNumber=T,e}var _r=function(e,t,r){const n=[];let s="",i,a,D="",f;if(t!=null&&typeof t=="object"&&!Array.isArray(t)&&(r=t.space,f=t.quote,t=t.replacer),typeof t=="function")a=t;else if(Array.isArray(t)){i=[];for(const C of t){let g;typeof C=="string"?g=C:(typeof C=="number"||C instanceof String||C instanceof Number)&&(g=String(C)),g!==void 0&&i.indexOf(g)<0&&i.push(g)}}return r instanceof Number?r=Number(r):r instanceof String&&(r=String(r)),typeof r=="number"?r>0&&(r=Math.min(10,Math.floor(r)),D="          ".substr(0,r)):typeof r=="string"&&(D=r.substr(0,10)),l("",{"":e});function l(C,g){let A=g[C];switch(A!=null&&(typeof A.toJSON5=="function"?A=A.toJSON5(C):typeof A.toJSON=="function"&&(A=A.toJSON(C))),a&&(A=a.call(g,C,A)),A instanceof Number?A=Number(A):A instanceof String?A=String(A):A instanceof Boolean&&(A=A.valueOf()),A){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof A=="string")return c(A);if(typeof A=="number")return String(A);if(typeof A=="object")return Array.isArray(A)?p(A):E(A)}function c(C){const g={"'":.1,'"':.2},A={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let y="";for(let b=0;b<C.length;b++){const S=C[b];switch(S){case"'":case'"':g[S]++,y+=S;continue;case"\0":if(_.isDigit(C[b+1])){y+="\\x00";continue}}if(A[S]){y+=A[S];continue}if(S<" "){let de=S.charCodeAt(0).toString(16);y+="\\x"+("00"+de).substring(de.length);continue}y+=S}const v=f||Object.keys(g).reduce((b,S)=>g[b]<g[S]?b:S);return y=y.replace(new RegExp(v,"g"),A[v]),v+y+v}function E(C){if(n.indexOf(C)>=0)throw TypeError("Converting circular structure to JSON5");n.push(C);let g=s;s=s+D;let A=i||Object.keys(C),y=[];for(const b of A){const S=l(b,C);if(S!==void 0){let de=B(b)+":";D!==""&&(de+=" "),de+=S,y.push(de)}}let v;if(y.length===0)v="{}";else{let b;if(D==="")b=y.join(","),v="{"+b+"}";else{let S=`,
`+s;b=y.join(S),v=`{
`+s+b+`,
`+g+"}"}}return n.pop(),s=g,v}function B(C){if(C.length===0)return c(C);const g=String.fromCodePoint(C.codePointAt(0));if(!_.isIdStartChar(g))return c(C);for(let A=g.length;A<C.length;A++)if(!_.isIdContinueChar(String.fromCodePoint(C.codePointAt(A))))return c(C);return C}function p(C){if(n.indexOf(C)>=0)throw TypeError("Converting circular structure to JSON5");n.push(C);let g=s;s=s+D;let A=[];for(let v=0;v<C.length;v++){const b=l(String(v),C);A.push(b!==void 0?b:"null")}let y;if(A.length===0)y="[]";else if(D===""){let v=A.join(",");y="["+v+"]"}else{let v=`,
`+s,b=A.join(v);y=`[
`+s+b+`,
`+g+"]"}return n.pop(),s=g,y}},Sr={parse:yr,stringify:_r};async function me(u,e,t=new Set,r=""){for await(const n of u.values()){const s=r.length===0?n.name:`${r}/${n.name}`;if(n.kind==="file"){if(n.name[0]===".")continue;await e(n,s,u)}else n.kind==="directory"&&!t.has(s)&&await me(n,e,t,s)}}function N(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}function Wu(u,e){for(var t="",r=0,n=-1,s=0,i,a=0;a<=u.length;++a){if(a<u.length)i=u.charCodeAt(a);else{if(i===47)break;i=47}if(i===47){if(!(n===a-1||s===1))if(n!==a-1&&s===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var D=t.lastIndexOf("/");if(D!==t.length-1){D===-1?(t="",r=0):(t=t.slice(0,D),r=t.length-1-t.lastIndexOf("/")),n=a,s=0;continue}}else if(t.length===2||t.length===1){t="",r=0,n=a,s=0;continue}}e&&(t.length>0?t+="/..":t="..",r=2)}else t.length>0?t+="/"+u.slice(n+1,a):t=u.slice(n+1,a),r=a-n-1;n=a,s=0}else i===46&&s!==-1?++s:s=-1}return t}function Rr(u,e){var t=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+r:t+u+r:r}var fe={resolve:function(){for(var e="",t=!1,r,n=arguments.length-1;n>=-1&&!t;n--){var s;n>=0?s=arguments[n]:(r===void 0&&(r=process.cwd()),s=r),N(s),s.length!==0&&(e=s+"/"+e,t=s.charCodeAt(0)===47)}return e=Wu(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(N(e),e.length===0)return".";var t=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=Wu(e,!t),e.length===0&&!t&&(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return N(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];N(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":fe.normalize(e)},relative:function(e,t){if(N(e),N(t),e===t||(e=fe.resolve(e),t=fe.resolve(t),e===t))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var n=e.length,s=n-r,i=1;i<t.length&&t.charCodeAt(i)===47;++i);for(var a=t.length,D=a-i,f=s<D?s:D,l=-1,c=0;c<=f;++c){if(c===f){if(D>f){if(t.charCodeAt(i+c)===47)return t.slice(i+c+1);if(c===0)return t.slice(i+c)}else s>f&&(e.charCodeAt(r+c)===47?l=c:c===0&&(l=0));break}var E=e.charCodeAt(r+c),B=t.charCodeAt(i+c);if(E!==B)break;E===47&&(l=c)}var p="";for(c=r+l+1;c<=n;++c)(c===n||e.charCodeAt(c)===47)&&(p.length===0?p+="..":p+="/..");return p.length>0?p+t.slice(i+l):(i+=l,t.charCodeAt(i)===47&&++i,t.slice(i))},_makeLong:function(e){return e},dirname:function(e){if(N(e),e.length===0)return".";for(var t=e.charCodeAt(0),r=t===47,n=-1,s=!0,i=e.length-1;i>=1;--i)if(t=e.charCodeAt(i),t===47){if(!s){n=i;break}}else s=!1;return n===-1?r?"/":".":r&&n===1?"//":e.slice(0,n)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');N(e);var r=0,n=-1,s=!0,i;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,D=-1;for(i=e.length-1;i>=0;--i){var f=e.charCodeAt(i);if(f===47){if(!s){r=i+1;break}}else D===-1&&(s=!1,D=i+1),a>=0&&(f===t.charCodeAt(a)?--a===-1&&(n=i):(a=-1,n=D))}return r===n?n=D:n===-1&&(n=e.length),e.slice(r,n)}else{for(i=e.length-1;i>=0;--i)if(e.charCodeAt(i)===47){if(!s){r=i+1;break}}else n===-1&&(s=!1,n=i+1);return n===-1?"":e.slice(r,n)}},extname:function(e){N(e);for(var t=-1,r=0,n=-1,s=!0,i=0,a=e.length-1;a>=0;--a){var D=e.charCodeAt(a);if(D===47){if(!s){r=a+1;break}continue}n===-1&&(s=!1,n=a+1),D===46?t===-1?t=a:i!==1&&(i=1):t!==-1&&(i=-1)}return t===-1||n===-1||i===0||i===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return Rr("/",e)},parse:function(e){N(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var r=e.charCodeAt(0),n=r===47,s;n?(t.root="/",s=1):s=0;for(var i=-1,a=0,D=-1,f=!0,l=e.length-1,c=0;l>=s;--l){if(r=e.charCodeAt(l),r===47){if(!f){a=l+1;break}continue}D===-1&&(f=!1,D=l+1),r===46?i===-1?i=l:c!==1&&(c=1):i!==-1&&(c=-1)}return i===-1||D===-1||c===0||c===1&&i===D-1&&i===a+1?D!==-1&&(a===0&&n?t.base=t.name=e.slice(1,D):t.base=t.name=e.slice(a,D)):(a===0&&n?(t.name=e.slice(1,i),t.base=e.slice(1,D)):(t.name=e.slice(a,i),t.base=e.slice(a,D)),t.ext=e.slice(i,D)),a>0?t.dir=e.slice(0,a-1):n&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};fe.posix=fe;var z=fe;const Pr=z.dirname,zu=z.join,Ku=z.extname,xr=z.basename;z.resolve;const Or=z.relative;async function Hr(){return typeof(await(await navigator.storage.getDirectory()).getFileHandle("bridge-supports-writable-test",{create:!0})).createWritable=="function"}async function Vu(){var u;return typeof((u=navigator.storage)==null?void 0:u.getDirectory)!="function"||!await Hr()?new $(null,"bridgeFolder",void 0):await navigator.storage.getDirectory()}class tu extends hu{constructor(e){super(),e&&this.setup(e)}get baseDirectory(){return this._baseDirectory}setup(e){this._baseDirectory=e,this.hasFired||this.dispatch()}async getDirectoryHandle(e,{create:t,createOnce:r}={}){if(e===""||e===".")return this.baseDirectory;let n=this.baseDirectory;const s=e.split(/\\|\//g);s[0]==="."&&s.shift(),s[0]==="extensions"&&(s[0]="~local",s.splice(1,0,"extensions")),s[0]==="~local"&&(n=await Vu(),s.shift());for(const i of s){try{n=await n.getDirectoryHandle(i,{create:r||t})}catch{throw new Error(`Failed to access "${e}": Directory does not exist`)}r&&(r=!1,t=!1)}return n}async getFileHandle(e,t=!1){if(e.length===0)throw new Error("Error: filePath is empty");const r=await this.getDirectoryHandle(Pr(e),{create:t});try{return await r.getFileHandle(xr(e),{create:t})}catch{throw new Error(`File does not exist: "${e}"`)}}async pathTo(e){const t=await Vu();if(e instanceof I&&!(t instanceof $))return;let r=await t.resolve(e).then(n=>n==null?void 0:n.join("/"));return r?r="~local/"+r:r=await this.baseDirectory.resolve(e).then(n=>n==null?void 0:n.join("/")),r}async mkdir(e,{recursive:t}={}){await this.getDirectoryHandle(e,{create:!0})}async readdir(e,{withFileTypes:t}={}){const r=await this.getDirectoryHandle(e),n=[];for await(const s of r.values())s.kind==="file"&&s.name===".DS_Store"||(t?n.push(s):n.push(s.name));return n}async readFilesFromDir(e,t=this.getDirectoryHandle(e)){t=await t;const r=[];for await(const n of t.values())n.kind==="file"&&n.name===".DS_Store"||(n.kind==="file"?r.push({name:n.name,kind:n.kind,path:`${e}/${n.name}`}):n.kind==="directory"&&r.push(...await this.readFilesFromDir(`${e}/${n.name}`,n)));return r}readFile(e){return this.getFileHandle(e).then(t=>t.getFile())}async unlink(e){if(e.length===0)throw new Error("Error: filePath is empty");const t=e.split(/\\|\//g),r=t.pop();let n;try{n=await this.getDirectoryHandle(t.join("/"))}catch{return}try{await n.removeEntry(r,{recursive:!0})}catch{}}async writeFile(e,t){const r=await this.getFileHandle(e,!0);return await this.write(r,t),r}async write(e,t){const r=await e.createWritable({keepExistingData:!1});await r.write(t),await r.close()}async readJSON(e){const t=await this.readFile(e);try{return await Sr.parse(await t.text())}catch{throw new Error(`Invalid JSON: ${e}`)}}writeJSON(e,t,r=!1){return this.writeFile(e,JSON.stringify(t,null,r?"	":void 0))}async move(e,t){if(await this.fileExists(e))await this.copyFile(e,t);else if(await this.directoryExists(e))await this.copyFolder(e,t);else throw new Error(`File or folder does not exist: ${e}`);await this.unlink(e)}async copyFile(e,t){const r=await this.getFileHandle(e,!1),n=await this.getFileHandle(t,!0);return await this.copyFileHandle(r,n)}async copyFileHandle(e,t){return await this.write(t,await e.getFile()),t}async copyFolder(e,t){const r=await this.getDirectoryHandle(e,{create:!1});await me(r,async(n,s)=>{await this.copyFileHandle(n,await this.getFileHandle(zu(t,s),!0))})}async copyFolderByHandle(e,t){const r=new tu(t);await me(e,async(n,s)=>{await this.copyFileHandle(n,await r.getFileHandle(s,!0))})}loadFileHandleAsDataUrl(e){return new Promise(async(t,r)=>{const n=new FileReader;try{const s=await e.getFile();n.addEventListener("load",()=>{t(n.result)}),n.addEventListener("error",r),n.readAsDataURL(s)}catch{r(`File does not exist: "${e.name}"`)}})}async fileExists(e){try{return await this.getFileHandle(e),!0}catch{return!1}}async directoryExists(e){try{return await this.getDirectoryHandle(e),!0}catch{return!1}}async getDirectoryHandlesFromGlob(e,t="."){const r=e.split(/\/|\\/g),n=new Set([await this.getDirectoryHandle(t)]);for(const s of r){if(s==="*")for(const i of[...n.values()]){n.delete(i);for await(const a of i.values())a.kind==="directory"&&n.add(a)}else{if(s==="**")return console.warn('"**" is not supported yet'),[];for(const i of[...n.values()]){n.delete(i);try{n.add(await i.getDirectoryHandle(s))}catch{}}}if(n.size===0)return[]}return[...n.values()]}}function $r(u){if(typeof u!="string")throw new TypeError("Expected a string");return u.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const Uu={matchCase:0,ignoreCase:1,useRegExp:2};function Tr(u,e,t){return u.replace(e,(r,...n)=>(n=n.slice(0,-2),t.replace(/{(\d+)}/g,(s,...i)=>{var a;return(a=n[Number(i[0])])!=null?a:s})))}function Gu(u,e){let t;try{t=new RegExp(e===Uu.useRegExp?u:$r(u),`g${e===Uu.ignoreCase?"i":""}`)}catch{return}return t}var kr=Object.defineProperty,Ir=Object.defineProperties,Nr=Object.getOwnPropertyDescriptors,Ju=Object.getOwnPropertySymbols,Lr=Object.prototype.hasOwnProperty,Mr=Object.prototype.propertyIsEnumerable,Xu=(u,e,t)=>e in u?kr(u,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[e]=t,jr=(u,e)=>{for(var t in e||(e={}))Lr.call(e,t)&&Xu(u,t,e[t]);if(Ju)for(var t of Ju(e))Mr.call(e,t)&&Xu(u,t,e[t]);return u},Wr=(u,e)=>Ir(u,Nr(e));function Qu(u,e){for(var t=0,r=u.length-1;r>=0;r--){var n=u[r];n==="."?u.splice(r,1):n===".."?(u.splice(r,1),t++):t&&(u.splice(r,1),t--)}if(e)for(;t--;t)u.unshift("..");return u}var zr=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,ru=function(u){return zr.exec(u).slice(1)};function Pe(){for(var u="",e=!1,t=arguments.length-1;t>=-1&&!e;t--){var r=t>=0?arguments[t]:"/";if(typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!r)continue;u=r+"/"+u,e=r.charAt(0)==="/"}return u=Qu(su(u.split("/"),function(n){return!!n}),!e).join("/"),(e?"/":"")+u||"."}function nu(u){var e=iu(u),t=Vr(u,-1)==="/";return u=Qu(su(u.split("/"),function(r){return!!r}),!e).join("/"),!u&&!e&&(u="."),u&&t&&(u+="/"),(e?"/":"")+u}function iu(u){return u.charAt(0)==="/"}function Zu(){var u=Array.prototype.slice.call(arguments,0);return nu(su(u,function(e,t){if(typeof e!="string")throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))}function qu(u,e){u=Pe(u).substr(1),e=Pe(e).substr(1);function t(f){for(var l=0;l<f.length&&f[l]==="";l++);for(var c=f.length-1;c>=0&&f[c]==="";c--);return l>c?[]:f.slice(l,c-l+1)}for(var r=t(u.split("/")),n=t(e.split("/")),s=Math.min(r.length,n.length),i=s,a=0;a<s;a++)if(r[a]!==n[a]){i=a;break}for(var D=[],a=i;a<r.length;a++)D.push("..");return D=D.concat(n.slice(i)),D.join("/")}var Yu="/",et=":";function ut(u){var e=ru(u),t=e[0],r=e[1];return!t&&!r?".":(r&&(r=r.substr(0,r.length-1)),t+r)}function tt(u,e){var t=ru(u)[2];return e&&t.substr(-1*e.length)===e&&(t=t.substr(0,t.length-e.length)),t}function rt(u){return ru(u)[3]}var Kr={extname:rt,basename:tt,dirname:ut,sep:Yu,delimiter:et,relative:qu,join:Zu,isAbsolute:iu,normalize:nu,resolve:Pe};function su(u,e){if(u.filter)return u.filter(e);for(var t=[],r=0;r<u.length;r++)e(u[r],r,u)&&t.push(u[r]);return t}var Vr="ab".substr(-1)==="b"?function(u,e,t){return u.substr(e,t)}:function(u,e,t){return e<0&&(e=u.length+e),u.substr(e,t)},nt=Object.freeze({__proto__:null,resolve:Pe,normalize:nu,isAbsolute:iu,join:Zu,relative:qu,sep:Yu,delimiter:et,dirname:ut,basename:tt,extname:rt,default:Kr});function it(){throw new Error("setTimeout has not been defined")}function st(){throw new Error("clearTimeout has not been defined")}var J=it,X=st,Ae;typeof window<"u"?Ae=window:typeof self<"u"?Ae=self:Ae={},typeof Ae.setTimeout=="function"&&(J=setTimeout),typeof Ae.clearTimeout=="function"&&(X=clearTimeout);function at(u){if(J===setTimeout)return setTimeout(u,0);if((J===it||!J)&&setTimeout)return J=setTimeout,setTimeout(u,0);try{return J(u,0)}catch{try{return J.call(null,u,0)}catch{return J.call(this,u,0)}}}function Ur(u){if(X===clearTimeout)return clearTimeout(u);if((X===st||!X)&&clearTimeout)return X=clearTimeout,clearTimeout(u);try{return X(u)}catch{try{return X.call(null,u)}catch{return X.call(this,u)}}}var K=[],Ce=!1,te,xe=-1;function Gr(){!Ce||!te||(Ce=!1,te.length?K=te.concat(K):xe=-1,K.length&&ot())}function ot(){if(!Ce){var u=at(Gr);Ce=!0;for(var e=K.length;e;){for(te=K,K=[];++xe<e;)te&&te[xe].run();xe=-1,e=K.length}te=null,Ce=!1,Ur(u)}}function Jr(u){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];K.push(new Dt(u,e)),K.length===1&&!Ce&&at(ot)}function Dt(u,e){this.fun=u,this.array=e}Dt.prototype.run=function(){this.fun.apply(null,this.array)};var Xr="browser",Qr="browser",Zr=!0,qr=[],Yr="",en={},un={},tn={};function re(){}var rn=re,nn=re,sn=re,an=re,on=re,Dn=re,cn=re;function ln(u){throw new Error("process.binding is not supported")}function fn(){return"/"}function An(u){throw new Error("process.chdir is not supported")}function Cn(){return 0}var he=Ae.performance||{},hn=he.now||he.mozNow||he.msNow||he.oNow||he.webkitNow||function(){return new Date().getTime()};function dn(u){var e=hn.call(he)*.001,t=Math.floor(e),r=Math.floor(e%1*1e9);return u&&(t=t-u[0],r=r-u[1],r<0&&(t--,r+=1e9)),[t,r]}var Fn=new Date;function En(){var u=new Date,e=u-Fn;return e/1e3}var pn={nextTick:Jr,title:Xr,browser:Zr,env:{NODE_ENV:"production"},argv:qr,version:Yr,versions:en,on:rn,addListener:nn,once:sn,off:an,removeListener:on,removeAllListeners:Dn,emit:cn,binding:ln,cwd:fn,chdir:An,umask:Cn,hrtime:dn,platform:Qr,release:un,config:tn,uptime:En};function gn(u,e,t){return t={path:e,exports:{},require:function(r,n){return yn(r,n==null?t.path:n)}},u(t,t.exports),t.exports}function yn(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}const L="\\\\/",ct=`[^${L}]`,V="\\.",mn="\\+",wn="\\?",Oe="\\/",Bn="(?=.)",lt="[^/]",au=`(?:${Oe}|$)`,ft=`(?:^|${Oe})`,ou=`${V}{1,2}${au}`,vn=`(?!${V})`,bn=`(?!${ft}${ou})`,_n=`(?!${V}{0,1}${au})`,Sn=`(?!${ou})`,Rn=`[^.${Oe}]`,Pn=`${lt}*?`,At={DOT_LITERAL:V,PLUS_LITERAL:mn,QMARK_LITERAL:wn,SLASH_LITERAL:Oe,ONE_CHAR:Bn,QMARK:lt,END_ANCHOR:au,DOTS_SLASH:ou,NO_DOT:vn,NO_DOTS:bn,NO_DOT_SLASH:_n,NO_DOTS_SLASH:Sn,QMARK_NO_DOT:Rn,STAR:Pn,START_ANCHOR:ft},xn=Wr(jr({},At),{SLASH_LITERAL:`[${L}]`,QMARK:ct,STAR:`${ct}*?`,DOTS_SLASH:`${V}{1,2}(?:[${L}]|$)`,NO_DOT:`(?!${V})`,NO_DOTS:`(?!(?:^|[${L}])${V}{1,2}(?:[${L}]|$))`,NO_DOT_SLASH:`(?!${V}{0,1}(?:[${L}]|$))`,NO_DOTS_SLASH:`(?!${V}{1,2}(?:[${L}]|$))`,QMARK_NO_DOT:`[^.${L}]`,START_ANCHOR:`(?:^|[${L}])`,END_ANCHOR:`(?:[${L}]|$)`}),On={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var Hn={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:On,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:nt.sep,extglobChars(u){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${u.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(u){return u===!0?xn:At}};gn(function(u,e){const{REGEX_BACKSLASH:t,REGEX_REMOVE_BACKSLASH:r,REGEX_SPECIAL_CHARS:n,REGEX_SPECIAL_CHARS_GLOBAL:s}=Hn;e.isObject=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),e.hasRegexChars=i=>n.test(i),e.isRegexChar=i=>i.length===1&&e.hasRegexChars(i),e.escapeRegex=i=>i.replace(s,"\\$1"),e.toPosixSlashes=i=>i.replace(t,"/"),e.removeBackslashes=i=>i.replace(r,a=>a==="\\"?"":a),e.supportsLookbehinds=()=>{const i=pn.version.slice(1).split(".").map(Number);return i.length===3&&i[0]>=9||i[0]===8&&i[1]>=10},e.isWindows=i=>i&&typeof i.windows=="boolean"?i.windows:nt.sep==="\\",e.escapeLast=(i,a,D)=>{const f=i.lastIndexOf(a,D);return f===-1?i:i[f-1]==="\\"?e.escapeLast(i,a,f-1):`${i.slice(0,f)}\\${i.slice(f)}`},e.removePrefix=(i,a={})=>{let D=i;return D.startsWith("./")&&(D=D.slice(2),a.prefix="./"),D},e.wrapOutput=(i,a={},D={})=>{const f=D.contains?"":"^",l=D.contains?"":"$";let c=`${f}(?:${i})${l}`;return a.negated===!0&&(c=`(?:^(?!${c}).*$)`),c}}),new TextEncoder;const Ct={behaviorPack:"./BP",resourcePack:"./RP",skinPack:"./SP",worldTemplate:"./WT"};class $n{constructor(e){this.basePath=e,this.data={}}async refreshConfig(){this.data=await this.readConfig()}async setup(){await this.refreshConfig()}get(){return this.data}getRelativePackRoot(e){var t,r;return(r=(t=this.data.packs)==null?void 0:t[e])!=null?r:Ct[e]}getAbsolutePackRoot(e){return this.resolvePackPath(e)}resolvePackPath(e,t){return!t&&!e?this.basePath:!e&&t?z.join(this.basePath,t):!t&&e?z.join(this.basePath,this.getRelativePackRoot(e)):z.join(this.basePath,`${this.getRelativePackRoot(e)}/${t}`)}getAvailablePackPaths(){var e;const t=[];for(const r of Object.keys((e=this.data.packs)!=null?e:{}))t.push(this.resolvePackPath(r));return t}getAvailablePacks(){var e;const t={};for(const r in(e=this.data.packs)!=null?e:{})t[r]=this.resolvePackPath(r);return t}async save(){await this.writeConfig(this.data)}}class Tn extends $n{constructor(e,t,r){super(t),this.fileSystem=e,this.project=r,r&&r.fileSave.on(this.resolvePackPath(void 0,"config.json"),()=>{this.refreshConfig(),this.project.app.windows.createPreset.onPresetsChanged(),this.project.compilerService.reloadPlugins()})}readConfig(){return this.fileSystem.readJSON("config.json").catch(()=>({}))}async writeConfig(e){await this.fileSystem.writeJSON("config.json",e,!0)}async setup(e=!0){var n,s,i,a,D,f,l;if(e&&await this.fileSystem.fileExists(".bridge/config.json")){const{darkTheme:c,lightTheme:E,gameTestAPI:B,scriptingAPI:p,prefix:C,...g}=await this.fileSystem.readJSON(".bridge/config.json");await this.fileSystem.unlink(".bridge/config.json");const A={};B&&(A.enableGameTestFramework=!0),p&&(A.additionalModdingCapabilities=!0);const y={type:"minecraftBedrock",name:this.fileSystem.baseDirectory.name,namespace:C,experimentalGameplay:A,...g,authors:g.author?[g.author]:["Unknown"],packs:Ct,bridge:{darkTheme:c,lightTheme:E}};await this.fileSystem.writeJSON("config.json",y,!0),this.data=y;return}await super.setup();const t=(s=(n=this.data.bridge)==null?void 0:n.formatVersion)!=null?s:0;this.data.bridge||(this.data.bridge={});let r=!1;if(e&&this.project&&this.data.capabilities){const c=await this.project.app.dataLoader.readJSON("data/packages/minecraftBedrock/experimentalGameplay.json"),E=(i=this.data.experimentalGameplay)!=null?i:{},B=(a=this.data.capabilities)!=null?a:[];E.enableGameTestFramework=B.includes("gameTestAPI"),E.additionalModdingCapabilities=B.includes("scriptingAPI");for(const p of c)(f=E[D=p.id])!=null||(E[D]=!0);this.data.experimentalGameplay=E,this.data.capabilities=void 0,r=!0}if(e&&this.data.author&&!this.data.authors&&(this.data.authors=typeof this.data.author=="string"?[this.data.author]:this.data.author,this.data.author=void 0,r=!0),e&&await this.fileSystem.fileExists(".bridge/compiler/default.json")){const c=await this.fileSystem.readJSON(".bridge/compiler/default.json");this.data.compiler={plugins:c.plugins},await this.fileSystem.unlink(".bridge/compiler/default.json"),r=!0}e&&t===0&&((l=this.data.compiler)==null?void 0:l.plugins)&&!this.data.compiler.plugins.includes("formatVersionCorrection")&&(this.data.bridge.formatVersion=1,this.data.compiler.plugins.push("formatVersionCorrection"),r=!0),r&&await this.writeConfig(this.data)}async getWorldHandles(){var r;if(!this.project)throw new Error("Cannot use getWorldHandles() within web workers yet");const e=this.project.app,t=((r=this.get().worlds)!=null?r:["./worlds/*"]).map(n=>this.resolvePackPath(void 0,n));return(await Promise.all(t.map(n=>e.fileSystem.getDirectoryHandlesFromGlob(n)))).flat()}getAuthorImage(){var t;const e=(t=this.get().authors)==null?void 0:t.find(r=>typeof r!="string"&&r.logo);if(!!e)return this.resolvePackPath(void 0,e.logo)}async toggleExperiment(e,t){var n,s;e.app.windows.loadingWindow.open();const r=(s=(n=this.get())==null?void 0:n.experimentalGameplay)!=null?s:{};r[t]=!r[t],await this.save(),e.isActiveProject&&await e.refresh(),e.app.windows.loadingWindow.close()}}globalThis.process={cwd:()=>"",env:{}};const ht=new Set([".js",".ts",".lang",".mcfunction",".txt",".md",".molang",".json",".html"]),dt=new Set([".bridge","builds",".git s"]),Du=100;class kn{constructor(e,t){this.projectFolderHandle=e,this.projectPath=t,this.matchedFiles=new Set,this.fileSystem=new tu(e),this.config=new Tn(this.fileSystem,t)}setMatchedFiles(e){const t=this.matchedFiles;return this.matchedFiles=new Set(e),[...t]}async createQuery(e,t,{searchType:r}){if(this.matchedFiles.clear(),t==="")return[];const n=[],s=Gu(t,r);if(!s)return[];const i=[];for(const a of e)i.push(this.iterateDirectory(a,s,n));return await Promise.all(i),n}async executeQuery(e,t,r,{searchType:n}){if(t==="")return[];const s=Gu(t,n);if(!s)return[];const i=[];for(const a of e)i.push(this.replaceAll(a,s,r));await Promise.all(i)}async iterateDirectory({directory:e,path:t},r,n){await me(e,async(s,i)=>{const a=Ku(i);if(!ht.has(a))return;const D=[],f=await s.getFile().then(c=>c.text());r.lastIndex=0;let l=r.exec(f);for(;l!==null;){let c=l.index-Du/2,E=Du/2;c<0&&(E=E+c,c=0),D.push({isStartOfFile:c===0,beforeMatch:f.substr(c,E),match:l[0],afterMatch:f.substr(l.index+l[0].length,Du/2)}),l=r.exec(f)}D.length>0&&(this.matchedFiles.add(i),n.push({filePath:i,displayFilePath:zu(`./${e.name}`,Or(t,i)),fileHandle:s,matches:D}))},dt,t)}async replaceAll({directory:e,path:t},r,n){await me(e,async(s,i)=>{const a=Ku(i);if(!ht.has(a)||!this.matchedFiles.has(i))return;const D=await s.getFile().then(l=>l.text()),f=Tr(D,r,n);D!==f&&await this.fileSystem.write(s,f)},dt,t)}}$e(kn)})();
