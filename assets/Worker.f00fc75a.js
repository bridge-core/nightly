var wr=Object.defineProperty;var vr=(V,$,Q)=>$ in V?wr(V,$,{enumerable:!0,configurable:!0,writable:!0,value:Q}):V[$]=Q;var m=(V,$,Q)=>(vr(V,typeof $!="symbol"?$+"":$,Q),Q);(function(){"use strict";const V=Symbol("Comlink.proxy"),$=Symbol("Comlink.endpoint"),Q=Symbol("Comlink.releaseProxy"),pe=Symbol("Comlink.thrown"),ze=t=>typeof t=="object"&&t!==null||typeof t=="function",ku={canHandle:t=>ze(t)&&t[V],serialize(t){const{port1:u,port2:e}=new MessageChannel;return ye(t,u),[e,[e]]},deserialize(t){return t.start(),Nu(t)}},Hu={canHandle:t=>ze(t)&&pe in t,serialize({value:t}){let u;return t instanceof Error?u={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:u={isError:!1,value:t},[u,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},re=new Map([["proxy",ku],["throw",Hu]]);function ye(t,u=self){u.addEventListener("message",function e(r){if(!r||!r.data)return;const{id:i,type:s,path:n}=Object.assign({path:[]},r.data),D=(r.data.argumentList||[]).map(q);let o;try{const l=n.slice(0,-1).reduce((c,y)=>c[y],t),f=n.reduce((c,y)=>c[y],t);switch(s){case 0:o=f;break;case 1:l[n.slice(-1)[0]]=q(r.data.value),o=!0;break;case 2:o=f.apply(l,D);break;case 3:{const c=new f(...D);o=Lu(c)}break;case 4:{const{port1:c,port2:y}=new MessageChannel;ye(t,y),o=$u(c,[c])}break;case 5:o=void 0;break}}catch(l){o={value:l,[pe]:0}}Promise.resolve(o).catch(l=>({value:l,[pe]:0})).then(l=>{const[f,c]=we(l);u.postMessage(Object.assign(Object.assign({},f),{id:i}),c),s===5&&(u.removeEventListener("message",e),Ve(u))})}),u.start&&u.start()}function Tu(t){return t.constructor.name==="MessagePort"}function Ve(t){Tu(t)&&t.close()}function Nu(t,u){return Be(t,[],u)}function fe(t){if(t)throw new Error("Proxy has been released and is not useable")}function Be(t,u=[],e=function(){}){let r=!1;const i=new Proxy(e,{get(s,n){if(fe(r),n===Q)return()=>ie(t,{type:5,path:u.map(D=>D.toString())}).then(()=>{Ve(t),r=!0});if(n==="then"){if(u.length===0)return{then:()=>i};const D=ie(t,{type:0,path:u.map(o=>o.toString())}).then(q);return D.then.bind(D)}return Be(t,[...u,n])},set(s,n,D){fe(r);const[o,l]=we(D);return ie(t,{type:1,path:[...u,n].map(f=>f.toString()),value:o},l).then(q)},apply(s,n,D){fe(r);const o=u[u.length-1];if(o===$)return ie(t,{type:4}).then(q);if(o==="bind")return Be(t,u.slice(0,-1));const[l,f]=Ge(D);return ie(t,{type:2,path:u.map(c=>c.toString()),argumentList:l},f).then(q)},construct(s,n){fe(r);const[D,o]=Ge(n);return ie(t,{type:3,path:u.map(l=>l.toString()),argumentList:D},o).then(q)}});return i}function Ou(t){return Array.prototype.concat.apply([],t)}function Ge(t){const u=t.map(we);return[u.map(e=>e[0]),Ou(u.map(e=>e[1]))]}const Ke=new WeakMap;function $u(t,u){return Ke.set(t,u),t}function Lu(t){return Object.assign(t,{[V]:!0})}function we(t){for(const[u,e]of re)if(e.canHandle(t)){const[r,i]=e.serialize(t);return[{type:3,name:u,value:r},i]}return[{type:0,value:t},Ke.get(t)||[]]}function q(t){switch(t.type){case 3:return re.get(t.name).deserialize(t.value);case 0:return t.value}}function ie(t,u,e){return new Promise(r=>{const i=Iu();t.addEventListener("message",function s(n){!n.data||!n.data.id||n.data.id!==i||(t.removeEventListener("message",s),r(n.data))}),t.start&&t.start(),t.postMessage(Object.assign({id:i},u),e)})}function Iu(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var Ae,Mu=new Uint8Array(16);function ju(){if(!Ae&&(Ae=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ae))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ae(Mu)}var Wu=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function zu(t){return typeof t=="string"&&Wu.test(t)}for(var S=[],ve=0;ve<256;++ve)S.push((ve+256).toString(16).substr(1));function Vu(t){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(S[t[u+0]]+S[t[u+1]]+S[t[u+2]]+S[t[u+3]]+"-"+S[t[u+4]]+S[t[u+5]]+"-"+S[t[u+6]]+S[t[u+7]]+"-"+S[t[u+8]]+S[t[u+9]]+"-"+S[t[u+10]]+S[t[u+11]]+S[t[u+12]]+S[t[u+13]]+S[t[u+14]]+S[t[u+15]]).toLowerCase();if(!zu(e))throw TypeError("Stringified UUID is invalid");return e}function Gu(t,u,e){t=t||{};var r=t.random||(t.rng||ju)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,u){e=e||0;for(var i=0;i<16;++i)u[e+i]=r[i];return u}return Vu(r)}class Ku{constructor(){m(this,"listeners",new Set)}get hasListeners(){return this.listeners.size>0}dispatch(u){this.listeners.forEach(e=>e(u))}on(u,e=!0){if(this.listeners.add(u),e)return{dispose:()=>{this.off(u)}}}off(u){this.listeners.delete(u)}once(u,e=!1){const r=i=>{u(i),this.off(r)};return this.on(r,e)}disposeListeners(){this.listeners=new Set}}class Ue extends Ku{constructor(e=1){super();m(this,"firedTimes",0);m(this,"data");this.needsToFireAmount=e}get fired(){return new Promise(e=>this.once(e,!1))}get hasFired(){return this.firedTimes>=this.needsToFireAmount}setFiredTimes(e){this.firedTimes=e}resetSignal(){this.data=void 0,this.firedTimes=0}dispatch(e){if(this.firedTimes<this.needsToFireAmount&&this.firedTimes++,this.data=e,this.hasFired)return super.dispatch(e)}on(e,r=!0){return this.hasFired&&e(this.data),super.on(e,r)}}function Uu(){if(!(!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent))||!indexedDB.databases)return Promise.resolve();let u;return new Promise(e=>{const r=()=>indexedDB.databases().finally(e);u=setInterval(r,100),r()}).finally(()=>clearInterval(u))}function G(t){return new Promise((u,e)=>{t.oncomplete=t.onsuccess=()=>u(t.result),t.onabort=t.onerror=()=>e(t.error)})}function be(t,u){const e=Uu().then(()=>{const r=indexedDB.open(t);return r.onupgradeneeded=()=>r.result.createObjectStore(u),G(r)});return(r,i)=>e.then(s=>i(s.transaction(u,r).objectStore(u)))}let Se;function Z(){return Se||(Se=be("keyval-store","keyval")),Se}function Je(t,u=Z()){return u("readonly",e=>G(e.get(t)))}function Ju(t,u,e=Z()){return e("readwrite",r=>(r.put(u,t),G(r.transaction)))}function Xu(t,u=Z()){return u("readwrite",e=>(t.forEach(r=>e.put(r[1],r[0])),G(e.transaction)))}function Qu(t,u=Z()){return u("readonly",e=>Promise.all(t.map(r=>G(e.get(r)))))}function qu(t,u=Z()){return u("readwrite",e=>(e.delete(t),G(e.transaction)))}function Zu(t=Z()){return t("readwrite",u=>(u.clear(),G(u.transaction)))}function Yu(t,u){return t("readonly",e=>(e.openCursor().onsuccess=function(){!this.result||(u(this.result),this.result.continue())},G(e.transaction)))}function et(t=Z()){const u=[];return Yu(t,e=>u.push(e.key)).then(()=>u)}const ut=be("virtual-fs","virtual-fs-store"),tt=t=>Je(t,ut);class Ce{constructor(u="virtual-fs"){m(this,"store");this.storeName=u,this.store=be(u,`${u}-store`)}set(u,e){return Ju(u,e,this.store)}get(u){return Je(u,this.store)}del(u){return qu(u,this.store)}setMany(u){return Xu(u,this.store)}getMany(u){return Qu(u,this.store)}clear(){return Zu(this.store)}async has(u){return await tt(u)!==void 0}keys(){return et(this.store)}}class Xe{constructor(u,e,r=[],i=Gu()){m(this,"_idbWrapper",null);m(this,"parent",null);m(this,"isVirtual",!0);m(this,"setupDone",new Ue);this._name=e,this.basePath=r,this.uuid=i,u===null?this._idbWrapper=new Ce:u instanceof Ce?this._idbWrapper=u:this.parent=u}get path(){return this.parent?this.parent.path.concat(this.name):this.basePath}get hasParentContext(){return this.path.length>1}get idbKey(){return this.path.length===0?this._name:this.path.join("/")}get idbWrapper(){return this._idbWrapper===null?this.parent.idbWrapper:this._idbWrapper}get name(){return this._name}getParent(){return this.parent}async isSameEntry(u){return u.idbKey===this.idbKey}async queryPermission(u){return"granted"}async requestPermission(u){return"granted"}}const rt=new TextEncoder,Qe=Symbol("writeMethod");class it{constructor(u){m(this,"tmpData",new Uint8Array);m(this,"cursorOffset",0);m(this,"locked",!1);this.fileHandle=u}async write(u){let e;if(typeof u=="string")e=rt.encode(u);else if(u instanceof Blob)e=await u.arrayBuffer().then(r=>new Uint8Array(r));else if("type"in u){if(u.type==="seek")return await this.seek(u.position);if(u.type==="truncate")return await this.truncate(u.size);if(u.type==="write")return u.position&&await this.seek(u.position),await this.write(u.data);throw new Error(`Unknown data type: ${u.type}`)}else ArrayBuffer.isView(u)?e=new Uint8Array(u.buffer):e=new Uint8Array(u);this.tmpData=new Uint8Array([...this.tmpData.slice(0,this.cursorOffset),...e]),this.cursorOffset=this.tmpData.length}async seek(u){this.cursorOffset=Math.floor(u)}async truncate(u){this.tmpData=this.tmpData.slice(0,u),this.cursorOffset>u&&(this.cursorOffset=u)}async close(){await this.fileHandle[Qe](this.tmpData)}async abort(){throw new Error("WriteStream was aborted")}getWriter(){}}class T extends Xe{constructor(e,r,i,s=!1,n){super(e,r,n);m(this,"kind","file");m(this,"isFile",!0);m(this,"isDirectory",!1);m(this,"fileData");this.inMemory=s,i?this.setup(i):this.setupDone.dispatch()}get isFileStoredInMemory(){return this.fileData!==void 0}moveData(){if(!this.fileData)throw new Error(`No file data to move to IDB for file "${this.name}"`);const e=this.fileData;return this.fileData=void 0,this.inMemory=!1,e}async setup(e){this.fileData=e;const r=this.path.join("/").startsWith("data/packages");if(this.inMemory||r&&e.length<5e4)return this.inMemory=!0,this.setupDone.dispatch();(!r||globalThis.document)&&await this.updateIdb(e),this.setupDone.dispatch()}async updateIdb(e){await this.idbWrapper.set(this.idbKey,e),this.fileData=void 0}async loadFromIdb(){if(this.fileData)return this.fileData;let e=await this.idbWrapper.get(this.idbKey);if(e===void 0)throw console.log(this.parent),new Error(`File not found: "${this.path.join("/")}"`);return e}serialize(){return{idbWrapper:this.idbWrapper.storeName,kind:"file",name:this.name,path:this.path,fileData:this.fileData}}static deserialize(e){return new T(e.idbWrapper?new Ce(e.idbWrapper):null,e.name,e.fileData,e.fileData!==void 0,e.path)}async isSameEntry(e){return this.parent===null?!1:super.isSameEntry(e)}async removeSelf(e=!0){await this.idbWrapper.del(this.idbKey),this.parent&&e&&this.parent.deleteChild(this.name)}async getFile(){const e=await this.loadFromIdb();return new File([e],this.name)}async createWritable(){return new it(this)}async[Qe](e){this.inMemory?this.fileData=e:await this.updateIdb(e)}}class nt{constructor(){m(this,"listeners",[]);m(this,"isLocked",!1)}lock(){return new Promise(async(u,e)=>{this.isLocked?this.listeners.push(()=>{this.isLocked=!0,u()}):(this.isLocked=!0,u())})}unlock(){if(!this.isLocked)throw new Error("Trying to unlock a mutex that is not locked");this.isLocked=!1,this.listeners.length>0&&this.listeners.shift()()}}class st{constructor(){m(this,"mutexMap",new Map)}async lock(u){let e=this.mutexMap.get(u);e||(e=new nt,this.mutexMap.set(u,e)),await e.lock()}unlock(u){const e=this.mutexMap.get(u);if(!e)throw new Error("Trying to unlock a mutex that does not exist");e.unlock()}}const qe=new st;class x extends Xe{constructor(e,r,i,s=!1,n=[]){super(e,r,n);m(this,"kind","directory");m(this,"isDirectory",!0);m(this,"isFile",!1);this.children=i,this.updateIdb(s)}get isDirectoryInMemory(){return this.children!==void 0}async moveToIdb(){const e=this.allInMemoryChildren();this.idbWrapper.setMany(e.map(r=>[r.idbKey,r.moveData()]))}moveData(){if(!this.children)throw new Error(`No directory data to move to IDB for directory "${this.name}"`);const e=[...this.children.values()].map(r=>r.name);return this.children=void 0,e}allInMemoryChildren(){if(!this.children)return[];const e=[this];for(const r of this.children.values())r instanceof x?r.isDirectoryInMemory&&e.push(...r.allInMemoryChildren()):r.isFileStoredInMemory&&e.push(r);return e}async lockAccess(){await qe.lock(this.idbKey)}unlockAccess(){qe.unlock(this.idbKey)}async updateIdb(e=!1){await this.lockAccess(),e&&await this.idbWrapper.clear(),!this.children&&!await this.hasChildren()&&await this.idbWrapper.set(this.idbKey,[]),this.setupDone.dispatch(),this.unlockAccess()}async addChild(e){this.children?this.children.set(e.name,e):await this.idbWrapper.set(this.idbKey,[...new Set([...await this.fromIdb(),e.name])])}async fromIdb(){var e;return(e=await this.idbWrapper.get(this.idbKey))!=null?e:[]}async getChildren(){return this.children?[...this.children.values()]:(await Promise.all((await this.fromIdb()).map(e=>this.getChild(e)))).filter(e=>e!==void 0)}getChildPath(e){return this.path.concat(e).join("/")}async getChild(e){if(this.children)return this.children.get(e);if(await this.has(e)){const r=await this.idbWrapper.get(this.getChildPath(e));if(r instanceof Uint8Array)return new T(this,e);if(Array.isArray(r))return new x(this,e)}}async deleteChild(e,r=!0){r&&await this.lockAccess(),this.children?this.children.delete(e):await this.idbWrapper.set(this.idbKey,(await this.fromIdb()).filter(i=>i!==e)),r&&this.unlockAccess()}async hasChildren(){return this.children?this.children.size>0:(await this.fromIdb()).length>0}async has(e){return this.children?this.children.has(e):(await this.fromIdb()).includes(e)}serialize(){return{idbWrapper:this.idbWrapper.storeName,kind:"directory",name:this.name,path:this.path,children:this.children?[...this.children.values()].map(e=>e.serialize()):void 0}}static deserialize(e,r=null){var s;const i=new x(r||new Ce(e.idbWrapper),e.name,void 0,!1,e.path);for(const n of(s=e.children)!=null?s:[])n.kind==="directory"?i.addChild(x.deserialize(n,i)):i.addChild(new T(i,n.name,n.fileData));return i}async getDirectoryHandle(e,{create:r}={}){await this.lockAccess();let i=await this.getChild(e);if(i&&i.kind==="file")throw this.unlockAccess(),new Error(`TypeMismatch: Expected directory with name "${e}", found file`);if(!i)if(r)i=new x(this,e,this.children?new Map:void 0),await i.setupDone.fired,await this.addChild(i);else throw this.unlockAccess(),new Error(`No file with the name ${e} exists in this folder`);return this.unlockAccess(),i}async getFileHandle(e,{create:r,initialData:i}={}){await this.lockAccess();let s=await this.getChild(e);if(s&&s.kind==="directory")throw this.unlockAccess(),new Error(`TypeMismatch: Expected file with name "${e}", found directory`);if(!s)if(r)s=new T(this,e,i!=null?i:new Uint8Array),await s.setupDone.fired,await this.addChild(s);else throw this.unlockAccess(),new Error(`No file with the name ${e} exists in this folder`);return this.unlockAccess(),s}async removeEntry(e,{recursive:r}={}){await this.lockAccess();const i=await this.getChild(e);if(i){if(i.kind==="directory"&&!r&&await i.hasChildren())throw this.unlockAccess(),new Error('Cannot remove directory with children without "recursive" option being set to true')}else throw this.unlockAccess(),new Error(`No entry with the name ${e} exists in this folder`);await i.removeSelf(!0,!1),await this.deleteChild(e,!1),this.unlockAccess()}async resolve(e){const r=[e.name];let i=e.getParent();for(;i!==null&&!await i.isSameEntry(this);)r.unshift(i.name),i=i.getParent();return i===null?null:r}async removeSelf(e=!0,r=!0){r&&await this.lockAccess();const i=await this.getChildren();for(const s of i)await s.removeSelf(!1);this.children||await this.idbWrapper.del(this.idbKey),this.parent&&e&&this.parent.deleteChild(this.name),r&&this.unlockAccess()}[Symbol.asyncIterator](){return this.entries()}keys(){return this.children?this.children.keys():{childNamesPromise:this.fromIdb(),[Symbol.asyncIterator](){return{i:0,childNamesPromise:this.childNamesPromise,async next(){const e=await this.childNamesPromise;return this.i<e.length?{done:!1,value:e[this.i++]}:{done:!0}}}}}}entries(){return this.children?this.children.entries():{childrenPromise:this.getChildren(),[Symbol.asyncIterator](){return{i:0,childrenPromise:this.childrenPromise,async next(){const e=await this.childrenPromise;return this.i<e.length?{done:!1,value:[e[this.i].name,e[this.i++]]}:{done:!0}}}}}}values(){return this.children?this.children.values():{childrenPromise:this.getChildren(),[Symbol.asyncIterator](){return{i:0,childrenPromise:this.childrenPromise,async next(){const e=await this.childrenPromise;return this.i<e.length?{done:!1,value:e[this.i++]}:{done:!0}}}}}}getEntries(){return this.values()}getDirectory(e,r={}){return this.getDirectoryHandle(e,r)}getFile(e,r={}){return this.getFileHandle(e,r)}}re.set("VirtualFileHandle",{canHandle:t=>t instanceof T,serialize:t=>[t.serialize(),[]],deserialize:t=>new T(null,t.name,t.fileData)}),re.set("VirtualDirectoryHandle",{canHandle:t=>t instanceof x,serialize:t=>[t.serialize(),[]],deserialize:t=>x.deserialize(t)}),re.set("VirtualDirectoryHandleArray",{canHandle:t=>Array.isArray(t)&&t.every(({directory:u})=>u instanceof x),serialize:t=>[t.map(({directory:u,...e})=>({directory:u.serialize(),...e})),[]],deserialize:t=>t.map(({directory:u,...e})=>({directory:x.deserialize(u),...e}))}),re.set("VirtualFileHandleArray",{canHandle:t=>Array.isArray(t)&&t.every(({fileHandle:u})=>u instanceof T),serialize:t=>[t.map(({fileHandle:u,...e})=>({fileHandle:u.serialize(),...e})),[]],deserialize:t=>t.map(({fileHandle:u,...e})=>({fileHandle:T.deserialize(u),...e}))});var at=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,Dt=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ot=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,_e={Space_Separator:at,ID_Start:Dt,ID_Continue:ot},B={isSpaceSeparator(t){return typeof t=="string"&&_e.Space_Separator.test(t)},isIdStartChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="$"||t==="_"||_e.ID_Start.test(t))},isIdContinueChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="$"||t==="_"||t==="\u200C"||t==="\u200D"||_e.ID_Continue.test(t))},isDigit(t){return typeof t=="string"&&/[0-9]/.test(t)},isHexDigit(t){return typeof t=="string"&&/[0-9A-Fa-f]/.test(t)}};let Pe,R,L,he,K,k,b,Re,ce;var ct=function(u,e){Pe=String(u),R="start",L=[],he=0,K=1,k=0,b=void 0,Re=void 0,ce=void 0;do b=lt(),Ct[R]();while(b.type!=="eof");return typeof e=="function"?Ze({"":ce},"",e):ce};function Ze(t,u,e){const r=t[u];if(r!=null&&typeof r=="object")for(const i in r){const s=Ze(r,i,e);s===void 0?delete r[i]:r[i]=s}return e.call(t,u,r)}let h,C,le,I,F;function lt(){for(h="default",C="",le=!1,I=1;;){F=M();const t=Ye[h]();if(t)return t}}function M(){if(Pe[he])return String.fromCodePoint(Pe.codePointAt(he))}function a(){const t=M();return t===`
`?(K++,k=0):t?k+=t.length:k++,t&&(he+=t.length),t}const Ye={default(){switch(F){case"	":case"\v":case"\f":case" ":case"\xA0":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":a();return;case"/":a(),h="comment";return;case void 0:return a(),g("eof")}if(B.isSpaceSeparator(F)){a();return}return Ye[R]()},comment(){switch(F){case"*":a(),h="multiLineComment";return;case"/":a(),h="singleLineComment";return}throw p(a())},multiLineComment(){switch(F){case"*":a(),h="multiLineCommentAsterisk";return;case void 0:throw p(a())}a()},multiLineCommentAsterisk(){switch(F){case"*":a();return;case"/":a(),h="default";return;case void 0:throw p(a())}a(),h="multiLineComment"},singleLineComment(){switch(F){case`
`:case"\r":case"\u2028":case"\u2029":a(),h="default";return;case void 0:return a(),g("eof")}a()},value(){switch(F){case"{":case"[":return g("punctuator",a());case"n":return a(),Y("ull"),g("null",null);case"t":return a(),Y("rue"),g("boolean",!0);case"f":return a(),Y("alse"),g("boolean",!1);case"-":case"+":a()==="-"&&(I=-1),h="sign";return;case".":C=a(),h="decimalPointLeading";return;case"0":C=a(),h="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":C=a(),h="decimalInteger";return;case"I":return a(),Y("nfinity"),g("numeric",1/0);case"N":return a(),Y("aN"),g("numeric",NaN);case'"':case"'":le=a()==='"',C="",h="string";return}throw p(a())},identifierNameStartEscape(){if(F!=="u")throw p(a());a();const t=xe();switch(t){case"$":case"_":break;default:if(!B.isIdStartChar(t))throw eu();break}C+=t,h="identifierName"},identifierName(){switch(F){case"$":case"_":case"\u200C":case"\u200D":C+=a();return;case"\\":a(),h="identifierNameEscape";return}if(B.isIdContinueChar(F)){C+=a();return}return g("identifier",C)},identifierNameEscape(){if(F!=="u")throw p(a());a();const t=xe();switch(t){case"$":case"_":case"\u200C":case"\u200D":break;default:if(!B.isIdContinueChar(t))throw eu();break}C+=t,h="identifierName"},sign(){switch(F){case".":C=a(),h="decimalPointLeading";return;case"0":C=a(),h="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":C=a(),h="decimalInteger";return;case"I":return a(),Y("nfinity"),g("numeric",I*(1/0));case"N":return a(),Y("aN"),g("numeric",NaN)}throw p(a())},zero(){switch(F){case".":C+=a(),h="decimalPoint";return;case"e":case"E":C+=a(),h="decimalExponent";return;case"x":case"X":C+=a(),h="hexadecimal";return}return g("numeric",I*0)},decimalInteger(){switch(F){case".":C+=a(),h="decimalPoint";return;case"e":case"E":C+=a(),h="decimalExponent";return}if(B.isDigit(F)){C+=a();return}return g("numeric",I*Number(C))},decimalPointLeading(){if(B.isDigit(F)){C+=a(),h="decimalFraction";return}throw p(a())},decimalPoint(){switch(F){case"e":case"E":C+=a(),h="decimalExponent";return}if(B.isDigit(F)){C+=a(),h="decimalFraction";return}return g("numeric",I*Number(C))},decimalFraction(){switch(F){case"e":case"E":C+=a(),h="decimalExponent";return}if(B.isDigit(F)){C+=a();return}return g("numeric",I*Number(C))},decimalExponent(){switch(F){case"+":case"-":C+=a(),h="decimalExponentSign";return}if(B.isDigit(F)){C+=a(),h="decimalExponentInteger";return}throw p(a())},decimalExponentSign(){if(B.isDigit(F)){C+=a(),h="decimalExponentInteger";return}throw p(a())},decimalExponentInteger(){if(B.isDigit(F)){C+=a();return}return g("numeric",I*Number(C))},hexadecimal(){if(B.isHexDigit(F)){C+=a(),h="hexadecimalInteger";return}throw p(a())},hexadecimalInteger(){if(B.isHexDigit(F)){C+=a();return}return g("numeric",I*Number(C))},string(){switch(F){case"\\":a(),C+=ft();return;case'"':if(le)return a(),g("string",C);C+=a();return;case"'":if(!le)return a(),g("string",C);C+=a();return;case`
`:case"\r":throw p(a());case"\u2028":case"\u2029":ht(F);break;case void 0:throw p(a())}C+=a()},start(){switch(F){case"{":case"[":return g("punctuator",a())}h="value"},beforePropertyName(){switch(F){case"$":case"_":C=a(),h="identifierName";return;case"\\":a(),h="identifierNameStartEscape";return;case"}":return g("punctuator",a());case'"':case"'":le=a()==='"',h="string";return}if(B.isIdStartChar(F)){C+=a(),h="identifierName";return}throw p(a())},afterPropertyName(){if(F===":")return g("punctuator",a());throw p(a())},beforePropertyValue(){h="value"},afterPropertyValue(){switch(F){case",":case"}":return g("punctuator",a())}throw p(a())},beforeArrayValue(){if(F==="]")return g("punctuator",a());h="value"},afterArrayValue(){switch(F){case",":case"]":return g("punctuator",a())}throw p(a())},end(){throw p(a())}};function g(t,u){return{type:t,value:u,line:K,column:k}}function Y(t){for(const u of t){if(M()!==u)throw p(a());a()}}function ft(){switch(M()){case"b":return a(),"\b";case"f":return a(),"\f";case"n":return a(),`
`;case"r":return a(),"\r";case"t":return a(),"	";case"v":return a(),"\v";case"0":if(a(),B.isDigit(M()))throw p(a());return"\0";case"x":return a(),At();case"u":return a(),xe();case`
`:case"\u2028":case"\u2029":return a(),"";case"\r":return a(),M()===`
`&&a(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw p(a());case void 0:throw p(a())}return a()}function At(){let t="",u=M();if(!B.isHexDigit(u)||(t+=a(),u=M(),!B.isHexDigit(u)))throw p(a());return t+=a(),String.fromCodePoint(parseInt(t,16))}function xe(){let t="",u=4;for(;u-- >0;){const e=M();if(!B.isHexDigit(e))throw p(a());t+=a()}return String.fromCodePoint(parseInt(t,16))}const Ct={start(){if(b.type==="eof")throw ee();ke()},beforePropertyName(){switch(b.type){case"identifier":case"string":Re=b.value,R="afterPropertyName";return;case"punctuator":Fe();return;case"eof":throw ee()}},afterPropertyName(){if(b.type==="eof")throw ee();R="beforePropertyValue"},beforePropertyValue(){if(b.type==="eof")throw ee();ke()},beforeArrayValue(){if(b.type==="eof")throw ee();if(b.type==="punctuator"&&b.value==="]"){Fe();return}ke()},afterPropertyValue(){if(b.type==="eof")throw ee();switch(b.value){case",":R="beforePropertyName";return;case"}":Fe()}},afterArrayValue(){if(b.type==="eof")throw ee();switch(b.value){case",":R="beforeArrayValue";return;case"]":Fe()}},end(){}};function ke(){let t;switch(b.type){case"punctuator":switch(b.value){case"{":t={};break;case"[":t=[];break}break;case"null":case"boolean":case"numeric":case"string":t=b.value;break}if(ce===void 0)ce=t;else{const u=L[L.length-1];Array.isArray(u)?u.push(t):u[Re]=t}if(t!==null&&typeof t=="object")L.push(t),Array.isArray(t)?R="beforeArrayValue":R="beforePropertyName";else{const u=L[L.length-1];u==null?R="end":Array.isArray(u)?R="afterArrayValue":R="afterPropertyValue"}}function Fe(){L.pop();const t=L[L.length-1];t==null?R="end":Array.isArray(t)?R="afterArrayValue":R="afterPropertyValue"}function p(t){return de(t===void 0?`JSON5: invalid end of input at ${K}:${k}`:`JSON5: invalid character '${uu(t)}' at ${K}:${k}`)}function ee(){return de(`JSON5: invalid end of input at ${K}:${k}`)}function eu(){return k-=5,de(`JSON5: invalid identifier character at ${K}:${k}`)}function ht(t){console.warn(`JSON5: '${uu(t)}' in strings is not valid ECMAScript; consider escaping`)}function uu(t){const u={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(u[t])return u[t];if(t<" "){const e=t.charCodeAt(0).toString(16);return"\\x"+("00"+e).substring(e.length)}return t}function de(t){const u=new SyntaxError(t);return u.lineNumber=K,u.columnNumber=k,u}var Ft=function(u,e,r){const i=[];let s="",n,D,o="",l;if(e!=null&&typeof e=="object"&&!Array.isArray(e)&&(r=e.space,l=e.quote,e=e.replacer),typeof e=="function")D=e;else if(Array.isArray(e)){n=[];for(const d of e){let E;typeof d=="string"?E=d:(typeof d=="number"||d instanceof String||d instanceof Number)&&(E=String(d)),E!==void 0&&n.indexOf(E)<0&&n.push(E)}}return r instanceof Number?r=Number(r):r instanceof String&&(r=String(r)),typeof r=="number"?r>0&&(r=Math.min(10,Math.floor(r)),o="          ".substr(0,r)):typeof r=="string"&&(o=r.substr(0,10)),f("",{"":u});function f(d,E){let A=E[d];switch(A!=null&&(typeof A.toJSON5=="function"?A=A.toJSON5(d):typeof A.toJSON=="function"&&(A=A.toJSON(d))),D&&(A=D.call(E,d,A)),A instanceof Number?A=Number(A):A instanceof String?A=String(A):A instanceof Boolean&&(A=A.valueOf()),A){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof A=="string")return c(A);if(typeof A=="number")return String(A);if(typeof A=="object")return Array.isArray(A)?H(A):y(A)}function c(d){const E={"'":.1,'"':.2},A={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let w="";for(let v=0;v<d.length;v++){const P=d[v];switch(P){case"'":case'"':E[P]++,w+=P;continue;case"\0":if(B.isDigit(d[v+1])){w+="\\x00";continue}}if(A[P]){w+=A[P];continue}if(P<" "){let oe=P.charCodeAt(0).toString(16);w+="\\x"+("00"+oe).substring(oe.length);continue}w+=P}const _=l||Object.keys(E).reduce((v,P)=>E[v]<E[P]?v:P);return w=w.replace(new RegExp(_,"g"),A[_]),_+w+_}function y(d){if(i.indexOf(d)>=0)throw TypeError("Converting circular structure to JSON5");i.push(d);let E=s;s=s+o;let A=n||Object.keys(d),w=[];for(const v of A){const P=f(v,d);if(P!==void 0){let oe=X(v)+":";o!==""&&(oe+=" "),oe+=P,w.push(oe)}}let _;if(w.length===0)_="{}";else{let v;if(o==="")v=w.join(","),_="{"+v+"}";else{let P=`,
`+s;v=w.join(P),_=`{
`+s+v+`,
`+E+"}"}}return i.pop(),s=E,_}function X(d){if(d.length===0)return c(d);const E=String.fromCodePoint(d.codePointAt(0));if(!B.isIdStartChar(E))return c(d);for(let A=E.length;A<d.length;A++)if(!B.isIdContinueChar(String.fromCodePoint(d.codePointAt(A))))return c(d);return d}function H(d){if(i.indexOf(d)>=0)throw TypeError("Converting circular structure to JSON5");i.push(d);let E=s;s=s+o;let A=[];for(let _=0;_<d.length;_++){const v=f(String(_),d);A.push(v!==void 0?v:"null")}let w;if(A.length===0)w="[]";else if(o===""){let _=A.join(",");w="["+_+"]"}else{let _=`,
`+s,v=A.join(_);w=`[
`+s+v+`,
`+E+"]"}return i.pop(),s=E,w}},tu={parse:ct,stringify:Ft};async function He(t,u,e=new Set,r=""){for await(const i of t.values()){const s=r.length===0?i.name:`${r}/${i.name}`;if(i.kind==="file"){if(i.name[0]===".")continue;await u(i,s,t)}else i.kind==="directory"&&!e.has(s)&&await He(i,u,e,s)}}async function Te(t,u,e=new Set,r=""){const i=[];for await(const s of t.values()){const n=r.length===0?s.name:`${r}/${s.name}`;if(s.kind==="file"){if(s.name[0]===".")continue;i.push(u(s,n,t))}else s.kind==="directory"&&!e.has(n)&&i.push(Te(s,u,e,n))}await Promise.all(i)}function N(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function ru(t,u){for(var e="",r=0,i=-1,s=0,n,D=0;D<=t.length;++D){if(D<t.length)n=t.charCodeAt(D);else{if(n===47)break;n=47}if(n===47){if(!(i===D-1||s===1))if(i!==D-1&&s===2){if(e.length<2||r!==2||e.charCodeAt(e.length-1)!==46||e.charCodeAt(e.length-2)!==46){if(e.length>2){var o=e.lastIndexOf("/");if(o!==e.length-1){o===-1?(e="",r=0):(e=e.slice(0,o),r=e.length-1-e.lastIndexOf("/")),i=D,s=0;continue}}else if(e.length===2||e.length===1){e="",r=0,i=D,s=0;continue}}u&&(e.length>0?e+="/..":e="..",r=2)}else e.length>0?e+="/"+t.slice(i+1,D):e=t.slice(i+1,D),r=D-i-1;i=D,s=0}else n===46&&s!==-1?++s:s=-1}return e}function dt(t,u){var e=u.dir||u.root,r=u.base||(u.name||"")+(u.ext||"");return e?e===u.root?e+r:e+t+r:r}var ne={resolve:function(){for(var u="",e=!1,r,i=arguments.length-1;i>=-1&&!e;i--){var s;i>=0?s=arguments[i]:(r===void 0&&(r=process.cwd()),s=r),N(s),s.length!==0&&(u=s+"/"+u,e=s.charCodeAt(0)===47)}return u=ru(u,!e),e?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(u){if(N(u),u.length===0)return".";var e=u.charCodeAt(0)===47,r=u.charCodeAt(u.length-1)===47;return u=ru(u,!e),u.length===0&&!e&&(u="."),u.length>0&&r&&(u+="/"),e?"/"+u:u},isAbsolute:function(u){return N(u),u.length>0&&u.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var u,e=0;e<arguments.length;++e){var r=arguments[e];N(r),r.length>0&&(u===void 0?u=r:u+="/"+r)}return u===void 0?".":ne.normalize(u)},relative:function(u,e){if(N(u),N(e),u===e||(u=ne.resolve(u),e=ne.resolve(e),u===e))return"";for(var r=1;r<u.length&&u.charCodeAt(r)===47;++r);for(var i=u.length,s=i-r,n=1;n<e.length&&e.charCodeAt(n)===47;++n);for(var D=e.length,o=D-n,l=s<o?s:o,f=-1,c=0;c<=l;++c){if(c===l){if(o>l){if(e.charCodeAt(n+c)===47)return e.slice(n+c+1);if(c===0)return e.slice(n+c)}else s>l&&(u.charCodeAt(r+c)===47?f=c:c===0&&(f=0));break}var y=u.charCodeAt(r+c),X=e.charCodeAt(n+c);if(y!==X)break;y===47&&(f=c)}var H="";for(c=r+f+1;c<=i;++c)(c===i||u.charCodeAt(c)===47)&&(H.length===0?H+="..":H+="/..");return H.length>0?H+e.slice(n+f):(n+=f,e.charCodeAt(n)===47&&++n,e.slice(n))},_makeLong:function(u){return u},dirname:function(u){if(N(u),u.length===0)return".";for(var e=u.charCodeAt(0),r=e===47,i=-1,s=!0,n=u.length-1;n>=1;--n)if(e=u.charCodeAt(n),e===47){if(!s){i=n;break}}else s=!1;return i===-1?r?"/":".":r&&i===1?"//":u.slice(0,i)},basename:function(u,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');N(u);var r=0,i=-1,s=!0,n;if(e!==void 0&&e.length>0&&e.length<=u.length){if(e.length===u.length&&e===u)return"";var D=e.length-1,o=-1;for(n=u.length-1;n>=0;--n){var l=u.charCodeAt(n);if(l===47){if(!s){r=n+1;break}}else o===-1&&(s=!1,o=n+1),D>=0&&(l===e.charCodeAt(D)?--D===-1&&(i=n):(D=-1,i=o))}return r===i?i=o:i===-1&&(i=u.length),u.slice(r,i)}else{for(n=u.length-1;n>=0;--n)if(u.charCodeAt(n)===47){if(!s){r=n+1;break}}else i===-1&&(s=!1,i=n+1);return i===-1?"":u.slice(r,i)}},extname:function(u){N(u);for(var e=-1,r=0,i=-1,s=!0,n=0,D=u.length-1;D>=0;--D){var o=u.charCodeAt(D);if(o===47){if(!s){r=D+1;break}continue}i===-1&&(s=!1,i=D+1),o===46?e===-1?e=D:n!==1&&(n=1):e!==-1&&(n=-1)}return e===-1||i===-1||n===0||n===1&&e===i-1&&e===r+1?"":u.slice(e,i)},format:function(u){if(u===null||typeof u!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof u);return dt("/",u)},parse:function(u){N(u);var e={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return e;var r=u.charCodeAt(0),i=r===47,s;i?(e.root="/",s=1):s=0;for(var n=-1,D=0,o=-1,l=!0,f=u.length-1,c=0;f>=s;--f){if(r=u.charCodeAt(f),r===47){if(!l){D=f+1;break}continue}o===-1&&(l=!1,o=f+1),r===46?n===-1?n=f:c!==1&&(c=1):n!==-1&&(c=-1)}return n===-1||o===-1||c===0||c===1&&n===o-1&&n===D+1?o!==-1&&(D===0&&i?e.base=e.name=u.slice(1,o):e.base=e.name=u.slice(D,o)):(D===0&&i?(e.name=u.slice(1,n),e.base=u.slice(1,o)):(e.name=u.slice(D,n),e.base=u.slice(D,o)),e.ext=u.slice(n,o)),D>0?e.dir=u.slice(0,D-1):i&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};ne.posix=ne;var j=ne;const Et=j.dirname,iu=j.join,nu=j.extname,mt=j.basename;j.resolve;const gt=j.relative;async function pt(){return typeof(await(await navigator.storage.getDirectory()).getFileHandle("bridge-supports-writable-test",{create:!0})).createWritable=="function"}async function su(){var t;return typeof((t=navigator.storage)==null?void 0:t.getDirectory)!="function"||!await pt()?new x(null,"bridgeFolder",void 0):await navigator.storage.getDirectory()}class Ne extends Ue{constructor(e){super();m(this,"_baseDirectory");e&&this.setup(e)}get baseDirectory(){return this._baseDirectory}setup(e){this._baseDirectory=e,this.hasFired||this.dispatch()}async getDirectoryHandle(e,{create:r,createOnce:i}={}){if(e===""||e===".")return this.baseDirectory;let s=this.baseDirectory;const n=e.split(/\\|\//g);n[0]==="."&&n.shift(),n[0]==="extensions"&&(n[0]="~local",n.splice(1,0,"extensions")),n[0]==="~local"&&(s=await su(),n.shift());for(const D of n){try{s=await s.getDirectoryHandle(D,{create:i||r})}catch{throw new Error(`Failed to access "${e}": Directory does not exist`)}i&&(i=!1,r=!1)}return s}async getFileHandle(e,r=!1){if(e.length===0)throw new Error("Error: filePath is empty");const i=await this.getDirectoryHandle(Et(e),{create:r});try{return await i.getFileHandle(mt(e),{create:r})}catch{throw new Error(`File does not exist: "${e}"`)}}async pathTo(e){const r=await su();if(e instanceof T&&!(r instanceof x))return;let i=await r.resolve(e).then(s=>s==null?void 0:s.join("/"));return i?i="~local/"+i:i=await this.baseDirectory.resolve(e).then(s=>s==null?void 0:s.join("/")),i}async mkdir(e,{recursive:r}={}){await this.getDirectoryHandle(e,{create:!0})}async readdir(e,{withFileTypes:r}={}){const i=await this.getDirectoryHandle(e),s=[];for await(const n of i.values())n.kind==="file"&&n.name===".DS_Store"||(r?s.push(n):s.push(n.name));return s}async readFilesFromDir(e,r=this.getDirectoryHandle(e)){r=await r;const i=[],s=[];for await(const n of r.values())n.kind==="file"&&n.name===".DS_Store"||(n.kind==="file"?i.push({name:n.name,kind:n.kind,path:`${e}/${n.name}`}):n.kind==="directory"&&s.push(this.readFilesFromDir(`${e}/${n.name}`,n).then(D=>i.push(...D))));return await Promise.allSettled(s),i}readFile(e){return this.getFileHandle(e).then(r=>r.getFile())}async unlink(e){if(e.length===0)throw new Error("Error: filePath is empty");const r=e.split(/\\|\//g),i=r.pop();let s;try{s=await this.getDirectoryHandle(r.join("/"))}catch{return}try{await s.removeEntry(i,{recursive:!0})}catch{}}async writeFile(e,r){const i=await this.getFileHandle(e,!0);return await this.write(i,r),i}async write(e,r){const i=await e.createWritable({keepExistingData:!1});await i.write(r),await i.close()}async readJSON(e){const r=await this.readFile(e);try{return await tu.parse(await r.text())}catch{throw new Error(`Invalid JSON: ${e}`)}}async readJsonHandle(e){const r=await e.getFile();try{return await tu.parse(await r.text())}catch{throw new Error(`Invalid JSON: ${e.name}`)}}writeJSON(e,r,i=!1){return this.writeFile(e,JSON.stringify(r,null,i?"	":void 0))}async move(e,r){if(await this.fileExists(e))await this.copyFile(e,r);else if(await this.directoryExists(e))await this.copyFolder(e,r);else throw new Error(`File or folder does not exist: ${e}`);await this.unlink(e)}async copyFile(e,r){const i=await this.getFileHandle(e,!1),s=await this.getFileHandle(r,!0);return await this.copyFileHandle(i,s)}async copyFileHandle(e,r){return await this.write(r,await e.getFile()),r}async copyFolder(e,r){const i=await this.getDirectoryHandle(e,{create:!1});await Te(i,async(s,n)=>{await this.copyFileHandle(s,await this.getFileHandle(iu(r,n),!0))})}async copyFolderByHandle(e,r){const i=new Ne(r);await Te(e,async(s,n)=>{await this.copyFileHandle(s,await i.getFileHandle(n,!0))})}loadFileHandleAsDataUrl(e){return new Promise(async(r,i)=>{const s=new FileReader;try{const n=await e.getFile();s.addEventListener("load",()=>{r(s.result)}),s.addEventListener("error",i),s.readAsDataURL(n)}catch{i(`File does not exist: "${e.name}"`)}})}async fileExists(e){try{return await this.getFileHandle(e),!0}catch{return!1}}async directoryExists(e){try{return await this.getDirectoryHandle(e),!0}catch{return!1}}async getDirectoryHandlesFromGlob(e,r="."){const i=e.split(/\/|\\/g),s=new Set([await this.getDirectoryHandle(r)]);for(const n of i){if(n==="*")for(const D of[...s.values()]){s.delete(D);for await(const o of D.values())o.kind==="directory"&&s.add(o)}else{if(n==="**")return console.warn('"**" is not supported yet'),[];for(const D of[...s.values()]){s.delete(D);try{s.add(await D.getDirectoryHandle(n))}catch{}}}if(s.size===0)return[]}return[...s.values()]}}function yt(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const au={matchCase:0,ignoreCase:1,useRegExp:2};function Bt(t,u,e){return t.replace(u,(r,...i)=>(i=i.slice(0,-2),e.replace(/{(\d+)}/g,(s,...n)=>{var D;return(D=i[Number(n[0])])!=null?D:s})))}function Du(t,u){let e;try{e=new RegExp(u===au.useRegExp?t:yt(t),`g${u===au.ignoreCase?"i":""}`)}catch{return}return e}var wt=Object.defineProperty,vt=Object.defineProperties,bt=Object.getOwnPropertyDescriptors,ou=Object.getOwnPropertySymbols,St=Object.prototype.hasOwnProperty,_t=Object.prototype.propertyIsEnumerable,cu=(t,u,e)=>u in t?wt(t,u,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[u]=e,Pt=(t,u)=>{for(var e in u||(u={}))St.call(u,e)&&cu(t,e,u[e]);if(ou)for(var e of ou(u))_t.call(u,e)&&cu(t,e,u[e]);return t},Rt=(t,u)=>vt(t,bt(u));function lu(t,u){for(var e=0,r=t.length-1;r>=0;r--){var i=t[r];i==="."?t.splice(r,1):i===".."?(t.splice(r,1),e++):e&&(t.splice(r,1),e--)}if(u)for(;e--;e)t.unshift("..");return t}var xt=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,Oe=function(t){return xt.exec(t).slice(1)};function Ee(){for(var t="",u=!1,e=arguments.length-1;e>=-1&&!u;e--){var r=e>=0?arguments[e]:"/";if(typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!r)continue;t=r+"/"+t,u=r.charAt(0)==="/"}return t=lu(Ie(t.split("/"),function(i){return!!i}),!u).join("/"),(u?"/":"")+t||"."}function $e(t){var u=Le(t),e=Ht(t,-1)==="/";return t=lu(Ie(t.split("/"),function(r){return!!r}),!u).join("/"),!t&&!u&&(t="."),t&&e&&(t+="/"),(u?"/":"")+t}function Le(t){return t.charAt(0)==="/"}function fu(){var t=Array.prototype.slice.call(arguments,0);return $e(Ie(t,function(u,e){if(typeof u!="string")throw new TypeError("Arguments to path.join must be strings");return u}).join("/"))}function Au(t,u){t=Ee(t).substr(1),u=Ee(u).substr(1);function e(l){for(var f=0;f<l.length&&l[f]==="";f++);for(var c=l.length-1;c>=0&&l[c]==="";c--);return f>c?[]:l.slice(f,c-f+1)}for(var r=e(t.split("/")),i=e(u.split("/")),s=Math.min(r.length,i.length),n=s,D=0;D<s;D++)if(r[D]!==i[D]){n=D;break}for(var o=[],D=n;D<r.length;D++)o.push("..");return o=o.concat(i.slice(n)),o.join("/")}var Cu="/",hu=":";function Fu(t){var u=Oe(t),e=u[0],r=u[1];return!e&&!r?".":(r&&(r=r.substr(0,r.length-1)),e+r)}function du(t,u){var e=Oe(t)[2];return u&&e.substr(-1*u.length)===u&&(e=e.substr(0,e.length-u.length)),e}function Eu(t){return Oe(t)[3]}var kt={extname:Eu,basename:du,dirname:Fu,sep:Cu,delimiter:hu,relative:Au,join:fu,isAbsolute:Le,normalize:$e,resolve:Ee};function Ie(t,u){if(t.filter)return t.filter(u);for(var e=[],r=0;r<t.length;r++)u(t[r],r,t)&&e.push(t[r]);return e}var Ht="ab".substr(-1)==="b"?function(t,u,e){return t.substr(u,e)}:function(t,u,e){return u<0&&(u=t.length+u),t.substr(u,e)},mu=Object.freeze({__proto__:null,resolve:Ee,normalize:$e,isAbsolute:Le,join:fu,relative:Au,sep:Cu,delimiter:hu,dirname:Fu,basename:du,extname:Eu,default:kt});function gu(){throw new Error("setTimeout has not been defined")}function pu(){throw new Error("clearTimeout has not been defined")}var U=gu,J=pu,se;typeof window<"u"?se=window:typeof self<"u"?se=self:se={},typeof se.setTimeout=="function"&&(U=setTimeout),typeof se.clearTimeout=="function"&&(J=clearTimeout);function yu(t){if(U===setTimeout)return setTimeout(t,0);if((U===gu||!U)&&setTimeout)return U=setTimeout,setTimeout(t,0);try{return U(t,0)}catch{try{return U.call(null,t,0)}catch{return U.call(this,t,0)}}}function Tt(t){if(J===clearTimeout)return clearTimeout(t);if((J===pu||!J)&&clearTimeout)return J=clearTimeout,clearTimeout(t);try{return J(t)}catch{try{return J.call(null,t)}catch{return J.call(this,t)}}}var W=[],ae=!1,ue,me=-1;function Nt(){!ae||!ue||(ae=!1,ue.length?W=ue.concat(W):me=-1,W.length&&Bu())}function Bu(){if(!ae){var t=yu(Nt);ae=!0;for(var u=W.length;u;){for(ue=W,W=[];++me<u;)ue&&ue[me].run();me=-1,u=W.length}ue=null,ae=!1,Tt(t)}}function Ot(t){var u=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)u[e-1]=arguments[e];W.push(new wu(t,u)),W.length===1&&!ae&&yu(Bu)}function wu(t,u){this.fun=t,this.array=u}wu.prototype.run=function(){this.fun.apply(null,this.array)};var $t="browser",Lt="browser",It=!0,Mt=[],jt="",Wt={},zt={},Vt={};function te(){}var Gt=te,Kt=te,Ut=te,Jt=te,Xt=te,Qt=te,qt=te;function Zt(t){throw new Error("process.binding is not supported")}function Yt(){return"/"}function er(t){throw new Error("process.chdir is not supported")}function ur(){return 0}var De=se.performance||{},tr=De.now||De.mozNow||De.msNow||De.oNow||De.webkitNow||function(){return new Date().getTime()};function rr(t){var u=tr.call(De)*.001,e=Math.floor(u),r=Math.floor(u%1*1e9);return t&&(e=e-t[0],r=r-t[1],r<0&&(e--,r+=1e9)),[e,r]}var ir=new Date;function nr(){var t=new Date,u=t-ir;return u/1e3}var sr={nextTick:Ot,title:$t,browser:It,env:{NODE_ENV:"production"},argv:Mt,version:jt,versions:Wt,on:Gt,addListener:Kt,once:Ut,off:Jt,removeListener:Xt,removeAllListeners:Qt,emit:qt,binding:Zt,cwd:Yt,chdir:er,umask:ur,hrtime:rr,platform:Lt,release:zt,config:Vt,uptime:nr};function ar(t,u,e){return e={path:u,exports:{},require:function(r,i){return Dr(r,i==null?e.path:i)}},t(e,e.exports),e.exports}function Dr(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}const O="\\\\/",vu=`[^${O}]`,z="\\.",or="\\+",cr="\\?",ge="\\/",lr="(?=.)",bu="[^/]",Me=`(?:${ge}|$)`,Su=`(?:^|${ge})`,je=`${z}{1,2}${Me}`,fr=`(?!${z})`,Ar=`(?!${Su}${je})`,Cr=`(?!${z}{0,1}${Me})`,hr=`(?!${je})`,Fr=`[^.${ge}]`,dr=`${bu}*?`,_u={DOT_LITERAL:z,PLUS_LITERAL:or,QMARK_LITERAL:cr,SLASH_LITERAL:ge,ONE_CHAR:lr,QMARK:bu,END_ANCHOR:Me,DOTS_SLASH:je,NO_DOT:fr,NO_DOTS:Ar,NO_DOT_SLASH:Cr,NO_DOTS_SLASH:hr,QMARK_NO_DOT:Fr,STAR:dr,START_ANCHOR:Su},Er=Rt(Pt({},_u),{SLASH_LITERAL:`[${O}]`,QMARK:vu,STAR:`${vu}*?`,DOTS_SLASH:`${z}{1,2}(?:[${O}]|$)`,NO_DOT:`(?!${z})`,NO_DOTS:`(?!(?:^|[${O}])${z}{1,2}(?:[${O}]|$))`,NO_DOT_SLASH:`(?!${z}{0,1}(?:[${O}]|$))`,NO_DOTS_SLASH:`(?!${z}{1,2}(?:[${O}]|$))`,QMARK_NO_DOT:`[^.${O}]`,START_ANCHOR:`(?:^|[${O}])`,END_ANCHOR:`(?:[${O}]|$)`}),mr={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var gr={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:mr,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:mu.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?Er:_u}};ar(function(t,u){const{REGEX_BACKSLASH:e,REGEX_REMOVE_BACKSLASH:r,REGEX_SPECIAL_CHARS:i,REGEX_SPECIAL_CHARS_GLOBAL:s}=gr;u.isObject=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),u.hasRegexChars=n=>i.test(n),u.isRegexChar=n=>n.length===1&&u.hasRegexChars(n),u.escapeRegex=n=>n.replace(s,"\\$1"),u.toPosixSlashes=n=>n.replace(e,"/"),u.removeBackslashes=n=>n.replace(r,D=>D==="\\"?"":D),u.supportsLookbehinds=()=>{const n=sr.version.slice(1).split(".").map(Number);return n.length===3&&n[0]>=9||n[0]===8&&n[1]>=10},u.isWindows=n=>n&&typeof n.windows=="boolean"?n.windows:mu.sep==="\\",u.escapeLast=(n,D,o)=>{const l=n.lastIndexOf(D,o);return l===-1?n:n[l-1]==="\\"?u.escapeLast(n,D,l-1):`${n.slice(0,l)}\\${n.slice(l)}`},u.removePrefix=(n,D={})=>{let o=n;return o.startsWith("./")&&(o=o.slice(2),D.prefix="./"),o},u.wrapOutput=(n,D={},o={})=>{const l=o.contains?"":"^",f=o.contains?"":"$";let c=`${l}(?:${n})${f}`;return D.negated===!0&&(c=`(?:^(?!${c}).*$)`),c}}),new TextEncoder;const Pu={behaviorPack:"./BP",resourcePack:"./RP",skinPack:"./SP",worldTemplate:"./WT"};class pr{constructor(u){this.basePath=u,this.data={}}async refreshConfig(){this.data=await this.readConfig()}async setup(){await this.refreshConfig()}get(){return this.data}getRelativePackRoot(u){var e,r;return(r=(e=this.data.packs)==null?void 0:e[u])!=null?r:Pu[u]}getAbsolutePackRoot(u){return this.resolvePackPath(u)}resolvePackPath(u,e){return!e&&!u?this.basePath:!u&&e?j.join(this.basePath,e):!e&&u?j.join(this.basePath,this.getRelativePackRoot(u)):j.join(this.basePath,`${this.getRelativePackRoot(u)}/${e}`)}getAvailablePackPaths(){var u;const e=[];for(const r of Object.keys((u=this.data.packs)!=null?u:{}))e.push(this.resolvePackPath(r));return e}getAvailablePacks(){var u;const e={};for(const r in(u=this.data.packs)!=null?u:{})e[r]=this.resolvePackPath(r);return e}async save(){await this.writeConfig(this.data)}}class yr extends pr{constructor(u,e,r){super(e),this.fileSystem=u,this.project=r,r&&r.fileSave.on(this.resolvePackPath(void 0,"config.json"),()=>{this.refreshConfig(),this.project.app.windows.createPreset.onPresetsChanged(),this.project.compilerService.reloadPlugins()})}readConfig(){return this.fileSystem.readJSON("config.json").catch(()=>({}))}async writeConfig(u){await this.fileSystem.writeJSON("config.json",u,!0)}async setup(u=!0){var i,s,n,D,o,l,f;if(u&&await this.fileSystem.fileExists(".bridge/config.json")){const{darkTheme:c,lightTheme:y,gameTestAPI:X,scriptingAPI:H,prefix:d,...E}=await this.fileSystem.readJSON(".bridge/config.json");await this.fileSystem.unlink(".bridge/config.json");const A={};X&&(A.enableGameTestFramework=!0),H&&(A.additionalModdingCapabilities=!0);const w={type:"minecraftBedrock",name:this.fileSystem.baseDirectory.name,namespace:d,experimentalGameplay:A,...E,authors:E.author?[E.author]:["Unknown"],packs:Pu,bridge:{darkTheme:c,lightTheme:y}};await this.fileSystem.writeJSON("config.json",w,!0),this.data=w;return}await super.setup();const e=(s=(i=this.data.bridge)==null?void 0:i.formatVersion)!=null?s:0;this.data.bridge||(this.data.bridge={});let r=!1;if(u&&this.project&&this.data.capabilities){const c=await this.project.app.dataLoader.readJSON("data/packages/minecraftBedrock/experimentalGameplay.json"),y=(n=this.data.experimentalGameplay)!=null?n:{},X=(D=this.data.capabilities)!=null?D:[];y.enableGameTestFramework=X.includes("gameTestAPI"),y.additionalModdingCapabilities=X.includes("scriptingAPI");for(const H of c)(l=y[o=H.id])!=null||(y[o]=!0);this.data.experimentalGameplay=y,this.data.capabilities=void 0,r=!0}if(u&&this.data.author&&!this.data.authors&&(this.data.authors=typeof this.data.author=="string"?[this.data.author]:this.data.author,this.data.author=void 0,r=!0),u&&await this.fileSystem.fileExists(".bridge/compiler/default.json")){const c=await this.fileSystem.readJSON(".bridge/compiler/default.json");this.data.compiler={plugins:c.plugins},await this.fileSystem.unlink(".bridge/compiler/default.json"),r=!0}u&&e===0&&((f=this.data.compiler)==null?void 0:f.plugins)&&!this.data.compiler.plugins.includes("formatVersionCorrection")&&(this.data.bridge.formatVersion=1,this.data.compiler.plugins.push("formatVersionCorrection"),r=!0),r&&await this.writeConfig(this.data)}async getWorldHandles(){var r;if(!this.project)throw new Error("Cannot use getWorldHandles() within web workers yet");const u=this.project.app,e=((r=this.get().worlds)!=null?r:["./worlds/*"]).map(i=>this.resolvePackPath(void 0,i));return(await Promise.all(e.map(i=>u.fileSystem.getDirectoryHandlesFromGlob(i)))).flat()}getAuthorImage(){var e;const u=(e=this.get().authors)==null?void 0:e.find(r=>typeof r!="string"&&r.logo);if(!!u)return this.resolvePackPath(void 0,u.logo)}async toggleExperiment(u,e){var i,s;u.app.windows.loadingWindow.open();const r=(s=(i=this.get())==null?void 0:i.experimentalGameplay)!=null?s:{};r[e]=!r[e],await this.save(),u.isActiveProject&&await u.refresh(),this.project.app.windows.createPreset.onPresetsChanged(),u.app.windows.loadingWindow.close()}}globalThis.process={cwd:()=>"",env:{},release:{name:"browser"}};const Ru=new Set([".js",".ts",".lang",".mcfunction",".txt",".md",".molang",".json",".html"]),xu=new Set([".bridge","builds",".git s"]),We=100;class Br{constructor(u,e){m(this,"fileSystem");m(this,"matchedFiles",new Set);m(this,"config");this.projectFolderHandle=u,this.projectPath=e,this.fileSystem=new Ne(u),this.config=new yr(this.fileSystem,e)}setMatchedFiles(u){const e=this.matchedFiles;return this.matchedFiles=new Set(u),[...e]}async createQuery(u,e,{searchType:r}){if(this.matchedFiles.clear(),e==="")return[];const i=[],s=Du(e,r);if(!s)return[];const n=[];for(const D of u)n.push(this.iterateDirectory(D,s,i));return await Promise.all(n),i}async executeQuery(u,e,r,{searchType:i}){if(e==="")return[];const s=Du(e,i);if(!s)return[];const n=[];for(const D of u)n.push(this.replaceAll(D,s,r));await Promise.all(n)}async iterateDirectory({directory:u,path:e},r,i){await He(u,async(s,n)=>{const D=nu(n);if(!Ru.has(D))return;const o=[],l=await s.getFile().then(c=>c.text());r.lastIndex=0;let f=r.exec(l);for(;f!==null;){let c=f.index-We/2,y=We/2;c<0&&(y=y+c,c=0),o.push({isStartOfFile:c===0,beforeMatch:l.substr(c,y),match:f[0],afterMatch:l.substr(f.index+f[0].length,We/2)}),f=r.exec(l)}o.length>0&&(this.matchedFiles.add(n),i.push({filePath:n,displayFilePath:iu(`./${u.name}`,gt(e,n)),fileHandle:s,matches:o}))},xu,e)}async replaceAll({directory:u,path:e},r,i){await He(u,async(s,n)=>{const D=nu(n);if(!Ru.has(D)||!this.matchedFiles.has(n))return;const o=await s.getFile().then(f=>f.text()),l=Bt(o,r,i);o!==l&&await this.fileSystem.write(s,l)},xu,e)}}ye(Br)})();
