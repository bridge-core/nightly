var jo=Object.defineProperty,To=Object.defineProperties;var Po=Object.getOwnPropertyDescriptors;var ai=Object.getOwnPropertySymbols;var Hn=Object.prototype.hasOwnProperty,Vn=Object.prototype.propertyIsEnumerable;var Ri=(t,e,i)=>e in t?jo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,j=(t,e)=>{for(var i in e||(e={}))Hn.call(e,i)&&Ri(t,i,e[i]);if(ai)for(var i of ai(e))Vn.call(e,i)&&Ri(t,i,e[i]);return t},W=(t,e)=>To(t,Po(e));var zn=(t,e)=>{var i={};for(var n in t)Hn.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&ai)for(var n of ai(t))e.indexOf(n)<0&&Vn.call(t,n)&&(i[n]=t[n]);return i};var u=(t,e,i)=>(Ri(t,typeof e!="symbol"?e+"":e,i),i);import{V as De,a as $o,v as N,c as Un,g as ut,s as Le,d as oi,k as Mo,m as U,t as Gn,r as ke,b as X,e as $e,f as Ct,h as He,l as V,i as Ae,j as Jn,U as Ii,p as Rt,n as Oo,R as It,o as Ro,K as Io,q as Wo,T as No,u as bt,D as Wi,w as Ve,x as z,y as qn,z as Kn,A as ui,W as Lo,P as Ho,O as Vo,S as zo,B as Uo,C as Ni,E as Go,F as Jo,G as Li,H as Wt,M as qo,I as Ko,J as Qo,L as Xo,N as Zo,Q as Yo,X as eu,Y as tu,Z as iu,_ as nu,$ as su,a0 as ru,a1 as au,a2 as ou,a3 as uu,a4 as cu,a5 as lu,a6 as du,a7 as pu,a8 as Qn,a9 as hu,aa as mu,ab as fu,ac as gu,ad as wu}from"./vendor.739914c9.js";const yu=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}};yu();De.use($o);class ee{constructor(){u(this,"listeners",new Set)}get hasListeners(){return this.listeners.size>0}dispatch(e){this.listeners.forEach(i=>i(e))}on(e,i=!0){if(this.listeners.add(e),i)return{dispose:()=>{this.off(e)}}}off(e){this.listeners.delete(e)}once(e){const i=n=>{e(n),this.off(i)};this.on(i)}disposeListeners(){this.listeners=new Set}}class L extends ee{constructor(e=1){super();u(this,"firedTimes",0);u(this,"data");this.needsToFireAmount=e}get fired(){return new Promise(e=>this.once(e))}get hasFired(){return this.firedTimes>=this.needsToFireAmount}setFiredTimes(e){this.firedTimes=e}resetSignal(){this.data=void 0,this.firedTimes=0}dispatch(e){if(this.firedTimes<this.needsToFireAmount&&this.firedTimes++,this.data=e,this.hasFired)return super.dispatch(e)}on(e,i=!0){return this.hasFired&&e(this.data),super.on(e,i)}}class Xn{constructor(e,i,n=[],s=N()){u(this,"isVirtual",!0);u(this,"setupDone",new L);this.parent=e,this._name=i,this.basePath=n,this.uuid=s}get path(){return this.parent?this.parent.path.concat(this.name):this.basePath}get idbKey(){return this.path.length===0?this._name:this.path.join("/")}get name(){return this._name}getParent(){return this.parent}async isSameEntry(e){return e.idbKey===this.idbKey}async queryPermission(e){return"granted"}async requestPermission(e){return"granted"}}const vu=new TextEncoder,Zn=Symbol("writeMethod");class Cu{constructor(e){u(this,"tmpData",new Uint8Array);u(this,"cursorOffset",0);u(this,"locked",!1);this.fileHandle=e}async write(e){let i;if(typeof e=="string")i=vu.encode(e);else if(e instanceof Blob)i=await e.arrayBuffer().then(n=>new Uint8Array(n));else if("type"in e){if(e.type==="seek")return await this.seek(e.position);if(e.type==="truncate")return await this.truncate(e.size);if(e.type==="write")return e.position&&await this.seek(e.position),await this.write(e.data);throw new Error(`Unknown data type: ${e.type}`)}else ArrayBuffer.isView(e)?i=new Uint8Array(e.buffer):i=new Uint8Array(e);this.tmpData=new Uint8Array([...this.tmpData.slice(0,this.cursorOffset),...i]),this.cursorOffset=this.tmpData.length}async seek(e){this.cursorOffset=Math.floor(e)}async truncate(e){this.tmpData=this.tmpData.slice(0,e),this.cursorOffset>e&&(this.cursorOffset=e)}async close(){await this.fileHandle[Zn](this.tmpData)}async abort(){throw new Error("WriteStream was aborted")}getWriter(){}}const ci=Un("virtual-fs","virtual-fs-store"),li=(t,e)=>Le(t,e,ci),di=t=>ut(t,ci),Hi=t=>oi(t,ci),bu=async t=>await di(t)!==void 0,Fu=()=>Mo(ci);class Ye extends Xn{constructor(e,i,n,s=!1){super(e,i);u(this,"kind","file");u(this,"isFile",!0);u(this,"isDirectory",!1);u(this,"fileData");this.inMemory=s,n?this.setup(n):this.setupDone.dispatch()}async setup(e){if(this.fileData=globalThis.document?U(e):e,this.inMemory||this.path.join("/").startsWith("data/packages")&&e.length<1e4)return this.setupDone.dispatch();await this.updateIdb(e),this.setupDone.dispatch()}async updateIdb(e){await li(this.idbKey,e),this.fileData=void 0}async loadFromIdb(){if(this.fileData)return this.fileData;let e=await di(this.idbKey);if(!e)throw console.log(this.parent),new Error(`File not found: "${this.path.join("/")}"`);return e}serialize(){return{kind:"file",name:this.name,fileData:this.fileData}}async removeSelf(){await Hi(this.idbKey)}async getFile(){const e=await this.loadFromIdb();return new File([e],this.name)}async createWritable(){return new Cu(this)}async[Zn](e){this.inMemory?this.fileData=e:await this.updateIdb(e)}}class ve extends Xn{constructor(e,i,n,s=!1,r=[]){super(e,i,r);u(this,"kind","directory");u(this,"isDirectory",!0);u(this,"isFile",!1);this.children=n,this.updateIdb(s)}async updateIdb(e=!1){if(e){const i=await Fu();for(const n of i)typeof n=="string"&&n.startsWith("data/packages/")&&await Hi(n)}!this.children&&!await this.hasChildren()&&await li(this.idbKey,[]),this.setupDone.dispatch()}async addChild(e){await this.has(e.name)||(this.children?this.children.set(e.name,e):await li(this.idbKey,[...await this.fromIdb(),e.name]))}async fromIdb(){var e;return(e=await di(this.idbKey))!=null?e:[]}async getChildren(){return this.children?[...this.children.values()]:await Promise.all((await this.fromIdb()).map(e=>this.getChild(e)).filter(e=>e!==void 0))}getChildPath(e){return this.path.concat(e).join("/")}async getChild(e){if(this.children)return this.children.get(e);if(await this.has(e)){const i=await di(this.getChildPath(e));if(i instanceof Uint8Array)return new Ye(this,e);if(Array.isArray(i))return new ve(this,e)}}async deleteChild(e){this.children?this.children.delete(e):await li(this.idbKey,(await this.fromIdb()).filter(i=>i!==e))}async hasChildren(){return this.children?this.children.size>0:(await this.fromIdb()).length>0}async has(e){return this.children?this.children.has(e):(await this.fromIdb()).includes(e)}serialize(){return{kind:"directory",name:this.name,path:this.path,children:this.children?[...this.children.values()].map(e=>e.serialize()):void 0}}static deserialize(e,i=null){var s;const n=new ve(i,e.name,void 0,!1,e.path);for(const r of(s=e.children)!=null?s:[])r.kind==="directory"?n.addChild(ve.deserialize(r,n)):n.addChild(new Ye(n,r.name,r.fileData));return n}async getDirectoryHandle(e,{create:i}={}){let n=await this.getChild(e);if(n&&n.kind==="file")throw new Error(`TypeMismatch: Expected directory with name "${e}", found file`);if(!n)if(i)n=new ve(this,e,this.children?new Map:void 0),await n.setupDone.fired,await this.addChild(n);else throw new Error(`No file with the name ${e} exists in this folder`);return n}async getFileHandle(e,{create:i,initialData:n}={}){let s=await this.getChild(e);if(s&&s.kind==="directory")throw new Error(`TypeMismatch: Expected file with name "${e}", found directory`);if(!s)if(i)s=new Ye(this,e,n!=null?n:new Uint8Array),await s.setupDone.fired,await this.addChild(s);else throw new Error(`No file with the name ${e} exists in this folder`);return s}async removeEntry(e,{recursive:i}={}){const n=await this.getChild(e);if(n){if(n.kind==="directory"&&!i&&await n.hasChildren())throw new Error('Cannot remove directory with children without "recursive" option being set to true')}else throw new Error(`No entry with the name ${e} exists in this folder`);await n.removeSelf(),await this.deleteChild(e)}async resolve(e){const i=[e.name];let n=e.getParent();for(;n!==null&&!await n.isSameEntry(this);)i.unshift(n.name),n=n.getParent();return n===null?null:i}async removeSelf(){const e=await this.getChildren();for(const i of e)await i.removeSelf();this.children||await Hi(this.idbKey)}[Symbol.asyncIterator](){return this.entries()}keys(){return this.children?this.children.keys():{childNamesPromise:this.fromIdb(),[Symbol.asyncIterator](){return{i:0,childNamesPromise:this.childNamesPromise,async next(){const e=await this.childNamesPromise;return this.i<e.length?{done:!1,value:e[this.i++]}:{done:!0}}}}}}entries(){return this.children?this.children.entries():{childrenPromise:this.getChildren(),[Symbol.asyncIterator](){return{i:0,childrenPromise:this.childrenPromise,async next(){const e=await this.childrenPromise;return this.i<e.length?{done:!1,value:[e[this.i].name,e[this.i++]]}:{done:!0}}}}}}values(){return this.children?this.children.values():{childrenPromise:this.getChildren(),[Symbol.asyncIterator](){return{i:0,childrenPromise:this.childrenPromise,async next(){const e=await this.childrenPromise;return this.i<e.length?{done:!1,value:e[this.i++]}:{done:!0}}}}}}getEntries(){return this.values()}getDirectory(e,i={}){return this.getDirectoryHandle(e,i)}getFile(e,i={}){return this.getFileHandle(e,i)}}function pi(){const t=["93","94"],e=navigator.userAgentData;if(!e)return!1;const i=e.brands.find(({brand:n})=>n==="Google Chrome");return i?t.includes(i.version):!1}let G=!1;(pi()||typeof window.showDirectoryPicker!="function")&&(G=!0,window.showDirectoryPicker=async()=>new ve(null,"bridgeFolder",void 0));(pi()||typeof window.showOpenFilePicker!="function")&&(window.showOpenFilePicker=async t=>{var s;const e=j({types:[]},t),i=document.createElement("input");i.type="file",i.multiple=(s=e.multiple)!=null?s:!1,i.accept=e.types.map(r=>Object.values(r.accept)).flat(2).join(","),i.style.display="none",document.body.appendChild(i);let n=!1;return new Promise((r,a)=>{i.addEventListener("change",async o=>{var d;n=!0;const c=[...(d=i.files)!=null?d:[]];document.body.removeChild(i),r(await Promise.all(c.map(async p=>new Ye(null,p.name,new Uint8Array(await p.arrayBuffer()),!0))))},{once:!0}),window.addEventListener("focus",()=>{setTimeout(()=>{n||(a("User aborted selecting file"),document.body.removeChild(i))},300)},{once:!0}),i.click()})});(pi()||typeof window.showSaveFilePicker!="function")&&(window.showSaveFilePicker=async(t={})=>{var e;return new Ye(null,(e=t.suggestedName)!=null?e:"newFile.txt",new Uint8Array,!0)});(pi()||globalThis.DataTransferItem&&!DataTransferItem.prototype.getAsFileSystemHandle)&&(DataTransferItem.prototype.getAsFileSystemHandle=async function(){if(this.kind==="file"){const t=this.getAsFile();return t?new Ye(null,t.name,new Uint8Array(await t.arrayBuffer()),!0):null}else if(this.kind==="directory")return new ve(null,"unknown");return null});Gn.set("VirtualFileHandle",{canHandle:t=>t instanceof Ye,serialize:t=>[t.serialize(),[]],deserialize:t=>new Ye(null,t.name,t.fileData)});Gn.set("VirtualDirectoryHandle",{canHandle:t=>t instanceof ve,serialize:t=>[t.serialize(),[]],deserialize:t=>ve.deserialize(t)});let F=ke({});function Au(t){for(const e in t)X(F,e,t[e])}function Yn(t,e){const i=e;if((i==null?void 0:i.startsWith("["))&&i.endsWith("]"))return i.slice(1,-1);(e==null?void 0:e.startsWith("$vuetify."))||(e=`$vuetify.${e}`);let n;try{n=t.lang.t(e)}catch{return i!=null?i:"Unknown"}return n===e?i!=null?i:"Unknown":n}class Eu{constructor(e){this.vuetify=e}translate(e){return Yn(this.vuetify,e)}addLanguage(e,i,n=!1){const s=this.vuetify.lang;if(e in s.locales&&!n)throw new Error(`Language key "${e}" already exists!`);return De.set(s.locales,e,i),{dispose:()=>{s.current===e&&(s.current=s.defaultLocale),De.delete(s.locales,e)}}}selectLanguage(e){const i=this.vuetify.lang;if(!(e in i.locales))throw new Error(`Undefined language: "${e}"`);i.current=e}getLanguages(){const e=this.vuetify.lang.locales;return Object.entries(e).filter(([i,n])=>n.languageName!==void 0).map(([i,n])=>[i,n.languageName])}getCurrentLanguage(){return this.vuetify.lang.current}setDefaultLanguage(){var e,i;if(typeof((e=F==null?void 0:F.general)==null?void 0:e.locale)=="string")this.selectLanguage((i=F==null?void 0:F.general)==null?void 0:i.locale);else for(const[n]of this.getLanguages())navigator.language.includes(n)&&this.selectLanguage(n)}}const P={methods:{t(t){return Yn(this.$vuetify,t)}}};var _u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-tooltip",{attrs:{color:t.color?t.color:"tooltip",disabled:t.hasClicked,right:!t.isSidebarRight,left:t.isSidebarRight},scopedSlots:t._u([{key:"activator",fn:function(n){var s=n.on;return[i("div",t._g({directives:[{name:"ripple",rawName:"v-ripple",value:t.alwaysAllowClick||!t.isLoading,expression:"alwaysAllowClick || !isLoading"}],staticClass:"rounded-lg ma-2 d-flex justify-center sidebar-button",class:{loading:t.isLoading,"pa-1":t.smallerSidebarElements,"pa-2":!t.smallerSidebarElements,"elevation-4":t.isSelected},style:{"background-color":t.computedColor,transform:t.isSelected?"scale(1.1)":void 0},on:{click:t.onClick,mouseup:function(r){return"button"in r&&r.button!==1?null:t.onMiddleClick(r)}}},s),[i("v-icon",{style:{position:t.isLoading?"absolute":"relative",marginTop:t.isLoading?"4px":0},attrs:{color:t.isLoading||t.isSelected?"white":t.iconColor,small:t.isLoading}},[t._v(" "+t._s(t.icon)+" ")]),t.isLoading?t._t("default",[i("v-progress-circular",{attrs:{size:"24",width:"2",color:"white",indeterminate:""}})]):t._e()],2)]}}],null,!0)},[i("span",[t._v(t._s(t.t(t.displayName)))])])},xu=[];function E(t,e,i,n,s,r,a,o){var c=typeof t=="function"?t.options:t;e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),r&&(c._scopeId="data-v-"+r);var d;if(a?(d=function(m){m=m||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!m&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(m=__VUE_SSR_CONTEXT__),s&&s.call(this,m),m&&m._registeredComponents&&m._registeredComponents.add(a)},c._ssrRegister=d):s&&(d=o?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),d)if(c.functional){c._injectStyles=d;var p=c.render;c.render=function(g,w){return d.call(w),p(g,w)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,d):[d]}return{exports:t,options:c}}const Du={name:"SidebarButton",mixins:[P],props:{displayName:String,icon:String,iconColor:String,color:String,isLoading:{type:Boolean,default:!1},isSelected:{type:Boolean,default:!1},alwaysAllowClick:{type:Boolean,default:!1},opacity:{type:Number,default:1}},data:()=>({settingsState:F,hasClicked:!1}),computed:{isSidebarRight(){return this.settingsState&&this.settingsState.sidebar&&this.settingsState.sidebar.isSidebarRight},smallerSidebarElements(){return this.settingsState&&this.settingsState.sidebar&&this.settingsState.sidebar.smallerSidebarElements},computedColor(){return this.color?this.color.startsWith("#")?this.color:`var(--v-${this.color}-base)`:this.isLoading||this.isSelected?"var(--v-primary-base)":"var(--v-sidebarSelection-base)"}},methods:{onClick(){(this.alwaysAllowClick||!this.isLoading)&&(this.$emit("click"),this.hasClicked=!0,this.$nextTick(()=>this.hasClicked=!1))},onMiddleClick(){(this.alwaysAllowClick||!this.isLoading)&&(this.$emit("middleClick"),this.hasClicked=!0,this.$nextTick(()=>this.hasClicked=!1))}}},es={};var ku=E(Du,_u,xu,!1,Su,"4d3eb8e8",null,null);function Su(t){for(let e in es)this[e]=es[e]}var Bu=function(){return ku.exports}();class ne extends L{constructor(e,i=!1,n=!1){super();u(this,"windowUUID",N());u(this,"isVisible",!1);u(this,"shouldRender",!1);u(this,"actions",[]);u(this,"component");this.disposeOnClose=i,this.keepAlive=n,this.component=U(e)}defineWindow(){X(l.windowState.state,this.windowUUID,this)}addAction(e){this.actions.push(e)}close(e){this.isVisible=!1,e!==null&&this.dispatch(e),this.keepAlive||setTimeout(()=>{this.shouldRender=!1,this.disposeOnClose&&this.dispose()},600)}open(){this.shouldRender=!0,this.isVisible=!0,this.resetSignal()}dispose(){$e(l.windowState.state,this.windowUUID)}}function ge(){var e;if(((e=F==null?void 0:F.developers)==null?void 0:e.simulateOS)&&F.developers.simulateOS!=="auto")return F.developers.simulateOS;const t=navigator.platform.toLowerCase();return t.includes("win")?"win32":t.includes("linux")?"linux":t.includes("mac")?"darwin":(console.error(`Unknown platform: ${t}`),"win32")}class se extends ee{constructor(e){super();u(this,"id");var i;this.config=e,this.id=(i=e.id)!=null?i:N()}get name(){return this.config.name}get icon(){return this.config.icon}get description(){return this.config.description}get color(){return this.config.color}get isDisabled(){var e,i,n,s;return typeof this.config.isDisabled=="function"?(n=(i=(e=this.config).isDisabled)==null?void 0:i.call(e))!=null?n:!1:(s=this.config.isDisabled)!=null?s:!1}async trigger(){if(!this.isDisabled)return this.dispatch(),await this.config.onTrigger()}}var ju=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-btn",{style:t.platform==="darwin"?"border-radius: 8px":void 0,attrs:{text:!t.minimalDisplay,small:"",icon:t.minimalDisplay},on:{click:function(n){return t.action.trigger()}}},[i("v-icon",{class:{"mr-1":!0,"ml-1":t.minimalDisplay},attrs:{color:t.action.accent||"accent",small:""}},[t._v(" "+t._s(t.action.icon)+" ")]),t.minimalDisplay?t._e():i("span",{style:{"text-transform":"none","font-weight":"unset",color:t.isDarkMode?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)"}},[t._v(" "+t._s(t.t(t.action.name))+" ")])],1)},Tu=[];const Pu={mixins:[P],props:{action:se},data:()=>({platform:ge()}),computed:{minimalDisplay(){return!this.$vuetify.breakpoint.mdAndUp},isDarkMode(){return this.$vuetify.theme.dark}}},ts={};var $u=E(Pu,ju,Tu,!1,Mu,null,null,null);function Mu(t){for(let e in ts)this[e]=ts[e]}var is=function(){return $u.exports}(),Ou=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-system-bar",{style:{"padding-right":"0px","padding-left":t.hasSidebar?"calc("+t.sidebarWidth+" + 12px)":void 0},attrs:{height:"30px",color:"toolbar"}},[i("span",[t._v(t._s(t.windowTitle))]),i("v-spacer"),i("v-toolbar-items",{staticClass:"px14-font"},[t._l(t.actions,function(n){return i("DisplayAction",{key:n.id,attrs:{action:n}})}),t._t("default"),t.hasMaximizeButton?i("v-btn",{attrs:{small:"",icon:""},on:{click:function(n){return n.stopPropagation(),t.$emit("toggleFullscreen")}}},[i("v-icon",{attrs:{small:""}},[t._v("mdi-plus")])],1):t._e(),t.hasCloseButton?i("v-btn",{staticClass:"mr-1",attrs:{small:"",icon:"",color:"error"},on:{click:function(n){return n.stopPropagation(),t.$emit("closeWindow")}}},[i("v-icon",{attrs:{color:t.isDarkMode?"white":"grey darken-1",small:""}},[t._v(" mdi-close ")])],1):t._e()],2)],1)},Ru=[];const Iu={name:"WindowsToolbar",components:{DisplayAction:is},props:{windowTitle:String,actions:Array,sidebarWidth:{type:String,default:"25%"},hasCloseButton:{type:Boolean,default:!0},hasMaximizeButton:{type:Boolean,default:!0},hasSidebar:Boolean},computed:{isDarkMode(){return this.$vuetify.theme.dark}}},ns={};var Wu=E(Iu,Ou,Ru,!1,Nu,null,null,null);function Nu(t){for(let e in ns)this[e]=ns[e]}var Lu=function(){return Wu.exports}(),Hu=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-icon",{directives:[{name:"ripple",rawName:"v-ripple",value:!t.disabled,expression:"!disabled"}],staticClass:"mr-1",staticStyle:{"font-size":"15px"},attrs:{color:t.disabled||!t.windowHasFocus?t.isDarkMode?"grey darken-2":"grey":t.color,small:""},nativeOn:{click:function(n){return n.stopPropagation(),t.$emit("click")}}},[t._v(" mdi-checkbox-blank-circle ")])},Vu=[];const zu={props:{color:String,disabled:Boolean},data:()=>({windowHasFocus:!0}),mounted(){window.addEventListener("focus",this.enableButton),window.addEventListener("blur",this.disableButton)},destroyed(){window.removeEventListener("focus",this.enableButton),window.removeEventListener("blur",this.disableButton)},computed:{isDarkMode(){return this.$vuetify.theme.dark}},methods:{disableButton(){this.windowHasFocus=!1},enableButton(){this.windowHasFocus=!0}}},ss={};var Uu=E(zu,Hu,Vu,!1,Gu,null,null,null);function Gu(t){for(let e in ss)this[e]=ss[e]}var Ju=function(){return Uu.exports}(),qu=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{position:"fixed","z-index":"1"}},[t.hasCloseButton?i("MacButton",{attrs:{color:"error"},on:{click:function(n){return t.$emit("closeWindow")}}}):t._e(),t.hasCloseButton?i("MacButton",{attrs:{color:"warning",disabled:!t.hasMinimizeButton},on:{click:function(n){return t.$emit("minimizeWindow")}}}):t._e(),t.hasCloseButton?i("MacButton",{attrs:{color:"success",disabled:!t.hasMaximizeButton},on:{click:function(n){return t.$emit("toggleFullscreen")}}}):t._e()],1)},Ku=[];const Qu={components:{MacButton:Ju},props:{hasCloseButton:{type:Boolean,default:!0},hasMinimizeButton:{type:Boolean,default:!1},hasMaximizeButton:{type:Boolean,default:!0}},computed:{isDarkMode(){return this.$vuetify.theme.dark}}},rs={};var Xu=E(Qu,qu,Ku,!1,Zu,null,null,null);function Zu(t){for(let e in rs)this[e]=rs[e]}var as=function(){return Xu.exports}(),Yu=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-system-bar",{attrs:{height:"30px",color:"toolbar"}},[i("span",{class:{"window-title":!t.hasSidebar},style:{"padding-left":t.hasSidebar?"calc("+t.sidebarWidth+" + 12px)":void 0}},[t._v(" "+t._s(t.windowTitle)+" ")]),i("div",{staticStyle:{position:"absolute",top:"3px"}},[t.hasSidebar?t._e():i("MacWindowControls",t._g({attrs:{hasCloseButton:t.hasCloseButton,hasMaximizeButton:t.hasMaximizeButton,hasMinimizeButton:t.hasMinimizeButton}},t.$listeners))],1),i("v-spacer"),t._l(t.actions,function(n){return i("DisplayAction",{key:n.id,attrs:{action:n}})}),t._t("default")],2)},ec=[];const tc={name:"MacToolbar",components:{MacWindowControls:as,DisplayAction:is},props:{windowTitle:String,hasSidebar:Boolean,actions:Array,sidebarWidth:{type:String,default:"25%"},hasCloseButton:{type:Boolean,default:!0},hasMinimizeButton:{type:Boolean,default:!1},hasMaximizeButton:{type:Boolean,default:!0}}},os={};var ic=E(tc,Yu,ec,!1,nc,"76a2b5b4",null,null);function nc(t){for(let e in os)this[e]=os[e]}var sc=function(){return ic.exports}(),rc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{value:t.isVisible,fullscreen:!t.isSmallPopup&&t.$vuetify.breakpoint.mobile,persistent:t.isPersistent,"hide-overlay":!t.blurBackground,"max-width":t.isFullScreenOrMobile?t.maxWindowWidth:t.windowWidth,"content-class":"no-overflow"},on:{input:function(n){return t.$emit("closeWindow")}}},[i("v-card",{ref:"card",attrs:{height:"100%",width:"100%",color:"background",rounded:t.platform==="darwin"?"lg":void 0}},[t.hideToolbar?t._e():i(t.platform==="darwin"?"MacToolbar":"WindowsToolbar",{tag:"component",attrs:{windowTitle:t.t(t.windowTitle),actions:t.actions,hasMaximizeButton:t.hasMaximizeButton,hasCloseButton:t.hasCloseButton,hasSidebar:!!t.$slots.sidebar,sidebarWidth:t.calcSidebarWidth},on:{toggleFullscreen:function(n){return t.$emit("toggleFullscreen")},closeWindow:function(n){return t.$emit("closeWindow")}}},[t._t("toolbar")],2),t.$slots.sidebar?i("v-navigation-drawer",{staticStyle:{visibility:"visible",transform:"translateX(0)"},attrs:{absolute:"",width:t.calcSidebarWidth,permanent:"",clipped:"",stateless:"",color:"expandedSidebar"}},[t.platform==="darwin"?i("MacWindowControls",{staticClass:"pl-3 pt-1",staticStyle:{width:"calc(100% - 1px)","background-color":"var(--v-expandedSidebar-base)"},attrs:{hasMaximizeButton:t.hasMaximizeButton,hasCloseButton:t.hasCloseButton},on:{toggleFullscreen:function(n){return t.$emit("toggleFullscreen")},closeWindow:function(n){return t.$emit("closeWindow")}}}):t._e(),i("v-container",{class:{"pt-8":t.platform==="darwin"}},[t._t("sidebar")],2)],1):t._e(),i("v-card-text",{staticStyle:{"overflow-y":"auto"},style:{height:t.heightUnset?void 0:(t.isFullScreenOrMobile?t.maxWindowHeight:t.windowHeight)+"px","max-height":t.maxWindowHeight+"px","padding-top":t.hideToolbar?"24px":"12px","padding-left":t.$slots.sidebar?"calc("+t.calcSidebarWidth+" + 12px)":void 0}},[t._t("default")],2),t.$slots.actions?i("v-card-actions",{style:{"padding-left":t.$slots.sidebar?"calc("+t.sidebarWidth+" + 12px)":void 0},attrs:{"background-color":"footer"}},[t._t("actions")],2):t._e()],1)],1)},ac=[];const oc={name:"BaseWindow",mixins:[P],components:{WindowsToolbar:Lu,MacToolbar:sc,MacWindowControls:as},props:{isFullscreen:Boolean,isVisible:Boolean,shouldRender:Boolean,isPersistent:Boolean,actions:Array,sidebarWidth:{type:String,default:"25%"},blurBackground:{type:Boolean,default:!0},hideToolbar:Boolean,windowTitle:String,hasCloseButton:{type:Boolean,default:!0},hasMaximizeButton:{type:Boolean,default:!1},width:{type:Number,default:1600},maxWidth:{type:Number,default:1600},height:{type:Number,default:800},maxHeight:{type:Number,default:800},heightUnset:Boolean,percentageHeight:Number,percentageWidth:Number,maxPercentageHeight:Number,maxPercentageWidth:Number,isSmallPopup:Boolean},data(){return{platform:ge(),globalWindowWidth:window.innerWidth,globalWindowHeight:window.innerHeight,updateWindowSize:Ct(function(){this.globalWindowWidth=window.innerWidth,this.globalWindowHeight=window.innerHeight},200).bind(this)}},mounted(){window.addEventListener("resize",this.updateWindowSize)},destroyed(){window.removeEventListener("resize",this.updateWindowSize)},computed:{calcSidebarWidth(){return this.$vuetify.breakpoint.mobile?"76px":this.sidebarWidth},isFullScreenOrMobile(){return!this.isSmallPopup&&this.$vuetify.breakpoint.mobile||this.isFullscreen},isDarkMode(){return this.$vuetify.theme.dark},windowWidth(){return this.percentageWidth==null?this.width:this.globalWindowWidth/100*this.percentageWidth},windowHeight(){return this.percentageHeight==null?this.height:this.globalWindowHeight/100*this.percentageHeight-150},maxWindowWidth(){return this.maxPercentageWidth==null?this.maxWidth:this.globalWindowWidth/100*this.maxPercentageWidth},maxWindowHeight(){return!this.isSmallPopup&&this.$vuetify.breakpoint.mobile?this.globalWindowHeight-!this.hideToolbar*30-!!this.$slots.actions*52:this.maxPercentageHeight==null?this.maxHeight:this.globalWindowHeight/100*this.maxPercentageHeight-150}}},us={};var uc=E(oc,rc,ac,!1,cc,null,null,null);function cc(t){for(let e in us)this[e]=us[e]}var de=function(){return uc.exports}(),lc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.shouldRender?i("BaseWindow",{attrs:{windowTitle:t.$data.title,isVisible:t.isVisible,hasMaximizeButton:!1,isFullscreen:!1,width:440,height:120,hasCloseButton:!1,isPersistent:t.$data.isPersistent,isSmallPopup:!0},scopedSlots:t._u([{key:"default",fn:function(){return[i("p",{staticClass:"mt-2"},[t._v(t._s(t.t(t.$data.description)))])]},proxy:!0},{key:"actions",fn:function(){return[i("v-spacer"),i("v-btn",{attrs:{color:"primary"},on:{click:t.close}},[i("v-icon",[t._v("mdi-check")]),i("span",[t._v(t._s(t.t("general.confirm")))])],1)]},proxy:!0}],null,!1,3734431350)}):t._e()},dc=[];const pc={name:"Information",mixins:[P],components:{BaseWindow:de},props:["currentWindow"],data(){return this.currentWindow},methods:{close(){this.currentWindow.close()}}},cs={};var hc=E(pc,lc,dc,!1,mc,null,null,null);function mc(t){for(let e in cs)this[e]=cs[e]}var fc=function(){return hc.exports}();class ae extends ne{constructor(e){super(fc,!0,!1);this.opts=e,this.defineWindow(),this.open()}get description(){return this.opts.description}get title(){var e;return(e=this.opts.name)!=null?e:"general.information"}get isPersistent(){var e;return(e=this.opts.isPersistent)!=null?e:!0}async close(){l.audioManager.playAudio("click5.ogg",1),super.close(null),typeof this.opts.onClose=="function"&&await this.opts.onClose(),this.dispatch()}}const ct=He({});class hi{constructor(e){u(this,"id");u(this,"_isVisible",!1);var i,n;this.config=e,this.id=(i=e.id)!=null?i:N(),X(ct,this.id,this),((n=this.config.isVisible)!=null?n:!0)&&this.show()}get icon(){return this.config.icon}get message(){return this.config.message}get color(){return this.config.color}get textColor(){return this.config.textColor}get isVisible(){return this._isVisible}onClick(){typeof this.config.onClick=="function"&&this.config.onClick()}onMiddleClick(){var e,i;(i=(e=this.config).onMiddleClick)==null||i.call(e),this.config.disposeOnMiddleClick&&$e(ct,this.id)}addClickHandler(e){this.config.onClick=e}show(){this._isVisible||this.updateAppBadge(),this._isVisible=!0}dispose(){$e(ct,this.id),this.updateAppBadge()}updateAppBadge(){typeof navigator.setAppBadge=="function"&&navigator.setAppBadge(Object.values(ct).filter(({isVisible:e})=>e).length)}}function mi(t){return new hi(t)}function gc(){typeof navigator.clearAppBadge=="function"&&navigator.clearAppBadge();for(const[t]of Object.entries(ct))De.delete(ct,t)}function wc(t){var n;let i=((n=t.stack)!=null?n:"at unknown").split(`
`).map(s=>s.trim());return i.splice(i[0].startsWith("Error")?1:0)}function et(t){var s;const e=(s=t.message)!=null?s:"";let i=e;e.includes(": ")&&(i=e.split(": ").shift()),i.length>24&&(i=e.length>24?`${e.substr(0,23)}...`:e);const n=mi({icon:"mdi-alert-circle-outline",message:`[${i}]`,color:"error",textColor:"white",disposeOnMiddleClick:!0,onClick:()=>{l.audioManager.playAudio("click5.ogg",1),new ae({name:`[ERROR: ${i}]`,description:`[${t.message} (${wc(t)})]`}),n.dispose()}});return n}window.addEventListener("error",t=>{var e,i;et((e=t.error)!=null?e:t),(i=l==null?void 0:l.ready)==null||i.once(n=>n.windows.loadingWindow.closeAll())});window.onunhandledrejection=t=>{var e;et(new Error(t.reason)),(e=l==null?void 0:l.ready)==null||e.once(i=>i.windows.loadingWindow.closeAll())};const ls=[[/§4/,"colorCode.darkRed"],[/§c/,"colorCode.red"],[/§6/,"colorCode.gold"],[/§e/,"colorCode.yellow"],[/§2/,"colorCode.darkGreen"],[/§a/,"colorCode.green"],[/§b/,"colorCode.aqua"],[/§3/,"colorCode.darkAqua"],[/§1/,"colorCode.darkBlue"],[/§9/,"colorCode.blue"],[/§d/,"colorCode.lightPurple"],[/§5/,"colorCode.darkPurple"],[/§[fr]/,"colorCode.white"],[/§7/,"colorCode.gray"],[/§8/,"colorCode.darkGray"],[/§0/,"colorCode.black"],[/§g/,"colorCode.minecoinGold"],[/§o/,"colorCode.italic"],[/§l/,"colorCode.bold"],[/§n/,"colorCode.underline"]];class Vi{constructor({id:e,extensions:i,config:n,tokenProvider:s,completionItemProvider:r}){u(this,"id");u(this,"disposables",[]);u(this,"models",new Map);u(this,"highlighter");this.id=e,V.register({id:e,extensions:i}),this.disposables=[V.setLanguageConfiguration(e,n),Ae.onDidCreateModel(this.onModelAdded.bind(this)),Ae.onWillDisposeModel(this.onModelRemoved.bind(this)),Ae.onDidChangeModelLanguage(a=>{this.onModelRemoved(a.model),this.onModelAdded(a.model)})],this.highlighter=V.setMonarchTokensProvider(e,s),r&&this.disposables.push(V.registerCompletionItemProvider(e,r))}updateTokenProvider(e){this.highlighter.dispose(),this.highlighter=V.setMonarchTokensProvider(this.id,e)}onModelAdded(e){return e.getModeId()!==this.id?!1:(this.validate(e),this.models.set(e.uri.toString(),e.onDidChangeContent(Ct(i=>this.validate(e,i),500))),!0)}onModelRemoved(e){var n;Ae.setModelMarkers(e,this.id,[]);const i=e.uri.toString();(n=this.models.get(i))==null||n.dispose(),this.models.delete(i)}dispose(){this.highlighter.dispose(),this.disposables.forEach(e=>e.dispose()),this.disposables=[]}}const yc={comments:{lineComment:"##"}},vc={tokenizer:{root:[[/##.*/,"comment"],[/=|\.|:/,"definition"],...ls]}};class Cc extends Vi{constructor(){super({id:"lang",extensions:["lang"],config:yc,tokenProvider:vc})}validate(){}}var bc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-normal pa-4 mb-2 rounded-lg control-bg",class:{selected:t.selected}},[i("div",{staticClass:"d-flex align-center"},[t.action.icon?i("v-icon",{staticClass:"mr-1",attrs:{color:t.action.color||"accent"}},[t._v(" "+t._s(t.action.icon)+" ")]):t._e(),i("h3",[t._v(t._s(t.t(t.action.name)))]),i("v-spacer"),t.action.keyBinding?i("span",[t._v(" "+t._s(t.action.keyBinding.toStrKeyCode())+" ")]):t._e(),t.hideTriggerButton?t._e():i("v-btn",{attrs:{color:"primary",small:"",icon:""}},[i("v-icon",{on:{click:t.onTrigger}},[t._v("mdi-play")])],1),t.selected!==void 0?i("v-icon",[t._v(" "+t._s(t.selected?"mdi-check-circle-outline":"mdi-checkbox-blank-circle-outline")+" ")]):t._e()],1),!t.dense&&t.action.description?i("span",[t._v(" "+t._s(t.t(t.action.description))+" ")]):t._e()])},Fc=[];const Ac={props:{action:Object,hideTriggerButton:Boolean,dense:Boolean,selected:{type:Boolean,default:void 0}},mixins:[P],methods:{onTrigger(){this.action.trigger()}}},ds={};var Ec=E(Ac,bc,Fc,!1,_c,"5fcc2265",null,null);function _c(t){for(let e in ds)this[e]=ds[e]}var Ft=function(){return Ec.exports}();const ps={data:()=>({isProjectMixinReady:!1}),async mounted(){await(await l.getApp()).projectManager.fired,this.isProjectMixinReady=!0},computed:{project(){if(!this.isProjectMixinReady)return;const t=l.instance.projectManager;return t.state[t._selectedProject]}}},tt=location.origin==="https://nightly.bridge-core.app";var xc="/assets/logo.eca065f6.svg",Dc="/assets/logo.1f65ee53.svg",kc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isNightly?i("img",{attrs:{draggable:"false",src:xc,alt:"Logo of bridge. v2"}}):i("img",{attrs:{draggable:"false",src:Dc,alt:"Logo of bridge. v2"}})},Sc=[];const Bc={setup(){return{isNightly:tt}}},hs={};var jc=E(Bc,kc,Sc,!1,Tc,null,null,null);function Tc(t){for(let e in hs)this[e]=hs[e]}var zi=function(){return jc.exports}(),Pc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex flex-column justify-center align-center px-4",style:"padding-top: 14vh;"},[i("Logo",{staticClass:"mb-4",staticStyle:{height:"160px",width:"160px"},attrs:{alt:"Logo of bridge. v2"}}),i("h1",{staticClass:"text-h3 text-center"},[t._v(t._s(t.t("welcome.title")))]),i("h2",{staticClass:"text-h6 mb-12 text-center"},[t._v(t._s(t.t("welcome.subtitle")))]),i("v-row",{staticStyle:{"flex-wrap":"nowrap",width:"60vw"}},[t.actions.length>0?i("v-col",{attrs:{tag:"ul"}},[i("p",[t._v(t._s(t.t("welcome.quickActions")))]),i("v-divider",{staticClass:"mb-2"}),t._l(t.actions,function(n){return i("li",{directives:[{name:"ripple",rawName:"v-ripple"}],key:n.id,staticClass:"rounded-lg pa-1 clickable",on:{click:function(){return n.trigger()}}},[i("v-icon",{attrs:{color:"accent",medium:""}},[t._v(t._s(n.icon))]),i("span",{attrs:{color:"text--primary"}},[t._v(t._s(t.t(n.name)))]),n.keyBinding?i("span",{staticClass:"text--secondary",staticStyle:{float:"right"}},[t._v(" "+t._s(n.keyBinding.toStrKeyCode())+" ")]):t._e()],1)})],2):t._e(),t.$vuetify.breakpoint.smAndUp&&t.files.length>0?i("v-col",{attrs:{tag:"ul"}},[i("p",[t._v(t._s(t.t("welcome.recentFiles")))]),i("v-divider",{staticClass:"mb-2"}),t._l(t.files,function(n){return i("li",{directives:[{name:"ripple",rawName:"v-ripple"}],key:n.path,staticClass:"d-flex rounded-lg pa-1 clickable",on:{click:function(s){return t.openFile(n.path)}}},[i("v-icon",{attrs:{color:n.color||"error",medium:""}},[t._v(" "+t._s(n.icon)+" ")]),i("span",{staticClass:"primary-text"},[t._v(t._s(n.name))])],1)})],2):t._e(),t.$vuetify.breakpoint.mdAndUp&&t.projects.length>0?i("v-col",{class:{disabled:!t.maySwitchProjects},attrs:{tag:"ul"}},[i("p",[t._v(t._s(t.t("welcome.recentProjects")))]),t.maySwitchProjects?i("v-divider",{staticClass:"mb-2"}):i("v-progress-linear",{staticClass:"mb-1",attrs:{rounded:"",indeterminate:""}}),t._l(t.projects,function(n){return i("li",{directives:[{name:"ripple",rawName:"v-ripple",value:t.maySwitchProjects,expression:"maySwitchProjects"}],key:n.name,class:{"d-flex rounded-lg pa-1":!0,clickable:t.maySwitchProjects},on:{click:function(s){t.maySwitchProjects&&t.selectProject(n.path)}}},[i("div",{staticClass:"d-flex align-center"},[n.imgSrc?i("img",{staticClass:"mr-1 pack-icon",attrs:{src:n.imgSrc,alt:n.name+" Logo",draggable:"false"}}):t._e(),i("span",{staticClass:"primary-text"},[t._v(t._s(n.path))])])])})],2):t._e()],1)],1)},$c=[];const Mc={name:"welcome-screen",mixins:[P,ps],components:{ActionViewer:Ft,Logo:zi},async mounted(){const t=await l.getApp(),e=["bridge.action.newProject","bridge.action.newFile","bridge.action.searchFile","bridge.action.openSettings"];this.actions=e.map(i=>t.actionManager.state[i]),await t.projectManager.fired,this.projectManager=t.projectManager},data:()=>({actions:[],projectManager:null,maySwitchProjects:!0}),computed:{files(){return this.project?this.project.recentFiles.elements:[]},projects(){return this.projectManager?this.projectManager.recentProjects.elements.filter(({path:t})=>t!==this.projectManager.selectedProject):[]}},methods:{async openFile(t){const e=await l.getApp(),i=await e.fileSystem.getFileHandle(t);e.project.openFile(i)},selectProject(t){l.getApp().then(e=>e.projectManager.selectProject(t))}}},ms={};var Oc=E(Mc,Pc,$c,!1,Rc,"69f03806",null,null);function Rc(t){for(let e in ms)this[e]=ms[e]}var Ui=function(){return Oc.exports}();function fs(t,e){for(var i=0,n=t.length-1;n>=0;n--){var s=t[n];s==="."?t.splice(n,1):s===".."?(t.splice(n,1),i++):i&&(t.splice(n,1),i--)}if(e)for(;i--;i)t.unshift("..");return t}var Ic=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,Gi=function(t){return Ic.exec(t).slice(1)};function fi(){for(var t="",e=!1,i=arguments.length-1;i>=-1&&!e;i--){var n=i>=0?arguments[i]:"/";if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!n)continue;t=n+"/"+t,e=n.charAt(0)==="/"}return t=fs(Ki(t.split("/"),function(s){return!!s}),!e).join("/"),(e?"/":"")+t||"."}function Ji(t){var e=qi(t),i=Nc(t,-1)==="/";return t=fs(Ki(t.split("/"),function(n){return!!n}),!e).join("/"),!t&&!e&&(t="."),t&&i&&(t+="/"),(e?"/":"")+t}function qi(t){return t.charAt(0)==="/"}function gs(){var t=Array.prototype.slice.call(arguments,0);return Ji(Ki(t,function(e,i){if(typeof e!="string")throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))}function ws(t,e){t=fi(t).substr(1),e=fi(e).substr(1);function i(d){for(var p=0;p<d.length&&d[p]==="";p++);for(var h=d.length-1;h>=0&&d[h]==="";h--);return p>h?[]:d.slice(p,h-p+1)}for(var n=i(t.split("/")),s=i(e.split("/")),r=Math.min(n.length,s.length),a=r,o=0;o<r;o++)if(n[o]!==s[o]){a=o;break}for(var c=[],o=a;o<n.length;o++)c.push("..");return c=c.concat(s.slice(a)),c.join("/")}var ys="/",vs=":";function Cs(t){var e=Gi(t),i=e[0],n=e[1];return!i&&!n?".":(n&&(n=n.substr(0,n.length-1)),i+n)}function bs(t,e){var i=Gi(t)[2];return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i}function Fs(t){return Gi(t)[3]}var Wc={extname:Fs,basename:bs,dirname:Cs,sep:ys,delimiter:vs,relative:ws,join:gs,isAbsolute:qi,normalize:Ji,resolve:fi};function Ki(t,e){if(t.filter)return t.filter(e);for(var i=[],n=0;n<t.length;n++)e(t[n],n,t)&&i.push(t[n]);return i}var Nc="ab".substr(-1)==="b"?function(t,e,i){return t.substr(e,i)}:function(t,e,i){return e<0&&(e=t.length+e),t.substr(e,i)},Qi=Object.freeze({__proto__:null,resolve:fi,normalize:Ji,isAbsolute:qi,join:gs,relative:ws,sep:ys,delimiter:vs,dirname:Cs,basename:bs,extname:Fs,default:Wc});function As(){throw new Error("setTimeout has not been defined")}function Es(){throw new Error("clearTimeout has not been defined")}var it=As,nt=Es,At;typeof window!="undefined"?At=window:typeof self!="undefined"?At=self:At={};typeof At.setTimeout=="function"&&(it=setTimeout);typeof At.clearTimeout=="function"&&(nt=clearTimeout);function _s(t){if(it===setTimeout)return setTimeout(t,0);if((it===As||!it)&&setTimeout)return it=setTimeout,setTimeout(t,0);try{return it(t,0)}catch{try{return it.call(null,t,0)}catch{return it.call(this,t,0)}}}function Lc(t){if(nt===clearTimeout)return clearTimeout(t);if((nt===Es||!nt)&&clearTimeout)return nt=clearTimeout,clearTimeout(t);try{return nt(t)}catch{try{return nt.call(null,t)}catch{return nt.call(this,t)}}}var ze=[],Et=!1,lt,gi=-1;function Hc(){!Et||!lt||(Et=!1,lt.length?ze=lt.concat(ze):gi=-1,ze.length&&xs())}function xs(){if(!Et){var t=_s(Hc);Et=!0;for(var e=ze.length;e;){for(lt=ze,ze=[];++gi<e;)lt&&lt[gi].run();gi=-1,e=ze.length}lt=null,Et=!1,Lc(t)}}function Vc(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];ze.push(new Ds(t,e)),ze.length===1&&!Et&&_s(xs)}function Ds(t,e){this.fun=t,this.array=e}Ds.prototype.run=function(){this.fun.apply(null,this.array)};var zc="browser",Uc="browser",Gc=!0,Jc=[],qc="",Kc={},Qc={},Xc={};function dt(){}var Zc=dt,Yc=dt,el=dt,tl=dt,il=dt,nl=dt,sl=dt;function rl(t){throw new Error("process.binding is not supported")}function al(){return"/"}function ol(t){throw new Error("process.chdir is not supported")}function ul(){return 0}var _t=At.performance||{},cl=_t.now||_t.mozNow||_t.msNow||_t.oNow||_t.webkitNow||function(){return new Date().getTime()};function ll(t){var e=cl.call(_t)*.001,i=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(i=i-t[0],n=n-t[1],n<0&&(i--,n+=1e9)),[i,n]}var dl=new Date;function pl(){var t=new Date,e=t-dl;return e/1e3}var hl={nextTick:Vc,title:zc,browser:Gc,env:{NODE_ENV:"production"},argv:Jc,version:qc,versions:Kc,on:Zc,addListener:Yc,once:el,off:tl,removeListener:il,removeAllListeners:nl,emit:sl,binding:rl,cwd:al,chdir:ol,umask:ul,hrtime:ll,platform:Uc,release:Qc,config:Xc,uptime:pl};function ml(t,e,i){return i={path:e,exports:{},require:function(n,s){return fl(n,s==null?i.path:s)}},t(i,i.exports),i.exports}function fl(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}const Me="\\\\/",ks=`[^${Me}]`,Ue="\\.",gl="\\+",wl="\\?",wi="\\/",yl="(?=.)",Ss="[^/]",Xi=`(?:${wi}|$)`,Bs=`(?:^|${wi})`,Zi=`${Ue}{1,2}${Xi}`,vl=`(?!${Ue})`,Cl=`(?!${Bs}${Zi})`,bl=`(?!${Ue}{0,1}${Xi})`,Fl=`(?!${Zi})`,Al=`[^.${wi}]`,El=`${Ss}*?`,js={DOT_LITERAL:Ue,PLUS_LITERAL:gl,QMARK_LITERAL:wl,SLASH_LITERAL:wi,ONE_CHAR:yl,QMARK:Ss,END_ANCHOR:Xi,DOTS_SLASH:Zi,NO_DOT:vl,NO_DOTS:Cl,NO_DOT_SLASH:bl,NO_DOTS_SLASH:Fl,QMARK_NO_DOT:Al,STAR:El,START_ANCHOR:Bs},_l=W(j({},js),{SLASH_LITERAL:`[${Me}]`,QMARK:ks,STAR:`${ks}*?`,DOTS_SLASH:`${Ue}{1,2}(?:[${Me}]|$)`,NO_DOT:`(?!${Ue})`,NO_DOTS:`(?!(?:^|[${Me}])${Ue}{1,2}(?:[${Me}]|$))`,NO_DOT_SLASH:`(?!${Ue}{0,1}(?:[${Me}]|$))`,NO_DOTS_SLASH:`(?!${Ue}{1,2}(?:[${Me}]|$))`,QMARK_NO_DOT:`[^.${Me}]`,START_ANCHOR:`(?:^|[${Me}])`,END_ANCHOR:`(?:[${Me}]|$)`}),xl={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var pt={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:xl,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Qi.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?_l:js}},oe=ml(function(t,e){const{REGEX_BACKSLASH:i,REGEX_REMOVE_BACKSLASH:n,REGEX_SPECIAL_CHARS:s,REGEX_SPECIAL_CHARS_GLOBAL:r}=pt;e.isObject=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),e.hasRegexChars=a=>s.test(a),e.isRegexChar=a=>a.length===1&&e.hasRegexChars(a),e.escapeRegex=a=>a.replace(r,"\\$1"),e.toPosixSlashes=a=>a.replace(i,"/"),e.removeBackslashes=a=>a.replace(n,o=>o==="\\"?"":o),e.supportsLookbehinds=()=>{const a=hl.version.slice(1).split(".").map(Number);return a.length===3&&a[0]>=9||a[0]===8&&a[1]>=10},e.isWindows=a=>a&&typeof a.windows=="boolean"?a.windows:Qi.sep==="\\",e.escapeLast=(a,o,c)=>{const d=a.lastIndexOf(o,c);return d===-1?a:a[d-1]==="\\"?e.escapeLast(a,o,d-1):`${a.slice(0,d)}\\${a.slice(d)}`},e.removePrefix=(a,o={})=>{let c=a;return c.startsWith("./")&&(c=c.slice(2),o.prefix="./"),c},e.wrapOutput=(a,o={},c={})=>{const d=c.contains?"":"^",p=c.contains?"":"$";let h=`${d}(?:${a})${p}`;return o.negated===!0&&(h=`(?:^(?!${h}).*$)`),h}});const{CHAR_ASTERISK:Yi,CHAR_AT:Dl,CHAR_BACKWARD_SLASH:Nt,CHAR_COMMA:kl,CHAR_DOT:en,CHAR_EXCLAMATION_MARK:tn,CHAR_FORWARD_SLASH:Ts,CHAR_LEFT_CURLY_BRACE:nn,CHAR_LEFT_PARENTHESES:sn,CHAR_LEFT_SQUARE_BRACKET:Sl,CHAR_PLUS:Bl,CHAR_QUESTION_MARK:Ps,CHAR_RIGHT_CURLY_BRACE:jl,CHAR_RIGHT_PARENTHESES:$s,CHAR_RIGHT_SQUARE_BRACKET:Tl}=pt,Ms=t=>t===Ts||t===Nt,Os=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},Pl=(t,e)=>{const i=e||{},n=t.length-1,s=i.parts===!0||i.scanToEnd===!0,r=[],a=[],o=[];let c=t,d=-1,p=0,h=0,m=!1,g=!1,w=!1,f=!1,D=!1,A=!1,_=!1,C=!1,S=!1,T=!1,$=0,O,B,R={value:"",depth:0,isGlob:!1};const re=()=>d>=n,b=()=>c.charCodeAt(d+1),K=()=>(O=B,c.charCodeAt(++d));for(;d<n;){B=K();let he;if(B===Nt){_=R.backslashes=!0,B=K(),B===nn&&(A=!0);continue}if(A===!0||B===nn){for($++;re()!==!0&&(B=K());){if(B===Nt){_=R.backslashes=!0,K();continue}if(B===nn){$++;continue}if(A!==!0&&B===en&&(B=K())===en){if(m=R.isBrace=!0,w=R.isGlob=!0,T=!0,s===!0)continue;break}if(A!==!0&&B===kl){if(m=R.isBrace=!0,w=R.isGlob=!0,T=!0,s===!0)continue;break}if(B===jl&&($--,$===0)){A=!1,m=R.isBrace=!0,T=!0;break}}if(s===!0)continue;break}if(B===Ts){if(r.push(d),a.push(R),R={value:"",depth:0,isGlob:!1},T===!0)continue;if(O===en&&d===p+1){p+=2;continue}h=d+1;continue}if(i.noext!==!0&&(B===Bl||B===Dl||B===Yi||B===Ps||B===tn)===!0&&b()===sn){if(w=R.isGlob=!0,f=R.isExtglob=!0,T=!0,B===tn&&d===p&&(S=!0),s===!0){for(;re()!==!0&&(B=K());){if(B===Nt){_=R.backslashes=!0,B=K();continue}if(B===$s){w=R.isGlob=!0,T=!0;break}}continue}break}if(B===Yi){if(O===Yi&&(D=R.isGlobstar=!0),w=R.isGlob=!0,T=!0,s===!0)continue;break}if(B===Ps){if(w=R.isGlob=!0,T=!0,s===!0)continue;break}if(B===Sl){for(;re()!==!0&&(he=K());){if(he===Nt){_=R.backslashes=!0,K();continue}if(he===Tl){g=R.isBracket=!0,w=R.isGlob=!0,T=!0;break}}if(s===!0)continue;break}if(i.nonegate!==!0&&B===tn&&d===p){C=R.negated=!0,p++;continue}if(i.noparen!==!0&&B===sn){if(w=R.isGlob=!0,s===!0){for(;re()!==!0&&(B=K());){if(B===sn){_=R.backslashes=!0,B=K();continue}if(B===$s){T=!0;break}}continue}break}if(w===!0){if(T=!0,s===!0)continue;break}}i.noext===!0&&(f=!1,w=!1);let J=c,Ze="",y="";p>0&&(Ze=c.slice(0,p),c=c.slice(p),h-=p),J&&w===!0&&h>0?(J=c.slice(0,h),y=c.slice(h)):w===!0?(J="",y=c):J=c,J&&J!==""&&J!=="/"&&J!==c&&Ms(J.charCodeAt(J.length-1))&&(J=J.slice(0,-1)),i.unescape===!0&&(y&&(y=oe.removeBackslashes(y)),J&&_===!0&&(J=oe.removeBackslashes(J)));const v={prefix:Ze,input:t,start:p,base:J,glob:y,isBrace:m,isBracket:g,isGlob:w,isExtglob:f,isGlobstar:D,negated:C,negatedExtglob:S};if(i.tokens===!0&&(v.maxDepth=0,Ms(B)||a.push(R),v.tokens=a),i.parts===!0||i.tokens===!0){let he;for(let H=0;H<r.length;H++){const Te=he?he+1:p,Pe=r[H],ye=t.slice(Te,Pe);i.tokens&&(H===0&&p!==0?(a[H].isPrefix=!0,a[H].value=Ze):a[H].value=ye,Os(a[H]),v.maxDepth+=a[H].depth),(H!==0||ye!=="")&&o.push(ye),he=Pe}if(he&&he+1<t.length){const H=t.slice(he+1);o.push(H),i.tokens&&(a[a.length-1].value=H,Os(a[a.length-1]),v.maxDepth+=a[a.length-1].depth)}v.slashes=r,v.parts=o}return v};var $l=Pl;const{MAX_LENGTH:yi,POSIX_REGEX_SOURCE:Ml,REGEX_NON_SPECIAL_CHARS:Ol,REGEX_SPECIAL_CHARS_BACKREF:Rl,REPLACEMENTS:Rs}=pt,Il=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();const i=`[${t.join("-")}]`;try{new RegExp(i)}catch{return t.map(s=>oe.escapeRegex(s)).join("..")}return i},xt=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,Is=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=Rs[t]||t;const i=j({},e),n=typeof i.maxLength=="number"?Math.min(yi,i.maxLength):yi;let s=t.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);const r={type:"bos",value:"",output:i.prepend||""},a=[r],o=i.capture?"":"?:",c=oe.isWindows(e),d=pt.globChars(c),p=pt.extglobChars(d),{DOT_LITERAL:h,PLUS_LITERAL:m,SLASH_LITERAL:g,ONE_CHAR:w,DOTS_SLASH:f,NO_DOT:D,NO_DOT_SLASH:A,NO_DOTS_SLASH:_,QMARK:C,QMARK_NO_DOT:S,STAR:T,START_ANCHOR:$}=d,O=k=>`(${o}(?:(?!${$}${k.dot?f:h}).)*?)`,B=i.dot?"":D,R=i.dot?C:S;let re=i.bash===!0?O(i):T;i.capture&&(re=`(${re})`),typeof i.noext=="boolean"&&(i.noextglob=i.noext);const b={input:t,index:-1,start:0,dot:i.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:a};t=oe.removePrefix(t,b),s=t.length;const K=[],J=[],Ze=[];let y=r,v;const he=()=>b.index===s-1,H=b.peek=(k=1)=>t[b.index+k],Te=b.advance=()=>t[++b.index]||"",Pe=()=>t.slice(b.index+1),ye=(k="",q=0)=>{b.consumed+=k,b.index+=q},ii=k=>{b.output+=k.output!=null?k.output:k.value,ye(k.value)},So=()=>{let k=1;for(;H()==="!"&&(H(2)!=="("||H(3)==="?");)Te(),b.start++,k++;return k%2==0?!1:(b.negated=!0,b.start++,!0)},ni=k=>{b[k]++,Ze.push(k)},ot=k=>{b[k]--,Ze.pop()},I=k=>{if(y.type==="globstar"){const q=b.braces>0&&(k.type==="comma"||k.type==="brace"),x=k.extglob===!0||K.length&&(k.type==="pipe"||k.type==="paren");k.type!=="slash"&&k.type!=="paren"&&!q&&!x&&(b.output=b.output.slice(0,-y.output.length),y.type="star",y.value="*",y.output=re,b.output+=y.output)}if(K.length&&k.type!=="paren"&&(K[K.length-1].inner+=k.value),(k.value||k.output)&&ii(k),y&&y.type==="text"&&k.type==="text"){y.value+=k.value,y.output=(y.output||"")+k.value;return}k.prev=y,a.push(k),y=k},si=(k,q)=>{const x=W(j({},p[q]),{conditions:1,inner:""});x.prev=y,x.parens=b.parens,x.output=b.output;const M=(i.capture?"(":"")+x.open;ni("parens"),I({type:k,value:q,output:b.output?"":w}),I({type:"paren",extglob:!0,value:Te(),output:M}),K.push(x)},Bo=k=>{let q=k.close+(i.capture?")":""),x;if(k.type==="negate"){let M=re;k.inner&&k.inner.length>1&&k.inner.includes("/")&&(M=O(i)),(M!==re||he()||/^\)+$/.test(Pe()))&&(q=k.close=`)$))${M}`),k.inner.includes("*")&&(x=Pe())&&/^\.[^\\/.]+$/.test(x)&&(q=k.close=`)${x})${M})`),k.prev.type==="bos"&&(b.negatedExtglob=!0)}I({type:"paren",extglob:!0,value:v,output:q}),ot("parens")};if(i.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let k=!1,q=t.replace(Rl,(x,M,Y,me,ie,Oi)=>me==="\\"?(k=!0,x):me==="?"?M?M+me+(ie?C.repeat(ie.length):""):Oi===0?R+(ie?C.repeat(ie.length):""):C.repeat(Y.length):me==="."?h.repeat(Y.length):me==="*"?M?M+me+(ie?re:""):re:M?x:`\\${x}`);return k===!0&&(i.unescape===!0?q=q.replace(/\\/g,""):q=q.replace(/\\+/g,x=>x.length%2==0?"\\\\":x?"\\":"")),q===t&&i.contains===!0?(b.output=t,b):(b.output=oe.wrapOutput(q,b,e),b)}for(;!he();){if(v=Te(),v==="\0")continue;if(v==="\\"){const x=H();if(x==="/"&&i.bash!==!0||x==="."||x===";")continue;if(!x){v+="\\",I({type:"text",value:v});continue}const M=/^\\+/.exec(Pe());let Y=0;if(M&&M[0].length>2&&(Y=M[0].length,b.index+=Y,Y%2!=0&&(v+="\\")),i.unescape===!0?v=Te():v+=Te(),b.brackets===0){I({type:"text",value:v});continue}}if(b.brackets>0&&(v!=="]"||y.value==="["||y.value==="[^")){if(i.posix!==!1&&v===":"){const x=y.value.slice(1);if(x.includes("[")&&(y.posix=!0,x.includes(":"))){const M=y.value.lastIndexOf("["),Y=y.value.slice(0,M),me=y.value.slice(M+2),ie=Ml[me];if(ie){y.value=Y+ie,b.backtrack=!0,Te(),!r.output&&a.indexOf(y)===1&&(r.output=w);continue}}}(v==="["&&H()!==":"||v==="-"&&H()==="]")&&(v=`\\${v}`),v==="]"&&(y.value==="["||y.value==="[^")&&(v=`\\${v}`),i.posix===!0&&v==="!"&&y.value==="["&&(v="^"),y.value+=v,ii({value:v});continue}if(b.quotes===1&&v!=='"'){v=oe.escapeRegex(v),y.value+=v,ii({value:v});continue}if(v==='"'){b.quotes=b.quotes===1?0:1,i.keepQuotes===!0&&I({type:"text",value:v});continue}if(v==="("){ni("parens"),I({type:"paren",value:v});continue}if(v===")"){if(b.parens===0&&i.strictBrackets===!0)throw new SyntaxError(xt("opening","("));const x=K[K.length-1];if(x&&b.parens===x.parens+1){Bo(K.pop());continue}I({type:"paren",value:v,output:b.parens?")":"\\)"}),ot("parens");continue}if(v==="["){if(i.nobracket===!0||!Pe().includes("]")){if(i.nobracket!==!0&&i.strictBrackets===!0)throw new SyntaxError(xt("closing","]"));v=`\\${v}`}else ni("brackets");I({type:"bracket",value:v});continue}if(v==="]"){if(i.nobracket===!0||y&&y.type==="bracket"&&y.value.length===1){I({type:"text",value:v,output:`\\${v}`});continue}if(b.brackets===0){if(i.strictBrackets===!0)throw new SyntaxError(xt("opening","["));I({type:"text",value:v,output:`\\${v}`});continue}ot("brackets");const x=y.value.slice(1);if(y.posix!==!0&&x[0]==="^"&&!x.includes("/")&&(v=`/${v}`),y.value+=v,ii({value:v}),i.literalBrackets===!1||oe.hasRegexChars(x))continue;const M=oe.escapeRegex(y.value);if(b.output=b.output.slice(0,-y.value.length),i.literalBrackets===!0){b.output+=M,y.value=M;continue}y.value=`(${o}${M}|${y.value})`,b.output+=y.value;continue}if(v==="{"&&i.nobrace!==!0){ni("braces");const x={type:"brace",value:v,output:"(",outputIndex:b.output.length,tokensIndex:b.tokens.length};J.push(x),I(x);continue}if(v==="}"){const x=J[J.length-1];if(i.nobrace===!0||!x){I({type:"text",value:v,output:v});continue}let M=")";if(x.dots===!0){const Y=a.slice(),me=[];for(let ie=Y.length-1;ie>=0&&(a.pop(),Y[ie].type!=="brace");ie--)Y[ie].type!=="dots"&&me.unshift(Y[ie].value);M=Il(me,i),b.backtrack=!0}if(x.comma!==!0&&x.dots!==!0){const Y=b.output.slice(0,x.outputIndex),me=b.tokens.slice(x.tokensIndex);x.value=x.output="\\{",v=M="\\}",b.output=Y;for(const ie of me)b.output+=ie.output||ie.value}I({type:"brace",value:v,output:M}),ot("braces"),J.pop();continue}if(v==="|"){K.length>0&&K[K.length-1].conditions++,I({type:"text",value:v});continue}if(v===","){let x=v;const M=J[J.length-1];M&&Ze[Ze.length-1]==="braces"&&(M.comma=!0,x="|"),I({type:"comma",value:v,output:x});continue}if(v==="/"){if(y.type==="dot"&&b.index===b.start+1){b.start=b.index+1,b.consumed="",b.output="",a.pop(),y=r;continue}I({type:"slash",value:v,output:g});continue}if(v==="."){if(b.braces>0&&y.type==="dot"){y.value==="."&&(y.output=h);const x=J[J.length-1];y.type="dots",y.output+=v,y.value+=v,x.dots=!0;continue}if(b.braces+b.parens===0&&y.type!=="bos"&&y.type!=="slash"){I({type:"text",value:v,output:h});continue}I({type:"dot",value:v,output:h});continue}if(v==="?"){if(!(y&&y.value==="(")&&i.noextglob!==!0&&H()==="("&&H(2)!=="?"){si("qmark",v);continue}if(y&&y.type==="paren"){const M=H();let Y=v;if(M==="<"&&!oe.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(y.value==="("&&!/[!=<:]/.test(M)||M==="<"&&!/<([!=]|\w+>)/.test(Pe()))&&(Y=`\\${v}`),I({type:"text",value:v,output:Y});continue}if(i.dot!==!0&&(y.type==="slash"||y.type==="bos")){I({type:"qmark",value:v,output:S});continue}I({type:"qmark",value:v,output:C});continue}if(v==="!"){if(i.noextglob!==!0&&H()==="("&&(H(2)!=="?"||!/[!=<:]/.test(H(3)))){si("negate",v);continue}if(i.nonegate!==!0&&b.index===0){So();continue}}if(v==="+"){if(i.noextglob!==!0&&H()==="("&&H(2)!=="?"){si("plus",v);continue}if(y&&y.value==="("||i.regex===!1){I({type:"plus",value:v,output:m});continue}if(y&&(y.type==="bracket"||y.type==="paren"||y.type==="brace")||b.parens>0){I({type:"plus",value:v});continue}I({type:"plus",value:m});continue}if(v==="@"){if(i.noextglob!==!0&&H()==="("&&H(2)!=="?"){I({type:"at",extglob:!0,value:v,output:""});continue}I({type:"text",value:v});continue}if(v!=="*"){(v==="$"||v==="^")&&(v=`\\${v}`);const x=Ol.exec(Pe());x&&(v+=x[0],b.index+=x[0].length),I({type:"text",value:v});continue}if(y&&(y.type==="globstar"||y.star===!0)){y.type="star",y.star=!0,y.value+=v,y.output=re,b.backtrack=!0,b.globstar=!0,ye(v);continue}let k=Pe();if(i.noextglob!==!0&&/^\([^?]/.test(k)){si("star",v);continue}if(y.type==="star"){if(i.noglobstar===!0){ye(v);continue}const x=y.prev,M=x.prev,Y=x.type==="slash"||x.type==="bos",me=M&&(M.type==="star"||M.type==="globstar");if(i.bash===!0&&(!Y||k[0]&&k[0]!=="/")){I({type:"star",value:v,output:""});continue}const ie=b.braces>0&&(x.type==="comma"||x.type==="brace"),Oi=K.length&&(x.type==="pipe"||x.type==="paren");if(!Y&&x.type!=="paren"&&!ie&&!Oi){I({type:"star",value:v,output:""});continue}for(;k.slice(0,3)==="/**";){const ri=t[b.index+4];if(ri&&ri!=="/")break;k=k.slice(3),ye("/**",3)}if(x.type==="bos"&&he()){y.type="globstar",y.value+=v,y.output=O(i),b.output=y.output,b.globstar=!0,ye(v);continue}if(x.type==="slash"&&x.prev.type!=="bos"&&!me&&he()){b.output=b.output.slice(0,-(x.output+y.output).length),x.output=`(?:${x.output}`,y.type="globstar",y.output=O(i)+(i.strictSlashes?")":"|$)"),y.value+=v,b.globstar=!0,b.output+=x.output+y.output,ye(v);continue}if(x.type==="slash"&&x.prev.type!=="bos"&&k[0]==="/"){const ri=k[1]!==void 0?"|$":"";b.output=b.output.slice(0,-(x.output+y.output).length),x.output=`(?:${x.output}`,y.type="globstar",y.output=`${O(i)}${g}|${g}${ri})`,y.value+=v,b.output+=x.output+y.output,b.globstar=!0,ye(v+Te()),I({type:"slash",value:"/",output:""});continue}if(x.type==="bos"&&k[0]==="/"){y.type="globstar",y.value+=v,y.output=`(?:^|${g}|${O(i)}${g})`,b.output=y.output,b.globstar=!0,ye(v+Te()),I({type:"slash",value:"/",output:""});continue}b.output=b.output.slice(0,-y.output.length),y.type="globstar",y.output=O(i),y.value+=v,b.output+=y.output,b.globstar=!0,ye(v);continue}const q={type:"star",value:v,output:re};if(i.bash===!0){q.output=".*?",(y.type==="bos"||y.type==="slash")&&(q.output=B+q.output),I(q);continue}if(y&&(y.type==="bracket"||y.type==="paren")&&i.regex===!0){q.output=v,I(q);continue}(b.index===b.start||y.type==="slash"||y.type==="dot")&&(y.type==="dot"?(b.output+=A,y.output+=A):i.dot===!0?(b.output+=_,y.output+=_):(b.output+=B,y.output+=B),H()!=="*"&&(b.output+=w,y.output+=w)),I(q)}for(;b.brackets>0;){if(i.strictBrackets===!0)throw new SyntaxError(xt("closing","]"));b.output=oe.escapeLast(b.output,"["),ot("brackets")}for(;b.parens>0;){if(i.strictBrackets===!0)throw new SyntaxError(xt("closing",")"));b.output=oe.escapeLast(b.output,"("),ot("parens")}for(;b.braces>0;){if(i.strictBrackets===!0)throw new SyntaxError(xt("closing","}"));b.output=oe.escapeLast(b.output,"{"),ot("braces")}if(i.strictSlashes!==!0&&(y.type==="star"||y.type==="bracket")&&I({type:"maybe_slash",value:"",output:`${g}?`}),b.backtrack===!0){b.output="";for(const k of b.tokens)b.output+=k.output!=null?k.output:k.value,k.suffix&&(b.output+=k.suffix)}return b};Is.fastpaths=(t,e)=>{const i=j({},e),n=typeof i.maxLength=="number"?Math.min(yi,i.maxLength):yi,s=t.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);t=Rs[t]||t;const r=oe.isWindows(e),{DOT_LITERAL:a,SLASH_LITERAL:o,ONE_CHAR:c,DOTS_SLASH:d,NO_DOT:p,NO_DOTS:h,NO_DOTS_SLASH:m,STAR:g,START_ANCHOR:w}=pt.globChars(r),f=i.dot?h:p,D=i.dot?m:p,A=i.capture?"":"?:",_={negated:!1,prefix:""};let C=i.bash===!0?".*?":g;i.capture&&(C=`(${C})`);const S=B=>B.noglobstar===!0?C:`(${A}(?:(?!${w}${B.dot?d:a}).)*?)`,T=B=>{switch(B){case"*":return`${f}${c}${C}`;case".*":return`${a}${c}${C}`;case"*.*":return`${f}${C}${a}${c}${C}`;case"*/*":return`${f}${C}${o}${c}${D}${C}`;case"**":return f+S(i);case"**/*":return`(?:${f}${S(i)}${o})?${D}${c}${C}`;case"**/*.*":return`(?:${f}${S(i)}${o})?${D}${C}${a}${c}${C}`;case"**/.*":return`(?:${f}${S(i)}${o})?${a}${c}${C}`;default:{const R=/^(.*?)\.(\w+)$/.exec(B);if(!R)return;const re=T(R[1]);return re?re+a+R[2]:void 0}}},$=oe.removePrefix(t,_);let O=T($);return O&&i.strictSlashes!==!0&&(O+=`${o}?`),O};var rn=Is;const Wl=t=>t&&typeof t=="object"&&!Array.isArray(t),te=(t,e,i=!1)=>{if(Array.isArray(t)){const p=t.map(m=>te(m,e,i));return m=>{for(const g of p){const w=g(m);if(w)return w}return!1}}const n=Wl(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");const s=e||{},r=oe.isWindows(e),a=n?te.compileRe(t,e):te.makeRe(t,e,!1,!0),o=a.state;delete a.state;let c=()=>!1;if(s.ignore){const p=W(j({},e),{ignore:null,onMatch:null,onResult:null});c=te(s.ignore,p,i)}const d=(p,h=!1)=>{const{isMatch:m,match:g,output:w}=te.test(p,a,e,{glob:t,posix:r}),f={glob:t,state:o,regex:a,posix:r,input:p,output:w,match:g,isMatch:m};return typeof s.onResult=="function"&&s.onResult(f),m===!1?(f.isMatch=!1,h?f:!1):c(p)?(typeof s.onIgnore=="function"&&s.onIgnore(f),f.isMatch=!1,h?f:!1):(typeof s.onMatch=="function"&&s.onMatch(f),h?f:!0)};return i&&(d.state=o),d};te.test=(t,e,i,{glob:n,posix:s}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};const r=i||{},a=r.format||(s?oe.toPosixSlashes:null);let o=t===n,c=o&&a?a(t):t;return o===!1&&(c=a?a(t):t,o=c===n),(o===!1||r.capture===!0)&&(r.matchBase===!0||r.basename===!0?o=te.matchBase(t,e,i,s):o=e.exec(c)),{isMatch:Boolean(o),match:o,output:c}};te.matchBase=(t,e,i,n=oe.isWindows(i))=>(e instanceof RegExp?e:te.makeRe(e,i)).test(Qi.basename(t));te.isMatch=(t,e,i)=>te(e,i)(t);te.parse=(t,e)=>Array.isArray(t)?t.map(i=>te.parse(i,e)):rn(t,W(j({},e),{fastpaths:!1}));te.scan=(t,e)=>$l(t,e);te.compileRe=(t,e,i=!1,n=!1)=>{if(i===!0)return t.output;const s=e||{},r=s.contains?"":"^",a=s.contains?"":"$";let o=`${r}(?:${t.output})${a}`;t&&t.negated===!0&&(o=`^(?!${o}).*$`);const c=te.toRegex(o,e);return n===!0&&(c.state=t),c};te.makeRe=(t,e={},i=!1,n=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let s={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(s.output=rn.fastpaths(t,e)),s.output||(s=rn(t,e)),te.compileRe(s,e,i,n)};te.toRegex=(t,e)=>{try{const i=e||{};return new RegExp(t,i.flags||(i.nocase?"i":""))}catch(i){if(e&&e.debug===!0)throw i;return/$^/}};te.constants=pt;var Nl=te,Ll=Nl;function Ge(t,e){return Array.isArray(e)?e.some(i=>Ge(t,i)):Ll(e)(t)}var Ce;(function(t){let e=[],i=new Map;t.ready=new L;function n(){return e.concat([...i.values()])}t.all=n;async function s(p){e.length>0||(await p.fired,e=await p.readJSON("data/packages/minecraftBedrock/packDefinitions.json").catch(()=>[]),t.ready.dispatch())}t.setup=s;function r(p){for(const h of n()){if(typeof h.matcher=="string"&&Ge(p,h.matcher))return h;for(const m of h.matcher)if(Ge(p,m))return h}}t.get=r;function a(p){return r(`projects/bridge/${p}`)}t.getWithRelativePath=a;function o(p){for(const h of n())if(h.id===p)return h}t.getFromId=o;function c(p){var h,m;return(m=(h=r(p))==null?void 0:h.id)!=null?m:"unknown"}t.getId=c;function d(p){const h=N();return i.set(h,p),{dispose:()=>i.delete(h)}}t.addExtensionPackType=d})(Ce||(Ce={}));function Hl(t,e=!1){const i=t.toLowerCase().split(" + "),n={key:""};return i.forEach(s=>{s==="\u2318"||(ge()!=="darwin"||e)&&s==="ctrl"?n.ctrlKey=!0:s==="\u2325"||s==="alt"?n.altKey=!0:s==="\u21E7"||s==="shift"?n.shiftKey=!0:s==="\u2303"||s==="meta"?n.metaKey=!0:n.key=s}),n}function Ws({key:t,ctrlKey:e,altKey:i,shiftKey:n,metaKey:s}){const r=ge();let a=t.toUpperCase();return n&&(r==="darwin"?a="\u21E7 + "+a:a="Shift + "+a),i&&(r==="darwin"?a="\u2325 + "+a:a="Alt + "+a),s&&(r==="darwin"?a="\u2303 + "+a:a="Meta + "+a),e&&(r==="darwin"?a="\u2318 + "+a:a="Ctrl + "+a),a}class Ns extends ee{constructor(e,i){super();this.keyBindingManager=e,this.config=i}static fromStrKeyCode(e,i,n=!1,s){return e.create(W(j({},Hl(i,n)),{prevent:s}))}toStrKeyCode(){return Ws(this.config)}async trigger(){this.dispatch()}prevent(e){return typeof this.config.prevent=="function"?this.config.prevent(e):!1}dispose(){this.keyBindingManager.disposeKeyBinding(this.toStrKeyCode())}}class Vl extends se{constructor(e,i){super(i);u(this,"type","action");u(this,"id");u(this,"_keyBinding");var n;this.actionManager=e,this.config=i,this.id=(n=i.id)!=null?n:N(),i.keyBinding&&(Array.isArray(i.keyBinding)?i.keyBinding:[i.keyBinding]).forEach(r=>this.addKeyBinding(Ns.fromStrKeyCode(e.keyBindingManager,r,!0,i.prevent)))}get keyBinding(){return this._keyBinding}addKeyBinding(e){return this._keyBinding=e,e.on(()=>this.trigger()),this}disposeKeyBinding(){this._keyBinding&&this._keyBinding.dispose()}dispose(){this.actionManager.disposeAction(this.id),this.disposeKeyBinding()}}class vi{constructor(e){u(this,"state",He({}));this._keyBindingManager=e}get keyBindingManager(){if(!this._keyBindingManager)throw new Error("No keyBindingManager was defined for this actionManager");return this._keyBindingManager}create(e){const i=new Vl(this,e);return X(this.state,i.id,i),i}getAction(e){return this.state[e]}addDivider(){this.state[N()]={type:"divider"}}disposeAction(e){$e(this.state,e)}dispose(){Object.values(this.state).forEach(e=>e.type==="action"?e.dispose():null)}async trigger(e){if(!this.state[e]||this.state[e].type!=="action")throw new Error(`Failed to trigger "${e}": Action does not exist.`);await this.state[e].trigger()}}async function st(t,e,i=!0){let n=e.filter(a=>a!==null);if(t instanceof MouseEvent&&(t.preventDefault(),t.stopImmediatePropagation()),n.length===0)return;const s=await l.getApp(),r=new vi;n.forEach(a=>a.type==="divider"?r.addDivider():r.create(a)),setTimeout(()=>s.contextMenu.show(t,r,i),60)}class Lt extends L{constructor(e){super();u(this,"uuid",N());u(this,"hasRemoteChange",!1);u(this,"_isUnsaved",!1);u(this,"isForeignFile",!0);u(this,"connectedTabs",[]);u(this,"isTemporary",!0);u(this,"onClose",new ee);u(this,"path");u(this,"folderName",null);u(this,"actions",[]);u(this,"isActive",!1);u(this,"isLoading",!0);this.parent=e,window.setTimeout(()=>this.setup())}static is(e){return!1}async setup(){this.dispatch(this),this.isLoading=!1}setIsUnsaved(e){this._isUnsaved=e,this.isTemporary=!1}get isUnsaved(){return this._isUnsaved}updateParent(e){this.parent=e}get tabSystem(){return this.parent}get isSharingScreen(){return this.parent.isSharingScreen}setFolderName(e){this.folderName=e}getPath(){if(!this.path)throw new Error("Trying to access projectPath before tab finished loading");return this.path}getProjectPath(){if(console.warn("CommonTab.getProjectPath() is deprecated in favor of CommonTab.getPath()"),!this.path)throw new Error("Trying to access projectPath before tab finished loading");return this.path.split("/").slice(2).join("/")}get icon(){var e,i;return(i=(e=l.fileType.getGlobal(this.getPath()))==null?void 0:e.icon)!=null?i:"mdi-file-outline"}get iconColor(){var e;return(e=Ce.get(this.getPath()))==null?void 0:e.color}get isSelected(){return this.parent.selectedTab===this}select(){return this.parent.select(this),this}async close(){this.parent.setActive(!0);const e=await this.parent.close(this);return e&&(this.connectedTabs.forEach(i=>i.close()),this.onClose.dispatch()),e}async is(e){return!1}focus(){}async onActivate(){this.isActive=!0}onDeactivate(){this.isActive=!1}onDestroy(){}async toOtherTabSystem(e=!0){var o;const n=(o=(await l.getApp()).projectManager.currentProject)==null?void 0:o.tabSystems,s=this.isSelected,r=n[0]===this.parent?n[0]:n[1],a=n[0]===this.parent?n[1]:n[0];this.parent=a,e?(r.remove(this,!1),await a.add(this,!0)):(this.isForeignFile||(await a.openedFiles.add(this.getPath()),await r.openedFiles.remove(this.getPath())),s&&await r.select(r.tabs[0]),await a.select(this))}addAction(...e){this.actions.push(...e)}clearActions(){this.actions=[]}async onContextMenu(e){const i=[];this.isTemporary&&i.push({name:"actions.keepInTabSystem.name",description:"actions.keepInTabSystem.description",icon:"mdi-pin-outline",onTrigger:()=>{this.isTemporary=!1}}),this.parent.tabs.length>1&&i.push({name:"actions.moveToSplitScreen.name",description:"actions.moveToSplitScreen.description",icon:"mdi-arrow-split-vertical",onTrigger:async()=>{this.toOtherTabSystem()}}),i.length>0&&i.push({type:"divider"}),await st(e,[...i,{name:"actions.closeTab.name",description:"actions.closeTab.description",icon:"mdi-close",onTrigger:()=>{this.close()}},{name:"actions.closeAll.name",description:"actions.closeAll.description",icon:"mdi-table-row",onTrigger:()=>{this.parent.closeTabs(()=>!0)}},{name:"actions.closeTabsToRight.name",description:"actions.closeTabsToRight.description",icon:"mdi-chevron-right",onTrigger:()=>{let n=!0;this.parent.closeTabs(s=>(s===this&&(n=!1),n))}},{name:"actions.closeAllSaved.name",description:"actions.closeAllSaved.description",icon:"mdi-content-save-outline",onTrigger:()=>{this.parent.closeTabs(n=>!n.isUnsaved)}},{name:"actions.closeOtherTabs.name",description:"actions.closeOtherTabs.description",icon:"mdi-unfold-more-vertical",onTrigger:()=>{this.parent.closeTabs(n=>n!==this)}}])}copy(){document.execCommand("copy")}cut(){document.execCommand("cut")}paste(){}}class Q extends Lt{constructor(e,i,n=!1){super(e);u(this,"isForeignFile",!1);this.parent=e,this.fileHandle=i,this.isReadOnly=n}async setup(){var e;if(this.isForeignFile=!1,this.path=await this.parent.app.fileSystem.baseDirectory.resolve(this.fileHandle).then(i=>i==null?void 0:i.join("/")),!this.path||!this.parent.project.isFileWithinProject(this.path)){this.isForeignFile=!0;let i=(e=await l.fileType.guessFolder(this.fileHandle))!=null?e:N();i.endsWith("/")||(i+="/"),this.path=`${i}${N()}/${this.fileHandle.name}`}this.parent.project.packIndexer.once(async()=>{const i=this.parent.project.packIndexer.service;await i.hasFile(this.path)||(await i.updateFile(this.path,await this.getFile().then(n=>n.text()),this.isForeignFile),l.fileType.isJsonFile(this.getPath())&&this.parent.project.jsonDefaults.updateDynamicSchemas(this.getPath()))}),await super.setup()}get name(){return this.fileHandle.name}getFileType(){return l.fileType.getId(this.getPath())}async is(e){return e instanceof Q?await this.isForFileHandle(e.fileHandle):!1}async isForFileHandle(e){return e.isVirtual!==this.fileHandle.isVirtual?!1:await e.isSameEntry(this.fileHandle)}getFile(){return this.fileHandle.getFile()}getFileHandle(){return this.fileHandle}async saveAs(){const e=await self.showSaveFilePicker({suggestedName:this.fileHandle.name,startIn:this.fileHandle}).catch(()=>null);!e||(this.isForeignFile||this.parent.openedFiles.remove(this.getPath()),this.fileHandle=e,this.resetSignal(),await this.setup(),await this.parent.save(this),this.isForeignFile||this.parent.openedFiles.add(this.getPath()))}}var zl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"monacoContainer",on:{click:function(n){return t.tab.parent.setActive(!0)},contextmenu:function(n){return t.tab.showContextMenu(n)}}})},Ul=[];const Gl={name:"TextTab",props:{tab:Object},computed:{tabSystem(){return this.tab.parent}},activated(){this.updateEditor()},mounted(){this.updateEditor()},methods:{updateEditor(){this.tabSystem.createMonacoEditor(this.$refs.monacoContainer)}}},Ls={};var Jl=E(Gl,zl,Ul,!1,ql,null,null,null);function ql(t){for(let e in Ls)this[e]=Ls[e]}var Kl=function(){return Jl.exports}();const Ql=Jn.exports.debounce(async t=>{var n,s;if(t.updateUnsavedStatus(),!t.editorModel||t.editorModel.isDisposed())return;const e=(n=t.editorModel)==null?void 0:n.getValue(),i=await l.getApp();await i.project.packIndexer.updateFile(t.getPath(),e,t.isForeignFile),await i.project.jsonDefaults.updateDynamicSchemas(t.getPath()),i.project.fileChange.dispatch(t.getPath(),new File([(s=t.editorModel)==null?void 0:s.getValue()],t.name))},600);class ht extends Q{constructor(e,i,n=!1){super(e,i,n);u(this,"component",Kl);u(this,"editorModel");u(this,"editorViewState");u(this,"disposables",[]);u(this,"isActive",!1);u(this,"modelLoaded",new L);u(this,"initialVersionId",0);this.fired.then(async()=>{const s=await l.getApp();await s.projectManager.projectReady.fired,s.project.tabActionProvider.addTabActions(this)})}get editorInstance(){return this.parent.monacoEditor}async getFile(){return!this.editorModel||this.editorModel.isDisposed()?await super.getFile():new File([this.editorModel.getValue()],this.name)}updateUnsavedStatus(){var e;!this.editorModel||this.editorModel.isDisposed()||this.setIsUnsaved(this.initialVersionId!==((e=this.editorModel)==null?void 0:e.getAlternativeVersionId()))}async onActivate(){var e,i,n,s,r,a;if(!this.isActive){if(this.isActive=!0,await this.parent.fired,!this.editorModel||this.editorModel.isDisposed()){const c=await(await this.fileHandle.getFile()).text(),d=Ii.file(this.getPath());this.editorModel=U((n=Ae.getModel(d))!=null?n:Ae.createModel(c,(i=(e=l.fileType.get(this.getPath()))==null?void 0:e.meta)==null?void 0:i.language,d)),this.initialVersionId=this.editorModel.getAlternativeVersionId(),this.modelLoaded.dispatch(),this.loadEditor()}else this.loadEditor();this.disposables.push((s=this.editorModel)==null?void 0:s.onDidChangeContent(()=>{Ql(this)})),this.disposables.push((r=this.editorInstance)==null?void 0:r.onDidFocusEditorText(()=>{this.parent.setActive(!0)})),this.focus(),(a=this.editorInstance)==null||a.layout()}}onDeactivate(){if(this.tabSystem.hasFired){const e=this.editorInstance.saveViewState();e&&(this.editorViewState=U(e))}this.disposables.forEach(e=>e==null?void 0:e.dispose()),this.isActive=!1}onDestroy(){var e;this.disposables.forEach(i=>i==null?void 0:i.dispose()),(e=this.editorModel)==null||e.dispose(),this.editorModel=void 0,this.editorViewState=void 0,this.isActive=!1,this.modelLoaded.resetSignal()}updateParent(e){super.updateParent(e)}focus(){var e;(e=this.editorInstance)==null||e.focus()}loadEditor(){var e,i,n;this.editorModel&&!this.editorModel.isDisposed()&&((e=this.editorInstance)==null||e.setModel(this.editorModel)),this.editorViewState&&((i=this.editorInstance)==null||i.restoreViewState(this.editorViewState)),(n=this.editorInstance)==null||n.updateOptions({readOnly:this.isReadOnly}),this.focus()}async save(){var s,r,a,o,c;this.isTemporary=!1;const e=await l.getApp(),i=(s=this.editorInstance)==null?void 0:s.getAction("editor.action.formatDocument"),n=l.fileType.getGlobal(this.getPath());if(i&&((a=(r=F==null?void 0:F.general)==null?void 0:r.formatOnSave)!=null?a:!0)&&((o=n==null?void 0:n.formatOnSaveCapable)!=null?o:!0)){e.windows.loadingWindow.open(),(c=this.editorInstance)==null||c.executeEdits("automatic",[{forceMoveMarkers:!1,range:{startLineNumber:0,endLineNumber:0,startColumn:0,endColumn:0},text:"	"}]);const d=new Promise(h=>{var g;if(!this.editorModel||this.editorModel.isDisposed())return h();const m=(g=this.editorModel)==null?void 0:g.onDidChangeContent(()=>{m==null||m.dispose(),h()})}),p=i.run();await Promise.all([d,p]),await this.saveFile(e),e.windows.loadingWindow.close()}else await this.saveFile(e)}async saveFile(e){this.editorModel&&!this.editorModel.isDisposed()?(this.setIsUnsaved(!1),this.initialVersionId=this.editorModel.getAlternativeVersionId(),await e.fileSystem.write(this.fileHandle,this.editorModel.getValue())):console.error("Cannot save file content without active editorModel")}setReadOnly(e){var i;this.isReadOnly=e,(i=this.editorInstance)==null||i.updateOptions({readOnly:e})}async paste(){var e;this.isReadOnly||(this.editorInstance.focus(),(e=this.editorInstance)==null||e.trigger("keyboard","paste",{text:await navigator.clipboard.readText()}))}cut(){this.isReadOnly||(this.focus(),document.execCommand("cut"))}async close(){const e=await super.close();if(e&&this.isUnsaved){const i=await l.getApp();if(this.isForeignFile)await i.fileSystem.unlink(this.getPath());else{const s=await(await this.fileHandle.getFile()).text();await i.project.packIndexer.updateFile(this.getPath(),s)}}return e}showContextMenu(e){this.parent.showCustomMonacoContextMenu(e,this)}}var Xl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.shouldRender?i("BaseWindow",{attrs:{windowTitle:"general.confirm",isVisible:t.isVisible,isPersistent:!1,hasMaximizeButton:!1,isFullscreen:!1,width:440,height:130,hasCloseButton:!1,isSmallPopup:!0},scopedSlots:t._u([{key:"default",fn:function(){return[i("p",{staticClass:"mt-2"},[t._v(t._s(t.t("windows.unsavedFile.description")))])]},proxy:!0},{key:"actions",fn:function(){return[i("v-spacer"),i("v-btn",{attrs:{color:"menu"},on:{click:t.onCancel}},[i("span",[t._v(t._s(t.t("general.cancel")))])]),i("v-btn",{attrs:{color:"error"},on:{click:t.onNoSave}},[i("span",[t._v(t._s(t.t("general.close")))])]),i("v-btn",{attrs:{color:"primary"},on:{click:t.onSave}},[i("span",[t._v(t._s(t.t("windows.unsavedFile.save")))])])]},proxy:!0}],null,!1,1792198457)}):t._e()},Zl=[];const Yl={name:"Confirm",mixins:[P],components:{BaseWindow:de},props:["currentWindow"],data(){return this.currentWindow},methods:{onCancel(){this.currentWindow.cancel()},onNoSave(){this.currentWindow.noSave()},onSave(){this.currentWindow.save()}}},Hs={};var ed=E(Yl,Xl,Zl,!1,td,null,null,null);function td(t){for(let e in Hs)this[e]=Hs[e]}var id=function(){return ed.exports}();const Vs=new WeakMap;class nd extends ne{constructor(e){super(id,!0,!1);Vs.set(this,e),this.defineWindow(),this.open()}get tab(){return Vs.get(this)}async noSave(){var i;this.close("close"),await((i=(await l.getApp()).tabSystem)==null?void 0:i.close(this.tab,!1))}async save(){var i,n;l.audioManager.playAudio("confirmation_002.ogg",1),this.close("save");const e=await l.getApp();await((i=e.tabSystem)==null?void 0:i.save(this.tab)),await((n=e.tabSystem)==null?void 0:n.close(this.tab,!1))}async cancel(){this.close("cancel")}}class zs{constructor(e=1/0,i){u(this,"array",[]);this.maxSize=e;for(const n of i!=null?i:[])this.add(n)}add(e,i=this.isEquals.bind(this)){const n=this.array.findIndex(s=>i(s,e));return n>-1?(this.array.splice(n,1),this.array.unshift(e),this):(this.array.length>=this.maxSize&&this.array.pop(),this.array.unshift(e),this)}remove(e,i=this.isEquals.bind(this)){const n=this.array.findIndex(s=>i(s,e));return n>-1&&this.array.splice(n,1),this}clear(){this.array=[]}isEquals(e,i){return e===i}toJSON(){return JSON.stringify(this.array)}fromArray(e){this.array=e}[Symbol.iterator](){return this.array.values()}get size(){return this.maxSize}get elementCount(){return this.array.length}get elements(){return[...this.array]}}const Oe=Rt.dirname,Re=Rt.join,Ee=Rt.extname,rt=Rt.basename,an=Rt.resolve;var sd=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",dirname:Oe,join:Re,extname:Ee,basename:rt,resolve:an});class on extends L{constructor(e,i,n,s=!0){super();u(this,"queue");u(this,"app");this.maxSize=i,this.savePath=n,X(this,"queue",new zs(i)),this.app=U(e),s&&this.setup()}async setup(){await this.app.fileSystem.fired;let e=[];try{e=await this.app.fileSystem.readJSON(this.savePath)}catch{}this.queue.fromArray(e),this.dispatch(this.queue)}isEquals(e,i){return e===i}keep(e){const i=new zs(this.maxSize);this.elements.filter(n=>e(n)).forEach(n=>i.add(n,this.isEquals.bind(this))),this.queue=i}async add(e){await this.fired,this.queue.add(e,this.isEquals.bind(this)),await this.saveQueue()}async remove(e){await this.fired,this.queue.remove(e,this.isEquals.bind(this)),await this.saveQueue()}clear(){return this.queue.clear(),this.saveQueue()}async saveQueue(){await this.app.fileSystem.mkdir(Oe(this.savePath),{recursive:!0}),await this.app.fileSystem.writeFile(this.savePath,this.queue.toJSON())}get elements(){return this.queue.elements}}class rd extends on{constructor(e,i,n){super(i,1/0,n);this.tabSystem=e}async restoreTabs(){var e,i;if((i=(e=F==null?void 0:F.general)==null?void 0:e.restoreTabs)!=null?i:!0){await this.fired;for(let n=0;n<this.queue.elements.length;n++)try{await this.tabSystem.openPath(this.queue.elements[n],{selectTab:n===0,isTemporary:!1})}catch{}}}}function un(t,e){const i=Oo(t.getValue(),t.getOffsetAt(e)).path;return isNaN(Number(i[i.length-1]))||i.pop(),i.join("/")}function cn(t,e){const i=t.getLineContent(e.lineNumber),n=od(i,e.column),s=ad(i,e.column);return{word:i.substring(n,s),range:new It(e.lineNumber,n,e.lineNumber,s)}}function ad(t,e){for(let i=e-1;i<t.length;i++)if(t[i]==='"')return i;return t.length}function od(t,e){for(let i=e-2;i>0;i--)if(t[i]==='"')return i+1;return 0}function Dt(t){return ud(t)(...Object.values(t.env))}function ud({script:t,env:e,language:i,modules:n,async:s=!1}){i==="typeScript"&&(t=Ro.exports.transpile(t,{target:99,isolatedModules:!0}));let r=cd(t);if(n){const a=e.require;e.require=async o=>{if(n[o])return n[o];if(typeof a=="function")return await(a==null?void 0:a(o))}}try{return s?new Function(...Object.keys(e),`return (async () => {
${r}
})()`):new Function(...Object.keys(e),r)}catch(a){throw console.error(t),new Error(`Error within script: ${a}`)}}function cd(t){return t.replace(/export default([ \(])/g,(e,i)=>`module.exports =${i}`).replace(/import\s+(\* as [a-z][a-z0-9]*|[a-z][a-z0-9]+|{[a-z\s][a-z0-9,\s]*})\s+from\s+["'](.+)["']/gi,(e,i,n)=>(i.startsWith("* as ")&&(i=i.replace("* as ","")),`const ${i} = await require('${n}')`))}async function Us(t,e,i){for(const n of i){const s=`${e}${n}`;if(await t.fileExists(s))return s}}async function ld(t,e){const n=(await Promise.all(t.map(e))).findIndex(s=>s);return t[n]}class dd{async provideDefinition(e,i,n){var A,_,C;const s=await l.getApp(),{word:r,range:a}=cn(e,i),o=(_=(A=s.project.tabSystem)==null?void 0:A.selectedTab)==null?void 0:_.getPath();if(!o)return;const{definitions:c}=(C=l.fileType.get(o))!=null?C:{},d=await l.fileType.getLightningCache(o);if(!c||typeof d=="string"||d.length===0)return;const p=un(e,i),{definitionId:h,transformedWord:m}=await this.getDefinition(r,p,d);if(!h||!m)return;let g=c[h];if(!g)return;Array.isArray(g)||(g=[g]);const w=s.project.name,f=await this.getFilePath(m,g);return(await Promise.all(f.map(async S=>{const T=`projects/${w}/${S}`,$=Ii.file(T);if(!Ae.getModel($)){let O;try{O=await s.fileSystem.getFileHandle(T)}catch{return}const B=Ae.createModel(await O.getFile().then(R=>R.text()),void 0,$);setTimeout(()=>{s.project.getFileTab(O)||B.dispose()},5*1e3)}return{uri:$,range:new It(0,0,1/0,1/0)}}))).filter(S=>S!==void 0)}async getDefinition(e,i,n){var o;const s=await l.getApp();let r=e;const a=n.map(c=>[c.cacheKey,c.path,{script:c.script,filter:c.filter}]).filter(c=>c!==void 0);return{definitionId:await((o=ld(a,async([c,d,{script:p,filter:h}])=>d===""?!1:Ge(i,d)?(h&&h.includes(e)&&(r=void 0),r&&p&&(r=await Dt({script:p,env:{Bridge:{value:r,withExtension:(g,w)=>Us(s.project.fileSystem,g,w)}}})),!0):!1))==null?void 0:o.then(c=>c==null?void 0:c[0])),transformedWord:r}}async getFilePath(e,i){var r,a;const n=await l.getApp(),s=[];for(const o of i){if(o.directReference){s.push(e);continue}const c=(a=await((r=n.project.packIndexer.service)==null?void 0:r.find(o.from,o.match,[e],!0)))!=null?a:[];s.push(...c)}return s}}async function Gs(t,e){var o,c;await l.fileType.ready.fired;const i=await l.getApp(),n=d=>i.locales.translate(d),{id:s,documentation:r}=(o=l.fileType.get(t))!=null?o:{};if(!r){new ae({description:`[${n("actions.documentationLookup.noDocumentation")} ${s?n(`fileType.${s}`):'"'+t+'"'}.]`});return}let a=r.baseUrl;e&&((c=r.supportsQuerying)!=null?c:!0)&&(a+=`#${e}`),l.openUrl(a)}function Js(t,e){let i;try{i=t.getLineContent(e.lineNumber)}catch{return!1}const n=hd(i,e.column),s=pd(i,e.column);return n&&s}function pd(t,e){for(let i=e-1;i<t.length;i++)if(t[i]==='"')return!0;return!1}function hd(t,e){for(let i=e-2;i>0;i--)if(t[i]==='"')return!0;return!1}V.typescript.javascriptDefaults.setCompilerOptions({target:V.typescript.ScriptTarget.ESNext,allowNonTsExtensions:!0,noLib:!0,alwaysStrict:!0});V.registerDefinitionProvider("json",new dd);class md extends L{constructor(e){super();u(this,"_monacoEditor");u(this,"disposables",[]);this._app=e}get monacoEditor(){if(!this._monacoEditor)throw new Error("Accessed Monaco Editor before it was defined");return this._monacoEditor}getMobileOptions(e){return{lineNumbers:e?"off":"on",minimap:{enabled:!e},tabSize:e?2:4,scrollbar:{horizontalScrollbarSize:e?15:void 0,verticalScrollbarSize:e?20:void 0,horizontalSliderSize:e?15:void 0,verticalSliderSize:e?20:void 0}}}createMonacoEditor(e){var r,a,o,c,d,p,h,m,g,w,f;this.dispose(),this._monacoEditor=U(Ae.create(e,W(j({wordBasedSuggestions:!1,theme:"bridgeMonacoDefault",roundedSelection:!1,autoIndent:"full",fontSize:Number(((a=(r=F==null?void 0:F.appearance)==null?void 0:r.editorFontSize)!=null?a:"14px").replace("px","")),"bracketPairColorization.enabled":(c=(o=F==null?void 0:F.editor)==null?void 0:o.bracketPairColorization)!=null?c:!1,fontFamily:(p=(d=F==null?void 0:F.appearance)==null?void 0:d.editorFont)!=null?p:ge()==="darwin"?"Menlo":"Consolas"},this.getMobileOptions(this._app.mobile.isCurrentDevice())),{contextmenu:!1,wordWrap:((h=F==null?void 0:F.editor)==null?void 0:h.wordWrap)?"bounded":"off",wordWrapColumn:Number((g=(m=F==null?void 0:F.editor)==null?void 0:m.wordWrapColumns)!=null?g:"80")})));const i=this._monacoEditor._codeEditorService,n=i.openCodeEditor.bind(i);i.openCodeEditor=Ct(async(D,A,_)=>{var S,T;let C=await n(D,A,_);if(!C)try{const $=(S=this._app.tabSystem)==null?void 0:S.selectedTab;$&&($.isTemporary=!1),await((T=this._app.project.tabSystem)==null?void 0:T.openPath(D.resource.path.slice(1)))}catch{console.error(`Failed to open file "${D.resource.path.slice(1)}"`)}return C},100);const s=this._monacoEditor.getAction("editor.action.commentLine");(w=this._monacoEditor)==null||w.addAction(W(j({},s),{keybindings:[Io.CtrlCmd|Wo.US_BACKSLASH],run(...D){this._run(...D)}})),this._monacoEditor.onDidChangeModelContent(D=>{var S,T,$,O,B;const A=(T=(S=this._app.tabSystem)==null?void 0:S.selectedTab)==null?void 0:T.getPath();if(!A||!l.fileType.isJsonFile(A))return;const _=($=this._monacoEditor)==null?void 0:$.getModel(),C=(B=(O=this._monacoEditor)==null?void 0:O.getSelection())==null?void 0:B.getPosition();_&&C&&Js(_,C)&&D.changes.some(R=>R.text===" ")&&setTimeout(()=>{var R;(R=this._monacoEditor)==null||R.trigger("auto","editor.action.triggerSuggest",{})},50)}),(f=this._monacoEditor)==null||f.layout(),this.disposables.push(this._app.windowResize.on(()=>setTimeout(()=>{var D;return(D=this._monacoEditor)==null?void 0:D.layout()}))),this.disposables.push(this._app.mobile.change.on(D=>{var A;(A=this._monacoEditor)==null||A.updateOptions(this.getMobileOptions(D))})),this.dispatch()}updateOptions(e){var i;(i=this._monacoEditor)==null||i.updateOptions(e)}dispose(){var e;(e=this._monacoEditor)==null||e.dispose(),this.disposables.forEach(i=>i.dispose()),this.disposables=[],this._monacoEditor=void 0}onReadonlyCustomMonacoContextMenu(){return[{name:"actions.documentationLookup.name",icon:"mdi-book-open-outline",onTrigger:()=>{var r,a,o,c,d;const e=(r=this._monacoEditor)==null?void 0:r.getModel(),i=(a=this._monacoEditor)==null?void 0:a.getSelection();if(!e||!i)return;const n=(c=(o=this._app.tabSystem)==null?void 0:o.selectedTab)==null?void 0:c.getPath();if(!n)return;let s;l.fileType.isJsonFile(n)?s=cn(e,i.getPosition()).word:s=(d=e.getWordAtPosition(i.getPosition()))==null?void 0:d.word,Gs(n,s)}},{name:"actions.goToDefinition.name",icon:"mdi-magnify",onTrigger:()=>{var e;(e=this._monacoEditor)==null||e.trigger("contextmenu","editor.action.revealDefinition",null)}},{name:"actions.goToSymbol.name",icon:"mdi-at",onTrigger:()=>{setTimeout(()=>{var e,i;(e=this._monacoEditor)==null||e.focus(),(i=this._monacoEditor)==null||i.trigger("contextmenu","editor.action.quickOutline",null)})}}]}showCustomMonacoContextMenu(e,i){if(i.isReadOnly)return st(e,this.onReadonlyCustomMonacoContextMenu());st(e,[...this.onReadonlyCustomMonacoContextMenu(),{type:"divider"},{name:"actions.changeAllOccurrences.name",icon:"mdi-pencil-outline",onTrigger:()=>{var n;(n=this._monacoEditor)==null||n.trigger("contextmenu","editor.action.rename",null)}},{name:"actions.formatDocument.name",icon:"mdi-text-box-check-outline",onTrigger:()=>{var n;(n=this._monacoEditor)==null||n.trigger("contextmenu","editor.action.formatDocument",null)}},{type:"divider"},{name:"actions.copy.name",icon:"mdi-content-copy",onTrigger:()=>{document.execCommand("copy")}},{name:"actions.cut.name",icon:"mdi-content-cut",onTrigger:()=>{i.cut()}},{name:"actions.paste.name",icon:"mdi-content-paste",onTrigger:()=>{i.paste()}}])}}async function kt(t,e){return e||(e=(await l.getApp()).fileSystem),new Promise(async(i,n)=>{const s=new FileReader;try{const a=await(await e.getFileHandle(t)).getFile();s.addEventListener("load",()=>{i(s.result)}),s.addEventListener("error",n),s.readAsDataURL(a)}catch{n(`File does not exist: "${t}"`)}})}function fd(t){return new Promise(async(e,i)=>{const n=new FileReader;try{const s=await t.getFile();n.addEventListener("load",()=>{e(n.result)}),n.addEventListener("error",i),n.readAsDataURL(s)}catch{i(`File does not exist: "${t.name}"`)}})}var gd=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex align-center justify-center",on:{click:function(n){return t.tab.parent.setActive(!0)}}},[i("img",{staticClass:"img-preview",attrs:{src:t.tab.dataUrl,alt:t.tab.path,draggable:"false"}})])},wd=[];const yd={name:"ImageTab",props:{tab:Object}},qs={};var vd=E(yd,gd,wd,!1,Cd,"2927e62d",null,null);function Cd(t){for(let e in qs)this[e]=qs[e]}var bd=function(){return vd.exports}();class Ks extends Q{constructor(){super(...arguments);u(this,"component",bd);u(this,"dataUrl")}static is(e){const i=e.name;return i.endsWith(".png")||i.endsWith(".jpg")||i.endsWith(".jpeg")}setReadOnly(){this.isReadOnly=!0}async onActivate(){this.dataUrl=await fd(this.fileHandle)}get icon(){return"mdi-file-image-outline"}get iconColor(){return"primary"}save(){}}class Fd extends Ks{static is(e){const i=e.name;return i.endsWith(".tga")||i.endsWith(".targa")}async onActivate(){const e=new No,i=await this.fileHandle.getFile();e.load(new Uint8Array(await i.arrayBuffer())),this.dataUrl=e.getDataURL("image/png")}save(){}async saveAs(){}}class mt{}class Ht extends mt{constructor(e){super();this.entries=e}get unselectTrees(){return this.entries.map(e=>e.unselectTrees).flat()}undo(){return new Ht(this.entries.reverse().map(e=>e.undo()))}}class ln extends mt{constructor(e,i,n=""){super();u(this,"unselectTrees",[]);this.tree=e,this.index=i,this.key=n,this.unselectTrees=[this.tree]}undo(){const e=this.tree.getParent();if(!e)throw new Error("Invalid state: Undo delete action on global tree node");return e.type==="array"?e.children.splice(this.index,0,this.tree):e.children.splice(this.index,0,[this.key,this.tree]),new Ci(this.tree,this.index,this.key)}}class Ci extends mt{constructor(e,i,n=""){super();u(this,"unselectTrees",[]);this.tree=e,this.index=i,this.key=n,this.unselectTrees=[this.tree]}undo(){const e=this.tree.getParent();if(!e)throw new Error("Invalid state: Redo delete action on global tree node");return e.children.splice(this.index,1),new ln(this.tree,this.index,this.key)}}class dn extends mt{constructor(e,i,n){super();u(this,"unselectTrees");this.parent=e,this.oldValue=i,this.newValue=n,this.unselectTrees=[e]}undo(){return this.parent.updatePropertyName(this.newValue,this.oldValue),new dn(this.parent,this.newValue,this.oldValue)}}class pn extends mt{constructor(e,i){super();u(this,"unselectTrees");this.tree=e,this.value=i,this.unselectTrees=[e]}undo(){const e=`${this.tree.value}`;return this.tree.edit(this.value),new pn(this.tree,e)}}class Je extends mt{constructor(e,i){super();u(this,"unselectTrees");this.oldTree=e,this.newTree=i,this.unselectTrees=[i]}undo(){return this.newTree.replace(this.oldTree),new Je(this.newTree,this.oldTree)}}const ce=bt("mouse");window.addEventListener("pointerdown",t=>{ce.value=t.pointerType},{passive:!0});const Vt=ce.value==="mouse"?19:26;class hn{constructor(e){u(this,"uuid",N());u(this,"isSelected",!1);this.parent=e}get styles(){return{outline:"none",contentVisibility:"auto",containIntrinsicSize:`${this.height}px`}}get value(){return this._value}getParent(){return this.parent}setParent(e){this.parent=e}get path(){return this.parent?[...this.parent.path,this.key]:[]}findParentIndex(){if(!this.parent)throw new Error("Cannot findParentIndex for tree without parent");let e;if(this.parent.type==="array"?e=this.parent.children.findIndex(i=>i===this):e=this.parent.children.findIndex(([i,n])=>n===this),e===-1)throw console.log(this),new Error("Invalid state: TreeChild with parent couldn't be found inside of parent's children");return e}get key(){if(!this.parent)throw new Error("Trees without parent do not have a key");const e=this.findParentIndex();return this.parent.type==="array"?e:this.parent.children[e][0]}setIsSelected(e){this.isSelected=e}replace(e){if(!this.parent)throw new Error("Cannot replace tree without parent");const i=this.findParentIndex();X(this.parent.children,i,this.parent.type==="array"?e:[this.key,e])}delete(){if(!this.parent)throw new Error("Cannot delete tree without parent");let e;if(this.parent.type==="array"){if(e=this.parent.children.findIndex(n=>n===this),e===-1)throw new Error("Invalid state: TreeChild with parent couldn't be found inside of parent's children")}else if(e=this.parent.children.findIndex(([n,s])=>s===this),e===-1)throw new Error("Invalid state: TreeChild with parent couldn't be found inside of parent's children");const[i]=this.parent.children.splice(e,1);return[e,Array.isArray(i)?i[0]:""]}}const Qs=t=>`${t}Def`,Xs=t=>({data:()=>Object.fromEntries(t.map(e=>[Qs(e),{}])),mounted(){l.instance.themeManager.on(this.onThemeChanged),this.onThemeChanged()},destroyed(){l.instance.themeManager.off(this.onThemeChanged)},methods:{onThemeChanged(){t.forEach(e=>{this[Qs(e)]=l.instance.themeManager.getHighlighterInfo(e)})}}});var Ad=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.value===void 0?i("span",{style:t.toStyle(t.def)},[t._t("default")],2):i("span",[t._v('"'),t._l(t.tokens,function(n,s){var r=n.text,a=n.def;return[i("span",{key:r,style:t.toStyle(a)},[t._v(t._s(r))]),i("span",{key:r+".colon"},[t._v(t._s(t.tokens.length>s+1?":":""))])]}),t._v('"')],2)},Ed=[];const _d={props:{def:Object,value:String},mixins:[Xs(["string","number","variable","definition","keyword","type"])],data:()=>({keywords:[],typeIdentifiers:[],variables:[],definitions:[]}),async mounted(){const t=await l.getApp();t.configuredJsonLanguage.getHighlighter().on(this.updateKnownWords),this.updateKnownWords(t.configuredJsonLanguage.getHighlighter().knownWords)},async destroyed(){(await l.getApp()).configuredJsonLanguage.getHighlighter().on(this.updateKnownWords)},computed:{tokens(){return this.value.split(":").map(t=>({text:t,def:this.getDefinition(t)}))}},methods:{updateKnownWords({keywords:t,typeIdentifiers:e,variables:i,definitions:n}){this.keywords=t,this.typeIdentifiers=e,this.variables=i,this.definitions=n},getDefinition(t){return this.keywords.includes(t)?this.keywordDef:this.typeIdentifiers.includes(t)?this.typeDef:this.variables.includes(t)?this.variableDef:this.definitions.includes(t)?this.definitionDef:this.stringDef},getTextDecoration(t){return t?(t.textDecoration||(t.textDecoration=""),t.isItalic&&(t.textDecoration+=" italic"),t.textDecoration):null},toStyle(t){return{color:t?t.color:null,backgroundColor:t?t.background:null,textDecoration:this.getTextDecoration(t)}}}},Zs={};var xd=E(_d,Ad,Ed,!1,Dd,null,null,null);function Dd(t){for(let e in Zs)this[e]=Zs[e]}var Ys=function(){return xd.exports}();class mn extends mt{constructor(e,i,n,s=""){super();u(this,"unselectTrees",[]);this.oldParent=e,this.tree=i,this.index=n,this.key=s,this.unselectTrees=[this.tree]}undo(){const e=this.tree.getParent();if(!e)throw new Error("Invalid state: Undo delete action on global tree node");const i=this.tree.findParentIndex();return this.tree.delete(),this.oldParent.type==="array"?this.oldParent.children.splice(this.index,0,this.tree):this.oldParent.children.splice(this.index,0,[this.key,this.tree]),this.tree.setParent(this.oldParent),new mn(e,this.tree,i,this.key)}}var kd=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pl-4"},[i("Draggable",{attrs:{group:{name:"treeEditorNode"},disabled:!t.dragAndDropEnabled||t.pointerDevice==="touch"},on:{change:t.onChange},model:{value:t.children,callback:function(n){t.children=n},expression:"children"}},t._l(t.children,function(n){var s=n[0],r=n[1];return i(r.component,{key:r.uuid,tag:"component",attrs:{tree:r,treeEditor:t.treeEditor},on:{setActive:function(a){return t.$emit("setActive")}}},[i("Highlight",{attrs:{value:s}})],1)}),1)],1)},Sd=[];const Bd={name:"TreeChildren",components:{Highlight:Ys,Draggable:Wi},props:{tree:Object,treeEditor:Object},setup(){return{pointerDevice:ce}},methods:{wrapKey(t){return this.tree.type==="object"?`"${t}"`:`${t}`},onChange(t){if(t.removed||t.moved){const e=t.removed?t.removed.element[1]:t.moved.element[1],i=t.removed?t.removed.oldIndex:t.moved.oldIndex;this.treeEditor.history.push(new mn(this.tree,e,i,e.key))}else t.added&&(t.added.element[1].parent=this.tree)}},computed:{dragAndDropEnabled(){var t,e;return(e=(t=F.editor)==null?void 0:t.dragAndDropTreeNodes)!=null?e:!0},children:{get(){return this.tree instanceof _e?Object.entries(this.tree.children):this.tree.children},set(t){this.tree instanceof _e?this.tree._children=t.map(e=>e[1]):this.tree._children=t}}}},er={};var jd=E(Bd,kd,Sd,!1,Td,null,null,null);function Td(t){for(let e in er)this[e]=er[e]}var Pd=function(){return jd.exports}();function fn(t,e,i,n=500){let s=null;return{onTouchStart:(...o)=>{s=window.setTimeout(()=>{t(...o),s=null},n)},onTouchEnd:()=>{s&&(window.clearTimeout(s),s=null,e==null||e()),i==null||i()}}}const tr={computed:{isDevMode(){var t,e;return(e=(t=F==null?void 0:F.developers)==null?void 0:t.isDevMode)!=null?e:!1}}};var $d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.$slots.default?i("details",{style:t.tree.styles,attrs:{open:t.tree.isOpen,tabindex:"-1"}},[i("summary",{class:{"common-tree-key":!0,open:t.tree.isOpen,"tree-editor-selection":t.tree.isSelected},style:{height:t.pointerDevice==="touch"?"26px":null},attrs:{tabindex:"-1"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.onClickKey(n)},contextmenu:function(n){return n.preventDefault(),t.treeEditor.onContextMenu(n,t.tree)},pointerdown:function(n){return t.onTouchStart(n)},pointerup:t.onTouchEnd}},[i("v-icon",{staticClass:"mr-1",style:{position:"relative",opacity:t.tree.hasChildren?null:"60%",top:t.tree.hasChildren?"0px":"-1.5px"},attrs:{small:""},nativeOn:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.tree.toggleOpen()}}},[t._v(" mdi-chevron-right ")]),t.tree.parent.type==="object"?i("span",[t.isDevMode?i("span",[t._v("s: "+t._s(t.tree.type)+" p: "+t._s(t.tree.parent.type)+" ")]):t._e(),i("span",{on:{dblclick:function(n){return t.tree.toggleOpen()}}},[t._t("default")],2),t._v(":")]):i("span",{class:{"mx-2":t.pointerDevice!=="touch","mx-6":t.pointerDevice==="touch"}}),i("span",{staticClass:"px-1",on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.tree.toggleOpen()}}},[t._v(" "+t._s(t.openingBracket)+" ")])],1),t.tree.isOpen?i("TreeChildren",{attrs:{tree:t.tree,treeEditor:t.treeEditor},on:{setActive:function(n){return t.$emit("setActive")}}}):t._e(),t._v(" "+t._s(t.closingBracket)+" ")],1):i("TreeChildren",{attrs:{tree:t.tree,treeEditor:t.treeEditor},on:{setActive:function(n){return t.$emit("setActive")}}})},Md=[];const St={array:"[]",object:"{}"},Od={name:"ObjectTree",components:{TreeChildren:Pd},mixins:[tr],props:{tree:Object,treeKey:String,treeEditor:Object},setup(t){const{onTouchStart:e,onTouchEnd:i}=fn(n=>{ce.value==="touch"&&t.treeEditor.onContextMenu(n,t.tree)},null,()=>{t.treeEditor.parent.app.contextMenu.setMayCloseOnClickOutside(!0)});return{onTouchStart:e,onTouchEnd:i,pointerDevice:ce}},computed:{openingBracket(){return this.tree.isOpen?St[this.tree.type][0]:Object.keys(this.tree.children).length>0?`${St[this.tree.type][0]}...${St[this.tree.type][1]}`:`${St[this.tree.type][0]}${St[this.tree.type][1]}`},closingBracket(){return this.tree.isOpen?St[this.tree.type][1]:void 0}},methods:{onClickKey(t){var e,i;this.$emit("setActive"),((i=(e=F.editor)==null?void 0:e.automaticallyOpenTreeNodes)!=null?i:!0)&&this.tree.toggleOpen(),t.altKey?this.treeEditor.toggleSelection(this.tree):this.treeEditor.setSelection(this.tree)}}},ir={};var Rd=E(Od,$d,Md,!1,Id,"733edf98",null,null);function Id(t){for(let e in ir)this[e]=ir[e]}var nr=function(){return Rd.exports}();class Se extends hn{constructor(e,i){super(e);u(this,"component",nr);u(this,"_isOpen",!1);u(this,"type","object");u(this,"_children");this._value=i,this._children=Object.entries(i).map(([n,s])=>[n,bi(this,s)])}get height(){return this.isOpen?2*Vt+this._children.reduce((e,[i,n])=>e+n.height,0):Vt}get children(){return this._children}get hasChildren(){return this._children.length>0}get isOpen(){return this.hasChildren?this._isOpen:!1}hasChild(e){return this.children.some(([i,n])=>n===e)}addChild(e,i){this._children.push([e,i])}setOpen(e,i=!1){(this.hasChildren||i)&&(this._isOpen=e)}toggleOpen(){this.setOpen(!this._isOpen)}toJSON(){return Object.fromEntries(this._children.map(([e,i])=>[e,i.toJSON()]))}updatePropertyName(e,i){const n=this.children.findIndex(d=>d[0]===e);let[s,r]=this.children[n];if(!r)return;let a=0,o=i,c=this.children.findIndex(d=>d[0]===i);if(c!==n)for(;c!==-1;)c=this.children.findIndex(d=>d[0]===i),i=o+`_${a++}`;X(this.children,n,[i,r])}}var Wd=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:Object.assign({},t.tree.styles,{height:t.pointerDevice==="touch"?"26px":null}),attrs:{tabindex:"-1"}},[i("div",{class:{"tree-editor-selection":t.tree.type!=="object"&&t.tree.type!=="array"&&t.tree.isSelected},staticStyle:{display:"inline-block"},on:{contextmenu:function(n){return n.preventDefault(),n.stopPropagation(),t.treeEditor.onContextMenu(n,t.tree)},pointerdown:function(n){return t.onKeyTouchStart(n)},pointerup:t.onKeyTouchEnd}},[i("v-icon",{staticClass:"mr-1",style:{opacity:"60%",position:"relative",top:"-1.5px"},attrs:{small:""}},[t._v(" mdi-chevron-right ")]),t.tree.parent.type==="object"?i("span",[i("span",{on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.onClickKey(n)}}},[t._t("default")],2),t._v(":")]):t._e()],1),t.isDevMode?i("span",[t._v(" s: "+t._s(t.tree.type)+" p: "+t._s(t.tree.parent.type))]):t._e(),i("Highlight",{class:{"tree-editor-selection":t.tree.isValueSelected,"px-1":!0},style:{height:"20.5px",display:"inline-block"},attrs:{def:t.highlighterInfo,value:this.tree.type==="string"?t.treeValue:void 0},nativeOn:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.onClickKey(n,!0)},contextmenu:function(n){return n.preventDefault(),t.treeEditor.onContextMenu(n,t.tree,!1)},pointerdown:function(n){return t.onTouchStart(n)},pointerup:function(n){return t.onTouchEnd(n)}}},[t._v(" "+t._s(t.treeValue)+" ")])],1)},Nd=[];const Ld={components:{Highlight:Ys},name:"PrimitiveTree",mixins:[Xs(["atom","string","number"]),tr],props:{tree:Object,treeEditor:Object},setup(t){const{onTouchStart:e,onTouchEnd:i}=fn(r=>{ce.value==="touch"&&t.treeEditor.onContextMenu(r,t.tree,!1)},null,()=>{t.treeEditor.parent.app.contextMenu.setMayCloseOnClickOutside(!0)}),{onTouchStart:n,onTouchEnd:s}=fn(r=>{ce.value==="touch"&&t.treeEditor.onContextMenu(r,t.tree)},null,()=>{t.treeEditor.parent.app.contextMenu.setMayCloseOnClickOutside(!0)});return{onTouchStart:e,onTouchEnd:i,onKeyTouchStart:n,onKeyTouchEnd:s,pointerDevice:ce}},computed:{treeValue(){return this.tree.value===null?"null":this.tree.type==="string"?this.tree.value:this.tree.value},highlighterInfoDef(){switch(this.tree.type){case"number":return"numberDef";case"string":return;case"boolean":return"atomDef";case"null":return"atomDef";default:throw new Error(`Unknown primitive type: "${this.tree.type}"`)}},highlighterInfo(){return this[this.highlighterInfoDef]},textDecoration(){return this.highlighterInfo.textDecoration||(this.highlighterInfo.textDecoration=""),this.highlighterInfo.isItalic&&(this.highlighterInfo.textDecoration+=" italic"),this.highlighterInfo.textDecoration}},methods:{onClickKey(t,e){this.$emit("setActive"),t.altKey?this.treeEditor.toggleSelection(this.tree,e):this.treeEditor.setSelection(this.tree,e)}}},sr={};var Hd=E(Ld,Wd,Nd,!1,Vd,null,null,null);function Vd(t){for(let e in sr)this[e]=sr[e]}var zd=function(){return Hd.exports}();class pe extends hn{constructor(e,i){super(e);u(this,"component",zd);u(this,"isValueSelected",!1);this._value=i}get type(){return this.value===null?"null":typeof this.value}get height(){return Vt}setValue(e){this._value=e}toJSON(){return this.value}edit(e){e==="true"||e==="false"?this.setValue(e==="true"):Number.isNaN(Number(e))?e==="null"?this.setValue(null):this.setValue(e):this.setValue(Number(e))}isEmpty(){return this.value===""}}function bi(t,e){if(e===null)return new pe(t,null);if(Array.isArray(e))return new _e(t,e);if(typeof e=="object")return new Se(t,e);if(["string","number","boolean"].includes(typeof e))return new pe(t,e);throw new Error(`Undefined type handler: "${typeof e}" -> ${e}`)}class _e extends hn{constructor(e,i){super(e);u(this,"component",nr);u(this,"_isOpen",!1);u(this,"type","array");u(this,"_children");this._value=i,this._children=i.map(n=>bi(this,n))}get height(){return this.isOpen?2*Vt+this._children.reduce((e,i)=>e+i.height,0):Vt}get children(){return this._children}get hasChildren(){return this._children.length>0}get isOpen(){return this.hasChildren?this._isOpen:!1}hasChild(e){return this.children.includes(e)}addChild(e){this._children.push(e)}setOpen(e,i=!1){(this.hasChildren||i)&&(this._isOpen=e)}toggleOpen(){this.setOpen(!this._isOpen)}toJSON(){return this._children.map(e=>e.toJSON())}updatePropertyName(e,i){let n=this.children[e],s=this.children[i];return this.children[i]=n,delete this.children[e],{undo:()=>{this.children[e]=n,this.children[i]=s}}}}class rr{constructor(e,i){this.parent=e,this.tree=i,i.setIsSelected(!0)}getTree(){return this.tree}getLocation(){return this.tree.path.join("/")}select(e){this.tree.setIsSelected(!1),this.tree=e,this.tree.setIsSelected(!0)}dispose(e=!0){this.tree.setIsSelected(!1),e&&this.parent.removeSelection(this)}edit(e){const i=this.tree.getParent();if(!i)throw new Error("Cannot edit property name without parent");if(i instanceof _e)throw new Error("Cannot edit array indices");const n=this.tree.key;return i.updatePropertyName(n,e),new dn(i,n,e)}addKey(e,i){if(this.tree instanceof pe)return;const n=this.tree.children.length,s=[];if(this.tree.setOpen(!0,!0),i==="array"&&this.tree instanceof Se){this.dispose();const a=new _e(this.tree.getParent(),[]);this.tree.replace(a),a.setOpen(!0,!0),s.push(new Je(this.tree,a)),this.tree=a}const r=new Se(this.tree,{});if(this.tree instanceof _e){this.tree.children.push(r);const a=new Se(r,{});r.children.push([e,a]),this.parent.setSelection(a),r.setOpen(!0),this.tree.setOpen(!0)}else this.tree.children.push([e,r]),this.parent.setSelection(r);return s.push(new Ci(r,n,e)),new Ht(s)}addValue(e,i){const n=[];if(!(this.tree instanceof pe&&!this.tree.isEmpty())){if(i==="valueArray"&&this.tree instanceof Se){this.dispose();const s=new _e(this.tree.getParent(),[]);s.setOpen(!0,!0),this.tree.replace(s),n.push(new Je(this.tree,s)),this.tree=s}if(this.tree.type==="array"){const s=new pe(this.tree,e);this.tree.children.push(s),this.parent.setSelection(this.tree),n.push(new Ci(s,this.tree.children.length-1))}else if(this.tree instanceof pe||this.tree.children.length===0){const s=new pe(this.tree.getParent(),e);this.tree.replace(s),this.parent.setSelection(s.getParent()),this.dispose(),n.push(new Je(this.tree,s))}return new Ht(n)}}}class qe{constructor(e,i){this.parent=e,this.tree=i,i.isValueSelected=!0}getTree(){return this.tree}getLocation(){return this.tree.path.join("/")}dispose(e=!0){this.tree.isValueSelected=!1,e&&this.parent.removeSelection(this)}edit(e){const i=`${this.tree.value}`;return this.tree.edit(e),new pn(this.tree,i)}}var Ud=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"editorContainer",staticClass:"editor-container",style:{fontSize:t.fontSize,fontFamily:t.codeFontFamily},attrs:{tabindex:"-1"},on:{click:function(n){return t.tab.parent.setActive(!0)}}},[i("div",{staticClass:"pr-4",style:"height: "+(t.height-!t.tab.isReadOnly*194)+"px; overflow: auto;",on:{blur:t.focusEditor,scroll:t.onScroll,contextmenu:function(n){return n.preventDefault(),n.stopPropagation(),t.tab.treeEditor.onPasteMenu(n)}}},[i(t.tab.treeEditor.tree.component,{tag:"component",attrs:{tree:t.tab.treeEditor.tree,treeEditor:t.tab.treeEditor},on:{setActive:function(n){return t.tab.parent.setActive(!0)}}})],1),t.tab.isReadOnly?t._e():i("v-divider",{staticClass:"mb-4"}),t.tab.isReadOnly?t._e():i("div",{staticClass:"d-flex px-4",style:{fontFamily:t.fontFamily},on:{blur:t.focusEditor}},[i("v-combobox",{ref:"addKeyInput",attrs:{items:t.propertySuggestions,"item-value":function(n){return n},"menu-props":{maxHeight:124,top:!1,contentClass:"json-editor-suggestions-menu"},label:t.t("editors.treeEditor.addObject"),outlined:"",dense:"","hide-details":""},on:{change:t.onAddKey,keydown:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.mayTrigger(n)}},scopedSlots:t._u([{key:"item",fn:function(n){var s=n.item;return[i("div",{staticStyle:{width:"100%"},on:{click:t.mayTrigger}},[i("v-icon",{staticClass:"mr-1",attrs:{color:"primary",small:""}},[t._v(" "+t._s(t.getIcon(s))+" ")]),i("span",{staticStyle:{"font-size":"0.8125rem","font-weight":"500","line-height":"1rem"}},[t._v(" "+t._s(s.label)+" ")])],1)]}}],null,!1,1072492042),model:{value:t.keyToAdd,callback:function(n){t.keyToAdd=n},expression:"keyToAdd"}}),i("v-combobox",{ref:"addValueInput",staticClass:"mx-4",attrs:{disabled:t.isGlobal,items:t.valueSuggestions,"item-value":function(n){return n},"menu-props":{maxHeight:124,top:!1,contentClass:"json-editor-suggestions-menu"},label:t.t("editors.treeEditor.addValue"),outlined:"",dense:"","hide-details":""},on:{change:t.onAddValue,keydown:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.mayTrigger(n)}},scopedSlots:t._u([{key:"item",fn:function(n){var s=n.item;return[i("div",{staticStyle:{width:"100%"},on:{click:t.mayTrigger}},[i("v-icon",{staticClass:"mr-1",attrs:{color:"primary",small:""}},[t._v(" "+t._s(t.getIcon(s))+" ")]),i("span",{staticStyle:{"font-size":"0.8125rem","font-weight":"500","line-height":"1rem"}},[t._v(" "+t._s(s.label)+" ")])],1)]}}],null,!1,1072492042),model:{value:t.valueToAdd,callback:function(n){t.valueToAdd=n},expression:"valueToAdd"}}),i("v-text-field",{ref:"editValueInput",attrs:{value:t.currentValue,disabled:t.isGlobal,label:t.t("editors.treeEditor.edit"),outlined:"",dense:"","hide-details":""},on:{change:t.onEdit}})],1)],1)},Gd=[];const Jd={name:"TreeTab",mixins:[P],props:{tab:Object,height:Number},data:()=>({keyToAdd:"",valueToAdd:"",triggerCooldown:!1,isUserControlledTrigger:!1}),mounted(){this.treeEditor.receiveContainer(this.$refs.editorContainer),this.focusEditor()},activated(){this.treeEditor.receiveContainer(this.$refs.editorContainer),this.focusEditor()},computed:{fontSize(){return F&&F.appearance&&F.appearance.editorFontSize?`${F.appearance.editorFontSize}`:"14px"},codeFontFamily(){return F&&F.appearance&&F.appearance.editorFont?`${F.appearance.editorFont} !important`:"Menlo !important"},fontFamily(){return this.settingsState&&this.settingsState.appearance&&this.settingsState.appearance.font?`${this.settingsState.appearance.font} !important`:"Roboto !important"},treeEditor(){return this.tab.treeEditor},currentValue(){let t;return this.treeEditor.forEachSelection(e=>{if(!e.getTree().parent)return;let i;try{e instanceof qe?i=e.getTree().value:i=e.getTree().key}catch{}t===void 0?t=i:t!==i&&(t="")}),t},isGlobal(){let t=!1;return this.treeEditor.forEachSelection(e=>{t||e.getTree().parent||(t=!0)}),t},propertySuggestions(){return this.treeEditor.propertySuggestions.map(t=>W(j({},t),{text:t.value}))},valueSuggestions(){return this.treeEditor.valueSuggestions.map(t=>W(j({},t),{text:t.value}))}},methods:{focusEditor(){this.$refs.editorContainer&&this.$refs.editorContainer.focus()},onEdit(t){this.treeEditor.edit(t)},onAddKey(t){if(this.triggerCooldown||!this.isUserControlledTrigger){this.isUserControlledTrigger||this.$nextTick(()=>this.keyToAdd="");return}if(!t)return this.onTriggerCooldown();const{type:e="object",value:i=t}=t;e==="snippet"?this.treeEditor.addFromJSON(i[1]):this.treeEditor.addKey(i,e),this.$nextTick(()=>this.keyToAdd=""),this.onTriggerCooldown()},onAddValue(t){if(this.triggerCooldown||!this.isUserControlledTrigger){this.isUserControlledTrigger||this.$nextTick(()=>this.valueToAdd="");return}if(!t)return this.onTriggerCooldown();const{type:e="value",value:i=t}=t;this.treeEditor.addValue(i,e),this.$nextTick(()=>this.valueToAdd=""),this.onTriggerCooldown()},onTriggerCooldown(){this.triggerCooldown||(setTimeout(()=>{this.triggerCooldown=!1},100),this.triggerCooldown=!0)},mayTrigger(){this.isUserControlledTrigger||(setTimeout(()=>{this.isUserControlledTrigger=!1},100),this.isUserControlledTrigger=!0)},onScroll(t){this.treeEditor.scrollTop=t.target.scrollTop},getIcon(t){switch(t.type){case"object":return"mdi-code-json";case"array":return"mdi-code-brackets";case"value":return"mdi-alphabetical";case"arrayValue":return"mdi-link-variant";case"snippet":return"mdi-attachment";default:return"mdi-text"}}},watch:{"tab.uuid"(){this.treeEditor.receiveContainer(this.$refs.editorContainer)},propertySuggestions(){!this.$refs.addKeyInput||!this.$refs.addValueInput||!this.$refs.editValueInput||(this.propertySuggestions.length===0&&this.valueSuggestions.length>0?(this.$refs.editValueInput.blur(),this.$refs.addKeyInput.blur(),this.$refs.addValueInput.focus()):this.propertySuggestions.length>0?(this.$refs.editValueInput.blur(),this.$refs.addValueInput.blur(),this.$refs.addKeyInput.focus()):this.treeEditor.selections.some(t=>t.tree instanceof pe)&&(this.$refs.addKeyInput.blur(),this.$refs.addValueInput.blur(),this.$refs.editValueInput.focus()))}}},ar={};var qd=E(Jd,Ud,Gd,!1,Kd,null,null,null);function Kd(t){for(let e in ar)this[e]=ar[e]}var Qd=function(){return qd.exports}();const Xd=["Control","Alt","Meta"];class or{constructor(e=document){u(this,"state",He({}));u(this,"lastTimeStamp",0);u(this,"onKeydown",e=>{const{key:i,ctrlKey:n,altKey:s,metaKey:r,shiftKey:a,code:o}=e;if(Xd.includes(i))return;const c=Ws({key:i,ctrlKey:ge()==="darwin"?r:n,altKey:s,metaKey:ge()==="darwin"?n:r,shiftKey:a}),d=this.state[c];if(d&&this.lastTimeStamp+100<Date.now()){if(d.prevent(e.target))return;this.lastTimeStamp=Date.now(),e.preventDefault(),e.stopImmediatePropagation(),d.trigger()}});this.element=e,e.addEventListener("keydown",this.onKeydown)}create(e){const i=new Ns(this,e),n=i.toStrKeyCode();if(this.state[n])throw new Error(`KeyBinding with keyCode "${n}" already exists!`);return X(this.state,n,i),i}disposeKeyBinding(e){$e(this.state,e)}dispose(){this.element.removeEventListener("keydown",this.onKeydown)}}class be{constructor(e,i,n){u(this,"type");this.location=e,this.key=i,this.value=n}validate(e){return[]}isValid(e){return this.validate(e).length===0}}class ur extends be{constructor(e,i,n){super(e,i,n);u(this,"type","ifSchema");u(this,"rootSchema");typeof n!="boolean"&&(this.rootSchema=new we(this.location,"if",n))}getSchemasFor(){return[]}getCompletionItems(){return[]}validate(){return[]}isTrue(e){var i;return typeof this.value=="boolean"?this.value:(i=this.rootSchema)==null?void 0:i.isValid(e)}}class Bt extends be{getCompletionItems(e){return this.children.map(i=>i.getCompletionItems(e)).flat()}getSchemasFor(e,i){return this.children.map(n=>n.getSchemasFor(e,[...i])).flat()}getFlatChildren(){const e=[];for(const i of this.children)i instanceof Bt?e.push(...i.getFlatChildren()):e.push(i);return e}}class cr extends be{constructor(e,i,n){super(e,i,n);u(this,"ifSchema");u(this,"rootSchema");this.rootSchema=new we(this.location,"then",n)}receiveIfSchema(e){this.ifSchema=e}getSchemasFor(e,i){return this.ifSchema.isTrue(e)?this.rootSchema.getSchemasFor(e,[...i]):[]}getCompletionItems(e){return this.ifSchema.isTrue(e)?this.rootSchema.getCompletionItems(e):[]}validate(e){return this.ifSchema.isTrue(e)?this.rootSchema.validate(e):[]}}class we extends Bt{constructor(e,i,n){super(e,i,n);u(this,"children");(i==="$global"||i==="$ref")&&Be.addRootSchema(e,this),this.children=Be.createSchemas(this.location,n)}validate(e){return this.children.map(i=>i.validate(e)).flat()}getFreeIfSchema(){let e=!1;for(const i of this.getFlatChildren().reverse())if(i instanceof cr)e=!0;else if(i instanceof ur)if(e)e=!1;else return i}}class Zd extends be{constructor(e,i,n){super(e,i,n);u(this,"rootSchema");typeof n=="object"&&(this.rootSchema=new we(e,i,n))}validate(e){var i,n;return(n=(i=this.rootSchema)==null?void 0:i.validate(e))!=null?n:[]}getCompletionItems(e){return[]}getSchemasFor(e,i){var s,r;if(i.length===0)return[];if(i.length===1)return this.rootSchema?[this.rootSchema]:[];const n=i.shift();return(r=(s=this.rootSchema)==null?void 0:s.getSchemasFor(e[n],i))!=null?r:[]}}class Yd extends Bt{constructor(e,i,n){super(e,i,n);u(this,"children");if(!Array.isArray(n))throw new Error(`"allOf" schema must be of type array, found "${typeof n}"`);this.children=n.map(s=>new we(this.location,"allOf",s))}validate(e){return this.children.map(i=>i.validate(e)).flat()}}class ep extends Bt{constructor(e,i,n){super(e,i,n);u(this,"children");if(!Array.isArray(n))throw new Error(`"anyOf" schema must be of type array, found "${typeof n}"`);this.children=n.map(s=>new we(this.location,"anyOf",s))}validate(e){const i=[];for(const n of this.children){const s=n.validate(e);if(s.length===0)return[];i.push(...s)}return i}}class lr extends be{getSchemasFor(){return[]}getCompletionItems(){return[{type:"value",label:`${this.value}`,value:this.value}]}validate(e){return this.value!==e?[{message:`Found ${e}; expected ${this.value}`}]:[]}}class tp extends be{constructor(e,i,n){super(e,i,n);if(!Array.isArray(n))throw new Error(`Enum must be of type array; found ${typeof n}`)}getSchemasFor(){return[]}getCompletionItems(){return this.value.map(e=>({type:"value",label:`${e}`,value:e}))}validate(e){return this.value.includes(e)?[]:[{message:`Found ${e}; expected one of ${this.value.join(", ")}`}]}}class ip extends be{constructor(e,i,n){super(e,i,n);u(this,"children");if(typeof n!="object"&&typeof n!="undefined")throw new Error(`Invalid usage of "properties" schema field. Expected type "object", received "${typeof n}"`);Array.isArray(n)?this.children=n.map(s=>new we(this.location,"items",s)):this.children=new we(this.location,"items",n)}get arrayChildren(){return Array.isArray(this.children)?this.children:[this.children]}getSchemasFor(e,i){var s,r;const n=i.shift();return typeof n=="string"?[]:n===void 0?this.arrayChildren:i.length===0?Array.isArray(this.children)?this.children[n]?[this.children[n]]:[]:[this.children]:Array.isArray(this.children)?(r=(s=this.children[n])==null?void 0:s.getSchemasFor(e[n],[...i]))!=null?r:[]:this.children.getSchemasFor(e[n],[...i])}getCompletionItems(e){return this.arrayChildren.map(i=>i.getCompletionItems(e).map(n=>({type:n.type==="object"?"array":"valueArray",label:`${n.value}`,value:n.value}))).flat()}validate(e){return[]}}class np extends Bt{constructor(e,i,n){super(e,i,n);u(this,"children");if(!Array.isArray(n))throw new Error(`"oneOf" schema must be of type array, found "${typeof n}"`);this.children=n.map(s=>new we(this.location,"oneOf",s))}validate(e){const i=[];let n=!1,s=!1;for(const r of this.children){const a=r.validate(e);a.length===0&&(n&&(s=!0),n=!0),i.push(...a)}return s?[{message:"JSON matched more than one schema, expected exactly one match"}]:n?[]:i}}class sp extends be{constructor(e,i,n){super(e,i,n);u(this,"children",{});if(typeof n!="object"&&typeof n!="undefined")throw new Error(`Invalid usage of "properties" schema field. Expected type "object", received "${typeof n}"`);this.children=Object.fromEntries(Object.entries(n!=null?n:{}).map(([s,r])=>[s,new we(this.location,s,r)]))}getSchemasFor(e,i){const n=i.shift();let s=[];if(typeof n=="number"||n===void 0)return s;for(const[r,a]of Object.entries(this.children))n.match(new RegExp(r))!==null&&s.push(a);return i.length===0?s:s.map(r=>r.getSchemasFor(e[n],[...i])).flat()}getCompletionItems(){return[]}validate(e){if(typeof e!="object"||Array.isArray(e))return[{message:`Invalid type: Expected "object", received "${Array.isArray(e)?"array":typeof e}"`}];const i=[];for(const n in e)for(const[s,r]of Object.entries(this.children))n.match(new RegExp(s))===null&&i.push(...r.validate(e[n]));return i}}class rp extends be{constructor(e,i,n){super(e,i,n);u(this,"children",{});if(typeof n!="object"&&typeof n!="undefined")throw new Error(`Invalid usage of "properties" schema field. Expected type "object", received "${typeof n}"`);this.children=Object.fromEntries(Object.entries(n!=null?n:{}).map(([s,r])=>[s,new we(this.location,s,r)]))}getSchemasFor(e,i){var s,r;const n=i.shift();return n===void 0?Object.values(this.children):i.length===0?this.children[n]?[this.children[n]]:[]:(r=(s=this.children[n])==null?void 0:s.getSchemasFor(e[n],[...i]))!=null?r:[]}getCompletionItems(){return Object.keys(this.value).map(e=>({type:"object",label:`${e}`,value:e}))}validate(e){if(typeof e!="object"||Array.isArray(e))return[{message:`Invalid type: Expected "object", received "${Array.isArray(e)?"array":typeof e}"`}];const i=[];for(const n in e)this.children[n]&&i.push(...this.children[n].validate(e[n]));return i}}class ap extends be{constructor(e,i,n){super(e,i,n);u(this,"rootSchema");this.rootSchema=new we(this.location,"propertyNames",n)}getSchemasFor(){return[]}getCompletionItems(e){return this.rootSchema.getCompletionItems(e).filter(i=>i.type==="value").map(i=>({type:"object",label:`${i.value}`,value:i.value}))}validate(){return[]}isTrue(e){return this.rootSchema.isValid(e)}}class dr extends be{constructor(e,i,n){super(e,i,n);u(this,"type","refSchema");u(this,"rootSchema");var s,r;if(typeof n!="string")throw new Error(`Invalid $ref type "${typeof n}": ${JSON.stringify(n)}`);if(n==="#")this.rootSchema=(s=Be.requestRootSchema(this.location))!=null?s:new we(this.location,"$ref",Be.request(this.location));else{const a=this.location.includes("#/")?Oe(this.location.split("#/")[0]):Oe(this.location);let o;n.startsWith("/")?o=`file://${n}`:o=Re(a,n).replace("file:/","file:///");let c;o.includes("#/")&&([o,c]=o.split("#/")),this.location=o,this.rootSchema=(r=Be.requestRootSchema(c?`${o}#/${c}`:o))!=null?r:new we(c?`${o}#/${c}`:o,"$ref",Be.request(this.location,c))}}getCompletionItems(e){return this.rootSchema.getCompletionItems(e)}validate(e){return this.rootSchema.validate(e)}getSchemasFor(e,i){return this.rootSchema.getSchemasFor(e,[...i])}getFreeIfSchema(){return this.rootSchema.getFreeIfSchema()}}class op extends be{getSchemasFor(){return[]}getCompletionItems(){return[]}validate(e){const i=Array.isArray(this.value)?this.value:[this.value];if(typeof e!="object"||Array.isArray(e))return[{message:`Required properties missing: ${i.join(", ")}`}];for(const n of i)if(e[n]===void 0||e[n]===null)return[{message:`Missing required property: ${n}`}];return[]}}function pr(t){return Array.isArray(t)?"array":typeof t}class up extends be{get values(){return Array.isArray(this.value)?this.value:[this.value]}getSchemasFor(){return[]}getCompletionItems(){const e=[];return this.values.includes("boolean")&&e.push(...[!0,!1].map(i=>({type:"value",label:`${i}`,value:i}))),this.values.includes("integer")&&e.push(...[0,1,2,3,4,5,6,7,8,9].map(i=>({type:"value",label:`${i}`,value:i}))),this.values.includes("number")&&e.push(...[0,.1,.2,.3,.4,.5,.6,.7,.8,.9].map(i=>({type:"value",label:`${i}`,value:i}))),this.values.includes("null")&&e.push({type:"value",label:"null",value:null}),e}validate(e){const i=Array.isArray(this.value)?this.value:[this.value];return i.includes(pr(e))?[]:[{message:`Invalid type: Found ${pr(e)}; expected ${i.join(", ")}`}]}}const hr=new Map([["$ref",dr],["additionalProperties",Zd],["allOf",Yd],["anyOf",ep],["const",lr],["enum",tp],["if",ur],["items",ip],["oneOf",np],["patternProperties",sp],["properties",rp],["propertyNames",ap],["required",op],["then",cr],["type",up]]),cp=new Set(["$schema","$id","description","title","definitions","pattern","min","max","doNotSuggest","maxItems","minItems","deprecationMessage","examples","minimum","maximum","default"]);function zt(t,e,i){const n=t.length===0||t==="/"?[]:t.split("/");return Fi(n,e,i)}function Fi(t,e,i){var s,r;if(e===void 0)return;if(t.length===0)return i(e);if(typeof e!="object"||e===null)return;const n=t.shift();if(n==="**"){for(;t.length>0&&t[0]==="*";)t.shift();const a=["**",...t].join("/"),o=new Set;mr("",e,o);for(const c of o)Ge(c,a)&&Fi(c.split("/"),e,i)}else if(n.startsWith("*")){let a;n.length>=1&&(a=new RegExp((r=(s=n.match(/(\*{)(.+)(})/))==null?void 0:s[2])!=null?r:".*"));for(const o in e)a&&o.match(a)!==null&&Fi([...t],e[o],i)}else Fi(t,e[n],i)}function mr(t,e,i){for(const n in e)i.add(`${t}${n}`),typeof e[n]=="object"&&mr(`${t}${n}/`,e[n],i)}function lp(t,e){let i=!1;for(const n of e)if(zt(n,t,()=>i=!0),i)return!0;return!1}class Be{static setJSONDefaults(e){this.lib=e,this.rootSchemas.clear()}static request(e,i){const n=this.lib[e];if(!n)return console.warn(`Couldn't find schema for "${e}"`),{};if(i){let s;return zt(i,n.schema,r=>s=r),s===void 0&&console.error(`Couldn't find hash ${i} @ ${e}`),s!=null?s:{}}else return n.schema}static addRootSchema(e,i){return this.rootSchemas.set(e,i),i}static requestRootSchema(e){return this.rootSchemas.get(e)}static createSchemas(e,i){if(typeof i!="object")return console.warn(`Unexpected schema type "${typeof i}" @ ${e}`),[new lr(e,"",i)];let n=[];for(const[s,r]of Object.entries(i)){if(r===void 0)continue;const a=hr.get(s);if(a===void 0){if(cp.has(s))continue;console.warn(`Schema field not implemented: <${s}, ${r}> @ ${e}`);continue}const o=new a(e,s,r);if(s==="then"){let d=n.reverse().map(p=>{if(p.type==="ifSchema")return p;if(p.type==="refSchema")return p.getFreeIfSchema()}).filter(p=>p!==void 0)[0];d||(console.warn(`"then" schema without "if" @ ${e}`),d=new(hr.get("if"))(e,"if",!0)),o.receiveIfSchema(d)}n.push(o)}return n}}u(Be,"lib",{}),u(Be,"rootSchemas",new Map);class dp extends ee{constructor(e){super();u(this,"changed",new ee);u(this,"undoStack",[]);u(this,"redoStack",[]);u(this,"lastUndoLength",0);this.parent=e}get length(){return this.undoStack.length}updateHasChanges(){this.dispatch(this.undoStack.length!==this.lastUndoLength)}saveState(){this.lastUndoLength=this.undoStack.length,this.updateHasChanges()}undo(){const e=this.undoStack.pop();!e||(e.unselectTrees.forEach(i=>this.parent.removeSelectionOf(i)),this.redoStack.push(e.undo()),this.updateHasChanges(),this.changed.dispatch())}redo(){const e=this.redoStack.pop();!e||(e.unselectTrees.forEach(i=>this.parent.removeSelectionOf(i)),this.undoStack.push(e.undo()),this.updateHasChanges(),this.changed.dispatch())}push(e){this.undoStack.push(e),this.redoStack=[],this.updateHasChanges(),this.changed.dispatch()}pushAll(e){e.length!==0&&(e.length===1?this.push(e[0]):this.push(new Ht(e)))}}const fr=ge()==="darwin"?"Ctrl + Shift + Z":"Ctrl + Y";async function pp(t){const e=await l.getApp();return await e.dataLoader.fired,t||(t=e.projectConfig.get().targetVersion),gr().then(i=>i.filter(n=>!t||Ve.exports.compare(n,t,"<=")))}async function gr(){const t=await l.getApp();return await t.dataLoader.fired,(await t.dataLoader.readJSON("data/packages/minecraftBedrock/formatVersions.json")).reverse()}function ft(){return gr().then(t=>t[0])}function hp(t){return`t-${t.type}:v-${t.value}`}function wr(t){const e=new Set;return t.filter(i=>{const n=hp(i),s=!e.has(n);return e.add(n),s})}class mp{constructor(e,i){u(this,"propertySuggestions",[]);u(this,"valueSuggestions",[]);u(this,"tree");u(this,"selections",[]);u(this,"_keyBindings");u(this,"_actions");u(this,"history",new dp(this));u(this,"schemaRoot");u(this,"selectionChange",new ee);u(this,"containerElement");u(this,"scrollTop",0);u(this,"updateSuggestions",Ct(async()=>{var r,a,o,c,d,p;this.propertySuggestions=[],this.valueSuggestions=[];const e=this.tree.toJSON().format_version||this.parent.project.config.get().targetVersion||await ft(),i=(r=this.selections[0])==null?void 0:r.getTree(),n=i==null?void 0:i.toJSON();let s=[];if(this.selections.length===0||i===this.tree)s=(o=(a=this.schemaRoot)==null?void 0:a.getCompletionItems(n))!=null?o:[];else if(i){const h=i.path,m=(d=(c=this.schemaRoot)==null?void 0:c.getSchemasFor(this.tree.toJSON(),h))!=null?d:[];m&&(s=m.filter(g=>g!==void 0).map(g=>g.getCompletionItems(n)).flat())}this.propertySuggestions=wr(s.filter(h=>(h.type==="object"||h.type==="array")&&!(i!=null?i:this.tree).children.find(m=>m.type==="array"?!1:m[0]===h.value)).concat(this.parent.app.project.snippetLoader.getSnippetsFor(e,this.parent.getFileType(),this.selections.map(h=>h.getLocation())).map(h=>({type:"snippet",label:h.displayData.name,value:h.insertData})))),(i instanceof Se&&((p=i==null?void 0:i.children)==null?void 0:p.length)===0||i instanceof _e||i instanceof pe&&i.isEmpty())&&(this.valueSuggestions=wr(s.filter(h=>h.type==="value"||h.type==="valueArray")))},50));this.parent=e,this.json=i,this.tree=bi(null,i),this.setSelection(this.tree),this.history.on(n=>{this.parent.setIsUnsaved(n)}),this.history.changed.on(()=>{this.propertySuggestions=[],this.valueSuggestions=[],this.parent.updateCache()}),l.getApp().then(async n=>{await n.projectManager.projectReady.fired,this.parent.once(()=>{n.project.jsonDefaults.isReady&&this.createSchemaRoot()}),n.project.jsonDefaults.on(()=>{this.parent.hasFired&&this.createSchemaRoot()})}),this.selectionChange.on(()=>this.updateSuggestions())}get keyBindings(){if(!this._keyBindings)throw new Error("Cannot access keyBindings before they were initialized.");return this._keyBindings}get actions(){if(!this._actions)throw new Error("Cannot access keyBindings before they were initialized.");return this._actions}createSchemaRoot(){var i;const e=(i=l.fileType.get(this.parent.getPath()))==null?void 0:i.schema;e&&(this.schemaRoot=Be.addRootSchema(e,new we(e,"$global",Be.request(e)))),this.updateSuggestions()}receiveContainer(e){var i,n;(i=this._keyBindings)==null||i.dispose(),(n=this._actions)==null||n.dispose(),this._keyBindings=new or(e),this._actions=new vi(this._keyBindings),this.containerElement=e,this.actions.create({keyBinding:["Ctrl + DELETE","Ctrl + BACKSPACE"],onTrigger:()=>{const s=[];this.forEachSelection(r=>{const a=r.getTree();if(!!a.getParent())if(r.dispose(),r instanceof qe&&a.getParent().type==="object"){const o=new Se(a.getParent(),{});this.setSelection(o),a.replace(o),s.push(new Je(a,o))}else{this.toggleSelection(a.getParent());const[o,c]=a.delete();s.push(new ln(a,o,c))}}),this.history.pushAll(s)}}),this.actions.create({keyBinding:["ESCAPE"],onTrigger:()=>{this.setSelection(this.tree)}}),this.actions.create({keyBinding:["CTRL + Z"],onTrigger:()=>{this.undo()}}),this.actions.create({keyBinding:[fr],onTrigger:()=>{this.redo()}})}deactivate(){var e,i;(e=this._keyBindings)==null||e.dispose(),(i=this._actions)==null||i.dispose()}activate(){!this.containerElement||(this.receiveContainer(this.containerElement),this.containerElement.children[0].scrollTop=this.scrollTop)}saveState(){this.history.saveState()}toJSON(){return this.tree.toJSON()}forEachSelection(e){this.selections.forEach(e)}removeSelection(e){this.selections=this.selections.filter(i=>e!==i),this.selectionChange.dispatch()}removeSelectionOf(e){this.selections=this.selections.filter(i=>{const n=i.getTree();return n!==e&&(e instanceof pe||!e.hasChild(n))?!0:(i.dispose(!1),!1)}),this.selectionChange.dispatch()}setSelection(e,i=!1){this.selections.forEach(n=>n.dispose(!1)),this.selections=[i&&e instanceof pe?new qe(this,e):new rr(this,e)],this.selectionChange.dispatch()}toggleSelection(e,i=!1){let n=!1;this.selections=this.selections.filter(s=>s.getTree()!==e||s instanceof qe!==i?!0:(s.dispose(!1),n=!0,!1)),n||this.selections.push(i&&e instanceof pe?new qe(this,e):new rr(this,e)),this.selectionChange.dispatch()}addKey(e,i){const n=[];this.forEachSelection(s=>{if(s instanceof qe)return;const r=s.addKey(e,i);r&&n.push(r)}),this.history.pushAll(n)}addValue(e,i){let n=e;typeof e=="boolean"||e==="true"||e==="false"?n=typeof e=="boolean"?e:e==="true":Number.isNaN(Number(e))?(e==="null"||e===null)&&(n=null):n=Number(e);const s=[];this.forEachSelection(r=>{if(r instanceof qe)return;const a=r.addValue(n,i);a&&s.push(a)}),this.history.pushAll(s)}addFromJSON(e){if(typeof e!="object")return;let i=[];this.forEachSelection(n=>{if(n instanceof qe)return;const s=n.getTree();if(s instanceof pe)return;const r=s.children.length;for(const a in e){const o=bi(s,e[a]);s instanceof Se?s.addChild(a,o):s.addChild(o),i.push(new Ci(o,r,s instanceof Se?a:void 0))}}),this.history.pushAll(i)}edit(e){const i=[];this.forEachSelection(n=>{const s=n.edit(e);s&&i.push(s)}),this.history.pushAll(i)}delete(e){this.removeSelectionOf(e);const[i,n]=e.delete();this.history.push(new ln(e,i,n))}objectValueDeletion(e){this.removeSelectionOf(e);const i=new Se(e.getParent(),{});e.replace(i),this.history.push(new Je(e,i))}onPasteMenu(e,i=this.tree){const n=[{name:"actions.paste.name",icon:"mdi-content-paste",onTrigger:()=>{this.setSelection(i),this.parent.paste()}}];return e&&!this.parent.isReadOnly&&st(e,n,!1),n}onReadOnlyMenu(e,i=this.tree,n=!0){const s=[{name:"actions.documentationLookup.name",icon:"mdi-book-open-outline",onTrigger:()=>{const r=n?i.key:i.value;typeof r=="string"&&Gs(this.parent.getPath(),r)}},{name:"actions.copy.name",icon:"mdi-content-copy",onTrigger:()=>{this.setSelection(i,!n),this.parent.copy()}}];return e&&st(e,s,!1),s}onContextMenu(e,i,n=!0){if(this.parent.isReadOnly)return this.onReadOnlyMenu(e,i,n);const[s,r]=this.onReadOnlyMenu(void 0,i,n),a=[s];i instanceof pe?a.push({name:"general.delete",icon:"mdi-delete-outline",onTrigger:()=>{i.getParent().type==="object"&&!n?this.objectValueDeletion(i):this.delete(i)}}):a.push({name:"general.delete",icon:"mdi-delete-outline",onTrigger:()=>{this.delete(i)}}),a.push(r,{name:"actions.cut.name",icon:"mdi-content-cut",onTrigger:()=>{this.setSelection(i,!n),this.parent.cut()}},...i instanceof pe?[]:this.onPasteMenu(void 0,i)),!(i instanceof pe)&&i.children.length===0&&a.push({name:i instanceof _e?"actions.toObject.name":"actions.toArray.name",icon:i instanceof _e?"mdi-code-braces-box":"mdi-code-array",onTrigger:()=>{if(this.removeSelectionOf(i),i instanceof _e){const o=new Se(i.getParent(),{});i.replace(o),this.history.push(new Je(i,o))}else{const o=new _e(i.getParent(),[]);i.replace(o),this.history.push(new Je(i,o))}}}),st(e,a,!1)}undo(){this.history.undo()}redo(){this.history.redo()}}const fp=Ct(async t=>{const e=JSON.stringify(t.treeEditor.toJSON()),i=await l.getApp();await i.project.packIndexer.updateFile(t.getPath(),e,t.isForeignFile),await i.project.jsonDefaults.updateDynamicSchemas(t.getPath()),i.project.fileChange.dispatch(t.getPath(),await t.getFile())},600);class jt extends Q{constructor(e,i,n=!1){super(e,i,n);u(this,"component",Qd);u(this,"_treeEditor");this.fired.then(async()=>{const s=await l.getApp();await s.projectManager.projectReady.fired,s.project.tabActionProvider.addTabActions(this)})}get app(){return this.parent.app}get project(){return this.parent.project}static is(e){var i;return((i=F==null?void 0:F.editor)==null?void 0:i.jsonEditor)==="treeEditor"&&e.name.endsWith(".json")}get treeEditor(){if(!this._treeEditor)throw new Error("Trying to access TreeEditor before it was setup.");return this._treeEditor}async setup(){let e;try{e=z.parse(await this.fileHandle.getFile().then(i=>i.text()))}catch{new ae({name:"windows.invalidJson.title",description:"windows.invalidJson.description"}),this.close();return}this._treeEditor=new mp(this,e),await super.setup()}async getFile(){return new File([JSON.stringify(this.treeEditor.toJSON())],this.name)}updateCache(){fp(this)}async onActivate(){this.treeEditor.activate()}onDeactivate(){var e;(e=this._treeEditor)==null||e.deactivate()}loadEditor(){}setReadOnly(e){this.isReadOnly=e}async save(){this.isTemporary=!1;const e=await l.getApp(),i=JSON.stringify(this.treeEditor.toJSON(),null,"	");await e.fileSystem.write(this.fileHandle,i),this.treeEditor.saveState()}async paste(){if(this.isReadOnly)return;const e=await navigator.clipboard.readText();let i;try{i=z.parse(e)}catch{try{i=z.parse(`{${e}}`)}catch{return}}i!==void 0&&this.treeEditor.addFromJSON(i)}async copy(){let e="";this.treeEditor.forEachSelection(i=>{const n=i.getTree();i instanceof qe?n.isValueSelected?e+=n.toJSON():e+=n.key:e+=`"${n.key}": ${JSON.stringify(i.getTree().toJSON(),null,"	")}`}),e!==""&&await navigator.clipboard.writeText(e)}async cut(){this.isReadOnly||(await this.copy(),this.treeEditor.forEachSelection(e=>this.treeEditor.delete(e.getTree())))}async close(){const e=await super.close();if(!this.isForeignFile&&e&&this.isUnsaved)if(this.isForeignFile)await this.app.fileSystem.unlink(this.getPath());else{const n=await(await this.fileHandle.getFile()).text();await this.project.packIndexer.updateFile(this.getPath(),n)}return e}}class gn{static get tabs(){return[...this._tabs].reverse()}static register(e){return this._tabs.add(e),{dispose:()=>this._tabs.delete(e)}}}u(gn,"_tabs",new Set([ht,jt,Ks,Fd]));class yr extends md{constructor(e,i=0){super(e.app);u(this,"uuid",N());u(this,"tabs",ke([]));u(this,"_selectedTab");u(this,"_isActive",!0);u(this,"openedFiles");this._project=e,this.openedFiles=new rd(this,e.app,`projects/${e.name}/.bridge/openedFiles_${i}.json`)}get tabTypes(){return gn.tabs}get isActive(){return this._isActive}get shouldRender(){return this.tabs.length>0}get app(){return this._app}get project(){return this._project}get isSharingScreen(){const e=this.project.tabSystems.find(i=>i!==this);return e==null?void 0:e.shouldRender}get hasUnsavedTabs(){return this.tabs.some(e=>e.isUnsaved)}get selectedTab(){return this._selectedTab}get currentComponent(){var e,i;return(i=(e=this._selectedTab)==null?void 0:e.component)!=null?i:Ui}get projectRoot(){return this.project.baseDirectory}get projectName(){return this.project.name}async open(e,{selectTab:i=!0,isReadOnly:n=!1,isTemporary:s=!0}={}){const r=await this.getTabFor(e,n);return s||(r.isTemporary=!1),await this.add(r,i),r}async openPath(e,i={}){const n=await this.project.app.fileSystem.getFileHandle(e);return await this.open(n,i)}async getTabFor(e,i=!1){let n;for(const s of this.tabTypes)if(await s.is(e)){n=new s(this,e,i);break}return n||(n=new ht(this,e,i)),await n.fired}async hasTab(e){for(const i of this.tabs)if(await i.is(e))return!0;return!1}async add(e,i=!0,n=!1){if(this.closeAllTemporary(),!n){for(const s of this.tabs)if(await s.is(e))return e.onDeactivate(),i?s.select():s}return e.hasFired||await e.fired,this.tabs=[...this.tabs,e],!e.isForeignFile&&!(e instanceof Q&&e.isReadOnly)&&await this.openedFiles.add(e.getPath()),i&&e.select(),this.project.updateTabFolders(),e}remove(e,i=!0,n=!0){e.onDeactivate();const s=this.tabs.findIndex(r=>r===e);if(s!==-1)return this.tabs.splice(s,1),i&&e.onDestroy(),n&&e===this._selectedTab&&this.select(this.tabs[s===0?0:s-1]),e.isForeignFile||this.openedFiles.remove(e.getPath()),this.project.updateTabFolders(),e}async close(e=this.selectedTab,i=!0){return e?i&&e.isUnsaved?await new nd(e).fired!=="cancel":(this.remove(e),!0):!1}async closeTabWithHandle(e){const i=await this.getTab(e);i&&this.close(i)}async select(e){var i,n;this.isActive!==!!e&&this.setActive(!!e),this.app.mobile.isCurrentDevice()&&gy(),!(e==null?void 0:e.isSelected)&&((i=this._selectedTab)==null||i.onDeactivate(),e&&e!==this._selectedTab&&this.project.isActiveProject&&l.eventSystem.dispatch("currentTabSwitched",e),this._selectedTab=e,!!e&&(await((n=this._selectedTab)==null?void 0:n.onActivate()),De.nextTick(async()=>{var s;(s=this._monacoEditor)==null||s.layout()})))}async save(e=this.selectedTab){if(!e||e instanceof Q&&e.isReadOnly)return;const i=await l.getApp();i.windows.loadingWindow.open();const n=this.selectedTab===e,s=this.selectedTab;s!==e&&await this.select(e),e instanceof Q&&await e.save(),s!==e&&await this.select(s),!e.isForeignFile&&e instanceof Q&&(await this.project.updateFile(e.getPath()),await this.project.recentFiles.add({path:e.getPath(),name:e.name,color:e.iconColor,icon:e.icon}),this.project.fileSave.dispatch(e.getPath(),await e.getFile()),n&&l.eventSystem.dispatch("refreshCurrentContext",e.getPath())),i.windows.loadingWindow.close(),e.focus()}async saveAs(){this.selectedTab instanceof Q&&await this.selectedTab.saveAs()}async saveAll(){const e=await l.getApp();e.windows.loadingWindow.open();for(const i of this.tabs)i.isUnsaved&&await this.save(i);e.windows.loadingWindow.close()}closeAllTemporary(){for(const e of[...this.tabs])!e.isTemporary||this.remove(e,!0,!1)}async activate(){var e;await this.openedFiles.restoreTabs(),this.tabs.length>0&&this.setActive(!0),!this.selectedTab&&this.tabs.length>0&&this.tabs[0].select(),await((e=this.selectedTab)==null?void 0:e.onActivate())}deactivate(){var e;(e=this.selectedTab)==null||e.onDeactivate(),this.dispose()}setActive(e,i=!0){i&&this.project.setActiveTabSystem(this,!e),e!==this._isActive&&(this._isActive=e,e&&this._selectedTab&&this.project.isActiveProject&&l.eventSystem.dispatch("currentTabSwitched",this._selectedTab))}async getTab(e){for(const i of this.tabs)if(i instanceof Q&&await i.isForFileHandle(e))return i}closeTabs(e){const i=[...this.tabs].reverse();for(const n of i)e(n)&&n.close()}has(e){for(const i of this.tabs)if(e(i))return!0;return!0}get(e){for(const i of this.tabs)if(e(i))return i}}const Ut={behaviorPack:"./BP",resourcePack:"./RP",skinPack:"./SP",worldTemplate:"./WT"};class gp{constructor(e,i){u(this,"data",{});this.fileSystem=e,this.project=i,i&&i.fileSave.on("config.json",()=>{this.refreshConfig(),this.project.app.windows.createPreset.onPresetsChanged()})}async setup(e=!0){var s,r,a,o;if(e&&await this.fileSystem.fileExists(".bridge/config.json")){const n=await this.fileSystem.readJSON(".bridge/config.json"),{darkTheme:c,lightTheme:d,gameTestAPI:p,scriptingAPI:h,prefix:m}=n,g=zn(n,["darkTheme","lightTheme","gameTestAPI","scriptingAPI","prefix"]);await this.fileSystem.unlink(".bridge/config.json");const w={};p&&(w.enableGameTestFramework=!0),h&&(w.additionalModdingCapabilities=!0);const f=W(j({type:"minecraftBedrock",name:this.fileSystem.baseDirectory.name,namespace:m,experimentalGameplay:w},g),{authors:g.author?[g.author]:["Unknown"],packs:{behaviorPack:"./BP",resourcePack:"./RP",skinPack:"./SP",worldTemplate:"./WT"},bridge:{darkTheme:c,lightTheme:d}});await this.fileSystem.writeJSON("config.json",f,!0),this.data=f;return}try{this.data=await this.fileSystem.readJSON("config.json")}catch{this.data={}}let i=!1;if(e&&this.project&&this.data.capabilities){const c=await this.project.app.dataLoader.readJSON("data/packages/minecraftBedrock/experimentalGameplay.json"),d=(s=this.data.experimentalGameplay)!=null?s:{},p=(r=this.data.capabilities)!=null?r:[];d.enableGameTestFramework=p.includes("gameTestAPI"),d.additionalModdingCapabilities=p.includes("scriptingAPI");for(const h of c)(o=d[a=h.id])!=null||(d[a]=!0);this.data.experimentalGameplay=d,this.data.capabilities=void 0,i=!0}this.data.author&&!this.data.authors&&(this.data.authors=typeof this.data.author=="string"?[this.data.author]:this.data.author,this.data.author=void 0,i=!0),i&&await this.fileSystem.writeJSON("config.json",this.data,!0)}async refreshConfig(){try{this.data=await this.fileSystem.readJSON("config.json")}catch{this.data={}}}get(){return this.data}getPackRoot(e){var i,n;return(n=(i=this.data.packs)==null?void 0:i[e])!=null?n:Ut[e]}getPackFilePath(e,i){const n=this.fileSystem.baseDirectory.name;if(!i&&!e)return`projects/${n}`;if(e){if(!i)return an(`projects/${n}`,`${this.getPackRoot(e)}`)}else return`projects/${n}/${i}`;return an(`projects/${n}`,`${this.getPackRoot(e)}/${i}`)}getAvailablePackPaths(){var i;const e=[];for(const n of Object.keys((i=this.data.packs)!=null?i:{}))e.push(this.getPackFilePath(n));return e}async save(){await this.fileSystem.writeJSON("config.json",this.data,!0)}}class wp extends on{constructor(e,i){super(e,5,i)}isEquals(e,i){return e.path===i.path}removeFile(e){return this.remove({icon:"",name:"",path:e})}}async function yp(t,e){try{return await kt(t.getFilePath("behaviorPack","pack_icon.png"),e)}catch{}try{return await kt(t.getFilePath("resourcePack","pack_icon.png"),e)}catch{}try{return await kt(t.getFilePath("skinPack","pack_icon.png"),e)}catch{}}const gt="2.1.5";async function vp(t,e){var a,o,c,d,p;const i=`${e}/manifest.json`;let n=await t.fileSystem.readJSON(i);const s=(o=(a=n==null?void 0:n.metadata)==null?void 0:a.generated_with)==null?void 0:o.bridge;let r=!1;return s?s.includes(gt)||(s.push(gt),r=!0):(n=W(j({},n!=null?n:{}),{metadata:W(j({},(c=n==null?void 0:n.metadata)!=null?c:{}),{generated_with:W(j({},(p=(d=n==null?void 0:n.metadata)==null?void 0:d.generated_with)!=null?p:{}),{bridge:[gt]})})}),r=!0),r&&await t.fileSystem.writeJSON(i,n,!0),n}async function Cp(t,e){var s,r,a;await Ce.ready.fired;const i=Object.keys((s=e.config.get().packs)!=null?s:Ut),n=[];for(const o of i){const c=e.config.getPackFilePath(o);if(!await t.fileSystem.directoryExists(c))continue;const d=Ce.getFromId(o);if(!d)continue;let p={};try{p=await vp(t,c)}catch{}n.push(W(j({},d),{packPath:c,version:(a=(r=p==null?void 0:p.header)==null?void 0:r.version)!=null?a:[1,0,0]}))}return n}const bp=2*60*1e3;class vr extends L{constructor(e,i){super();u(this,"worker",null);u(this,"workerClass",null);u(this,"_service",null);u(this,"task",null);u(this,"disposeTimeout");this.taskOptions=e,this.app=i}get service(){if(!this._service)throw new Error("Accessing service without service being defined");return this._service}async activate(e){var n;this.disposeTimeout!==void 0&&(window.clearTimeout(this.disposeTimeout),this.disposeTimeout=void 0);const i=(n=this.app)!=null?n:await l.getApp();if(this.task=i.taskManager.create(this.taskOptions),!this.worker){if(this.createWorker(),!this.worker)throw new Error("Method WorkerManager.createWorker() doesn't create worker");this.workerClass=qn(this.worker)}this.resetSignal(),await this.start(e).then(s=>{var r;(r=this.task)==null||r.complete(),this.dispatch(s)})}deactivate(){this.disposeTimeout=window.setTimeout(()=>this.dispose(),bp)}dispose(){var e,i;this.disposeTimeout&&window.clearTimeout(this.disposeTimeout),this.resetSignal(),(e=this.worker)==null||e.terminate(),(i=this.task)==null||i.dispose(),this.worker=null,this._service=null,this.workerClass=null,this.disposeTimeout=void 0}}function Fp(){return new Worker("/assets/Main.f4630bdf.js",{type:"module"})}class Ap extends vr{constructor(e,i){super({icon:"mdi-flash-outline",name:"taskManager.tasks.packIndexing.title",description:"taskManager.tasks.packIndexing.description"});u(this,"ready",new L);this.project=e,this.baseDirectory=i}createWorker(){this.worker=new Fp}deactivate(){super.deactivate()}async start(e){var s,r,a;console.time("[TASK] Indexing Packs (Total)"),this._service=await new this.workerClass(this.baseDirectory,this.project.app.fileSystem.baseDirectory,{disablePackSpider:!((r=(s=F==null?void 0:F.general)==null?void 0:s.enablePackSpider)!=null?r:!1),pluginFileTypes:l.fileType.getPluginFileTypes(),noFullLightningCacheRefresh:!e&&!((a=F==null?void 0:F.general)==null?void 0:a.fullLightningCacheRefresh)}),await this.service.on(Kn(([o,c])=>{var d;(d=this.task)==null||d.update(o,c)}),!1);const[i,n]=await this.service.start(e);return await this.service.disposeListeners(),this.ready.dispatch(),console.timeEnd("[TASK] Indexing Packs (Total)"),[i,n]}async updateFile(e,i,n=!1){await this.ready.fired,this.ready.resetSignal(),await this.service.updatePlugins(l.fileType.getPluginFileTypes()),await this.service.updateFile(e,i,n),this.ready.dispatch()}async updateFiles(e){await this.ready.fired,this.ready.resetSignal(),await this.service.updatePlugins(l.fileType.getPluginFileTypes());for(const i of e)await this.service.updateFile(i);this.ready.dispatch()}async unlink(e){await this.ready.fired,this.ready.resetSignal(),await this.service.updatePlugins(l.fileType.getPluginFileTypes()),await this.service.unlink(e),this.ready.dispatch()}async readdir(e,...i){return await this.fired,await this.service.readdir(e)}}async function xe(t,e,i=new Set,n=""){for await(const s of t.values()){const r=n.length===0?s.name:`${n}/${s.name}`;if(s.kind==="file"){if(s.name[0]===".")continue;await e(s,r)}else s.kind==="directory"&&!i.has(r)&&await xe(s,e,i,r)}}class Fe extends L{constructor(e){super();u(this,"_baseDirectory");e&&this.setup(e)}get baseDirectory(){return this._baseDirectory}setup(e){this._baseDirectory=e,this.hasFired||this.dispatch()}async getDirectoryHandle(e,{create:i,createOnce:n}={}){if(e==="")return this.baseDirectory;let s=this.baseDirectory;const r=e.split(/\\|\//g);for(const a of r){try{s=await s.getDirectoryHandle(a,{create:n||i})}catch{throw new Error(`Failed to access "${e}": Directory does not exist`)}n&&(n=!1,i=!1)}return s}async getFileHandle(e,i=!1){if(e.length===0)throw new Error("Error: filePath is empty");const n=e.split(/\\|\//g),s=n.pop(),r=await this.getDirectoryHandle(n.join("/"),{create:i});try{return await r.getFileHandle(s,{create:i})}catch{throw new Error(`File does not exist: "${e}"`)}}pathTo(e){return this.baseDirectory.resolve(e).then(i=>i==null?void 0:i.join("/"))}async mkdir(e,{recursive:i}={}){await this.getDirectoryHandle(e,{create:!0})}async readdir(e,{withFileTypes:i}={}){const n=await this.getDirectoryHandle(e),s=[];for await(const r of n.values())r.kind==="file"&&r.name===".DS_Store"||(i?s.push(r):s.push(r.name));return s}async readFilesFromDir(e,i=this.getDirectoryHandle(e)){i=await i;const n=[];for await(const s of i.values())s.kind==="file"&&s.name===".DS_Store"||(s.kind==="file"?n.push({name:s.name,kind:s.kind,path:`${e}/${s.name}`}):s.kind==="directory"&&n.push(...await this.readFilesFromDir(`${e}/${s.name}`,s)));return n}readFile(e){return this.getFileHandle(e).then(i=>i.getFile())}async unlink(e){if(e.length===0)throw new Error("Error: filePath is empty");const i=e.split(/\\|\//g),n=i.pop();let s;try{s=await this.getDirectoryHandle(i.join("/"))}catch{return}try{await s.removeEntry(n,{recursive:!0})}catch{}}async writeFile(e,i){const n=await this.getFileHandle(e,!0);return await this.write(n,i),n}async write(e,i){const n=await e.createWritable();await n.write(i),await n.close()}async readJSON(e){const i=await this.readFile(e);try{return await z.parse(await i.text())}catch{throw new Error(`Invalid JSON: ${e}`)}}writeJSON(e,i,n=!1){return this.writeFile(e,JSON.stringify(i,null,n?"	":void 0))}async move(e,i){if(await this.fileExists(e))await this.copyFile(e,i);else if(await this.directoryExists(e))await this.copyFolder(e,i);else throw new Error(`File or folder does not exist: ${e}`);await this.unlink(e)}async copyFile(e,i){const n=await this.getFileHandle(e,!1),s=await this.getFileHandle(i,!0);return await this.copyFileHandle(n,s)}async copyFileHandle(e,i){const n=await i.createWritable();return await n.write(await e.getFile()),await n.close(),i}async copyFolder(e,i){const n=await this.getDirectoryHandle(e,{create:!1});await xe(n,async(s,r)=>{await this.copyFileHandle(s,await this.getFileHandle(Re(i,r),!0))})}async copyFolderByHandle(e,i){const n=new Fe(i);await xe(e,async(s,r)=>{await this.copyFileHandle(s,await n.getFileHandle(r,!0))})}loadFileHandleAsDataUrl(e){return new Promise(async(i,n)=>{const s=new FileReader;try{const r=await e.getFile();s.addEventListener("load",()=>{i(s.result)}),s.addEventListener("error",n),s.readAsDataURL(r)}catch{n(`File does not exist: "${e.name}"`)}})}async fileExists(e){try{return await this.getFileHandle(e),!0}catch{return!1}}async directoryExists(e){try{return await this.getDirectoryHandle(e),!0}catch{return!1}}}class wn{constructor({type:e,text:i,isDismissible:n}){u(this,"type");u(this,"text");u(this,"isDismissible");u(this,"isVisible",!0);this.type=e,this.text=i,this.isDismissible=n!=null?n:!1}}var Ep=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-alert",{attrs:{type:t.infoPanel.type,rounded:"lg",border:"bottom",dismissible:t.infoPanel.isDismissible},model:{value:t.infoPanel.isVisible,callback:function(n){t.$set(t.infoPanel,"isVisible",n)},expression:"infoPanel.isVisible"}},[t._v(" "+t._s(t.t(t.infoPanel.text))+" ")])},_p=[];const xp={mixins:[P],props:{infoPanel:wn}},Cr={};var Dp=E(xp,Ep,_p,!1,kp,null,null,null);function kp(t){for(let e in Cr)this[e]=Cr[e]}var br=function(){return Dp.exports}(),Sp=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseWindow",{attrs:{windowTitle:t.title,isVisible:t.isVisible,hasCloseButton:!t.opts.isPersistent,hasMaximizeButton:!1,percentageWidth:50,maxPercentageHeight:80,isPersistent:t.opts.isPersistent,heightUnset:""},on:{closeWindow:t.onClose},scopedSlots:t._u([{key:"default",fn:function(){return[t.currentWindow.topPanel?i("InfoPanel",{staticClass:"mb-2",attrs:{infoPanel:t.currentWindow.topPanel}}):t._e(),t._l(t.$data._actionManager.state,function(n,s){return i("ActionViewer",{directives:[{name:"ripple",rawName:"v-ripple"}],key:s,staticStyle:{cursor:"pointer"},attrs:{action:n,hideTriggerButton:!0},nativeOn:{click:function(r){return t.onClick(n)}}})})]},proxy:!0}])})},Bp=[];const jp={name:"InformedChoiceWindow",mixins:[P],components:{BaseWindow:de,ActionViewer:Ft,InfoPanel:br},props:["currentWindow"],data(){return this.currentWindow},methods:{onClose(){this.currentWindow.close()},onClick(t){t.trigger(),this.currentWindow.close()}}},Fr={};var Tp=E(jp,Sp,Bp,!1,Pp,null,null,null);function Pp(t){for(let e in Fr)this[e]=Fr[e]}var $p=function(){return Tp.exports}();class Gt extends ne{constructor(e,i={}){super($p,!0);u(this,"_actionManager");u(this,"_ready",new L);u(this,"topPanel");this.title=e,this.opts=i,this.setup()}get actionManager(){return new Promise(e=>this._ready.once(e))}async setup(){this._actionManager=new vi,this._ready.dispatch(this._actionManager),this.defineWindow(),this.open()}async open(){l.audioManager.playAudio("click5.ogg",1),await this.actionManager,super.open()}dispose(){super.dispose(),this._actionManager.dispose()}}function Mp(){return new Worker("/assets/Service.ba0fd8d7.js",{type:"module"})}class Op extends vr{constructor(e,i,n){super({icon:"mdi-cogs",name:"taskManager.tasks.compiler.title",description:"taskManager.tasks.compiler.description"});u(this,"ready",new L);this.parent=e,this.project=i,this.config=n,this.ready.dispatch()}createWorker(){this.worker=new Mp}async dispose(){await super.dispose(),this.parent.remove(this.config)}async start({mode:e,restartDevServer:i}){var a,o,c;await this.ready.fired,this.ready.resetSignal();const n=await l.getApp();await n.comMojang.fired,await n.project.packIndexer.fired,this._service?await this.updateService(e,!1,i):this._service=await new this.workerClass(this.project.baseDirectory,n.fileSystem.baseDirectory,n.comMojang.fileSystem.baseDirectory,{config:this.config,mode:e,isFileRequest:!1,isDevServerRestart:i,plugins:this.parent.getCompilerPlugins(),pluginFileTypes:l.fileType.getPluginFileTypes(),allFiles:await n.project.packIndexer.service.getAllFiles(!1)}),await this.service.on(Kn(([d,p])=>{var h;(h=this.task)==null||h.update(d,p)}),!1),console.time("[TASK] Compiling project (total)");let[s,r]=(o=await((a=n.project)==null?void 0:a.packIndexer.fired))!=null?o:[];(e==="build"||i)&&(s=(c=await this.project.packIndexer.service.getAllFiles())!=null?c:[]),await this._service.start([s,r]),this._service.disposeListeners(),this.ready.dispatch(),console.timeEnd("[TASK] Compiling project (total)")}async updateService(e,i,n){await this.service.updateMode(e,i,n),await this.service.updatePlugins(this.parent.getCompilerPlugins(),l.fileType.getPluginFileTypes())}async updateFiles(e){console.time("[Worker] Compiler: Update Files"),await this.ready.fired,this.ready.resetSignal(),await this.updateService("dev",!1,!1),await this.service.updateFiles(e),this.ready.dispatch(),console.timeEnd("[Worker] Compiler: Update Files")}async compileWithFile(e,i){await this.ready.fired,this.ready.resetSignal(),await this.updateService("dev",!0,!1);const n=new Uint8Array(await i.arrayBuffer()),[s,r]=await this.service.compileWithFile(e,n);return this.ready.dispatch(),[s,r!=null?r:n]}async unlink(e){await this.ready.fired,this.ready.resetSignal(),await this.updateService("dev",!1,!1),await this.service.unlink(e),this.ready.dispatch()}async getCompilerOutputPath(e){await this.ready.fired,this.ready.resetSignal(),await this.updateService("dev",!1,!1);const i=await this.service.getCompilerOutputPath(e);return this.ready.dispatch(),i}}function wt(t,e){if(Array.isArray(t)&&Array.isArray(e))return t.concat(e);if(Array.isArray(t))return t.concat([e]);if(Array.isArray(e))return e.concat([t]);if(typeof e!="object")return e;let i={};for(const n in t)e[n]===void 0?i[n]=t[n]:i[n]=wt(t[n],e[n]);for(const n in e)t[n]===void 0&&(i[n]=e[n]);return i}function Rp(t){let e=t[0];for(let i=1;i<t.length;i++)e=wt(e,t[i]);return e}class Ip extends L{constructor(e){super();u(this,"compilers",new Map);this.project=e}async start(e,i,n=!1){const s=await l.getApp();await s.extensionLoader.fired,await s.comMojang.fired,await this.project.fileSystem.fileExists(".bridge/.restartDevServer")&&(n=!0,await this.project.fileSystem.unlink(".bridge/.restartDevServer"));let r=this.compilers.get(e);if(r)return r.activate({mode:i,restartDevServer:n});r=new Op(this,this.project,e),this.compilers.set(e,r),await r.activate({mode:i,restartDevServer:n}),this.dispatch()}get current(){let e=this.compilers.get("default");if(!e)throw new Error("Cannot get current compiler");return e}updateFiles(e,i){let n=this.compilers.get(e);if(!n)throw new Error(`Cannot update file because compiler for config ".bridge/compiler/${e}" doesn't exist`);return n.updateFiles(i)}unlink(e){let i=this.compilers.get("default");if(!i)throw new Error(`Cannot update file because compiler for config ".bridge/compiler/default" doesn't exist`);return i.unlink(e)}compileWithFile(e,i){let n=this.compilers.get("default");if(!n)throw new Error(`Cannot update file because compiler for config ".bridge/compiler/default" doesn't exist`);return n.compileWithFile(e,i)}remove(e){this.compilers.delete(e)}deactivate(){this.compilers.forEach(e=>e.deactivate())}dispose(){this.compilers.forEach(e=>e.dispose())}getCompilerPlugins(){return Rp(this.project.app.extensionLoader.mapActive(e=>e.compilerPlugins))}async openWindow(){const e=this.project.app.comMojang,{hasComMojang:i,didDenyPermission:n}=e.status,s=await this.project.fileSystem.getDirectoryHandle(".bridge/compiler",{create:!0}),a=await new class extends Gt{constructor(){super("sidebar.compiler.name");let o;if(G)o={text:"comMojang.status.notAvailable",type:"error",isDismissible:!1};else if(!i&&n)o={text:"comMojang.status.deniedPermission",type:"warning",isDismissible:!1};else if(i&&!n)o={text:"comMojang.status.sucess",type:"success",isDismissible:!1};else if(!i)o={text:"comMojang.status.notSetup",type:"error",isDismissible:!1};else throw new Error("Invalid com.mojang status");this.topPanel=new wn(o)}}().actionManager;a.create({icon:"mdi-cog",name:"sidebar.compiler.default.name",description:"sidebar.compiler.default.description",onTrigger:async()=>{this.project.packIndexer.deactivate(),await this.project.packIndexer.activate(!0),await this.start("default","build")}});for await(const o of s.values()){if(o.kind!=="file"||o.name===".DS_Store"||o.name==="default.json")continue;const c=await o.getFile();let d;try{d=z.parse(await c.text())}catch{continue}a.create({icon:d.icon,name:d.name,description:d.description,onTrigger:async()=>{this.project.packIndexer.deactivate(),await this.project.packIndexer.activate(!0),await this.start(o.name,"build")}})}}}const Wp=(t,e)=>({register:i=>{var n;((n=i.type)!=null?n:"entity")===e&&(t.exports=({name:s,schema:r,template:a})=>{const o=new i;s(i.component_name),r(yn(Object.values(o.onPropose())[0])),a((c,{create:d})=>{d(o.onApply(c,"components")[`minecraft:${e}`])})})}});function yn(t){const e={},i=Object.keys(t);if(i.length===1&&i[0].startsWith("$dynamic.list."))return{type:"array",items:yn(Object.values(t)[0])};for(const[n,s]of Object.entries(t))n.startsWith("$")||(typeof s=="string"?e[n]=Np(s):Array.isArray(s)?e[n]={enum:s}:s==="object"&&(e[n]=yn(s)));return{type:"object",properties:e}}function Np(t){switch(t){case"$general.boolean":return{type:"boolean"};case"$general.number":return{type:"integer"};case"$general.decimal":return{type:"number"};default:return{type:["number","integer","string","boolean","object","array"]}}}const Lp=()=>{try{return typeof process!="undefined"&&process.release.name==="node"}catch{return!1}};function Hp(t){return Array.from(t).map(e=>("00"+e.toString(16)).slice(-2)).join("")}const Vp=Lp()?{encode:()=>{}}:new TextEncoder;async function vn(t){const e=Vp.encode(t);if(!e)return"";const i=await zp(e);return Hp(i)}async function zp(t){return new Uint8Array(await crypto.subtle.digest("sha-1",t))}class Up{constructor(e,i,n,s,r){u(this,"_name");u(this,"schema");u(this,"template");u(this,"animations",[]);u(this,"animationControllers",[]);u(this,"createOnPlayer",[]);u(this,"dialogueScenes",[]);u(this,"clientFiles",{});this.fileType=e,this.componentSrc=i,this.mode=n,this.v1Compat=s,this.targetVersion=r}get name(){return this._name}async load(e){const i={exports:{}};try{Dt({script:this.componentSrc,env:{module:i,defineComponent:a=>a,Bridge:this.v1Compat?Wp(i,this.fileType):void 0}})}catch(a){console.error(a)}if(typeof i.exports!="function")return!1;const n=a=>this._name=a;let s=a=>this.schema=a,r=()=>{};return(!e||e==="server")&&(s=()=>{},r=a=>{this.template=(o,c)=>{try{a(o,c)}catch(d){console.error(d)}}}),await i.exports({name:n,schema:s,template:r}),!0}reset(){this.animations=[],this.animationControllers=[]}getSchema(){return this.schema}toString(){return this.componentSrc}create(e,i,n=`minecraft:${this.fileType}`,s){var c;const r=n.split("/"),a=r.pop(),o=this.getObjAtLocation(e,[...r]);o[a]=(s?(d,p)=>s(wt,d,p):wt)((c=o[a])!=null?c:{},i!=null?i:{})}getObjAtLocation(e,i){let n=e;for(;i.length>0;){const s=i.shift();n[s]===void 0?n[Number(s)]!==void 0?n=n[Number(s)]:(n[s]={},n=n[s]):n=n[s]}return n}async processTemplates(e,i,n){var h,m,g;if(typeof this.template!="function")return;const s=(g=(m=(h=e[`minecraft:${this.fileType}`])==null?void 0:h.description)==null?void 0:m.identifier)!=null?g:"bridge:no_identifier",r=await vn(`${this.name}/${s}`),a=(w,f)=>(this.animations.push([w,f]),this.getShortAnimName("a",r,this.animations.length-1)),o=(w,f)=>(this.animationControllers.push([w,f]),this.getShortAnimName("ac",r,this.animationControllers.length-1)),c=(await vn(`${this.name}/${n}`)).slice(0,16),d=w=>this.registerLifecycleHook(e,n,w,c,"activated"),p=w=>this.registerLifecycleHook(e,n,w,c,"deactivated");this.fileType==="entity"?this.template(i!=null?i:{},{mode:this.mode,compilerMode:this.mode,sourceEntity:()=>JSON.parse(JSON.stringify(e)),create:(w,f,D)=>this.create(e,w,f,D),location:n,identifier:s,animationController:o,animation:a,dialogueScene:!this.targetVersion||Ve.exports.compare(this.targetVersion,"1.17.10",">=")?(w,f=!0)=>{this.dialogueScenes.push(w),w.scene_tag&&f&&d({run_command:{command:[`/dialogue open @s @p ${w.scene_tag}`]}})}:void 0,onActivated:d,onDeactivated:p,client:{create:(w,f="1.10.0")=>{this.clientFiles[`RP/entity/bridge/${r}.json`]={format_version:f,"minecraft:client_entity":Object.assign({description:{identifier:s}},w)}}}}):this.fileType==="item"?this.template(i!=null?i:{},{mode:this.mode,compilerMode:this.mode,sourceItem:()=>JSON.parse(JSON.stringify(e)),create:(w,f,D)=>this.create(e,w,f,D),location:n,identifier:s,player:{animationController:o,animation:a,create:(w,f,D)=>this.createOnPlayer.push([f!=null?f:"minecraft:entity",w,D])}}):this.fileType==="block"&&this.template(i!=null?i:{},{mode:this.mode,sourceBlock:this.mode,fileContent:()=>JSON.parse(JSON.stringify(e)),create:(w,f,D)=>this.create(e,w,f,D),location:n,identifier:s})}async processAdditionalFiles(e){var a,o,c;const i=(c=(o=(a=e[`minecraft:${this.fileType}`])==null?void 0:a.description)==null?void 0:o.identifier)!=null?c:"bridge:no_identifier",n=await vn(`${this.name}/${i}`),s=`BP/animations/bridge/${n}.json`,r=`BP/animation_controllers/bridge/${n}.json`;return i==="minecraft:player"&&this.createOnPlayer.forEach(([d,p,h])=>{this.create(e,p,d,h)}),j({[s]:this.createAnimations(n,e),[r]:this.createAnimationControllers(n,e),[`BP/dialogue/bridge/${n}.json`]:this.dialogueScenes.length>0?JSON.stringify({format_version:this.targetVersion,"minecraft:npc_dialogue":{scenes:this.dialogueScenes}},null,"	"):void 0},Object.fromEntries(Object.entries(this.clientFiles).map(([d,p])=>[d,JSON.stringify(p,null,"	")])))}createAnimations(e,i){if(this.animations.length===0)return;let n=0;const s={format_version:"1.10.0",animations:{}};for(const[r,a]of this.animations){if(!r){n++;continue}const o=this.getAnimName("animation",e,n),c=this.getShortAnimName("a",e,n);s.animations[o]=r,this.create(i,{animations:{[c]:o}},"minecraft:entity/description"),a!==!1&&this.create(i,{scripts:{animate:[a?{[c]:a}:c]}},"minecraft:entity/description"),n++}return JSON.stringify(s,null,"	")}createAnimationControllers(e,i){if(this.animationControllers.length===0)return;let n=0;const s={format_version:"1.10.0",animation_controllers:{}};for(const[r,a]of this.animationControllers){if(!r){n++;continue}const o=this.getAnimName("controller.animation",e,n),c=this.getShortAnimName("ac",e,n);s.animation_controllers[o]=r,this.create(i,{animations:{[c]:o}},"minecraft:entity/description"),a!==!1&&this.create(i,{scripts:{animate:[a?{[c]:a}:c]}},"minecraft:entity/description"),n++}return JSON.stringify(s,null,"	")}getAnimName(e,i,n){return`${e}.${i}_${n}`}getShortAnimName(e,i,n){var s;return`${(s=i.slice(0,16))!=null?s:"bridge_auto"}_${e}_${n}`}registerLifecycleHook(e,i,n,s,r){e[`minecraft:${this.fileType}`].events||(e[`minecraft:${this.fileType}`].events={});const a=e[`minecraft:${this.fileType}`].events;if(r==="activated"&&i===`minecraft:${this.fileType}/components`)a["minecraft:entity_spawned"]||(a["minecraft:entity_spawned"]={}),this.addEventReponse(a["minecraft:entity_spawned"],n);else if(this.fileType==="entity"&&i.startsWith(`minecraft:${this.fileType}/component_groups/`)){const o=i.split("/").pop();this.findComponentGroupReferences(a,r==="activated"?"add":"remove",o).forEach(d=>this.addEventReponse(d,n))}else if(i.startsWith(`minecraft:${this.fileType}/permutations/`)){const o=i.split("/");if(o.pop()!=="components")throw new Error("Invalid component location inside of permutation");const c=this.getObjAtLocation(e,[...o]),d=`bridge:${s}_${r}`;c.condition&&this.animationControllers.push([{states:{default:{on_entry:[`@s ${d}`]}}},r==="activated"?c.condition:`!(${c.condition})`]),a[d]=n}}addEventReponse(e,i){if(Array.isArray(e.sequence))e.sequence.push(i);else if(Object.keys(e).length===0)Object.assign(e,i);else{let n=Object.assign({},e,{filters:void 0});for(const s in e)s!=="filters"&&(e[s]=void 0);e.sequence=[n,i]}}findComponentGroupReferences(e,i,n){var r,a;let s=[];for(const o in e){const c=e[o];Array.isArray(c.sequence)?s.push(...this.findComponentGroupReferences(c.sequence,i,n)):Array.isArray(c.randomize)?s.push(...this.findComponentGroupReferences(c.randomize,i,n)):((a=(r=c[i])==null?void 0:r.component_groups)!=null?a:[]).includes(n)&&s.push(c)}return s}}async function Gp(t){var a,o;const e=await l.getApp(),i=(o=(a=e.project.config.get().bridge)==null?void 0:a.v1CompatMode)!=null?o:!1,n=i?"BP/components":`BP/components/${t}`;let s;try{s=await e.project.fileSystem.getDirectoryHandle(n)}catch{return}const r={};return await xe(s,async(c,d)=>{const[p,h]=await e.project.compilerManager.compileWithFile(d,await c.getFile()),m=new File([h],c.name),g=new Up(t,await m.text(),"dev",i);await g.load("client")&&g.name&&(r[g.name]=g.getSchema())},void 0,n),r}class Jp{constructor(e,i){this.app=e,this.filePath=i}async runScript(e,i){const n=this.app.project.fileSystem;let s={},r=!0;if(this.filePath){const a=await this.app.project.getFileFromDiskOrTab(this.filePath);try{s=z.parse(await a.text()),r=!1}catch{}}try{return await Dt({async:!0,script:i,env:{readdir:a=>n.readFilesFromDir(a).catch(()=>[]),uuid:N,getFormatVersions:pp,getCacheDataFor:async(a,o,c)=>this.app.project.packIndexer.service.getCacheDataFor(a,o,c),getProjectPrefix:()=>{var a;return(a=this.app.projectConfig.get().namespace)!=null?a:"bridge"},getProjectConfig:()=>this.app.projectConfig.get(),getFileName:()=>this.filePath?this.filePath.split(/\/|\\/g).pop():void 0,customComponents:a=>Gp(a),get:a=>{const o=[];return zt(a,s,c=>o.push(c)),o},compare:Ve.exports.compare,failedCurrentFileLoad:r}})}catch(a){console.error(`Error evaluating schemaScript "${e}": ${a.message}`)}}async runSchemaScripts(e){const i=await this.app.dataLoader.getDirectoryHandle("data/packages/minecraftBedrock/schemaScript");await xe(i,async(n,s)=>{const r=await n.getFile(),a=await r.text();let o;r.name.endsWith(".js")?o={script:a}:o=z.parse(a);let c=await this.runScript(s,o.script);if(c){if(r.name.endsWith(".js")){if(c.keep)return;o=W(j({},o),{type:c.type,generateFile:c.generateFile}),c=c.data}o.type==="object"&&!Array.isArray(c)&&typeof c=="object"?e[`file:///data/packages/minecraftBedrock/schema/${o.generateFile}`]={uri:`file:///data/packages/minecraftBedrock/schema/${o.generateFile}`,schema:{type:"object",properties:c}}:o.type==="custom"?e[`file:///data/packages/minecraftBedrock/schema/${o.generateFile}`]={uri:`file:///data/packages/minecraftBedrock/schema/${o.generateFile}`,schema:c}:e[`file:///data/packages/minecraftBedrock/schema/${o.generateFile}`]={uri:`file:///data/packages/minecraftBedrock/schema/${o.generateFile}`,schema:{type:o.type==="enum"?"string":"object",enum:o.type==="enum"?c:void 0,properties:o.type==="properties"?Object.fromEntries(c.map(d=>[d,{}])):void 0}}}})}}let Ie={},Ai=!1;class qp extends ee{constructor(e){super();u(this,"loadedSchemas",!1);u(this,"localSchemas",{});u(this,"disposables",[]);this.project=e}get isReady(){return this.loadedSchemas&&Ai}async activate(){console.time("[SETUP] JSONDefaults"),await this.project.app.project.packIndexer.fired,this.disposables=[l.eventSystem.on("currentTabSwitched",e=>{e instanceof Q&&l.fileType.isJsonFile(e.getPath())&&this.updateDynamicSchemas(e.getPath())}),l.eventSystem.on("refreshCurrentContext",e=>this.updateDynamicSchemas(e)),l.eventSystem.on("disableValidation",()=>{this.setJSONDefaults(!1)})].filter(e=>e!==void 0),this.loadedSchemas||await this.loadAllSchemas(),this.setJSONDefaults(),console.timeEnd("[SETUP] JSONDefaults")}deactivate(){this.disposables.forEach(e=>e.dispose()),this.disposables=[]}async loadAllSchemas(){var r;this.localSchemas={};const e=await l.getApp(),i=e.taskManager.create({icon:"mdi-book-open-outline",name:"taskManager.tasks.loadingSchemas.name",description:"taskManager.tasks.loadingSchemas.description",totalTaskSteps:10});await e.dataLoader.fired,i.update(1);const n=await e.dataLoader.readdir("data/packages");i.update(2);for(const a of n)try{await this.loadStaticSchemas(await e.dataLoader.getFileHandle(`data/packages/${a}/schemas.json`))}catch(o){console.error(o);continue}Ai=!0,i.update(3),this.addSchemas(await this.getDynamicSchemas()),i.update(4),await this.runSchemaScripts(e),i.update(5);const s=(r=this.project.tabSystem)==null?void 0:r.selectedTab;if(s&&s instanceof Q){const a=l.fileType.getId(s.getPath());this.addSchemas(await this.requestSchemaFor(a,s.getPath())),await this.runSchemaScripts(e,s.isForeignFile?void 0:s.getPath())}this.loadedSchemas=!0,i.update(6),i.complete()}setJSONDefaults(e=!0){V.json.jsonDefaults.setDiagnosticsOptions({enableSchemaRequest:!1,allowComments:!0,validate:e,schemas:Object.values(Object.assign({},Ie,this.localSchemas))}),Be.setJSONDefaults(Object.assign({},Ie,this.localSchemas)),this.dispatch()}async reload(){const e=await l.getApp();e.windows.loadingWindow.open(),this.loadedSchemas=!1,this.localSchemas={},Ai=!1,Ie={},await this.deactivate(),await this.activate(),e.windows.loadingWindow.close()}async updateDynamicSchemas(e){const i=await l.getApp(),n=l.fileType.getId(e);this.addSchemas(await this.requestSchemaFor(n,e)),this.addSchemas(await this.requestSchemaFor(n)),await this.runSchemaScripts(i,e),this.setJSONDefaults()}async updateMultipleDynamicSchemas(e){const i=await l.getApp(),n=new Set;for(const s of e){const r=l.fileType.getId(s);n.has(r)||(this.addSchemas(await this.requestSchemaFor(r)),await this.runSchemaScripts(i,s),n.add(r))}this.setJSONDefaults()}addSchemas(e){e.forEach(i=>{this.localSchemas[i.uri]?(i.schema&&(this.localSchemas[i.uri].schema=i.schema),i.fileMatch&&(this.localSchemas[i.uri].fileMatch=i.fileMatch)):this.localSchemas[i.uri]=i})}async requestSchemaFor(e,i){const n=this.project.packIndexer;return await n.fired,await n.service.getSchemasFor(e,i)}async getDynamicSchemas(){return(await Promise.all(l.fileType.getIds().map(e=>this.requestSchemaFor(e)))).flat()}async loadStaticSchemas(e){if(Ai)return;const i=await e.getFile(),n=z.parse(await i.text());for(const s in n)Ie[s]={uri:s,schema:n[s]};l.fileType.getMonacoSchemaArray().forEach(s=>{!s.uri||(Ie[s.uri]?(s.schema&&(Ie[s.uri].schema=s.schema),s.fileMatch&&(Ie[s.uri].fileMatch?Ie[s.uri].fileMatch.push(...s.fileMatch):Ie[s.uri].fileMatch=s.fileMatch)):Ie[s.uri]=s)})}async runSchemaScripts(e,i){await new Jp(e,i).runSchemaScripts(this.localSchemas)}}const Ar=new Map;class Kp{constructor(e){u(this,"disposables",[]);u(this,"typeDisposables",[]);u(this,"currentTypeEnv",null);this.dataLoader=e}async activate(e){this.disposables=[l.eventSystem.on("currentTabSwitched",i=>{!i.isForeignFile&&i instanceof Q&&this.setTypeEnv(i.getPath())})],e&&await this.setTypeEnv(e)}deactivate(){this.typeDisposables.forEach(e=>e.dispose()),this.disposables.forEach(e=>e.dispose()),this.typeDisposables=[],this.disposables=[]}async load(e){let i=Ar.get(e);return i||(await this.dataLoader.fired,i=await(await this.dataLoader.readFile(`data/packages/minecraftBedrock/${e}`)).text(),Ar.set(e,i),i)}async setTypeEnv(e){var r;if(e===this.currentTypeEnv)return;this.currentTypeEnv=e,this.typeDisposables.forEach(a=>a.dispose()),this.typeDisposables=[],await l.fileType.ready.fired;const{types:i=[]}=(r=l.fileType.get(e))!=null?r:{},s=(await Promise.all(i.map(async a=>{var m;if(typeof a=="string")return[a,await this.load(a)];const o=await l.getApp(),[c,{targetVersion:[d,p]}]=a,h=(m=o.projectConfig.get().targetVersion)!=null?m:await ft();if(Ve.exports.compare(h,p,d))return[c,await this.load(c)]}))).filter(a=>a!==void 0);for(const[a,o]of s){const c=Ii.file(a);this.typeDisposables.push(V.typescript.javascriptDefaults.addExtraLib(o,c.toString()),V.typescript.typescriptDefaults.addExtraLib(o,c.toString()))}}}class Cn{constructor(e){this.config=e}trigger(e){var i,n;(n=(i=this.config).onTrigger)==null||n.call(i,e)}}class Ei extends Cn{constructor(e,i){super(i);u(this,"_isSelected",!1);this.parent=e,this.parent.selectedAction||this.select()}get isSelected(){return this._isSelected}select(){this.parent.unselectAllActions(),this._isSelected=!0,this.parent.selectedAction=this}unselect(){this._isSelected&&(this.parent.selectedAction=void 0),this._isSelected=!1}}class bn{constructor(){u(this,"headerSlot");u(this,"headerHeight");u(this,"topPanel");u(this,"actions",[]);u(this,"selectedAction")}unselectAllActions(){var e;(e=this.actions)==null||e.forEach(i=>i instanceof Ei?i.unselect():void 0)}getSelectedAction(){var e;return(e=this.actions)==null?void 0:e.find(i=>i instanceof Ei&&i.isSelected)}}function Tt(t){return new Qp(t)}class Qp{constructor(e){u(this,"sidebarUUID");u(this,"isLoading",!1);u(this,"isVisible",!0);u(this,"isSelected",!1);u(this,"stopHandle");var i;if(this.config=e,this.sidebarUUID=(i=e.id)!=null?i:N(),X(Z.sidebarElements,this.sidebarUUID,this),e.isVisible&&(this.isVisible=e.isVisible),this.config.component){const n=this.config.component;this.config.sidebarContent=new class extends bn{constructor(){super(...arguments);u(this,"component",n);u(this,"actions");u(this,"topPanel")}}}this.stopHandle=ui(Z,()=>{var n;this.isSelected=((n=Z.currentState)!=null?n:!1)&&Z.currentState===this.config.sidebarContent},{deep:!1})}get icon(){return this.config.icon}get uuid(){return this.sidebarUUID}get displayName(){return this.config.displayName}get component(){return this.config.component}dispose(){var e;$e(Z.sidebarElements,this.sidebarUUID),(e=this.stopHandle)==null||e.call(this),this.stopHandle=void 0}setSidebarContent(e){this.config.sidebarContent=e}async click(){l.audioManager.playAudio("click5.ogg",1),this.isLoading=!0,this.config.sidebarContent&&fy(this.config.sidebarContent),typeof this.config.onClick=="function"&&await this.config.onClick(),this.isLoading=!1}}class _i{constructor({items:e,text:i,isOpen:n,shouldSort:s}){u(this,"type","category");u(this,"id",N());u(this,"text");u(this,"items");u(this,"isOpen");u(this,"shouldSort");this.text=i,this.items=e,this.isOpen=n!=null?n:!0,this.shouldSort=s!=null?s:!0,this.shouldSort&&this.sortCategory()}addItem(e){this.items.push(e),this.shouldSort&&this.sortCategory()}removeItems(){this.items=[]}getText(){return this.text}getSearchText(){return this.text.toLowerCase()}getItems(){return this.items}setOpen(e){l.audioManager.playAudio("click5.ogg",1),this.isOpen=e}getCurrentElement(e){return this.items.find(({id:i})=>i===e)}sortCategory(){this.items=this.items.sort((e,i)=>e.getSearchText().localeCompare(i.getSearchText()))}hasFilterMatches(e){return this.items.find(i=>i.getSearchText().includes(e))!==void 0}filtered(e){return e.length===0?this:new _i({items:this.items.filter(i=>i.getSearchText().includes(e)),text:this.text,isOpen:!0})}}class Pt{constructor({id:e,text:i,icon:n,color:s}){u(this,"type","item");u(this,"id");u(this,"text");u(this,"icon");u(this,"color");this.id=e,this.text=i,this.icon=n,this.color=s}getText(){return this.text}getSearchText(){return this.text.toLowerCase()}}class xi{constructor(e){u(this,"_selected");u(this,"_filter","");u(this,"reselectedForFilter","");u(this,"state",{});this._elements=e,this.selected=this.findDefaultSelected()}addElement(e,i){e.type==="item"&&i&&(this.state[e.id]=i),this.has(e)?this.replace(e):this._elements.push(e)}has(e){return this._elements.find(i=>i.id===e.id)!==void 0}replace(e){this._elements=this._elements.map(i=>i.id===e.id?e:i)}removeElements(){this._elements=[]}get filter(){return this._filter.toLowerCase()}get elements(){const e=this.sortSidebar(this._elements.filter(i=>i.type==="item"?i.getSearchText().includes(this.filter):i.hasFilterMatches(this.filter)).map(i=>i.type==="item"?i:i.filtered(this.filter)));if(this.filter!==this.reselectedForFilter&&e.length>0){const i=e[0];i.type==="category"&&i.getItems().length>0&&(i.setOpen(!0),this.setDefaultSelected(i.getItems()[0].id)),this.reselectedForFilter=this.filter}return e}get rawElements(){return this._elements}get currentElement(){if(!!this.selected)for(const e of this._elements){if(e.type==="item"){if(e.id===this.selected)return e;continue}const i=e.getCurrentElement(this.selected);if(i)return i}}get currentState(){var e;return this.selected?(e=this.state[this.selected])!=null?e:{}:{}}getState(e){var i;return(i=this.state[e])!=null?i:{}}setState(e,i){X(this.state,e,i)}sortSidebar(e){return e.sort((i,n)=>i.type!==n.type?i.type.localeCompare(n.type):i.getSearchText().localeCompare(n.getSearchText()))}findDefaultSelected(){for(const e of this.sortSidebar(this.elements)){if(e.type==="category"&&e.getItems().length>0)return e.getItems()[0].id;if(e.type==="item")return e.id}}setDefaultSelected(e){e?this.selected=e:this.selected||(this.selected=this.findDefaultSelected())}resetSelected(){this.selected=void 0}clearFilter(){this._filter=""}get selected(){return this._selected}set selected(e){e&&l.audioManager.playAudio("click5.ogg",1),this._selected=e}}var Xp=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"ripple",rawName:"v-ripple",value:!t.isSelected,expression:"!isSelected"}],staticClass:"pa-1 rounded-lg category",class:{selected:t.isSelected},on:{click:function(n){return t.$emit("click")}}},[i("span",{staticClass:"d-flex align-center",class:{"justify-center":t.compact}},[i("v-icon",{class:{"pr-1":!t.compact},style:{"font-size":(t.compact?30:22)+"px"},attrs:{color:t.color}},[t._v(" "+t._s(t.icon)+" ")]),t.compact?t._e():i("span",[t._v(t._s(t.text))])],1)])},Zp=[];const Yp={name:"SidebarItem",props:{isSelected:Boolean,text:String,icon:String,color:String,compact:Boolean}},Er={};var eh=E(Yp,Xp,Zp,!1,th,"60fa9412",null,null);function th(t){for(let e in Er)this[e]=Er[e]}var _r=function(){return eh.exports}(),ih=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("details",{attrs:{open:t.isOpen}},[i("summary",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"rounded-lg",on:{click:function(n){return n.preventDefault(),t.$emit("toggleOpen")}}},[i("span",{staticClass:"d-flex",class:{"justify-center":t.compact}},[t.compact?t._e():i("h2",{staticClass:"d-inline"},[t._v(t._s(t.t(t.text)))]),t.compact?t._e():i("v-spacer"),i("v-icon",{attrs:{color:"primary",large:""}},[t._v(" "+t._s(t.isOpen?"mdi-chevron-down":"mdi-chevron-right")+" ")])],1)]),t._l(t.items,function(n,s){var r=n.text,a=n.icon,o=n.color,c=n.id;return i("SidebarItem",{key:r+"."+s,attrs:{icon:a,color:o,text:r,isSelected:t.selected===c,compact:t.compact},on:{click:function(d){return t.$emit("click",c)}}})}),t.compact?i("v-divider"):t._e()],2)},nh=[];const sh={name:"SidebarGroup",mixins:[P],components:{SidebarItem:_r},props:{text:String,isOpen:Boolean,items:Array,selected:String,compact:Boolean}},xr={};var rh=E(sh,ih,nh,!1,ah,"5cde7409",null,null);function ah(t){for(let e in xr)this[e]=xr[e]}var oh=function(){return rh.exports}(),uh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseWindow",t._g(t._b({scopedSlots:t._u([{key:"toolbar",fn:function(){return[t._t("toolbar",null,{selectedTab:t.selected})]},proxy:!0},{key:"sidebar",fn:function(){return[t.isMobile?t._e():t._t("sidebar",null,{selectedSidebar:t.selected}),t._l(t.sidebarItems,function(n,s){return[n.type==="item"?i("SidebarItem",{key:n.text+"."+s,attrs:{icon:n.icon,color:n.color,text:n.text,isSelected:t.selected===n.id,compact:t.isMobile},on:{click:function(r){return t.onSidebarChanged(n.id)}}}):i("SidebarGroup",{key:n.text+"."+s+"."+n.isOpen,attrs:{isOpen:n.isOpen,items:n.items,text:n.text,selected:t.selected,compact:t.isMobile},on:{toggleOpen:function(r){return t.toggleOpenCategory(n)},click:t.onSidebarChanged}})]})]},proxy:!0},{key:"default",fn:function(){return[t._t("default",null,{selectedSidebar:t.selected})]},proxy:!0},{key:"actions",fn:function(){return[t._t("actions",null,{selectedSidebar:t.selected})]},proxy:!0}],null,!0)},"BaseWindow",t.$attrs,!1),t.$listeners))},ch=[];const lh={inheritAttrs:!1,components:{BaseWindow:de,SidebarItem:_r,SidebarGroup:oh},props:{sidebarItems:Array,value:{type:String,default:void 0}},computed:{selected(){return this.value},isMobile(){return this.$vuetify.breakpoint.mobile}},methods:{onSidebarChanged(t){this.$emit("input",t)},toggleOpenCategory(t){t.isOpen=!t.isOpen}}},Dr={};var dh=E(lh,uh,ch,!1,ph,null,null,null);function ph(t){for(let e in Dr)this[e]=Dr[e]}var Jt=function(){return dh.exports}(),hh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("SidebarWindow",{attrs:{windowTitle:t.title,isVisible:t.isVisible,hasMaximizeButton:!1,isFullscreen:!1,percentageWidth:80,percentageHeight:80,sidebarItems:t.sidebar.elements},on:{closeWindow:t.onClose},scopedSlots:t._u([{key:"sidebar",fn:function(){return[i("v-text-field",{staticClass:"pt-2",attrs:{"prepend-inner-icon":"mdi-magnify",label:t.t("windows.settings.searchSettings"),autocomplete:"off",autofocus:t.pointerDevice==="mouse",outlined:"",dense:""},model:{value:t.sidebar._filter,callback:function(n){t.$set(t.sidebar,"_filter",typeof n=="string"?n.trim():n)},expression:"sidebar._filter"}})]},proxy:!0},{key:"default",fn:function(n){var s=n.selectedSidebar;return[t.sidebar.currentState.length===0&&t.sidebar.filter!==""?i("span",[t._v(' No setting matches your search for "'+t._s(t.sidebar.filter)+'". ')]):t._e(),t._l(t.sidebar.currentState,function(r,a){return i(r.component,{key:s+"."+a+"."+r.value,tag:"component",staticClass:"mb-6",attrs:{config:r.config,value:r.value},on:{change:r.onChange,closeWindow:t.onClose}})})]}}]),model:{value:t.sidebar.selected,callback:function(n){t.$set(t.sidebar,"selected",n)},expression:"sidebar.selected"}})},mh=[];const fh={name:"PackExplorerWindow",mixins:[P],components:{SidebarWindow:Jt},props:["currentWindow"],setup(){return{pointerDevice:ce}},data(){return this.currentWindow},methods:{onClose(){this.currentWindow.close()}},computed:{title(){return this.sidebar.currentElement?`[${this.sidebar.currentElement.text} - ${this.t("windows.settings.title")}]`:"windows.settings.title"}}},kr={};var gh=E(fh,hh,mh,!1,wh,null,null,null);function wh(t){for(let e in kr)this[e]=kr[e]}var yh=function(){return gh.exports}();class yt{constructor(e,i,n=F){u(this,"component");u(this,"config");u(this,"onChange",async e=>{l.audioManager.playAudio("click5.ogg",1),await(this.value=e),typeof this.config.onChange=="function"&&await this.config.onChange(e),l.audioManager.playAudio("click5.ogg",1)});this.state=n,X(this,"config",i),X(this,"component",e),this.value===void 0&&i.default!==void 0&&(this.value=i.default)}set value(e){this.state[this.config.category]===void 0&&X(this.state,this.config.category,{}),X(this.state[this.config.category],this.config.key,e)}get value(){var e;return(e=this.state[this.config.category])==null?void 0:e[this.config.key]}}var vh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h3",[t._v(t._s(t.t(t.config.name)))]),i("div",{staticClass:"d-flex"},[i("div",[i("v-btn-toggle",{attrs:{inset:"",dense:"",mandatory:"",label:t.config.description,value:t.value_},on:{change:t.onChange}},t._l(t.config.options,function(n){return i("v-btn",{key:n,attrs:{color:"sidebarSelection"}},[t._v(" "+t._s(n)+" ")])}),1)],1),i("span",{staticClass:"ml-4 text-normal"},[t._v(t._s(t.t(t.config.description)))])])])},Ch=[];const bh={props:{config:Object,value:String},mixins:[P],data:()=>({value_:void 0}),created(){this.value_=this.config.options.findIndex(t=>t===this.value)||0},methods:{onChange(t){this.$nextTick(()=>this.$emit("change",this.config.options[t]))}}},Sr={};var Fh=E(bh,vh,Ch,!1,Ah,null,null,null);function Ah(t){for(let e in Sr)this[e]=Sr[e]}var Eh=function(){return Fh.exports}();class Fn extends yt{constructor(e){super(Eh,e)}matches(e){return this.config.name.toLowerCase().includes(e)||this.config.description.toLowerCase().includes(e)||this.config.options.some(i=>i.toLowerCase().includes(e))}}var _h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h3",[t._v(t._s(t.t(t.config.name)))]),i("v-switch",{staticStyle:{"margin-top":"0"},attrs:{inset:"",dense:"",label:t.t(t.config.description),value:t.value_},on:{change:t.onChange}})],1)},xh=[];const Dh={props:{value:[Boolean,Promise],config:Object},mixins:[P],data:()=>({value_:void 0}),async mounted(){this.value_=await this.value},methods:{onChange(t){this.$emit("change",t===null?!1:t)}}},Br={};var kh=E(Dh,_h,xh,!1,Sh,null,null,null);function Sh(t){for(let e in Br)this[e]=Br[e]}var Bh=function(){return kh.exports}();class fe extends yt{constructor(e){super(Bh,e)}matches(e){return this.config.name.toLowerCase().includes(e)||this.config.description.toLowerCase().includes(e)}}var jh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ActionViewer",{attrs:{action:t.config.action}})},Th=[];const Ph={props:{config:Object},components:{ActionViewer:Ft},mixins:[P]},jr={};var $h=E(Ph,jh,Th,!1,Mh,null,null,null);function Mh(t){for(let e in jr)this[e]=jr[e]}var Oh=function(){return $h.exports}();class Rh extends yt{constructor(e){super(Oh,{category:"actions",action:{},description:(i=e.description)!=null?i:"No description provided",key:e.id,name:(n=e.name)!=null?n:"general.unknown"},void 0);u(this,"config",He({category:"actions",action:{}}));u(this,"onChange",async()=>{});var i,n;this.config.action=e}matches(e){return this.config.action.name.includes(e)||this.config.action.description.includes(e)}}var Ih=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h3",[t._v(t._s(t.t(t.config.name)))]),i("div",{staticClass:"d-flex align-center"},[i("div",[i("v-autocomplete",{attrs:{inset:"",dense:"",mandatory:"",outlined:"",value:t.value_,items:t.config.options,"hide-details":"","menu-props":{maxHeight:220}},on:{change:t.onChange}})],1),i("span",{staticClass:"ml-4 text-normal"},[t._v(t._s(t.t(t.config.description)))])])])},Wh=[];const Nh={props:{config:Object,value:[String,Promise]},mixins:[P],data:()=>({value_:void 0}),async created(){this.value_=await this.value||this.config.default},methods:{onChange(t){this.$nextTick(()=>this.$emit("change",t))}}},Tr={};var Lh=E(Nh,Ih,Wh,!1,Hh,null,null,null);function Hh(t){for(let e in Tr)this[e]=Tr[e]}var Vh=function(){return Lh.exports}();class Ke extends yt{constructor(e){super(Vh,e)}matches(e){return this.config.name.toLowerCase().includes(e)||this.config.description.toLowerCase().includes(e)||this.config.options.some(i=>typeof i=="string"?i.toLowerCase().includes(e):i.text.toLowerCase().includes(e))}}class Pr extends Ke{get value(){return l.getApp().then(e=>{var i;return(i=e.projectConfig.get().bridge)==null?void 0:i[this.config.key]})}set value(e){l.getApp().then(async i=>{i.projectConfig.get().bridge||(i.projectConfig.get().bridge={}),i.projectConfig.get().bridge[this.config.key]=e,await i.projectConfig.save()})}}var zh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex align-center"},[i("v-btn",{attrs:{color:"primary"},on:{click:t.config.onClick}},[t._v(" "+t._s(t.t(t.config.name))+" ")]),i("span",{staticClass:"ml-4 text-normal"},[t._v(t._s(t.t(t.config.description)))])],1)},Uh=[];const Gh={props:{config:Object},mixins:[P]},$r={};var Jh=E(Gh,zh,Uh,!1,qh,null,null,null);function qh(t){for(let e in $r)this[e]=$r[e]}var Kh=function(){return Jh.exports}();class Qh extends yt{constructor(e){super(Kh,W(j({},e),{key:"N/A"}));u(this,"onChange",async()=>{})}matches(e){return this.config.name.includes(e)||this.config.description.includes(e)}}var Xh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.shouldRender?i("BaseWindow",{attrs:{windowTitle:t.$data.title,isVisible:t.isVisible,isPersistent:!0,hasMaximizeButton:!1,isFullscreen:!1,width:440,height:t.$data.height,hasCloseButton:!1,isSmallPopup:!0},scopedSlots:t._u([{key:"default",fn:function(){return[i("p",{staticClass:"mt-2"},[t._v(t._s(t.t(t.$data.description)))])]},proxy:!0},{key:"actions",fn:function(){return[i("v-spacer"),i("v-btn",{attrs:{color:"sidebarSelection"},on:{click:t.onCancel}},[i("v-icon",{staticClass:"mr-1"},[t._v("mdi-close")]),i("span",[t._v(t._s(t.t(t.$data.cancelText)))])],1),i("v-btn",{attrs:{color:"primary"},on:{click:t.onConfirm}},[i("v-icon",{staticClass:"mr-1"},[t._v("mdi-check")]),i("span",[t._v(t._s(t.t(t.$data.confirmText)))])],1)]},proxy:!0}],null,!1,1493399650)}):t._e()},Zh=[];const Yh={name:"Confirm",mixins:[P],components:{BaseWindow:de},props:["currentWindow"],data(){return this.currentWindow},methods:{onCancel(){this.currentWindow.onCancel()},onConfirm(){this.currentWindow.onConfirm()}}},Mr={};var em=E(Yh,Xh,Zh,!1,tm,null,null,null);function tm(t){for(let e in Mr)this[e]=Mr[e]}var im=function(){return em.exports}();class ue extends ne{constructor(e){super(im,!0,!1);this.opts=e,this.defineWindow(),this.open()}get confirmText(){var e;return(e=this.opts.confirmText)!=null?e:"general.okay"}get cancelText(){var e;return(e=this.opts.cancelText)!=null?e:"general.cancel"}get description(){return this.opts.description}get title(){var e;return(e=this.opts.title)!=null?e:"general.confirm"}get height(){var e;return(e=this.opts.height)!=null?e:130}onConfirm(){l.audioManager.playAudio("click5.ogg",1),typeof this.opts.onConfirm=="function"&&this.opts.onConfirm(),this.close(!0)}onCancel(){l.audioManager.playAudio("click5.ogg",1),typeof this.opts.onCancel=="function"&&this.opts.onCancel(),this.close(!1)}}const Di="comMojangDirectory";class nm extends L{constructor(e){super();u(this,"fileSystem",new Fe);u(this,"setup",new L);u(this,"_hasComMojang",!1);u(this,"_permissionDenied",!1);this.app=e,ut(Di).then(async i=>{i&&(await this.app.fileSystem.fired,await this.requestPermissions(i).catch(()=>{this.createPermissionWindow(i)}),this._hasComMojang&&this.setup.dispatch()),this.dispatch()})}get hasComMojang(){return this._hasComMojang}get status(){return{hasComMojang:this._hasComMojang,didDenyPermission:this._permissionDenied}}async createPermissionWindow(e){const i=new ae({name:"comMojang.title",description:"comMojang.permissionRequest",onClose:async()=>{await this.requestPermissions(e)}});i.open(),await i.fired}async requestPermissions(e){await e.requestPermission({mode:"readwrite"})!=="granted"?(this._hasComMojang=!1,this._permissionDenied=!0,await this.app.projectManager.recompileAll()):(this.fileSystem.setup(e),this._hasComMojang=!0)}async set(e){Le(Di,e),await this.requestPermissions(e),this._hasComMojang&&this.setup.dispatch()}async handleComMojangDrop(e){await new ue({description:"comMojang.folderDropped",confirmText:"general.yes",cancelText:"general.no"}).fired&&(await this.set(e),await this.app.projectManager.recompileAll())}async unlink(){await this.app.projectManager.recompileAll(),await oi(Di)}}var sm=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.sidebarState,function(n,s){return i("ActionViewer",{directives:[{name:"ripple",rawName:"v-ripple"}],key:s,attrs:{selected:n.isVisible,action:Object.assign({},n.config,{name:n.displayName}),hideTriggerButton:""},nativeOn:{click:function(r){return t.onClick(n)}}})}),1)},rm=[];const am={data:()=>({sidebarState:Z.sidebarElements}),components:{ActionViewer:Ft},methods:{onClick(t){t.isVisible=!t.isVisible,F.sidebar||(F.sidebar={}),F.sidebar.sidebarElements||(F.sidebar.sidebarElements={}),F.sidebar.sidebarElements[t.uuid]=t.isVisible}}},Or={};var om=E(am,sm,rm,!1,um,null,null,null);function um(t){for(let e in Or)this[e]=Or[e]}var cm=function(){return om.exports}();class lm extends yt{constructor(e){super(cm,e)}matches(e){return Object.values(Z.sidebarElements).some(i=>l.instance.locales.translate(i.displayName).includes(e))}}var dm=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h3",[t._v(t._s(t.t(t.config.name)))]),i("div",{staticClass:"d-flex align-center"},[i("div",[i("v-text-field",{attrs:{inset:"",dense:"",mandatory:"",outlined:"",value:t.value_,items:t.config.options,"hide-details":"","menu-props":{maxHeight:220}},on:{change:t.onChange}})],1),i("span",{staticClass:"ml-4 text-normal"},[t._v(t._s(t.t(t.config.description)))])])])},pm=[];const hm={props:{config:Object,value:[String,Promise]},mixins:[P],data:()=>({value_:void 0}),async created(){this.value_=await this.value||this.config.default},methods:{onChange(t){this.$nextTick(()=>this.$emit("change",t))}}},Rr={};var mm=E(hm,dm,pm,!1,fm,null,null,null);function fm(t){for(let e in Rr)this[e]=Rr[e]}var gm=function(){return mm.exports}();class wm extends yt{constructor(e){super(gm,e)}matches(e){return this.config.name.toLowerCase().includes(e)||this.config.description.toLowerCase().includes(e)}}async function ym(t){t.addControl(new Fn({category:"appearance",name:"windows.settings.appearance.colorScheme.name",description:"windows.settings.appearance.colorScheme.description",key:"colorScheme",options:["auto","dark","light"],default:"auto",onChange:()=>{l.getApp().then(n=>n.themeManager.updateTheme())}})),t.addControl(new Ke({category:"appearance",name:"windows.settings.appearance.darkTheme.name",description:"windows.settings.appearance.darkTheme.description",key:"darkTheme",get options(){return t.parent.themeManager.getThemes("dark").map(n=>({text:n.name,value:n.id}))},default:"bridge.default.dark",onChange:()=>{l.getApp().then(n=>n.themeManager.updateTheme())}})),t.addControl(new Ke({category:"appearance",name:"windows.settings.appearance.lightTheme.name",description:"windows.settings.appearance.lightTheme.description",key:"lightTheme",get options(){return t.parent.themeManager.getThemes("light").map(n=>({text:n.name,value:n.id}))},default:"bridge.default.light",onChange:()=>{l.getApp().then(n=>n.themeManager.updateTheme())}})),t.addControl(new Pr({category:"appearance",name:"windows.settings.appearance.localDarkTheme.name",description:"windows.settings.appearance.localDarkTheme.description",key:"darkTheme",get options(){return t.parent.themeManager.getThemes("dark",!1).map(n=>({text:n.name,value:n.id})).concat([{text:"None",value:"bridge.noSelection"}])},default:"bridge.noSelection",onChange:()=>{l.getApp().then(n=>n.themeManager.updateTheme())}})),t.addControl(new Pr({category:"appearance",name:"windows.settings.appearance.localLightTheme.name",description:"windows.settings.appearance.localLightTheme.description",key:"lightTheme",get options(){return t.parent.themeManager.getThemes("light",!1).map(n=>({text:n.name,value:n.id})).concat([{text:"None",value:"bridge.noSelection"}])},default:"bridge.noSelection",onChange:()=>{l.getApp().then(n=>n.themeManager.updateTheme())}})),t.addControl(new Ke({category:"appearance",name:"windows.settings.appearance.font.name",description:"windows.settings.appearance.font.description",key:"font",default:"Roboto",options:["Roboto","Arial","Verdana","Helvetica","Tahome","Trebuchet MS","Menlo","Monaco","Courier New","monospace"]})),t.addControl(new Ke({category:"appearance",name:"windows.settings.appearance.editorFont.name",description:"windows.settings.appearance.editorFont.description",key:"editorFont",default:ge()==="darwin"?"Menlo":"Consolas",options:["Roboto","Arial","Consolas","Menlo","Monaco",'"Courier New"',"monospace"],onChange:async n=>{(await l.getApp()).projectManager.updateAllEditorOptions({fontFamily:n})}})),t.addControl(new Ke({category:"appearance",name:"windows.settings.appearance.editorFontSize.name",description:"windows.settings.appearance.editorFontSize.description",key:"editorFontSize",default:"14px",options:["8px","10px","12px","14px","16px","18px","20px"],onChange:async n=>{(await l.getApp()).projectManager.updateAllEditorOptions({fontSize:Number(n.replace("px",""))})}})),t.addControl(new fe({category:"sidebar",name:"windows.settings.sidebar.sidebarRight.name",description:"windows.settings.sidebar.sidebarRight.description",key:"isSidebarRight",default:!1})),t.addControl(new fe({category:"sidebar",name:"windows.settings.sidebar.shrinkSidebarElements.name",description:"windows.settings.sidebar.shrinkSidebarElements.description",key:"smallerSidebarElements",default:!1})),t.addControl(new Fn({category:"sidebar",name:"windows.settings.sidebar.sidebarSize.name",description:"windows.settings.sidebar.sidebarSize.description",key:"sidebarSize",options:["tiny","small","normal","large"],default:"normal",onChange:()=>{l.getApp().then(n=>n.windowResize.dispatch())}})),t.addControl(new lm({category:"sidebar",name:"windows.settings.sidebar.shrinkSidebarElements.name",description:"windows.settings.sidebar.shrinkSidebarElements.description",key:"hideElements"})),t.addControl(new Fn({category:"developers",name:"windows.settings.developer.simulateOS.name",description:"windows.settings.developer.simulateOS.description",key:"simulateOS",options:["auto","win32","darwin","linux"],default:"auto"})),t.addControl(new fe({category:"developers",name:"windows.settings.developer.devMode.name",description:"windows.settings.developer.devMode.description",key:"isDevMode"}));const e=await l.getApp().then(n=>n.locales);t.addControl(new Ke({category:"general",name:"windows.settings.general.language.name",description:"windows.settings.general.language.description",key:"locale",get options(){return e.getLanguages().map(n=>({text:n[1],value:n[0]}))},default:e.getCurrentLanguage(),onChange:n=>{e.selectLanguage(n)}})),t.addControl(new fe({category:"general",name:"windows.settings.general.collaborativeMode.name",description:"windows.settings.general.collaborativeMode.description",key:"fullLightningCacheRefresh",default:!0})),t.addControl(new fe({category:"general",name:"windows.settings.general.packSpider.name",description:"windows.settings.general.packSpider.description",key:"enablePackSpider",default:!1})),t.addControl(new fe({category:"general",name:"windows.settings.general.formatOnSave.name",description:"windows.settings.general.formatOnSave.description",key:"formatOnSave",default:!0})),t.addControl(new fe({category:"general",name:"windows.settings.general.openLinksInBrowser.name",description:"windows.settings.general.openLinksInBrowser.description",key:"openLinksInBrowser",default:!1})),t.addControl(new fe({category:"general",name:"windows.settings.general.restoreTabs.name",description:"windows.settings.general.restoreTabs.description",key:"restoreTabs",default:!0})),t.addControl(new fe({category:"general",name:"windows.settings.general.openProjectChooserOnAppStartup.name",description:"windows.settings.general.openProjectChooserOnAppStartup.description",key:"openProjectChooserOnAppStartup",default:!1})),G||t.addControl(new Qh({category:"general",name:"windows.settings.general.resetBridgeFolder.name",description:"windows.settings.general.resetBridgeFolder.description",onClick:async()=>{await oi("bridgeBaseDir"),await oi(Di),location.reload()}})),t.addControl(new fe({category:"audio",name:"windows.settings.audio.volume.name",description:"windows.settings.audio.volume.description",key:"playAudio",default:!1,onChange:n=>{l.audioManager.isMuted=!n}})),t.addControl(new Ke({category:"editor",name:"windows.settings.editor.jsonEditor.name",description:"windows.settings.editor.jsonEditor.description",key:"jsonEditor",options:[{text:"Tree Editor",value:"treeEditor"},{text:"Raw Text",value:"rawText"}],default:"rawText"})),t.addControl(new fe({category:"editor",name:"windows.settings.editor.bracketPairColorization.name",description:"windows.settings.editor.bracketPairColorization.description",key:"bracketPairColorization",default:!1,onChange:async n=>{(await l.getApp()).projectManager.updateAllEditorOptions({"bracketPairColorization.enabled":n})}})),t.addControl(new fe({category:"editor",name:"windows.settings.editor.wordWrap.name",description:"windows.settings.editor.wordWrap.description",key:"wordWrap",default:!1,onChange:async n=>{(await l.getApp()).projectManager.updateAllEditorOptions({wordWrap:n?"bounded":"off"})}})),t.addControl(new Ke({category:"editor",name:"windows.settings.editor.wordWrapColumns.name",description:"windows.settings.editor.wordWrapColumns.description",key:"wordWrapColumns",default:"80",options:["40","60","80","100","120","140","160"],onChange:async n=>{(await l.getApp()).projectManager.updateAllEditorOptions({wordWrapColumn:Number(n)})}})),t.addControl(new fe({category:"editor",name:"windows.settings.editor.compactTabDesign.name",description:"windows.settings.editor.compactTabDesign.description",key:"compactTabDesign",default:!0})),t.addControl(new fe({category:"editor",name:"windows.settings.editor.automaticallyOpenTreeNodes.name",description:"windows.settings.editor.automaticallyOpenTreeNodes.description",key:"automaticallyOpenTreeNodes",default:!0})),t.addControl(new fe({category:"editor",name:"windows.settings.editor.dragAndDropTreeNodes.name",description:"windows.settings.editor.dragAndDropTreeNodes.description",key:"dragAndDropTreeNodes",default:!0})),t.addControl(new wm({category:"projects",name:"windows.settings.projects.defaultAuthor.name",description:"windows.settings.projects.defaultAuthor.description",key:"defaultAuthor",default:""}));const i=await l.getApp();Object.values(i.actionManager.state).forEach(n=>{n.type==="action"&&t.addControl(new Rh(n))})}class vm extends xi{constructor(){super(...arguments);u(this,"lastFilter")}get elements(){let e;const i=this._elements.filter(n=>{if(n.type==="category")return!0;const r=this.getState(n.id).some(a=>a.matches(this.filter));return!e&&r&&(e=n.id),r});return e&&this.lastFilter!==this.filter&&this.currentState.length===0&&this.setDefaultSelected(e),this.lastFilter=this.filter,this.sortSidebar(i)}get currentState(){var e;return this.selected?((e=this.state[this.selected])!=null?e:[]).filter(i=>i.matches(this.filter)):[]}}const Nn=class extends ne{constructor(e){super(yh,!1,!0);u(this,"sidebar",new vm([]));u(this,"bridgeCategory",new _i({items:[],text:"bridge."}));this.parent=e,this.defineWindow()}async setup(){const e=await l.getApp().then(i=>i.locales);this.addCategory("general",e.translate("windows.settings.general.name"),"mdi-circle-outline"),this.addCategory("appearance",e.translate("windows.settings.appearance.name"),"mdi-palette-outline"),this.addCategory("editor","Editor","mdi-pencil-outline"),this.addCategory("actions",e.translate("windows.settings.actions.name"),"mdi-keyboard-outline"),this.addCategory("audio",e.translate("windows.settings.audio.name"),"mdi-volume-high"),this.addCategory("sidebar",e.translate("windows.settings.sidebar.name"),"mdi-table-column"),this.addCategory("developers",e.translate("windows.settings.developer.name"),"mdi-wrench-outline"),this.addCategory("projects",e.translate("windows.settings.projects.name"),"mdi-folder-open-outline"),await ym(this),this.sidebar.setDefaultSelected()}addCategory(e,i,n){F[e]===void 0&&(F[e]={}),this.sidebar.addElement(new Pt({color:"primary",text:i,icon:n,id:e}),[])}addControl(e){const i=this.sidebar.state[e.config.category];if(!i)throw new Error(`Undefined settings category: ${e.config.category}`);i.push(e)}static async saveSettings(e){e||(e=await l.getApp()),await e.fileSystem.writeJSON("data/settings.json",F)}static async loadSettings(e){try{Au(await e.fileSystem.readJSON("data/settings.json"))}catch{}finally{this.loadedSettings.dispatch(F)}}async open(){l.audioManager.playAudio("click5.ogg",1),!this.isVisible&&(this.sidebar.removeElements(),await this.setup(),super.open())}async close(){l.audioManager.playAudio("click5.ogg",1),super.close();const e=await l.getApp();e.windows.loadingWindow.open(),await Nn.saveSettings(),e.windows.loadingWindow.close()}};let We=Nn;u(We,"loadedSettings",new L);const Cm=({disposables:t})=>({SidebarContent:bn,create(e){var n,s,r;const i=Tt(W(j({},e),{isVisible:e.id&&(r=(s=(n=F==null?void 0:F.sidebar)==null?void 0:n.sidebarElements)==null?void 0:s[e.id])!=null?r:!0}));return e.id&&We.loadedSettings.once(a=>{var o,c,d;i.isVisible=(d=(c=(o=a==null?void 0:a.sidebar)==null?void 0:o.sidebarElements)==null?void 0:c[e.id])!=null?d:!0}),t.push(i),i},getSelected(){throw new Error("This function no longer works with bridge. v2")},onChange(){throw new Error("This function no longer works with bridge. v2")},select(){throw new Error("This function no longer works with bridge. v2")}}),bm=({uiStore:t})=>W(j({},t==null?void 0:t.UI),{BuiltIn:{BaseWindow:de,SidebarWindow:Jt}}),Fm=({disposables:t})=>({create(e){const i=mi(e);return t.push(i),i},createError(e){const i=et(e);return t.push(i),i}}),Am=({})=>new Promise(t=>{l.ready.once(e=>{const i={};for(const n of Object.getOwnPropertyNames(Object.getPrototypeOf(e.fileSystem)))n!=="constructor"&&typeof e.fileSystem[n]=="function"&&(i[n]=e.fileSystem[n].bind(e.fileSystem));t(i)})}),Em=({})=>({APP_VERSION:gt,getCurrentBP(){return`projects/${l.instance.selectedProject}/BP`},getCurrentRP(){return`projects/${l.instance.selectedProject}/RP`},getCurrentProject(){return`projects/${l.instance.selectedProject}`},getProjectPrefix(){return l.getApp().then(t=>t.projectConfig.get().namespace)},getProjectTargetVersion(){return l.getApp().then(t=>t.projectConfig.get().targetVersion)},getProjectAuthor(){return l.getApp().then(t=>t.projectConfig.get().author)},getContext(){return console.warn("This API is deprecated!"),{}}}),_m=({})=>({openExternal:t=>window.open(t,"_blank")}),xm=({disposables:t})=>{throw new Error("Module not yet supported on bridge. v2")},Dm=()=>sd,km=({})=>({fetchDefinition:async(t,e,i,n=!1)=>{var o;const r=(o=(await l.getApp()).project)==null?void 0:o.packIndexer;return r?(await Promise.all(e.map(c=>{var d,p;return(p=(d=r.service)==null?void 0:d.find(t,c,[i],n))!=null?p:[]}))).flat():[]}});function Sm(t,e={},i=!0,n=()=>{}){const s={};s.done=new Promise(c=>{s.setDone=c});const r=N(),a=He(Object.assign(e,{isVisible:!1,shouldRender:!1})),o={component:t,getState:()=>a,close:()=>{n(),a.isVisible=!1,setTimeout(()=>{a.shouldRender=!1,i&&o.dispose()},600)},open:()=>{a.shouldRender=!0,a.isVisible=!0},dispose:()=>$e(l.windowState.state,r),status:s,get isVisible(){return a.isVisible}};return X(l.windowState.state,r,o),o}var Bm=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.shouldRender?i("BaseWindow",{attrs:{windowTitle:t.$data.title,isVisible:t.isVisible,hasMaximizeButton:!1,isFullscreen:!1,isPersistent:!t.$data.isClosable,hasCloseButton:!1,width:440,height:140},on:{closeWindow:t.onClose},scopedSlots:t._u([{key:"default",fn:function(){return[i("v-select",{staticClass:"mt-4",attrs:{autofocus:t.pointerDevice==="mouse",outlined:"",dense:"",items:t.$data.options,"background-color":"background"},model:{value:t.$data.currentSelection,callback:function(n){t.$set(t.$data,"currentSelection",n)},expression:"$data.currentSelection"}})]},proxy:!0},{key:"actions",fn:function(){return[i("v-spacer"),i("v-btn",{attrs:{color:"primary",disabled:t.$data.currentSelection===""},on:{click:t.onConfirm}},[i("v-icon",[t._v("mdi-check")]),i("span",[t._v(t._s(t.t("general.confirm")))])],1)]},proxy:!0}],null,!1,3980933220)}):t._e()},jm=[];const Tm={name:"Dropdown",mixins:[P],components:{BaseWindow:de},props:["currentWindow"],setup(){return{pointerDevice:ce}},data(){return this.currentWindow},methods:{onClose(){this.currentWindow.close()},onConfirm(){this.currentWindow.confirm()}}},Ir={};var Pm=E(Tm,Bm,jm,!1,$m,null,null,null);function $m(t){for(let e in Ir)this[e]=Ir[e]}var Mm=function(){return Pm.exports}();class $t extends ne{constructor(e){super(Mm,!0,!1);u(this,"currentSelection");this.opts=e,this.currentSelection=e.default,this.defineWindow(),this.open()}get title(){return this.opts.name}get options(){return this.opts.options}get placeholder(){return this.opts.placeholder}get isClosable(){return this.opts.isClosable}async confirm(){var e;l.audioManager.playAudio("click5.ogg",1),typeof this.opts.onConfirm=="function"&&await this.opts.onConfirm(this.currentSelection),super.close((e=this.currentSelection)!=null?e:null)}}var Om=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.shouldRender?i("BaseWindow",{attrs:{windowTitle:t.$data.title,isVisible:t.isVisible,hasMaximizeButton:!1,isFullscreen:!1,width:440,height:120},on:{closeWindow:t.onClose},scopedSlots:t._u([{key:"default",fn:function(){return[i("div",{staticClass:"d-flex justify-center align-center"},[i("v-text-field",{staticClass:"mr-2",attrs:{label:t.t(t.$data.label),outlined:"",dense:"",autofocus:t.pointerDevice==="mouse","hide-details":""},nativeOn:{keydown:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.onConfirm(n)}},model:{value:t.$data.inputValue,callback:function(n){t.$set(t.$data,"inputValue",n)},expression:"$data.inputValue"}}),t.$data.expandText!==""?i("span",{staticClass:"expand-text text--secondary"},[t._v(" "+t._s(t.$data.expandText)+" ")]):t._e()],1)]},proxy:!0},{key:"actions",fn:function(){return[i("v-spacer"),i("v-btn",{attrs:{color:"primary",disabled:t.$data.inputValue===""},on:{click:t.onConfirm}},[i("v-icon",[t._v("mdi-check")]),i("span",[t._v(t._s(t.t("general.confirm")))])],1)]},proxy:!0}],null,!1,3968493615)}):t._e()},Rm=[];const Im={name:"Input",mixins:[P],components:{BaseWindow:de},props:["currentWindow"],setup(){return{pointerDevice:ce}},data(){return this.currentWindow},methods:{onClose(){this.currentWindow.close(null),this.currentWindow.inputValue=""},onConfirm(){this.currentWindow.confirm(),this.currentWindow.inputValue=""}}},Wr={};var Wm=E(Im,Om,Rm,!1,Nm,null,null,null);function Nm(t){for(let e in Wr)this[e]=Wr[e]}var Lm=function(){return Wm.exports}();class qt extends ne{constructor(e){super(Lm,!0,!1);u(this,"inputValue");var i;this.opts=e,this.inputValue=(i=e.default)!=null?i:"",super.defineWindow(),super.open()}get title(){return this.opts.name}get label(){return this.opts.label}get expandText(){return this.opts.expandText}async confirm(){var i;l.audioManager.playAudio("click5.ogg",1);const e=this.inputValue+((i=this.expandText)!=null?i:"");typeof this.opts.onConfirm=="function"&&await this.opts.onConfirm(e),super.close(e)}}const Hm=({})=>({BaseWindow:ne,createWindow:(t,e)=>(console.warn('[@bridge/windows] Calling "createWindow" is deprecated. Please replace direct function calls by defining a class based window instead.'),Sm(t,e)),createInformationWindow:(t,e)=>new ae({name:t,description:e}),createInputWindow:(t,e,i,n,s)=>new qt({name:t,label:e,default:i,expandText:s,onConfirm:n}),createDropdownWindow:(t,e,i,n,s)=>new $t({name:t,default:n,options:i,placeholder:e,onConfirm:s}),createConfirmWindow:(t,e,i,n,s)=>new ue({description:t,confirmText:e,cancelText:i,onConfirm:n,onCancel:s})});let ki;const Vm=async({})=>{try{if(ki===void 0)return new Promise(t=>{l.ready.once(async e=>{ki=await e.fileSystem.readJSON(`projects/${e.selectedProject}/globals.json`),t(ki)})})}catch{return{}}return j({},ki)};class Mt extends ee{constructor(e,i){super();u(this,"id",N());u(this,"type","category");u(this,"shouldRender",!0);u(this,"isVisible",!1);u(this,"state",He({}));u(this,"disposables",{});this.icon=e,this.name=i}setShouldRender(e){this.shouldRender=e}addItem(e){return X(this.state,e.id,e),this.disposables[e.id]=e.on(()=>this.trigger()),this}disposeItem(e){var i;$e(this.state,e.id),(i=this.disposables[e.id])==null||i.dispose(),this.disposables[e.id]=void 0}trigger(){this.isVisible=!1,this.dispatch()}dispose(){l.toolbar.disposeCategory(this)}}const zm=async({disposables:t})=>({ToolbarCategory:Mt,actionManager:(await l.getApp()).actionManager,addCategory(e){l.toolbar.addCategory(e),t.push(e)}}),Um=()=>({compare:Ve.exports.compare}),Gm=({disposables:t})=>({registerDocumentFormattingEditProvider:(e,i)=>{t.push(V.registerDocumentFormattingEditProvider(e,i))}}),Jm=()=>({parse:t=>z.parse(t)}),qm=async({})=>{const t=await l.getApp();return{setup:t.comMojang.setup,requestFileSystem:async()=>{const e={};for(const i of Object.getOwnPropertyNames(Object.getPrototypeOf(t.comMojang.fileSystem)))i!=="constructor"&&typeof t.comMojang.fileSystem[i]=="function"&&(e[i]=t.comMojang.fileSystem[i].bind(t.comMojang.fileSystem));return e}}};var Km=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{position:"relative"}},[i("div",{staticStyle:{width:"100%",height:"100%"},on:{click:function(n){return t.tab.parent.setActive(!0)}}},[i("canvas",{ref:"canvas"})])])},Qm=[];const Xm={name:"ThreePreviewTab",props:{tab:Object},activated(){this.tab.receiveCanvas(this.$refs.canvas)},mounted(){this.tab.receiveCanvas(this.$refs.canvas)},watch:{"tab.uuid"(){this.tab.receiveCanvas(this.$refs.canvas)}}},Nr={};var Zm=E(Xm,Km,Qm,!1,Ym,null,null,null);function Ym(t){for(let e in Nr)this[e]=Nr[e]}var e0=function(){return Zm.exports}();class t0 extends Lt{constructor(e,i){super(i);u(this,"isForeignFile",!0);this.tab=e,this.onCreate()}static is(){return!1}onCreate(){}async onActivate(){this.onChange(),this.isActive=!0}get name(){return`${this.parent.app.locales.translate("preview.name")}: ${this.tab.name}`}save(){}getFile(){return this.tab.getFile()}}class An extends t0{constructor(){super(...arguments);u(this,"component",e0);u(this,"setupComplete",new L);u(this,"disposables",[]);u(this,"canvas");u(this,"renderer");u(this,"_camera");u(this,"controls");u(this,"_scene");u(this,"renderingRequested",!1);u(this,"width",0);u(this,"height",0)}get scene(){if(!this._scene)throw new Error("Scene is not defined yet");return this._scene}get camera(){if(!this._camera)throw new Error("Camera is not defined yet");return this._camera}async is(){return!1}async receiveCanvas(e){var n;const i=await l.getApp();this.canvas=U(e),this.renderer=U(new Lo({antialias:!1,canvas:e})),this.renderer.setPixelRatio(window.devicePixelRatio),this._camera||(this._camera=U(new Ho(70,2,.1,1e3)),this._camera.position.x=-16,this._camera.position.y=16,this._camera.position.z=-16),(n=this.controls)==null||n.dispose(),this.controls=U(new Vo(this.camera,e)),this.controls.addEventListener("change",()=>{this.requestRendering(),this.parent.isActive||this.parent.setActive(!0)}),this._scene||(this._scene=U(new zo),this._scene.add(new Uo(16777215))),this._scene.background=new Ni(i.themeManager.getColor("background")),this.disposables.push(i.windowResize.on(()=>setTimeout(()=>this.onResize()))),this.onResize(),this.setupComplete.dispatch()}async onActivate(){await this.setupComplete.fired,await super.onActivate();const e=await l.getApp();this.disposables.push(e.themeManager.on(()=>{const i=e.themeManager.getColor("background");this.scene.background=new Ni(i),this.requestRendering()}))}onDeactivate(){var e,i,n;this.setupComplete.resetSignal(),(e=this.controls)==null||e.dispose(),(i=this.renderer)==null||i.resetState(),(n=this.renderer)==null||n.dispose(),this.renderer=void 0,this.controls=void 0,super.onDeactivate()}render(){var e,i;(e=this.controls)==null||e.update(),(i=this.renderer)==null||i.render(this.scene,this.camera),this.renderingRequested=!1}requestRendering(e=!1){if(e)return this.render();this.renderingRequested||(this.renderingRequested=!0,requestAnimationFrame(()=>this.render()))}onResize(){var i,n,s,r,a;const e=(n=(i=this.canvas)==null?void 0:i.parentElement)==null?void 0:n.getBoundingClientRect();this.width=(s=e==null?void 0:e.width)!=null?s:0,this.height=(r=e==null?void 0:e.height)!=null?r:0,(a=this.renderer)==null||a.setSize(this.width,this.height,!0),this.camera&&(this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix()),this.requestRendering()}async toOtherTabSystem(e){await super.toOtherTabSystem(e),await this.setupComplete.fired,this.onResize()}}const i0=async({disposables:t})=>({ContentTab:Lt,FileTab:Q,ThreePreviewTab:An,register:e=>{const i=gn.register(e);return t.push(i),i},openTab:async(e,i=!1)=>{var r,a,o;const s=(await l.getApp()).project;if(i){const c=new e(s.inactiveTabSystem);return(r=s.inactiveTabSystem)==null||r.add(c,!0),(a=s.inactiveTabSystem)==null||a.setActive(!0),c}else{const c=new e(s.tabSystem);return(o=s.tabSystem)==null||o.add(c,!0),c}},openFilePath:async(e,i=!1)=>{const s=(await l.getApp()).project,r=await s.fileSystem.getFileHandle(e);await s.openFile(r,{selectTab:i})}});function Lr({isGlobal:t,func:e,disposables:i,app:n}){t?i.push(n.projectManager.forEachProject(e)):e(n.project)}const n0=async({disposables:t,isGlobal:e})=>({addTabActions:async i=>{(await l.getApp()).project.tabActionProvider.addTabActions(i)},register:async i=>{const n=await l.getApp();Lr({app:n,disposables:t,isGlobal:e,func:s=>{t.push(s.tabActionProvider.register(i))}})},registerPreview:async i=>{const n=await l.getApp();Lr({app:n,disposables:t,isGlobal:e,func:s=>{t.push(s.tabActionProvider.registerPreview(i))}})}}),s0=async({disposables:t})=>{const e=await l.getApp(),i=e.themeManager;return{onChange:n=>{const s=i.on(n);return t.push(s),s},getCurrentMode(){return e.themeManager.getCurrentMode()},getColor(n){return i.getColor(n)},getHighlighterInfo(n){return i.getHighlighterInfo(n)}}};class Hr{constructor(e){this.config=e}get displayData(){return{icon:this.config.icon,name:this.config.name}}isDisabled(){if(typeof this.config.isDisabled=="function")return this.config.isDisabled()}export(){if(typeof this.config.export=="function")return this.config.export()}}const r0=async({disposables:t,isGlobal:e})=>{const i=await l.getApp();return{hasPacks(n){return i.project.hasPacks(n)},registerExporter(n){e?i.projectManager.forEachProject(s=>{t.push(s.exportProvider.register(new Hr(n)))}):t.push(i.project.exportProvider.register(new Hr(n)))},async compile(n){await i.project.compilerManager.start(n,"build")},async compileFiles(n){await i.project.updateFiles(n)},async unlinkFile(n){await i.project.unlinkFile(n)}}},a0="modulepreload",Vr={},o0="/",u0=function(e,i){return!i||i.length===0?e():Promise.all(i.map(n=>{if(n=`${o0}${n}`,n in Vr)return;Vr[n]=!0;const s=n.endsWith(".css"),r=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${r}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":a0,s||(a.as="script",a.crossOrigin=""),a.href=n,document.head.appendChild(a),s)return new Promise((o,c)=>{a.addEventListener("load",o),a.addEventListener("error",c)})})).then(()=>e())},c0=()=>u0(()=>import("./vendor.739914c9.js").then(function(t){return t.ag}),["assets/vendor.739914c9.js","assets/vendor.a8e7d3ec.css"]),l0=new Map([["@bridge/ui",bm],["@bridge/sidebar",Cm],["@bridge/notification",Fm],["@bridge/fs",Am],["@bridge/path",Dm],["@bridge/env",Em],["@bridge/project",r0],["@bridge/globals",Vm],["@bridge/utils",_m],["@bridge/file-importer",xm],["@bridge/fetch-definition",km],["@bridge/windows",Hm],["@bridge/toolbar",zm],["@bridge/compare-versions",Um],["@bridge/monaco",Gm],["@bridge/json5",Jm],["@bridge/com-mojang",qm],["@bridge/tab",i0],["@bridge/tab-actions",n0],["@bridge/theme",s0],["@bridge/three",c0]]);function d0(t=[],e,i=!1,n=l0){return async s=>{const r=n.get(s);if(r)return await r({uiStore:e,disposables:t,isGlobal:i})}}function p0(t=[],e,i=!1){return d0(t,e,i)}async function zr(t,e,i,n=!1){for await(const s of t.values())if(s.kind==="directory")await zr(s,e,i,n);else if(s.kind==="file"){const r=await s.getFile();await Ur(await r.text(),{uiStore:e,disposables:i,isGlobal:n,language:s.name.endsWith(".ts")?"typeScript":"javaScript"})}}function Ur(t,{uiStore:e,disposables:i,language:n,isGlobal:s=!1}){return Dt({async:!0,script:t,language:n,env:{require:p0(i,e,s)}})}function h0(t){const e=document.createElement("style");return e.innerHTML=t,document.head.appendChild(e),{dispose:()=>{document.head.contains(e)&&document.head.removeChild(e)}}}async function Gr(t,e,i,n="ui"){let s=[];try{s=await t.readdir(n,{withFileTypes:!0})}catch{}await Promise.all(s.map(r=>r.kind==="file"?m0(t,`${n}/${r.name}`,e,i):Gr(t,e,i,`${n}/${r.name}`)))}async function m0(t,e,i,n){if(Ee(e)!==".vue"){et(new Error(`NOT A VUE FILE: Provided UI file "${rt(e)}" is not a vue file!`));return}const s=new Promise(async(r,a)=>{var m,g,w,f;const{template:o,script:c,styles:d,errors:p}=Go.parseComponent(await(await t.readFile(e)).text());if(p.length>0)return p.forEach(D=>et(D)),a(p[0]);const h=j(j({name:rt(e)},await Ur((g=(m=c==null?void 0:c.content)==null?void 0:m.replace("export default","return"))!=null?g:"",{uiStore:i,disposables:n})),De.compile((w=o==null?void 0:o.content)!=null?w:'<p color="red">NO TEMPLATE DEFINED</p>'));h.components=Object.assign((f=h.components)!=null?f:{},Jo),d.forEach(D=>n.push(h0(D.content))),r(h)});i.set(e.replace("ui/","").split("/"),()=>s)}function f0(){let t={},e=N();return{get UI(){return t},set(i,n){let s=t;for(;i.length>1;){const a=i.shift();s[a]===void 0&&(s[a]={}),s=s[a]}const r=i.shift();s[rt(r,Ee(r))]=n},dispose(){t=null,e=null}}}class g0{constructor(e,i){u(this,"icon");u(this,"text");u(this,"color");this.parent=e,this.icon=this.parent.getTagIcon(i),this.text=i,this.color=this.parent.getTagColor(i)}getText(){return this.text}asSidebarElement(){return new Pt({id:this.text.toLowerCase(),text:this.text,color:this.color,icon:this.icon})}}const w0=t=>[new se({name:"windows.extensionStore.deleteExtension",icon:"mdi-delete",onTrigger:()=>{t.delete(),t.closeActionMenu()}}),new se({name:`windows.extensionStore.${t.isActive?"deactivateExtension":"activateExtension"}`,icon:t.isActive?"mdi-close":"mdi-check",onTrigger:()=>{t.setActive(!t.isActive),t.closeActionMenu()}})];class Jr{constructor(e,i,n=!1){u(this,"tags");u(this,"isLoading",!1);u(this,"_isInstalled",!1);u(this,"isUpdateAvailable",!1);u(this,"connected");u(this,"showMenu",!1);u(this,"isActive",!0);this.parent=e,this.config=i,this.isLocalOnly=n,this.tags=this.config.tags.map(s=>(this.parent.tags[s]||(this.parent.tags[s]=new g0(this.parent,s)),this.parent.tags[s])).sort((s,r)=>s.getText().localeCompare(r.getText()))}get author(){return this.config.author}get name(){return this.config.name}get version(){return this.config.version}get description(){return this.config.description}get icon(){return this.config.icon}get id(){return this.config.id}get releaseTimestamp(){var e;return(e=this.config.releaseTimestamp)!=null?e:Date.now()}get isInstalled(){return this._isInstalled}get displayVersion(){var e,i;return(i=(e=this.connected)==null?void 0:e.version)!=null?i:this.config.version}get actions(){return w0(this)}get extension(){return this.connected}get isGlobal(){var e,i;return(i=(e=this.connected)==null?void 0:e.isGlobal)!=null?i:!1}hasTag(e){return this.tags.includes(e)}async download(e){if(e!==void 0)return this.downloadExtension(e);const n=await new Gt("windows.pluginInstallLocation.title").actionManager;n.create({icon:"mdi-folder-multiple-outline",name:"actions.pluginInstallLocation.global.name",description:"actions.pluginInstallLocation.global.description",onTrigger:()=>{this.downloadExtension(!0)}}),n.create({icon:"mdi-folder-outline",name:"actions.pluginInstallLocation.local.name",description:"actions.pluginInstallLocation.local.description",onTrigger:()=>{this.downloadExtension(!1)}})}async downloadExtension(e,i=!1){var d,p;this.isLoading=!0;const n=await l.getApp(),s=await fetch(this.parent.getBaseUrl()+this.config.link).then(h=>h.arrayBuffer()),r=e?"extensions":`projects/${n.selectedProject}/.bridge/extensions`,a=e?n.extensionLoader:n.project.extensionLoader,o=r+`/${this.name.replace(/\s+/g,"")}.zip`;await n.fileSystem.writeFile(o,s);try{await n.fileSystem.unlink(o.replace(".zip",""))}catch{}for(const h of(d=this.config.dependencies)!=null?d:[]){const m=this.parent.getExtensionById(h);m&&(m.isInstalled?!m.isActive&&m.connected&&((p=m.connected)==null||p.activate()):await m.downloadExtension(e))}const c=await a.loadExtension(await n.fileSystem.getDirectoryHandle(r),await n.fileSystem.getFileHandle(o),!0);c&&this.setConnected(c),this.setInstalled(),this.isUpdateAvailable=!1,this.isLoading=!1,i||(c==null?void 0:c.contributesCompilerPlugins)&&new ue({title:"windows.extensionStore.compilerPluginDownload.title",description:"windows.extensionStore.compilerPluginDownload.description",cancelText:"general.later",confirmText:"windows.extensionStore.compilerPluginDownload.openConfig",onConfirm:async()=>{this.parent.close();const m=(await l.getApp()).project;m.config.get().compiler?await m.openFile(await m.fileSystem.getFileHandle("config.json")):await m.openFile(await m.fileSystem.getFileHandle(".bridge/compiler/default.json"))}}),l.audioManager.playAudio("confirmation_002.ogg",1)}async update(e=!0){!this.connected||(e&&this.parent.updateInstalled(this),this.connected.deactivate(),await this.connected.resetInstalled(),await this.downloadExtension(this.connected.isGlobal,!0))}delete(){var e;!this.connected||((e=this.connected)==null||e.delete(),this.parent.delete(this),this._isInstalled=!1)}setInstalled(){this._isInstalled=!0,this.parent.addInstalledExtension(this)}setIsUpdateAvailable(){this.isUpdateAvailable=!0}setConnected(e){var i;this.connected=e,this.isActive=(i=this.connected)==null?void 0:i.isActive}setActive(e){if(l.audioManager.playAudio("click5.ogg",1),!this.connected)throw new Error("No extension connected to ExtensionViewer");this.connected.setActive(e),this.isActive=e}closeActionMenu(){l.audioManager.playAudio("click5.ogg",1),this.showMenu=!1}}function y0(t,e){return xe(t,async i=>{const n=await i.getFile(),s=z.parse(await n.text());e.push(l.fileType.addPluginFileType(s))})}class v0{constructor(e,i){this.fileSystem=e,this.contributeFiles=i}async execute(e){const i=l.instance;for(const[n,s]of Object.entries(this.contributeFiles)){const r=e?i.projects:[i.project];if(await this.fileSystem.fileExists(n)){const a=await this.fileSystem.readFile(n);for(const o of r)await o.fileSystem.writeFile(s,await a.arrayBuffer())}else if(await this.fileSystem.directoryExists(n))await xe(await this.fileSystem.getDirectoryHandle(n),async(a,o)=>{for(const c of r){const d=await c.fileSystem.getFileHandle(Re(s,o),!0);await c.fileSystem.copyFileHandle(a,d)}});else{console.warn(`Failed to install files from "${n}": No such file or directory`);continue}}}}class C0{constructor(e,i,n,s=!1){u(this,"disposables",[]);u(this,"uiStore",f0());u(this,"fileSystem");u(this,"_compilerPlugins",{});u(this,"isLoaded",!1);u(this,"installFiles");var r,a;this.parent=e,this.manifest=i,this.baseDirectory=n,this._isGlobal=s,this.fileSystem=new Fe(this.baseDirectory),this.installFiles=new v0(this.fileSystem,(a=(r=i==null?void 0:i.contributeFiles)!=null?r:i.install)!=null?a:{})}get isActive(){var e;if(!this.parent.activeStatus)throw new Error("Accessed activeStatus property before the corresponding ActiveClass instance was initialized");return(e=this.parent.activeStatus)==null?void 0:e.isActive(this.manifest.id)}get compilerPlugins(){return this._compilerPlugins}get contributesCompilerPlugins(){var e,i,n;return Object.keys((n=(i=(e=this.manifest)==null?void 0:e.compiler)==null?void 0:i.plugins)!=null?n:{}).length>0}get version(){return this.manifest.version}get isGlobal(){return this._isGlobal}async activate(){var s,r,a,o;if(this.isLoaded)return;this.isLoaded=!0;const e=await l.getApp(),i=((s=await e.fileSystem.baseDirectory.resolve(this.baseDirectory))!=null?s:[]).join("/");for(const c of(r=this.manifest.dependencies)!=null?r:[])if(!await this.parent.activate(c)){et(new Error(`Failed to activate extension "${this.manifest.name}": Failed to load one of its dependencies`));return}for(const[c,d]of Object.entries((o=(a=this.manifest.compiler)==null?void 0:a.plugins)!=null?o:{}))this._compilerPlugins[c]=`${i}/${d}`;this.disposables.push(e.windows.createPreset.addPresets(`${i}/presets`));try{await xe(await this.baseDirectory.getDirectoryHandle("themes"),c=>e.themeManager.loadTheme(c,this.isGlobal,this.disposables))}catch{}try{await y0(await this.baseDirectory.getDirectoryHandle("fileDefinitions"),this.disposables)}catch{}let n;try{n=await this.baseDirectory.getDirectoryHandle("scripts")}catch{}if(await Promise.all([Gr(this.fileSystem,this.uiStore,this.disposables).then(async()=>n?await zr(n,this.uiStore,this.disposables,this.isGlobal):void 0)]),await this.fileSystem.directoryExists("snippets")){const c=await this.baseDirectory.getDirectoryHandle("snippets");this.isGlobal?this.disposables.push(e.projectManager.onActiveProject(async d=>{this.disposables.push(...await d.snippetLoader.loadFrom(c))})):this.disposables.push(...await e.project.snippetLoader.loadFrom(c))}l.eventSystem.dispatch("presetsChanged",null),!await this.fileSystem.fileExists(".installed")&&(await this.installFiles.execute(this.isGlobal),await this.fileSystem.writeFile(".installed",""))}async resetInstalled(){await this.fileSystem.unlink(".installed")}deactivate(){l.eventSystem.dispatch("presetsChanged",null),this.disposables.forEach(e=>e.dispose()),this.isLoaded=!1}async delete(){this.deactivate(),this.parent.deleteExtension(this.manifest.id)}async setActive(e){var i;e?await this.activate():this.deactivate(),await((i=this.parent.activeStatus)==null?void 0:i.setActive(this.manifest.id,e))}forStore(e){const i=new Jr(e,this.manifest,!0);return i.setInstalled(),i.setConnected(this),i}async installFilesToCurrentProject(){await this.installFiles.execute(!1)}}class b0 extends L{constructor(e,i){super();u(this,"inactiveExtensions",new Set);this.fileSystem=e,this.savePath=i,this.loadFile().finally(()=>this.dispatch())}async loadFile(){try{this.inactiveExtensions=new Set(await this.fileSystem.readJSON(this.savePath))}catch{}}async save(){await this.fileSystem.writeJSON(this.savePath,[...this.inactiveExtensions])}async setActive(e,i){i?this.inactiveExtensions.delete(e):this.inactiveExtensions.add(e),await this.save()}isActive(e){return!this.inactiveExtensions.has(e)}}class qr extends L{constructor(e,i,n,s=!1){super();u(this,"_extensions",new Map);u(this,"extensionPaths",new Map);u(this,"_loadedInstalledExtensions",new L(2));u(this,"activeStatus");this.fileSystem=e,this.loadExtensionsFrom=i,this.saveInactivePath=n,this.isGlobal=s}get extensions(){return this._extensions}async loadActiveExtensions(){this.activeStatus=new b0(this.fileSystem,this.saveInactivePath),await this.activeStatus.fired}async getInstalledExtensions(){return await this.fired,new Map(this.extensions.entries())}async loadExtensions(e=this.loadExtensionsFrom){const i=await this.fileSystem.getDirectoryHandle(e,{create:!0});await this.loadActiveExtensions();const n=[];for await(const s of i.values())s.name!==".DS_Store"&&n.push(this.loadExtension(i,s,!1));await Promise.all(n),this._loadedInstalledExtensions.dispatch();for(const[s,r]of this._extensions)r.isActive&&await r.activate();this.dispatch()}async loadExtension(e,i,n=!1){let s;return i.kind==="file"&&i.name.endsWith(".zip")?(s=await this.unzipExtension(i,await e.getDirectoryHandle(i.name.replace(".zip",""),{create:!0})),await e.removeEntry(i.name)):i.kind==="directory"&&(s=await this.loadManifest(i)),n&&s&&await s.activate(),s}async unzipExtension(e,i){const n=new Fe(i),s=await e.getFile(),r=await new Promise(async(a,o)=>Li(new Uint8Array(await s.arrayBuffer()),(c,d)=>{c?o(c):a(d)}));for(const a in r)if(!a.startsWith(".")){if(a.endsWith("/")){await n.mkdir(a.slice(0,-1),{recursive:!0});continue}await n.writeFile(a,r[a])}return await this.loadManifest(i)}async loadManifest(e){var r;let i;try{i=await e.getFileHandle("manifest.json")}catch{return}const s=await(await i.getFile()).text().then(a=>JSON.parse(a));if(s.id){const a=new C0(this,s,e,this.isGlobal);return this._extensions.set(s.id,a),this.extensionPaths.set(s.id,`${this.loadExtensionsFrom}/${e.name}`),a}else et(new Error(`Failed to load extension "${(r=s.name)!=null?r:e.name}": Invalid extension ID`))}async activate(e){const i=await this.extensions.get(e);return i?(i.isActive||await i.activate(),!0):(et(new Error(`Failed to activate extension with ID "${e}": Extension not found`)),!1)}deactiveAll(e=!1){for(const[i,n]of this._extensions)n.deactivate(),e&&this._extensions.delete(i)}disposeAll(){this.deactiveAll(!0),this.resetSignal()}deleteExtension(e){const i=this.extensionPaths.get(e);i&&(this.fileSystem.unlink(i),this.extensionPaths.delete(e),this.extensions.delete(e))}mapActive(e){const i=[];for(const n of this._extensions.values())n.isActive&&i.push(e(n));return i}}class Kr{constructor(e=[],i=!1){u(this,"events",new Map);u(this,"any",new ee);this.autoCleanEmptyDispatchers=i,e.forEach(n=>this.create(n))}create(e){if(this.events.get(e)!==void 0)throw new Error(`Dispatcher for event "${e}" is already defined.`);return this.events.set(e,new ee),{dispose:()=>{this.events.delete(e)}}}hasEvent(e){return this.events.has(e)}getDispatcher(e){const i=this.events.get(e);if(i===void 0)throw new Error(`No dispatcher defined for event "${e}".`);return i}dispatch(e,i){return this.any.dispatch([e,i]),this.getDispatcher(e).dispatch(i)}on(e,i){const n=this.getDispatcher(e),s=n.on(i);return{dispose:()=>{s.dispose(),this.autoCleanEmptyDispatchers&&!n.hasListeners&&this.events.delete(e)}}}off(e,i){const n=this.getDispatcher(e);n.off(i),this.autoCleanEmptyDispatchers&&!n.hasListeners&&this.events.delete(e)}once(e,i){const n=this.getDispatcher(e);n.once(s=>{i(s),this.autoCleanEmptyDispatchers&&!n.hasListeners&&this.events.delete(e)})}}class Qr extends Kr{constructor(){super([],!0)}dispatch(e,i){if(!this.hasEvent(e)){this.any.dispatch([e,i]);return}super.dispatch(e,i)}on(e,i){return this.hasEvent(e)||this.create(e),super.on(e,i)}}class F0{constructor(){u(this,"definitions",new Set);u(this,"processedFileTabs",new Set)}register(e){return this.definitions.add(e),this.processedFileTabs.forEach(i=>{e.isFor(i)&&i.addAction(new se({icon:e.icon,name:e.name,isDisabled:()=>{var n,s;return(s=(n=e.isDisabled)==null?void 0:n.call(e,i))!=null?s:!1},onTrigger:()=>e.trigger(i)}))}),{dispose:()=>{this.definitions.delete(e),this.processedFileTabs.forEach(i=>{e.isFor(i)&&(i.clearActions(),this.addTabActions(i))})}}}registerPreview(e){return this.register({icon:"mdi-play",name:e.name,isFor:i=>i instanceof Q&&i.getPath().startsWith(e.fileMatch),trigger:async i=>{var r,a;const n=await l.getApp(),s=await e.createPreview(n.project.inactiveTabSystem,i);!s||(s.isTemporary=!1,i.connectedTabs.push(s),(r=n.project.inactiveTabSystem)==null||r.add(s,!0),(a=n.project.inactiveTabSystem)==null||a.setActive(!0))}})}async addTabActions(e){this.processedFileTabs.add(e),e.onClose.on(()=>this.processedFileTabs.delete(e));for(const i of this.definitions)await i.isFor(e)&&e.addAction(new se({icon:i.icon,name:i.name,onTrigger:()=>i.trigger(e)}))}}class A0{constructor({name:e,description:i,fileTypes:n,locations:s,data:r,targetFormatVersion:a}){u(this,"name");u(this,"description");u(this,"fileTypes");u(this,"locations");u(this,"data");u(this,"minTargetFormatVersion");u(this,"maxTargetFormatVersion");this.name=e,this.description=i,this.fileTypes=new Set(n),this.locations=s!=null?s:[],this.data=r,this.minTargetFormatVersion=a==null?void 0:a.min,this.maxTargetFormatVersion=a==null?void 0:a.max}get displayData(){return{name:this.name,description:this.description}}get insertData(){return[this.name,this.data]}get insertText(){return typeof this.data=="string"?this.data:Array.isArray(this.data)?this.data.join(`
`):JSON.stringify(this.data,null,"	").slice(1,-1).replaceAll(`
	`,`
`).trim()}isValid(e,i,n){return(typeof e!="string"||(!this.minTargetFormatVersion||Ve.exports.compare(e,this.minTargetFormatVersion,">="))&&(!this.maxTargetFormatVersion||Ve.exports.compare(e,this.maxTargetFormatVersion,"<=")))&&this.fileTypes.has(i)&&(this.locations.length===0||this.locations.some(r=>n.some(a=>r===a||(r!==""?Ge(a,r):!1))))}}V.registerCompletionItemProvider("json",{provideCompletionItems:async(t,e)=>{var c;const i=await l.getApp(),n=un(t,e),s=(c=i.project.tabSystem)==null?void 0:c.selectedTab;if(!(s instanceof Q))return{suggestions:[]};const r=s.getFileType();let a;try{a=z.parse(t.getValue())}catch{a={}}const o=a.format_version||i.project.config.get().targetVersion||await ft();return{suggestions:i.project.snippetLoader.getSnippetsFor(o,r,[n]).map(d=>({kind:V.CompletionItemKind.Snippet,label:d.displayData.name,documentation:d.displayData.description,insertText:d.insertText,insertTextRules:V.CompletionItemInsertTextRule.InsertAsSnippet}))}}});const E0={provideCompletionItems:async(t,e)=>{var a;const i=await l.getApp(),n=(a=i.project.tabSystem)==null?void 0:a.selectedTab;if(!(n instanceof Q))return{suggestions:[]};const s=n.getFileType(),r=i.project.config.get().targetVersion||await ft();return{suggestions:i.project.snippetLoader.getSnippetsFor(r,s,[]).map(o=>({kind:V.CompletionItemKind.Snippet,label:o.displayData.name,documentation:o.displayData.description,insertText:o.insertText,insertTextRules:V.CompletionItemInsertTextRule.InsertAsSnippet}))}}};["mcfunction","molang","javascript","typescript"].forEach(t=>V.registerCompletionItemProvider(t,E0));class _0{constructor(e){u(this,"snippets",new Set);this.project=e}async activate(){const n=await(await(await l.getApp()).project.getCurrentDataPackage()).getDirectoryHandle("snippet",{create:!0});await this.loadFrom(n)}async loadFrom(e){const i=[];return await xe(e,async(n,s)=>{let r;try{r=z.parse(await n.getFile().then(a=>a.text()))}catch{console.error(`Invalid JSON within snippet "${s}"`);return}i.push(this.addSnippet(new A0(r)))}),i}async deactivate(){this.snippets.clear()}addSnippet(e){return this.snippets.add(e),{dispose:()=>{this.snippets.delete(e)}}}getSnippetsFor(e,i,n){return[...this.snippets].filter(s=>s.isValid(e,i,n))}}class x0{constructor(){u(this,"exports",new Set)}register(e){return this.exports.add(e),{dispose:()=>this.exports.delete(e)}}async getExporters(){return await Promise.all([...this.exports].map(async e=>W(j({},e.displayData),{isDisabled:await e.isDisabled(),onTrigger:()=>e.export()})))}}function D0(t){let e=t.map(s=>s.split("/").reverse());const i=e.map(()=>null),n=e.map(()=>0);if(!t.every(s=>s.split("/").reverse()[0]===t[0].split("/").reverse()[0]))throw new Error("All files must have the same name");for(;n.some((s,r)=>s<e[r].length);){const s=e.map((a,o)=>a[n[o]]);s.every(a=>a===s[0])||i.forEach((a,o)=>{a===null&&(i[o]=s[o])}),n.forEach((a,o)=>{a<e[o].length&&n[o]++})}return i}class Xr{constructor(e){u(this,"ready",new L);u(this,"pluginFileTypes",new Set);u(this,"fileTypes",[]);u(this,"lCacheFiles",{});u(this,"packSpiderFiles",[]);this.projectConfig=e}setProjectConfig(e){this.projectConfig=e}async setup(e){if(this.fileTypes.length>0)return;await e.fired;const i="data/packages/minecraftBedrock/fileDefinition",n=await e.getDirectoryHandle(i);for await(const s of n.values()){if(s.kind!=="file")return;let r=await e.readJSON(`${i}/${s.name}`).catch(()=>null);r&&this.fileTypes.push(r)}await this.loadLightningCache(e),await this.loadPackSpider(e),this.ready.dispatch()}addPluginFileType(e){return this.pluginFileTypes.add(e),{dispose:()=>this.pluginFileTypes.delete(e)}}getPluginFileTypes(){return[...this.pluginFileTypes.values()]}setPluginFileTypes(e=[]){this.pluginFileTypes.clear(),e.forEach(i=>this.pluginFileTypes.add(i))}get(e,i){var s,r,a;const n=e?Ee(e):null;for(const o of this.fileTypes){if(i!==void 0&&i===o.id)return o;if(!e)continue;const c=(s=o.detect)==null?void 0:s.fileExtensions,d=(r=o.detect)==null?void 0:r.scope,p=(a=o.detect)==null?void 0:a.matcher;if(!(c&&n&&!c.includes(n)))if(d){if(typeof d=="string"){if(e.startsWith(d))return o}else if(Array.isArray(d)&&d.some(h=>e.startsWith(h)))return o}else if(p){if(Ge(e,p))return o}else throw console.log(o),new Error('Invalid file definition, no "detect" properties')}}getGlobal(e,i){var s,r,a,o,c,d,p,h,m,g,w,f,D;const n=e?Ee(e):null;for(const A of this.fileTypes){if(i!==void 0&&i===A.id)return A;if(!e)continue;const _=((s=A.detect)==null?void 0:s.packType)===void 0?[]:Array.isArray((r=A.detect)==null?void 0:r.packType)?(a=A.detect)==null?void 0:a.packType:[(o=A.detect)==null?void 0:o.packType],C=(c=A.detect)==null?void 0:c.fileExtensions,S=!!((d=A.detect)==null?void 0:d.scope),T=Array.isArray((p=A.detect)==null?void 0:p.scope)?(h=A.detect)==null?void 0:h.scope:[(m=A.detect)==null?void 0:m.scope],$=!!((g=A.detect)==null?void 0:g.matcher),O=Array.isArray((w=A.detect)==null?void 0:w.matcher)?(f=A.detect)==null?void 0:f.matcher:[(D=A.detect)==null?void 0:D.matcher];if(!(C&&n&&!C.includes(n)))if(S){if(this.prefixMatchers(this.projectConfig,_,T).some(B=>e.startsWith(B)))return A}else if($){if(Ge(e,this.prefixMatchers(this.projectConfig,_,O)))return A}else throw console.log(A),new Error('Invalid file definition, no "detect" properties')}}prefixMatchers(e,i,n){if(!e)return[];if(i.length===0)return n.map(r=>e.getPackFilePath(void 0,r));const s=[];for(const r of i)for(const a of n)s.push(e.getPackFilePath(r,a));return s}getIds(){const e=[];for(const i of this.fileTypes)e.push(i.id);return e}async guessFolder(e){var a;const i=o=>{let c=Array.isArray(o)?o[0]:o;return c.endsWith("/")||(c+="/"),c},n=`.${e.name.split(".").pop()}`;for(const{detect:o={}}of this.fileTypes)if(!!o.scope&&((a=o.fileExtensions)==null?void 0:a.includes(n)))return i(o.scope);if(!e.name.endsWith(".json"))return null;const s=await e.getFile();let r;try{r=z.parse(await s.text())}catch{return null}for(const{type:o,detect:c}of this.fileTypes){if(typeof o=="string"&&o!=="json")continue;const{scope:d,fileContent:p}=c!=null?c:{};if(!(!d||!p)&&!!lp(r,p))return i(d)}return null}getId(e){var i,n;return(n=(i=this.getGlobal(e))==null?void 0:i.id)!=null?n:"unknown"}isJsonFile(e){var n,s;const i=(s=(n=this.getGlobal(e))==null?void 0:n.meta)==null?void 0:s.language;return i?i==="json":e.endsWith(".json")}getMonacoSchemaArray(){return this.fileTypes.map(({detect:e={},schema:i})=>({fileMatch:Array.isArray(e.matcher)?[...e.matcher]:[e.matcher],uri:i})).flat()}async loadLightningCache(e){for(const i of this.fileTypes){if(!i.lightningCache)continue;const n=`data/packages/minecraftBedrock/lightningCache/${i.lightningCache}`;if(i.lightningCache.endsWith(".json"))this.lCacheFiles[i.lightningCache]=await e.readJSON(n);else if(i.lightningCache.endsWith(".js"))this.lCacheFiles[i.lightningCache]=await e.readFile(n).then(s=>s.text());else throw new Error(`Invalid lightningCache file format: ${i.lightningCache}`)}}async getLightningCache(e){var n,s;const{lightningCache:i}=(n=this.getGlobal(e))!=null?n:{};return i?(s=this.lCacheFiles[i])!=null?s:[]:[]}async loadPackSpider(e){this.packSpiderFiles.push(...await Promise.all(this.fileTypes.map(({id:i,packSpider:n})=>{if(!!n)return e.readJSON(`data/packages/minecraftBedrock/packSpider/${n}`).then(s=>({id:i,packSpider:s}))}).filter(i=>i!==void 0)))}async getPackSpiderData(){return this.packSpiderFiles}}class k0{constructor(e,i,n){u(this,"recentFiles");u(this,"tabSystems");u(this,"_projectData");u(this,"packIndexer");u(this,"_fileSystem");u(this,"compilerManager",new Ip(this));u(this,"jsonDefaults",U(new qp(this)));u(this,"typeLoader");u(this,"config");u(this,"fileTypeLibrary");u(this,"extensionLoader");u(this,"fileChange",new Qr);u(this,"fileSave",new Qr);u(this,"tabActionProvider",new F0);u(this,"snippetLoader",new _0(this));u(this,"exportProvider",new x0);this.parent=e,this.app=i,this._baseDirectory=n,this._fileSystem=U(new Fe(n)),this.config=new gp(this._fileSystem,this),this.fileTypeLibrary=new Xr(this.config),this.packIndexer=new Ap(this,n),this.extensionLoader=new qr(i.fileSystem,`projects/${this.name}/.bridge/extensions`,`projects/${this.name}/.bridge/inactiveExtensions.json`),this.typeLoader=new Kp(this.app.dataLoader),this.recentFiles=ke(new wp(i,`projects/${this.name}/.bridge/recentFiles.json`)),this.fileChange.any.on(s=>l.eventSystem.dispatch("fileChange",s)),this.fileSave.any.on(s=>l.eventSystem.dispatch("fileSave",s)),this.tabSystems=[new yr(this),new yr(this,1)],setTimeout(()=>this.onCreate(),0)}get projectData(){return this._projectData}get name(){return this.baseDirectory.name}get tabSystem(){if(this.tabSystems[0].isActive)return this.tabSystems[0];if(this.tabSystems[1].isActive)return this.tabSystems[1]}get inactiveTabSystem(){if(!this.tabSystems[0].isActive)return this.tabSystems[0];if(!this.tabSystems[1].isActive)return this.tabSystems[1]}get baseDirectory(){return this._baseDirectory}get fileSystem(){return this._fileSystem}get isActiveProject(){return this.name===this.parent.selectedProject}async activate(e=!1){var n;if(l.fileType.setProjectConfig(this.config),this.parent.title.setProject(this.name),this.parent.activatedProject.dispatch(this),await this.fileTypeLibrary.setup(this.app.dataLoader),!e)for(const s of this.tabSystems)await s.activate();await this.extensionLoader.loadExtensions();const i=(n=this.tabSystem)==null?void 0:n.selectedTab;this.typeLoader.activate(i instanceof Q?i.getPath():void 0),await this.packIndexer.activate(e),await Promise.all([this.jsonDefaults.activate(),this.compilerManager.start("default","dev")]),this.snippetLoader.activate()}deactivate(e=!1){e||this.tabSystems.forEach(i=>i.deactivate()),this.typeLoader.deactivate(),this.packIndexer.deactivate(),this.compilerManager.deactivate(),this.jsonDefaults.deactivate(),this.extensionLoader.disposeAll(),this.snippetLoader.deactivate()}disposeWorkers(){this.packIndexer.dispose(),this.compilerManager.dispose()}dispose(){this.disposeWorkers(),this.tabSystems.forEach(e=>e.dispose()),this.extensionLoader.disposeAll()}async refresh(){this.app.packExplorer.refresh(),this.deactivate(!0),this.disposeWorkers(),await this.activate(!0)}async openFile(e,i={}){var n,s;for(const r of this.tabSystems){const a=await r.getTab(e);if(a)return((n=i.selectTab)!=null?n:!0)?r.select(a):void 0}(s=this.tabSystem)==null||s.open(e,i)}async closeFile(e){for(const i of this.tabSystems){const n=await i.getTab(e);n==null||n.close()}}async getFileTab(e){for(const i of this.tabSystems){const n=await i.getTab(e);if(n!==void 0)return n}}async getFileTabWithPath(e){for(const i of this.tabSystems){const n=await i.get(s=>s instanceof Q&&s.getPath()===e);if(n!==void 0)return n}}async openTab(e,i=!0){var n;for(const s of this.tabSystems)if(await s.hasTab(e)){i&&s.select(e);return}(n=this.tabSystem)==null||n.add(e,i)}updateTabFolders(){const e={};for(const i of this.tabSystems)i.tabs.forEach(n=>{if(!(n instanceof Q))return;const s=n.name;e[s]||(e[s]=[]),e[s].push(n)});for(const i in e){const n=e[i];if(n.length===1)n[0].setFolderName(null);else{const s=D0(n.map(r=>r.getPath()));n.forEach((r,a)=>r.setFolderName(s[a]))}}}absolutePath(e){return`projects/${this.name}/${e}`}async updateFile(e){try{await this.fileSystem.getFileHandle(e)}catch{return}await Promise.all([this.packIndexer.updateFile(e),this.compilerManager.updateFiles("default",[e])]),await this.jsonDefaults.updateDynamicSchemas(e)}async updateFiles(e){await Promise.all([this.packIndexer.updateFiles(e),this.compilerManager.updateFiles("default",e)]),await this.jsonDefaults.updateMultipleDynamicSchemas(e)}async unlinkFile(e){await this.packIndexer.unlink(e),await this.compilerManager.unlink(e),await this.fileSystem.unlink(e)}async updateChangedFiles(){this.packIndexer.deactivate(),this.compilerManager.deactivate(),await this.packIndexer.activate(!0),await this.compilerManager.start("default","dev")}async getFileFromDiskOrTab(e){const i=await this.getFileTabWithPath(e);return i&&i instanceof Q?await i.getFile():await this.fileSystem.readFile(e)}setActiveTabSystem(e,i){this.tabSystems.forEach(n=>e!==n?n.setActive(i,!1):void 0)}hasPacks(e){var i;for(const n of e)if(!((i=this._projectData.contains)==null?void 0:i.some(({id:s})=>s===n)))return!1;return!0}getPacks(){var e;return((e=this._projectData.contains)!=null?e:[]).map(i=>i.id)}addPack(e){this._projectData.contains.push(e)}getFilePath(e,i){return this.config.getPackFilePath(e,i)}isFileWithinAnyPack(e){return this.getPacks().map(i=>this.config.getPackFilePath(i)).some(i=>e.startsWith(i))}isFileWithinProject(e){return e.startsWith(`projects/${this.name}/`)||this.isFileWithinAnyPack(e)}async loadProject(){await this.config.setup(),X(this,"_projectData",W(j({},this.config.get()),{path:this.name,name:this.name,imgSrc:await yp(this,this.app.fileSystem),contains:[]})),await Cp(this.app,this).then(e=>X(this._projectData,"contains",e.sort((i,n)=>i.id.localeCompare(n.id))))}async recompile(e=!0){e&&this.compilerManager.dispose(),e&&this.isActiveProject?this.compilerManager.start("default","dev",!0):await this.fileSystem.writeFile(".bridge/.restartDevServer","")}}function Zr(t){if(t["minecraft:geometry"])return t;const e=Object.entries(t).filter(([n,s])=>typeof s!="string"),i=[];for(const[n,s]of e)i.push({description:{identifier:n,texture_width:s.texturewidth,texture_height:s.textureheight},bones:s.bones});return{format_version:"1.12.0","minecraft:geometry":i}}class En extends ee{constructor(e,i){super();u(this,"fileContent");u(this,"disposable");u(this,"children",[]);u(this,"ready",new L);this.app=e,this.filePath=i,this.activate(),e.project.getFileFromDiskOrTab(i).then(async n=>{await this.onFileChange(n),await this.setup(n),this.ready.dispatch()})}async setup(e){}async activate(){this.disposable===void 0&&(this.disposable=this.app.project.fileChange.on(this.filePath,e=>this.onFileChange(e)))}async requestFile(e){return await this.onFileChange(e),new Promise(i=>{this.once(n=>i(n))})}async compileFile(e){await this.app.project.compilerManager.fired;const[i,n]=await this.app.project.compilerManager.compileWithFile(this.filePath,e);return this.children.forEach(s=>s.dispose()),this.children=[],i.forEach(s=>{const r=new S0(this.app,s);this.children.push(r),r.on(()=>this.onFileChange(e))}),new File([n],e.name)}async onFileChange(e){this.dispatch(await this.compileFile(e))}async getFile(){return this.compileFile(await this.app.project.getFileFromDiskOrTab(this.filePath))}dispose(){var e;(e=this.disposable)==null||e.dispose(),this.disposable=void 0,this.children.forEach(i=>i.dispose())}}class S0 extends ee{constructor(e,i){super();u(this,"disposable");this.app=e,this.filePath=i,this.activate()}async activate(){this.disposable===void 0&&(this.disposable=this.app.project.fileSave.on(this.filePath,e=>this.onFileChange(e)))}async onFileChange(e){this.dispatch()}dispose(){var e;(e=this.disposable)==null||e.dispose(),this.disposable=void 0}}class Kt extends En{constructor(e,i){super(e,i);this.ready.on(()=>{this.on(n=>this.onChange(n))})}async setup(e){return await this.onChange(await this.compileFile(e),!0)}}class B0 extends Kt{constructor(e,i,n){super(e.app,i);u(this,"geometryJson",{});u(this,"selected");this.parent=e,this.includedGeometryIdentifiers=n}select(e){this.selected=e}async onChange(e,i=!1){try{this.geometryJson=Zr(z.parse(await e.text())),i||this.parent.onChange()}catch{}}get includedGeometries(){var e,i,n,s,r;return this.includedGeometryIdentifiers===void 0?(i=(e=this.geometryJson)==null?void 0:e["minecraft:geometry"])!=null?i:[]:(r=(s=(n=this.geometryJson)==null?void 0:n["minecraft:geometry"])==null?void 0:s.filter(({description:a})=>!this.includedGeometryIdentifiers.includes(a.identifier)))!=null?r:[]}get identifiers(){return this.includedGeometries.map(({description:e})=>e.identifier)}get geometry(){return this.includedGeometries.find(({description:e})=>e.identifier===this.selected)}get fallbackGeometry(){return this.includedGeometries[0]}}class j0 extends Kt{constructor(e,i,n){super(e.app,i);u(this,"animationJson",{});this.parent=e,this.includedAnimationIdentifiers=n}async onChange(e,i=!1){try{this.animationJson=z.parse(await e.text()),i||this.parent.onChange()}catch{}}get includedAnimations(){var e,i;return this.includedAnimationIdentifiers===void 0?Object.entries((i=(e=this.animationJson)==null?void 0:e.animations)!=null?i:{}):Object.entries(this.animationJson.animations).filter(([n,{description:s}])=>!this.includedAnimationIdentifiers.includes(s.identifier))}get identifiers(){return this.includedAnimations.map(([e])=>e)}}class T0 extends Kt{constructor(e,i,n){super(e.app,n);u(this,"particleData",{});this.parent=e,this.shortName=i}async onChange(e,i=!1){try{this.particleData=z.parse(await e.text()),i||this.parent.onChange()}catch{}}get identifier(){var e,i,n;return(n=(i=(e=this.particleData)==null?void 0:e.particle_effect)==null?void 0:i.description)==null?void 0:n.identifier}get json(){return this.particleData}}class P0 extends Kt{constructor(e,i){super(e.app,i);u(this,"entityData",{});this.parent=e}async onChange(e,i=!1){try{this.entityData=z.parse(await e.text()),i||this.parent.onChange()}catch{}}findComponent(e){const i=[],n=r=>i.push(r);return[`*/components/${e}`,`*/component_groups/*/${e}`].forEach(r=>zt(r,this.entityData,n)),i}getSeatBoxHelpers(){var n;const e=this.findComponent("minecraft:rideable"),i={x:16*.8,y:16*1.8,z:16*.8};return(n=e.map(s=>{var r;return(r=s==null?void 0:s.seats)!=null?r:[]}).flat().map(s=>s==null?void 0:s.position).filter(s=>Array.isArray(s)&&typeof s[0]=="number"&&typeof s[1]=="number"&&typeof s[2]=="number"))==null?void 0:n.map(s=>({color:"#ff0000",position:{x:s[0]*-16,y:s[1]*16,z:s[2]*-16},size:i}))}getCollisionBoxes(){return this.findComponent("minecraft:collision_box").filter(e=>typeof(e==null?void 0:e.width)=="number"&&typeof(e==null?void 0:e.height)=="number").map(e=>({color:"#ffff00",position:{x:0,y:0,z:0},size:{x:e.width*16,y:e.height*16,z:e.width*16}}))}getHitboxes(){return this.findComponent("minecraft:custom_hit_test").map(e=>{var i;return(i=e==null?void 0:e.hitboxes)!=null?i:[]}).flat().filter(e=>typeof(e==null?void 0:e.width)=="number"&&typeof(e==null?void 0:e.height)=="number"&&((e==null?void 0:e.pivot)===void 0||Array.isArray(e==null?void 0:e.pivot)&&typeof e.pivot[0]=="number"&&typeof e.pivot[1]=="number"&&typeof e.pivot[2]=="number")).map(e=>{var i,n,s,r,a,o;return{color:"#0000ff",position:{x:((n=(i=e==null?void 0:e.pivot)==null?void 0:i[0])!=null?n:0)*-16,y:(((r=(s=e==null?void 0:e.pivot)==null?void 0:s[1])!=null?r:0)-e.height/2)*16,z:((o=(a=e==null?void 0:e.pivot)==null?void 0:a[2])!=null?o:0)*-16},size:{x:e.width*16,y:e.height*16,z:e.width*16}}})}}class Yr extends ee{constructor(e,i){super();u(this,"_geometries",[]);u(this,"_animations",[]);u(this,"readyPromises",[]);u(this,"_currentTexturePath");u(this,"_runningAnimations",new Set);u(this,"particleEffects",[]);u(this,"_serverEntity");this.app=e,this.renderData=i,this._currentTexturePath=this.texturePaths[0]}get ready(){return Promise.all(this.readyPromises)}update(e){this.renderData=e}createGeometry(e,i){const n=new B0(this,e,i);this._geometries.push(n),this.readyPromises.push(n.ready.fired)}createAnimation(e,i){const n=new j0(this,e,i);this._animations.push(n),this.readyPromises.push(n.ready.fired)}createParticle(e,i){const n=new T0(this,e,i);this.particleEffects.push(n),this.readyPromises.push(n.ready.fired)}addServerEntity(e){this._serverEntity=new P0(this,e),this.readyPromises.push(this._serverEntity.ready.fired)}selectGeometry(e){for(const i of this._geometries)if(i.identifiers.includes(e))return i.select(e);throw new Error(`Failed to find geometry with ID "${e}"`)}selectTexturePath(e){this._currentTexturePath=e}onChange(){this.dispatch()}get identifier(){return this.renderData.identifier}get texturePaths(){return this.renderData.texturePaths}get geometryIdentifiers(){return this._geometries.map(e=>e.identifiers).flat()}get animations(){return this._animations.map(e=>e.includedAnimations).flat().filter(([e])=>this.renderData.connectedAnimations.has(e))}get runningAnimations(){return this._runningAnimations}get modelData(){for(const e of this._geometries){let i=e.geometry;if(i)return i}return this._geometries[0].fallbackGeometry}get currentTexturePath(){return this._currentTexturePath}get particles(){return this.particleEffects.map(e=>[e.shortName,e.json])}get serverEntity(){return this._serverEntity}activate(){this._geometries.forEach(e=>e.activate())}dispose(){var e;this._geometries.forEach(i=>i.dispose()),this._animations.forEach(i=>i.dispose()),(e=this._serverEntity)==null||e.dispose()}}var $0=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mb-6 flex justify-center align-start path-container"},[i("v-icon",{staticClass:"mr-1",attrs:{"x-large":"",color:"primary"}},[t._v("mdi-folder-outline")]),t.mode==="view"?[i("v-btn",{staticClass:"mr-2",attrs:{text:"",small:""},on:{click:function(n){t.mode="edit"}}},[i("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v(" "+t._s(t.path.length===0?"mdi-plus":"mdi-pencil-outline")+" ")]),t._v(" "+t._s(t.path.length===0?"Add subfolder":"Edit subfolders")+" ")],1),i("span",{on:{dblclick:function(n){t.mode="edit"}}},t._l(t.path.split("/"),function(n,s){return i("span",{key:s,staticClass:"mr-1"},[t._v(" "+t._s(n)+"/ ")])}),0)]:i("v-text-field",{staticStyle:{display:"inline-block",width:"calc(100% - 44px)","margin-top":"0","padding-top":"0"},attrs:{rules:Object.values(t.rules),dense:""},on:{keydown:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.tryToViewMode()},blur:function(n){return t.tryToViewMode()}},model:{value:t.editedPath,callback:function(n){t.editedPath=n},expression:"editedPath"}})],2)},M0=[];const O0={alphanumeric:t=>t.match(/^[a-zA-Z0-9_\/]*$/)!==null,noEmptyFolderNames:t=>t.match(/\/\//g)===null},R0={name:"PresetPath",props:{value:String},data:()=>({mode:"view",editedPath:"",validationText:"",rules:Object.fromEntries(Object.entries(O0).map(([t,e])=>[t,i=>e(i)||l.instance.locales.translate(`windows.createPreset.validationRule.${t}`)]))}),mounted(){this.mode="view",this.editedPath=this.value,this.sanitizeEditedPath()},computed:{path(){return this.value.substring(0,this.value.length-1)}},methods:{sanitizeEditedPath(){this.editedPath=this.editedPath.replaceAll("\\","/").replace(/\s+/g,"_"),!this.editedPath.endsWith("/")&&this.editedPath!==""&&(this.editedPath=this.editedPath+"/")},isPathValid(){return Object.values(this.rules).map(t=>t(this.editedPath)).find(t=>typeof t=="string")===void 0},tryToViewMode(){this.isPathValid()&&(this.mode="view")}},watch:{value(){this.editedPath=this.value,this.sanitizeEditedPath()},mode(){this.mode==="view"&&(this.sanitizeEditedPath(),this.$emit("input",this.editedPath))},editedPath(){this.validationText=Object.values(this.rules).map(t=>t(this.editedPath)).find(t=>typeof t=="string")}}},ea={};var I0=E(R0,$0,M0,!1,W0,"391b64c8",null,null);function W0(t){for(let e in ea)this[e]=ea[e]}var _n=function(){return I0.exports}(),N0=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.shouldRender?i("BaseWindow",{attrs:{windowTitle:t.$data.name,isVisible:t.isVisible,hasMaximizeButton:!1,isFullscreen:!1,isPersistent:!t.$data.isClosable,hasCloseButton:!1,width:440,height:400},on:{closeWindow:t.onClose},scopedSlots:t._u([{key:"default",fn:function(){return t._l(t.$data.options,function(n,s){return i("v-checkbox",{key:s,attrs:{label:n.name,"hide-details":""},model:{value:n.isSelected,callback:function(r){t.$set(n,"isSelected",r)},expression:"option.isSelected"}})})},proxy:!0},{key:"actions",fn:function(){return[i("v-spacer"),i("v-btn",{attrs:{color:"primary"},on:{click:t.onClose}},[i("v-icon",[t._v("mdi-check")]),i("span",[t._v(" "+t._s(t.t("general.confirm"))+" ")])],1)]},proxy:!0}],null,!1,3783976996)}):t._e()},L0=[];const H0={name:"FilePathWindow",mixins:[P],components:{BaseWindow:de,PresetPath:_n},props:["currentWindow"],data(){return this.currentWindow},methods:{onClose(){this.currentWindow.close(this.$data.options.filter(({isSelected:t})=>t).map(({name:t})=>t))}}},ta={};var V0=E(H0,N0,L0,!1,z0,null,null,null);function z0(t){for(let e in ta)this[e]=ta[e]}var U0=function(){return V0.exports}();class G0 extends ne{constructor(e){super(U0,!0,!1);this.config=e,this.defineWindow(),this.open()}get name(){return this.config.name}get options(){return this.config.options}get isClosable(){return this.config.isClosable}}async function Si(t,e,i){const n=await l.getApp(),s=mi({icon:"mdi-export",color:"success",textColor:"white",message:"general.successfulExport.title",isVisible:!0,onClick:()=>{G?ia(rt(t),e):new ae({description:`[${n.locales.translate("general.successfulExport.description")}: "${t}"]`}),s.dispose()}});G||await i.writeFile(t,e)}function ia(t,e){const i=URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.download=t,n.href=i,n.click(),URL.revokeObjectURL(i)}function J0(t){return new Promise(e=>setTimeout(()=>e(),t))}class na extends An{constructor(e,i){super(e,i);u(this,"winterskyScene",U(Object.freeze(new Wt.Scene({fetchTexture:async e=>{const i=await l.getApp();try{return await kt(e.particle_texture_path,i.project.fileSystem)}catch{}}}))));u(this,"model");u(this,"_renderContainer");u(this,"boxHelperDisposables",[]);this.winterskyScene.global_options.loop_mode="once",this.winterskyScene.global_options.tick_rate=60,this.winterskyScene.global_options.max_emitter_particles=1e3,this.winterskyScene.global_options.scale=16,this.setupComplete.once(()=>this.scene.add(this.winterskyScene.space))}get renderContainer(){if(!this._renderContainer)throw new Error("Preview.renderContainer was not defined yet");return this._renderContainer}get icon(){return"mdi-cube-outline"}get iconColor(){return"primary"}async onActivate(){var e;await super.onActivate(),(e=this._renderContainer)==null||e.activate()}onCreate(){this.registerActions()}registerActions(){this.actions=[],this.addAction(new se({icon:"mdi-refresh",name:"general.reload",onTrigger:()=>this.reload()}),new se({icon:"mdi-image-outline",name:"fileType.texture",isDisabled:()=>{var e,i,n;return((n=(i=(e=this._renderContainer)==null?void 0:e.texturePaths)==null?void 0:i.length)!=null?n:0)<=1},onTrigger:async()=>{const e=this.renderContainer.texturePaths,n=await new $t({name:"fileType.texture",isClosable:!1,options:e,default:this.renderContainer.currentTexturePath}).fired;this.renderContainer.selectTexturePath(n),this.createModel()}}),new se({icon:"mdi-cube-outline",name:"fileType.geometry",isDisabled:()=>{var e,i,n;return((n=(i=(e=this._renderContainer)==null?void 0:e.geometryIdentifiers)==null?void 0:i.length)!=null?n:0)<=1},onTrigger:async()=>{const e=this.renderContainer.geometryIdentifiers,n=await new $t({name:"fileType.geometry",isClosable:!1,options:e,default:e[0]}).fired;this.renderContainer.selectGeometry(n),this.createModel()}}),new se({icon:"mdi-movie-open-outline",name:"fileType.clientAnimation",isDisabled:()=>{var e,i,n;return((n=(i=(e=this._renderContainer)==null?void 0:e.animations)==null?void 0:i.length)!=null?n:0)==0},onTrigger:async()=>{var s;const e=this.renderContainer.animations,n=await new G0({name:"fileType.clientAnimation",options:e.map(([r])=>({name:r,isSelected:this.renderContainer.runningAnimations.has(r)}))}).fired;(s=this.model)==null||s.animator.pauseAll(),this.renderContainer.runningAnimations.clear(),n.forEach(r=>{this.renderContainer.runningAnimations.add(r)}),this.createModel()}}),new se({icon:"mdi-collage",name:"[Asset Preview]",onTrigger:()=>{this.renderAssetPreview()}}))}onDestroy(){var e;(e=this._renderContainer)==null||e.dispose(),super.onDestroy()}onChange(){}async createModel(){var n;if(!this._renderContainer)return;const e=await l.getApp();if(this.model&&((n=this.scene)==null||n.remove(this.model.getGroup()),this.model.animator.disposeAnimations(),this.boxHelperDisposables.forEach(s=>s.dispose())),this.registerActions(),!this.renderContainer.currentTexturePath)return;this.model=U(new qo(this.renderContainer.modelData,await kt(this.renderContainer.currentTexturePath,e.project.fileSystem))),await this.model.create(),this.scene.add(this.model.getGroup()),this.model.animator.setupWintersky(this.winterskyScene),this.renderContainer.particles.forEach(([s,r])=>{var a;!s||(a=this.model)==null||a.animator.addEmitter(s,new Wt.Config(this.winterskyScene,r))});for(const[s,r]of this.renderContainer.animations)this.model.animator.addAnimation(s,r);this.renderContainer.runningAnimations.forEach(s=>{var r;return(r=this.model)==null?void 0:r.animator.play(s)});const i=this.renderContainer.serverEntity;i&&(this.boxHelperDisposables.push(),this.createOutlineBoxes([...i.getHitboxes(),...i.getCollisionBoxes(),...i.getSeatBoxHelpers()])),this.requestRendering(),setTimeout(()=>{this.requestRendering()},100)}createOutlineBoxes(e){this.boxHelperDisposables=e.map(i=>this.model.createOutlineBox(i.color,i.position,i.size))}render(e=!0){this.winterskyScene.updateFacingRotation(this.camera),super.render(),e&&this.model&&this.model.shouldTick&&(this.model.tick(),this.isActive&&this.requestRendering())}async close(){var i;const e=await super.close();return e&&((i=this._renderContainer)==null||i.dispose(),this._renderContainer=void 0),e}async renderAssetPreview(e=1.5,i=4,n=1184274){if(!this._renderContainer||!this.renderContainer.currentTexturePath)return;const s=this.parent.project.fileSystem,r=document.createElement("canvas");r.width=500*i,r.height=500*i;const a=new Ko(r,this.renderContainer.modelData,await s.loadFileHandleAsDataUrl(await s.getFileHandle(this.renderContainer.currentTexturePath)),{antialias:!0,height:500*i,width:500*i});await a.loadedModel,a.scene.background=new Ni(n);const o=document.createElement("canvas");o.width=1400*i,o.height=600*i;const c=o.getContext("2d");if(!c)return;c.imageSmoothingEnabled=!1;const d=a.getModel().getGroup();a.positionCamera(e),a.requestRendering(),await J0(100);const p=[];for(let C=0;C<5;C++)C===1&&d.rotateY(Math.PI/4),C!==0&&d.rotateY(Math.PI/2),a.requestRendering(!0),p.push(r.toDataURL("image/png"));const m=new Qo().setFromObject(d).getCenter(new Xo);d.position.setY(m.y),d.rotation.set(.25*Math.PI,1.75*Math.PI,.75*Math.PI),a.positionCamera(e,!1),a.requestRendering(!0),p.push(r.toDataURL("image/png")),d.position.setY(0),d.rotation.set(0,1.75*Math.PI,1.75*Math.PI),a.positionCamera(e,!1),a.requestRendering(!0),p.push(r.toDataURL("image/png"));const[g,...w]=await Promise.all([this.loadImageFromDisk(this.renderContainer.currentTexturePath),...p.map(C=>this.loadImage(C))]);c.fillStyle="#"+n.toString(16),c.fillRect(0,0,o.width,o.height),c.drawImage(w[0],0,100*i,400*i,400*i);for(let C=0;C<3;C++)c.drawImage(w[C+1],650*i,C*200*i,200*i,200*i);for(let C=0;C<3;C++)c.drawImage(w[C+4],1050*i,C*200*i,200*i,200*i);console.log(g.width,g.height);const f=(g.width>g.height?0:(g.height-g.width)/g.width/2)*200,D=(g.height>g.width?0:(g.width-g.height)/g.height/2)*200,A=g.width>g.height?200:g.width/g.height*200,_=g.height>g.width?200:g.height/g.width*200;console.log(f,D,A,_),c.drawImage(g,(400+f)*i,(200+D)*i,A*i,_*i),c.fillStyle="#ffffff",c.font=30*i+"px Arial",c.fillText(this.tab.getFileHandle().name.split(".").shift(),20*i,50*i),await new Promise(C=>{o.toBlob(async S=>{!S||(await Si(`previews/${this.tab.getFileHandle().name.split(".").shift()}.png`,new Uint8Array(await S.arrayBuffer()),this.parent.project.fileSystem),C())})}),a.dispose()}loadImage(e){return new Promise(async(i,n)=>{const s=new Image;s.addEventListener("load",()=>i(s)),s.src=e})}async loadImageFromDisk(e){const i=this.parent.project.fileSystem;return await this.loadImage(await i.loadFileHandleAsDataUrl(await i.getFileHandle(e)))}}function sa(t){return Array.isArray(t)&&t.length===3&&typeof t[0]=="number"&&typeof t[1]=="number"&&typeof t[2]=="number"}class ra extends na{constructor(e,i,n){super(i,n);u(this,"blockWatcher");u(this,"blockJson",{});u(this,"previewOptions",{});this.blockFilePath=e,this.blockWatcher=new En(l.instance,e),this.blockWatcher.on(s=>this.reload(s))}setPreviewOptions({loadComponents:e=!0}){this.previewOptions={loadComponents:e}}async close(){const e=await super.close();return e&&this.blockWatcher.dispose(),e}async reload(e){var i;e||(e=await this.blockWatcher.getFile()),(i=this._renderContainer)==null||i.dispose(),this._renderContainer=void 0,this.loadRenderContainer(e)}async loadRenderContainer(e){var d,p,h,m,g,w;if(this._renderContainer!==void 0)return;await this.setupComplete;const i=await l.getApp();await i.project.packIndexer.fired;const n=i.project.packIndexer.service;if(!n)return;try{this.blockJson=Object.freeze((p=(d=z.parse(await e.text()))==null?void 0:d["minecraft:block"])!=null?p:{})}catch{return}const s=await n.getCacheDataFor("block",this.blockFilePath),r=(h=s==null?void 0:s.texture)!=null?h:[];let a;try{a=(g=(m=z.parse(await i.project.getFileFromDiskOrTab("RP/textures/terrain_texture.json").then(f=>f.text())))==null?void 0:m.texture_data)!=null?g:{}}catch{return}const o=await Promise.all(r.map(f=>{var D,A;return(A=(D=a[f])==null?void 0:D.textures)!=null?A:[]}).flat().map(f=>Us(i.project.fileSystem,`RP/${f}`,[".tga",".png",".jpg",".jpeg"])));if(o.length===0)return;const c=await n.find("geometry","identifier",(w=s.geometryIdentifier)!=null?w:[]);c.length!==0&&(this._renderContainer=U(new Yr(i,{identifier:s.geometryIdentifier[0],texturePaths:o.filter(f=>f!==void 0),connectedAnimations:new Set([])})),this._renderContainer.createGeometry(c[0]),this.renderContainer.ready.then(()=>{this.createModel()}),this._renderContainer.on(()=>{this.createModel()}))}async createModel(){await super.createModel(),this.previewOptions.loadComponents&&this.createOutlineBoxes([...this.loadCollisionBoxes("entity"),...this.loadCollisionBoxes("pick")])}findComponents(e,i){const n=[],s=a=>n.push(a);return[`components/${i}`,`permutations/*/components/${i}`].forEach(a=>zt(a,e,s)),n}loadCollisionBoxes(e){return this.findComponents(this.blockJson,`minecraft:${e}_collision`).filter(i=>sa(i.origin)&&sa(i.size)).map(({origin:i,size:n})=>({color:e==="entity"?"#ffff00":"#0000ff",position:{x:i[0]+n[0]/2,y:i[1],z:i[2]+n[2]/2},size:{x:n[0],y:n[1],z:n[2]}}))}}class xn extends na{constructor(e,i,n){super(i,n);u(this,"previewOptions",{});u(this,"clientEntityWatcher");this.clientEntityFilePath=e,this.clientEntityWatcher=new En(l.instance,e),this.clientEntityWatcher.on(s=>this.reload(s))}setPreviewOptions(e){this.previewOptions=e}async close(){const e=await super.close();return e&&this.clientEntityWatcher.dispose(),e}async reload(e){var n,s;e||(e=await this.clientEntityWatcher.getFile());const i=(n=this._renderContainer)==null?void 0:n.runningAnimations;(s=this._renderContainer)==null||s.dispose(),this._renderContainer=void 0,this.loadRenderContainer(e,i)}async loadRenderContainer(e,i=new Set){var h,m,g,w,f,D,A,_;if(this._renderContainer!==void 0)return;await this.setupComplete;const n=await l.getApp(),s=n.project.packIndexer.service;if(!s)return;let r;try{r=(m=(h=z.parse(await e.text()))==null?void 0:h["minecraft:client_entity"])!=null?m:{}}catch{return}const a=await s.getCacheDataFor("clientEntity",this.clientEntityFilePath),o=a.texturePath,c=await s.find("clientAnimation","identifier",(g=a.animationIdentifier)!=null?g:[],!0),d=await s.find("geometry","identifier",(w=a.geometryIdentifier)!=null?w:[]);if(d.length===0){new ae({description:"preview.noGeometry"}),this.close();return}const p=await Promise.all(Object.entries((D=(f=r==null?void 0:r.description)==null?void 0:f.particle_effects)!=null?D:{}).map(async([C,S])=>[C,(await s.find("particle","identifier",[S],!1))[0]]));if(this._renderContainer=U(new Yr(n,{identifier:a.geometryIdentifier[0],texturePaths:o,connectedAnimations:new Set(a.animationIdentifier)})),this._renderContainer.createGeometry(d[0]),c.forEach(C=>this._renderContainer.createAnimation(C)),p.forEach(([C,S],T)=>{!S||this._renderContainer.createParticle(C,S)}),i&&i.forEach(C=>{var S;return(S=this._renderContainer)==null?void 0:S.runningAnimations.add(C)}),this.previewOptions.loadServerEntity&&((A=r==null?void 0:r.description)==null?void 0:A.identifier)){const C=await s.find("entity","identifier",[(_=r==null?void 0:r.description)==null?void 0:_.identifier],!1);C.length>0&&this._renderContainer.addServerEntity(C[0])}this.renderContainer.ready.then(()=>{this.createModel()}),this._renderContainer.on(()=>{this.createModel()})}}async function q0(t,e){const i=await l.getApp();await i.project.packIndexer.fired;const n=i.project.packIndexer.service,r=await(await e.getFile()).text();let a;try{a=Zr(z.parse(r))}catch{return}const o=a["minecraft:geometry"].map(p=>{var h;return(h=p==null?void 0:p.description)==null?void 0:h.identifier}).filter(p=>p!==void 0);let c=o[0];if(o.length>1&&(c=await new $t({default:o[0],options:o,name:"preview.chooseGeometry",isClosable:!1}).fired),!c){new ae({description:"preview.noGeometry"});return}const d=await n.find("clientEntity","geometryIdentifier",[c]);if(d.length===0){const p=await n.find("block","geometryIdentifier",[c]);if(p.length>0){const h=new ra(p[0],e,t);return h.setPreviewOptions({loadComponents:!1}),h}new ae({description:"preview.failedClientEntityLoad"});return}return new xn(d[0],e,t)}async function K0(t,e){return new xn(e.getPath(),e,t)}async function Q0(t,e){var d,p,h;const i=await l.getApp();await i.project.packIndexer.fired;const n=i.project.packIndexer.service,r=await(await e.getFile()).text();let a;try{a=(p=(d=z.parse(r))==null?void 0:d["minecraft:entity"])!=null?p:{}}catch{new ae({description:"preview.invalidEntity"});return}const o=await n.find("clientEntity","identifier",[(h=a==null?void 0:a.description)==null?void 0:h.identifier]);if(o.length===0){new ae({description:"preview.failedClientEntityLoad"});return}const c=new xn(o[0],e,t);return c.setPreviewOptions({loadServerEntity:!0}),c}class X0 extends Kt{constructor(e,i){super(e.tabSystem.app,i);this.tab=e}onChange(e){this.tab.onChange(e)}}class Z0 extends An{constructor(e,i){super(e,i);u(this,"emitter");u(this,"config");u(this,"fileWatcher");u(this,"isReloadingDone",new L);u(this,"wintersky",U(new Wt.Scene({fetchTexture:async e=>{const i=await l.getApp();try{return await kt(`RP/${e.particle_texture_path}.png`,i.project.fileSystem)}catch{}}})));this.setupComplete.once(()=>{this.scene.add(new Zo(16)),this.wintersky.global_options.tick_rate=60,this.wintersky.global_options.max_emitter_particles=1e3,this.wintersky.global_options.scale=16}),this.isReloadingDone.dispatch()}async onActivate(){await super.onActivate(),await this.onChange()}onDeactivate(){var e;(e=this.emitter)==null||e.stop(!0),super.onDeactivate()}onDestroy(){var e,i;(e=this.fileWatcher)==null||e.dispose(),(i=this.emitter)==null||i.delete(),super.onDestroy()}onCreate(){this.addAction(new se({icon:"mdi-refresh",name:"general.reload",onTrigger:()=>this.reload()}))}async receiveCanvas(e){const i=!this._camera;await super.receiveCanvas(e),i&&this.camera.position.set(60,30,60)}async loadParticle(e){var n,s,r;this.fileWatcher||(this.fileWatcher=U(new X0(this,this.tab.getPath()))),e||(e=(s=await((n=this.fileWatcher)==null?void 0:n.requestFile(await this.getFile())))!=null?s:await this.getFile());let i;try{i=z.parse(await e.text())}catch{return}(r=this.emitter)==null||r.delete(),this.scene.children.includes(this.wintersky.space)||this.scene.add(this.wintersky.space),this.config=U(new Wt.Config(this.wintersky,i,{path:this.tab.getPath()})),this.emitter=U(new Wt.Emitter(this.wintersky,this.config,{loop_mode:"looping",parent_mode:"world"})),this.emitter.start()}render(){var e,i,n;(e=this.controls)==null||e.update(),this.wintersky.updateFacingRotation(this.camera),(i=this.emitter)==null||i.tick(),(n=this.renderer)==null||n.render(this.scene,this.camera),this.renderingRequested=!1,this.isActive&&this.requestRendering()}async onChange(e){await this.isReloadingDone.fired,this.isReloadingDone.resetSignal(),await this.loadParticle(e),this.isReloadingDone.dispatch()}async close(){var i;const e=await super.close();return e&&((i=this.fileWatcher)==null||i.dispose()),e}async reload(){await this.onChange()}get icon(){return"mdi-cube-outline"}get iconColor(){return"primary"}}const Y0=t=>({register:e=>{t.exports=({name:i,schema:n,template:s})=>{i(e.command_name),n([]),s(r=>new e().onApply(r))}}});function Dn(t){let e=0,i=0,n=0,s=0,r="",a=[];for(;n<t.length;)t[n]==="^"&&r[0]==="^"||t[n]==="~"&&r[0]==="~"?(a.push({startColumn:s,endColumn:n,word:r}),s=n+1,r=t[n]):t[n]===" "||t[n]==="	"?e===0&&i===0&&r!==""&&(a.push({startColumn:s,endColumn:n,word:r}),s=n+1,r=""):(t[n]==="{"?e++:t[n]==="}"?e--:t[n]==="["?i++:t[n]==="]"&&i--,t[n].trim()!==""&&(r+=t[n])),n++;return a.push({startColumn:s,endColumn:n,word:r}),{tokens:a}}function ef(t,e=0){let i=0,n=0,s="",r=[];for(;i<t.length;)t[i]==="="?(r.push({startColumn:n+e,endColumn:i+e,word:s}),n=i+1,s="",t[i+1]==="!"?(r.push({startColumn:i+e,endColumn:n+e+1,word:"=!"}),i++,n++):r.push({startColumn:i+e,endColumn:n+e,word:"="})):t[i]===","?(r.push({startColumn:n+e,endColumn:i+e,word:s}),n=i+1,s="",r.push({startColumn:i+e,endColumn:n+e,word:","})):(t[i].trim()===""&&n===i&&n++,s+=t[i].trim()),i++;return r.push({startColumn:n+e,endColumn:i+e,word:s}),{tokens:r}}function tf(t){return t==="true"?!0:t==="false"?!1:t==="null"?null:t==="undefined"?void 0:nf(t)?Number(t):t}function nf(t){return!isNaN(Number(t))}class sf{constructor(e,i,n){u(this,"_name");u(this,"schema");u(this,"template");this.commandSrc=e,this.mode=i,this.v1Compat=n}get name(){var e;return(e=this._name)!=null?e:"unknown"}async load(e){const i={exports:{}};try{Dt({script:this.commandSrc,env:{module:i,defineCommand:a=>a,Bridge:this.v1Compat?Y0(i):void 0}})}catch(a){console.error(a)}if(typeof i.exports!="function")return;const n=a=>this._name=a;let s=a=>this.schema=a,r=()=>{};(!e||e==="server")&&(s=()=>{},r=a=>{this.template=(o,c)=>{try{return a(o,c)}catch(d){return console.error(d),[]}}}),await i.exports({name:n,schema:s,template:r})}process(e){var a;e.startsWith("/")&&(e=e.slice(1));const[i,...n]=Dn(e).tokens.map(({word:o})=>o),s=(a=this.template)==null?void 0:a.call(this,n.map(o=>tf(o)),{compilerMode:this.mode});let r=[];if(typeof s=="string")r=s.split(`
`);else if(Array.isArray(s))r=s.filter(o=>typeof o=="string");else{const o=`Failed to process command ${this._name}; Invalid command template return type: Expected string[] or string, received ${typeof s}`;console.error(o),r.push(`# ${o}`)}return r.map(o=>o.startsWith("/")||o.startsWith("#")?o:`/${o}`)}getSchema(){if(this.schema){if(Array.isArray(this.schema))return this.schema.length===0?[{commandName:this.name}]:this.schema.map(e=>j({commandName:this.name},e))}else return[{commandName:this.name}];return this.schema.commandName||(this.schema.commandName=this.name),[this.schema]}toString(){return this.commandSrc}}async function rf(){var r,a;const t=await l.getApp();await t.project.compilerManager.fired;const e=(a=(r=t.project.config.get().bridge)==null?void 0:r.v1CompatMode)!=null?a:!1,i="BP/commands";let n;try{n=await t.project.fileSystem.getDirectoryHandle(i)}catch{return[]}const s=[];return await xe(n,async(o,c)=>{const[d,p]=await t.project.compilerManager.compileWithFile(c,await o.getFile()),h=new File([p],o.name),m=new sf(await h.text(),"dev",e);await m.load("client"),s.push(...m.getSchema())},void 0,i),s}class aa{constructor(e){u(this,"experimentalGameplay",{});u(this,"projectTargetVersion","");this.requires=e}async isValid(){var a,o,c;if(!this.requires)return!0;const e=await l.getApp(),i=e.project.config.get();this.experimentalGameplay=(a=i.experimentalGameplay)!=null?a:{},this.projectTargetVersion=(o=i.targetVersion)!=null?o:await ft();const n=e.project.hasPacks((c=this.requires.packTypes)!=null?c:[]),s=!this.requires.targetVersion||Ve.exports.compare(this.projectTargetVersion,this.requires.targetVersion[1],this.requires.targetVersion[0]),r=!this.requires.experimentalGameplay||this.requires.experimentalGameplay.some(d=>d.startsWith("!")?!this.experimentalGameplay[d.replace("!","")]:this.experimentalGameplay[d]);return n&&r&&s}}function oa(t,e){return e.includes(t)?"full":e.some(i=>i.includes(t))?"partial":"none"}class af{constructor(e){this.commandData=e}getSchema(){return this.commandData.getSelectorArgumentsSchema()}async getNextCompletionItems(e){if(e.length===1||e[e.length-2]===",")return this.getArgumentNameCompletions();if(e[e.length-2]==="="||e[e.length-2]==="=!"){const i=e[e.length-3];return await this.getArgumentTypeCompletions(i)}return[]}async getArgumentFromWord(e){return(await this.getSchema()).find(n=>n.argumentName===e)}getArgumentNameCompletions(){return this.getSchema().then(e=>e.map(i=>({label:i.argumentName,insertText:i.argumentName,kind:V.CompletionItemKind.Property,documentation:i.description})))}async getArgumentTypeCompletions(e){const i=await this.getSchema();return(await Promise.all(i.filter(s=>s.argumentName===e).map(s=>this.commandData.getCompletionItemsForArgument(s)))).flat()}}class of extends L{constructor(){super(...arguments);u(this,"selectorArguments",new af(this));u(this,"_data")}async loadCommandData(e){var s;const i=await l.getApp();this._data=U(await i.dataLoader.readJSON(`data/packages/${e}/language/mcfunction/main.json`));const n=(s=this._data.$customTypes)!=null?s:{};for(const{commands:r}of this._data.vanilla)for(const a of r)!a.arguments||(a.arguments=a.arguments.map(o=>{if(!o.type||!o.type.startsWith("$"))return o;const c=n[o.type.slice(1)];return c?c.map(d=>j(j({},o),d)):o}).flat());this.dispatch()}get shouldIgnoreCustomCommands(){return l.getApp().then(e=>!e.projectManager.projectReady.hasFired)}async getSchema(){if(!this._data)throw new Error("Acessing commandData before it was loaded.");const e=[];for await(const i of this._data.vanilla)await new aa(i.requires).isValid()?e.push(i):i.requires||e.push(i);return e}async getCommandsSchema(e=!1){return(await this.getSchema()).map(i=>i.commands).flat().concat(e?[]:await rf()).filter(i=>i!==void 0)}async getSelectorArgumentsSchema(){return(await this.getSchema()).map(e=>e.selectorArguments).flat().filter(e=>e!==void 0)}allCommands(e,i=!1){return this.getCommandsSchema(i).then(n=>[...new Set(n.map(s=>s==null?void 0:s.commandName).filter(s=>!e||(s==null?void 0:s.includes(e))))])}allSelectorArguments(){return this.getSelectorArgumentsSchema().then(e=>[...new Set(e.map(i=>i==null?void 0:i.argumentName))])}getCommandCompletionItems(e,i=!1){return this.getCommandsSchema(i).then(n=>{const s=[];return n.filter(r=>{var a;return!e||((a=r.commandName)==null?void 0:a.includes(e))}).forEach(r=>{s.some(a=>a.label===r.commandName)||s.push({insertText:r.commandName,label:r.commandName,documentation:r.description,kind:V.CompletionItemKind.Method})}),s})}async getCommandDefinitions(e,i){return await this.getCommandsSchema(i).then(s=>s.filter(r=>r.commandName===e))}async getNextCompletionItems(e){if(e.length<=1)return await this.getCommandCompletionItems(e[0],await this.shouldIgnoreCustomCommands);const i=e.shift(),n=await this.getCommandDefinitions(i,await this.shouldIgnoreCustomCommands);if(!n||n.length===0)return[];const s=[];return(await Promise.all(n.map(async r=>{const a=await this.getNextCommandArgument(r,[...e]);return a.length===0?[]:await Promise.all(a.map(o=>this.getCompletionItemsForArgument(o)))}))).flat(2).forEach(r=>{s.some(a=>a.label===r.label)||s.push(r)}),s}async getNextCommandArgument(e,i){var r;if(!e.arguments||e.arguments.length===0)return[];const n=(r=e.arguments)!=null?r:[];let s=0;for(let a=0;a<i.length;a++){const o=i[a];if(o==="")continue;const c=await this.isArgumentType(o,n[s]);if(c==="none")return[];if(c==="partial")return i.length===a+1?[n[s]]:[];if(n[s].type==="command"&&a+1<i.length)return(await Promise.all((await this.getCommandDefinitions(o,await this.shouldIgnoreCustomCommands)).map(d=>this.getNextCommandArgument(d,i.slice(a+1))))).flat();if(s++,s>=n.length)return[]}return n[s]?[n[s]]:[]}async isArgumentType(e,i){var n,s,r,a;switch(i.type){case"string":{if(!((n=i.additionalData)==null?void 0:n.values))return"full";const o=(a=(r=(s=i.additionalData)==null?void 0:s.values)!=null?r:this.resolveDynamicReference(i.additionalData.schemaReference))!=null?a:[];return oa(e,o)}case"command":return oa(e,await this.allCommands(void 0,await l.getApp().then(o=>o.projectManager.hasFired)));case"number":return isNaN(Number(e))?"none":"full";case"selector":return e.startsWith("@")?"full":"none";case"boolean":return e==="true"||e==="false"?"full":"none";case"coordinate":return e.startsWith("~")||e.startsWith("^")||!isNaN(Number(e))?"full":"none";case"jsonData":return/^\{.*\}$/.test(e)?"full":"none";case"blockState":return/^\[.*\]$/.test(e)?"full":"none";case"molang":{const o=new Yo;try{o.parse(e)}catch{return"none"}return"full"}default:return"none"}}async getCompletionItemsForArgument(e){var i,n,s,r,a;if(!e.type)return((i=e.additionalData)==null?void 0:i.values)?this.toCompletionItem((n=e.additionalData)==null?void 0:n.values):((s=e.additionalData)==null?void 0:s.schemaReference)?this.toCompletionItem(this.resolveDynamicReference(e.additionalData.schemaReference).map(({value:o})=>o)):[];switch(e.type){case"command":return this.mergeCompletionItems(await this.getCommandCompletionItems(),{documentation:e.description});case"selector":return this.toCompletionItem(["@a","@e","@p","@s","@r","@initiator"],e.description);case"boolean":return this.toCompletionItem(["true","false"],e.description,V.CompletionItemKind.Value);case"number":return this.toCompletionItem(["0","1","2","3","4","5","6","7","8","9"],e.description,V.CompletionItemKind.Value);case"coordinate":return this.toCompletionItem(["~","^"],e.description,V.CompletionItemKind.Operator);case"string":return((r=e.additionalData)==null?void 0:r.values)?this.toCompletionItem(e.additionalData.values,e.description):((a=e.additionalData)==null?void 0:a.schemaReference)?this.toCompletionItem(this.resolveDynamicReference(e.additionalData.schemaReference).map(({value:o})=>o),e.description):[];case"jsonData":return this.toCompletionItem([["{}","{${1:json data}}"]],e.description,V.CompletionItemKind.Struct);case"blockState":return this.toCompletionItem([["[]","[${1:block states}]"]],e.description,V.CompletionItemKind.Struct);case"scoreData":return this.toCompletionItem([["{}","{${1:scores}}"]],e.description,V.CompletionItemKind.Struct)}return[]}toCompletionItem(e,i,n=V.CompletionItemKind.Text){return e.map(s=>({label:Array.isArray(s)?s[0]:s,insertText:Array.isArray(s)?s[1]:s,kind:n,documentation:i,insertTextRules:Array.isArray(s)?V.CompletionItemInsertTextRule.InsertAsSnippet:void 0}))}mergeCompletionItems(e,i){return e.map(n=>{var s;return W(j({},n),{documentation:i.documentation?`${i.documentation}

${(s=n.documentation)!=null?s:""}`:n.documentation})})}resolveDynamicReference(e){return new dr(e,"$ref",e).getCompletionItems({})}}const uf=[{name:"preview.viewModel",fileMatch:"RP/models/",createPreview:(t,e)=>q0(t,e)},{name:"preview.viewModel",fileMatch:"RP/entity/",createPreview:(t,e)=>K0(t,e)},{name:"preview.viewEntity",fileMatch:"BP/entities/",createPreview:(t,e)=>Q0(t,e)},{name:"preview.viewParticle",fileMatch:"RP/particles/",createPreview:async(t,e)=>new Z0(e,t)},{name:"preview.viewBlock",fileMatch:"BP/blocks/",createPreview:async(t,e)=>new ra(e.getPath(),e,t)}];class Bi extends k0{constructor(){super(...arguments);u(this,"commandData",new of)}onCreate(){uf.forEach(e=>this.tabActionProvider.registerPreview(e)),this.commandData.loadCommandData("minecraftBedrock")}getCurrentDataPackage(){return this.app.dataLoader.getDirectoryHandle("data/packages/minecraftBedrock")}}V.registerCompletionItemProvider("json",{provideCompletionItems:async(t,e)=>{var _,C,S;const i=await l.getApp(),n=i.project;if(!(n instanceof Bi))return;const s=n.commandData,r=un(t,e),a=(_=i.project.tabSystem)==null?void 0:_.selectedTab;if(!a)return;const o=await i.dataLoader.readJSON("data/packages/minecraftBedrock/location/validCommand.json"),{id:c,meta:{commandsUseSlash:d}={commandsUseSlash:!1}}=(C=l.fileType.get(a.getPath()))!=null?C:{id:"unknown",meta:{commandsUseSlash:!1}},p=(S=o[c])!=null?S:[];if(p.length===0||!Ge(r,p)||!Js(t,e))return;let{word:m,range:g}=cn(t,e);if(d&&!m.startsWith("/"))return;let w=!1;m.startsWith("/")&&(m=m.slice(1),w=!0);const{tokens:f}=Dn(m),D=f[f.length-1];return{suggestions:(await s.getNextCompletionItems(f.map(T=>T.word))).map(({label:T,insertText:$,documentation:O,kind:B})=>({label:T!=null?T:$,insertText:$,documentation:O,kind:B,range:new It(e.lineNumber,Math.min(g.endColumn+1,g.startColumn+D.startColumn+(w?2:1)),e.lineNumber,Math.min(g.endColumn+1,e.column+$.length))}))}}});const ji={brackets:[["(",")","delimiter.parenthesis"],["[","]","delimiter.square"],["{","}","delimiter.curly"]],keywords:[],selectors:["@a","@e","@p","@r","@s"],targetSelectorArguments:[],tokenizer:{root:[[/#.*/,"comment"],[/\{/,{token:"delimiter.bracket",bracket:"@open",next:"@embeddedJson"}],[/\[/,{token:"delimiter.bracket",next:"@targetSelectorArguments",bracket:"@open"}],{include:"@common"},...ls,[/[a-z_][\w\/]*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],[/@[a|p|r|e|s]/,{cases:{"@selectors":"type.identifier","@default":"identifier"}}]],common:[[/"[^"]*"|'[^']*'/,"string"],[/\=|\,|\!|%=|\*=|\+=|-=|\/=|<|=|>|<>/,"definition"],[/true|false/,"number"],[/-?([0-9]+(\.[0-9]+)?)|(\~|\^-?([0-9]+(\.[0-9]+)?)?)/,"number"]],embeddedJson:[[/\{/,"delimiter.bracket","@embeddedJson"],[/\}/,"delimiter.bracket","@pop"],{include:"@common"}],targetSelectorArguments:[[/\]/,{token:"@brackets",bracket:"@close",next:"@pop"}],[/{/,{token:"@brackets",bracket:"@open",next:"@targetSelectorScore"}],[/[a-z_][\w\/]*/,{cases:{"@targetSelectorArguments":"variable","@default":"identifier"}}],{include:"@common"}],targetSelectorScore:[[/}/,{token:"@brackets",bracket:"@close",next:"@pop"}],{include:"@common"}]}};function cf(t,e){const i=lf(t,e-1);if(i===-1)return!1;let n="",s=i-1;for(;s>=0&&t[s]!==" ";)n=t[s]+n,s--;return n.startsWith("@")?{selectorStart:i+1,selectorEnd:df(t,e)}:!1}function lf(t,e){for(let i=e;i>=0;i--){if(t[i]=="[")return i;if(t[i]==="]")return-1}return-1}function df(t,e){for(let i=e;i<t.length;i++)if(t[i]=="]")return i;return-1}const pf={wordPattern:/[aA-zZ]+/,comments:{lineComment:"#"},brackets:[["(",")"],["[","]"],["{","}"]],autoClosingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"{",close:"}"},{open:'"',close:'"'}]},hf={triggerCharacters:[" ","[","{","=",",","!"],async provideCompletionItems(t,e,i,n){const s=await l.getApp().then(m=>m.project);if(!(s instanceof Bi))return;const r=s.commandData;await r.fired;const a=t.getLineContent(e.lineNumber),o=a.slice(0,e.column-1),c=cf(a,e.column-1);if(c){const m=a.slice(c.selectorStart,e.column-1),{tokens:g}=ef(m,c.selectorStart),w=g[g.length-1];return{suggestions:await r.selectorArguments.getNextCompletionItems(g.map(f=>f.word)).then(f=>f.map(({label:D,insertText:A,documentation:_,kind:C,insertTextRules:S})=>{var T,$;return{label:D!=null?D:A,insertText:A,documentation:_,kind:C,range:new It(e.lineNumber,((T=w==null?void 0:w.startColumn)!=null?T:0)+1,e.lineNumber,(($=w==null?void 0:w.endColumn)!=null?$:0)+1),insertTextRules:S}}))}}const{tokens:d}=Dn(o),p=d[d.length-1];return{suggestions:(await r.getNextCompletionItems(d.map(m=>m.word))).map(({label:m,insertText:g,documentation:w,kind:f,insertTextRules:D})=>{var A,_;return{label:m!=null?m:g,insertText:g,documentation:w,kind:f,range:new It(e.lineNumber,((A=p==null?void 0:p.startColumn)!=null?A:0)+1,e.lineNumber,((_=p==null?void 0:p.endColumn)!=null?_:0)+1),insertTextRules:D}})}}},Ti=async t=>{const e=await l.getApp();await e.projectManager.fired;const i=e.project;if(!(i instanceof Bi))return;await i.commandData.fired;const n=await i.commandData.allCommands(void 0,!i.compilerManager.hasFired);ji.keywords=n.map(r=>r);const s=await i.commandData.allSelectorArguments();ji.targetSelectorArguments=s,t.updateTokenProvider(ji)};class mf extends Vi{constructor(){super({id:"mcfunction",extensions:["mcfunction"],config:pf,tokenProvider:ji,completionItemProvider:hf});let e=null;const i=l.eventSystem.on("projectChanged",n=>{e=n,Ti(this),n.compilerManager.fired.then(()=>{n===e&&Ti(this)})});l.getApp().then(async n=>{await n.projectManager.projectReady.fired,this.disposables.push(n.projectManager.forEachProject(s=>{this.disposables.push(s.fileSave.any.on(([r])=>{l.fileType.getId(r)==="customCommand"&&Ti(this)}))}),i)})}onModelAdded(e){return super.onModelAdded(e)?(Ti(this),!0):!1}validate(){}}const ff={comments:{lineComment:"#"},brackets:[["(",")"],["[","]"],["{","}"]],autoClosingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"{",close:"}"},{open:"'",close:"'"}]},gf={ignoreCase:!0,brackets:[["(",")","delimiter.parenthesis"],["[","]","delimiter.square"],["{","}","delimiter.curly"]],keywords:["return","loop","for_each","break","continue","this","function"],identifiers:["v","t","c","q","f","a","arg","variable","temp","context","query"],tokenizer:{root:[[/#.*/,"comment"],[/'[^']'/,"string"],[/[0-9]+(\.[0-9]+)?/,"number"],[/true|false/,"number"],[/\=|\,|\!|%=|\*=|\+=|-=|\/=|<|=|>|<>/,"definition"],[/[a-z_$][\w$]*/,{cases:{"@keywords":"keyword","@identifiers":"type.identifier","@default":"identifier"}}]]}};class wf extends Vi{constructor(){super({id:"molang",extensions:["molang"],config:ff,tokenProvider:gf});u(this,"molang",new eu({}))}validate(e){try{this.molang.parse(e.getValue()),Ae.setModelMarkers(e,this.id,[])}catch(i){let{startColumn:n=0,endColumn:s=1/0,startLineNumber:r=0,endLineNumber:a=1/0}={};Ae.setModelMarkers(e,this.id,[{startColumn:n+1,endColumn:s+1,startLineNumber:r+1,endLineNumber:a+1,message:i.message,severity:tu.Error}])}}}class yf{constructor(){u(this,"languages",new Set([new wf,new Cc,new mf]))}}function vf(t={}){const{immediate:e=!1,onNeedRefresh:i,onOfflineReady:n,onRegistered:s,onRegisterError:r}=t;let a,o;const c=async(d=!0)=>{d&&(a==null||a.addEventListener("controlling",p=>{p.isUpdate&&window.location.reload()})),o&&o.waiting&&await nu(o.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){a=new iu("/service-worker.js",{scope:"/"}),a.addEventListener("activated",d=>{d.isUpdate||n==null||n()});{const d=()=>{i==null||i()};a.addEventListener("waiting",d),a.addEventListener("externalwaiting",d)}a.register({immediate:e}).then(d=>{o=d,s==null||s(d)}).catch(d=>{r==null||r(d)})}return c}const ua=vf({async onNeedRefresh(){console.log("New content is available; please refresh."),await Le("firstStartAfterUpdate",!0),l.fileSystemSetup.status==="waiting"?ua():mi({icon:"mdi-update",color:"primary",message:"sidebar.notifications.updateAvailable.message",textColor:"white",onClick:()=>ua()})},onOfflineReady(){console.log("bridge. is ready to work offline")}}),ca=t=>({"colorCode.darkRed":{color:"#AA0000"},"colorCode.red":{color:"#FF5555"},"colorCode.gold":{color:"#FFAA00"},"colorCode.yellow":{color:"#FFFF55"},"colorCode.darkGreen":{color:"#00AA00"},"colorCode.green":{color:"#55FF55"},"colorCode.aqua":{color:"#55FFFF"},"colorCode.darkAqua":{color:"#00AAAA"},"colorCode.darkBlue":{color:"#0000AA"},"colorCode.blue":{color:"#5555FF"},"colorCode.lightPurple":{color:"#FF55FF"},"colorCode.darkPurple":{color:"#AA00AA"},"colorCode.white":{color:"#FFFFFF"},"colorCode.gray":{color:"#AAAAAA"},"colorCode.darkGray":{color:"#555555"},"colorCode.black":{color:"#000000"},"colorCode.minecoinGold":{color:"#ff0000"},"colorCode.bold":{color:t,textDecoration:"bold"},"colorCode.italic":{color:t,textDecoration:"italic"},"colorCode.underline":{color:t,textDecoration:"underline"}}),Cf={id:"bridge.default.dark",name:"Default Dark",colorScheme:"dark",colors:{text:"#ffffff",primary:tt?"#3bb6a3":"#0073FF",secondary:tt?"#3bb6a3":"#0073FF",accent:tt?"#3bb6a3":"#0073FF",error:"#ff5252",info:"#2196f3",warning:"#fb8c00",success:"#4caf50",background:"#121212",sidebarNavigation:"#1F1F1F",expandedSidebar:"#1F1F1F",sidebarSelection:"#151515",menu:"#252525",footer:"#111111",tooltip:"#1F1F1F",toolbar:"#000000",tabActive:"#121212",tabInactive:"#1F1F1F",lineHighlightBackground:"#292929",scrollbarThumb:"#000000",behaviorPack:"#ff5252",resourcePack:"#0073FF",skinPack:"#fb8c00",worldTemplate:"#4caf50"},highlighter:j({type:{color:"#a6e22e"},keyword:{color:"#f92672"},definition:{color:"#fd971f"},atom:{color:"#ae81ff"},number:{color:"#ae81ff"},string:{color:"#e6db74"},variable:{color:"#6e9eff"},variableStrong:{color:"#6e9eff"},meta:{color:"white"},comment:{color:"#75715e"}},ca("#fff"))},bf={id:"bridge.default.light",name:"Default Light",colorScheme:"light",colors:{text:"#000000",primary:tt?"#3bb6a3":"#0073FF",secondary:tt?"#3bb6a3":"#0073FF",accent:tt?"#3bb6a3":"#0073FF",error:"#ff5252",info:"#2196f3",warning:"#fb8c00",success:"#4caf50",background:"#fafafa",sidebarNavigation:"#e8e8e8",expandedSidebar:"#e8e8e8",sidebarSelection:"#FFFFFF",menu:"#FFFFFF",tooltip:"#424242",toolbar:"#e0e0e0",footer:"#f5f5f5",tabActive:"#fafafa",tabInactive:"#e0e0e0",lineHighlightBackground:"#e0e0e0",scrollbarThumb:"#c8c8c8",behaviorPack:"#ff5252",resourcePack:"#0073FF",skinPack:"#fb8c00",worldTemplate:"#4caf50"},highlighter:j({type:{color:"black"},keyword:{color:"#5A5CAD"},definition:{textDecoration:"underline"},atom:{color:"#6C8CD5"},number:{color:"#164"},string:{color:"red"},variable:{color:"black"},variableStrong:{color:"black"},meta:{color:"yellow"},comment:{color:"#0080FF"}},ca("#000"))};class Ff{constructor(e){this.theme=e}apply(){Ae.defineTheme("bridgeMonacoDefault",{base:this.theme.colorScheme==="light"?"vs":"vs-dark",inherit:!1,colors:j({"editor.background":this.convertColor(this.theme.getColor("background")),"editor.lineHighlightBackground":this.convertColor(this.theme.getColor("lineHighlightBackground")),"editorWidget.background":this.convertColor(this.theme.getColor("background")),"editorWidget.border":this.convertColor(this.theme.getColor("sidebarNavigation")),"pickerGroup.background":this.convertColor(this.theme.getColor("background")),"pickerGroup.border":this.convertColor(this.theme.getColor("sidebarNavigation")),"badge.background":this.convertColor(this.theme.getColor("background")),"input.background":this.convertColor(this.theme.getColor("sidebarNavigation")),"input.border":this.convertColor(this.theme.getColor("menu")),"inputOption.activeBorder":this.convertColor(this.theme.getColor("primary")),focusBorder:this.convertColor(this.theme.getColor("primary")),"list.focusBackground":this.convertColor(this.theme.getColor("menu")),"list.hoverBackground":this.convertColor(this.theme.getColor("sidebarNavigation")),contrastBorder:this.convertColor(this.theme.getColor("sidebarNavigation")),"peekViewTitle.background":this.convertColor(this.theme.getColor("background")),"peekView.border":this.convertColor(this.theme.getColor("primary")),"peekViewResult.background":this.convertColor(this.theme.getColor("sidebarNavigation")),"peekViewResult.selectionBackground":this.convertColor(this.theme.getColor("menu")),"peekViewEditor.background":this.convertColor(this.theme.getColor("background")),"peekViewEditor.matchHighlightBackground":this.convertColor(this.theme.getColor("menu"))},this.theme.getMonacoDefinition()),rules:[{background:this.convertColor(this.theme.getColor("background")),foreground:this.convertColor(this.theme.getColor("text"))},...Object.entries(this.theme.getHighlighterDefinition()).map(([e,{color:i,background:n,textDecoration:s,isItalic:r}])=>({token:e,foreground:this.convertColor(i),background:n?this.convertColor(n):void 0,fontStyle:`${r?"italic ":""}${s}`})).filter(({foreground:e})=>e!==void 0)]})}convertColor(e){return e&&(e.startsWith("#")?e.length===4?`#${e[1]}${e[1]}${e[2]}${e[2]}${e[3]}${e[3]}`:e:su.keyword.hex(e))}}class Af{constructor(e,i){u(this,"id");u(this,"colorScheme");u(this,"name");u(this,"colorMap");u(this,"highlighterDef");u(this,"monacoDef");u(this,"monacoSubTheme");var n;this.themeDefinition=e,this.isGlobal=i,this.id=e.id,this.name=e.name,this.colorScheme=(n=e.colorScheme)!=null?n:"dark",this.colorMap=new Map(Object.entries(e.colors)),this.monacoDef=e.monaco,this.highlighterDef=e.highlighter,this.monacoSubTheme=new Ff(this)}apply(e,i){var n;De.set(i.theme.themes,this.colorScheme,Object.fromEntries(this.colorMap.entries())),De.set(i.theme,"dark",this.colorScheme==="dark"),e.setThemeColor((n=this.colorMap.get("toolbar"))!=null?n:"red"),this.monacoSubTheme.apply()}getColor(e){var i;return(i=this.colorMap.get(e))!=null?i:"red"}getHighlighterInfo(e){var i;return(i=this.highlighterDef)==null?void 0:i[e]}getMonacoDefinition(){var e;return(e=this.monacoDef)!=null?e:{}}getHighlighterDefinition(){var e;return(e=this.highlighterDef)!=null?e:{}}getThemeDefinition(){return this.themeDefinition}}class Ef extends ee{constructor(e){super();u(this,"mode");u(this,"themeMap",new Map);u(this,"themeColorTag",document.querySelector("meta[name='theme-color']"));u(this,"currentTheme","bridge.default.dark");u(this,"colorScheme",new L);this.vuetify=e;const i=window.matchMedia("(prefers-color-scheme: light)");this.mode=i.matches?"light":"dark";const n=s=>{this.colorScheme.dispatch(s.matches?"light":"dark"),this.mode=s.matches?"light":"dark",this.updateTheme()};"addEventListener"in i?i.addEventListener("change",s=>n(s)):i.addListener(s=>n(s)),this.themeColorTag||(this.themeColorTag=document.createElement("meta"),document.head.appendChild(this.themeColorTag)),this.themeColorTag.setAttribute("name","theme-color"),this.themeColorTag.id="theme-color-tag",this.addTheme(Cf,!0),this.addTheme(bf,!0),this.applyTheme(this.themeMap.get("bridge.default.dark"))}getCurrentMode(){return this.mode}applyTheme(e){e==null||e.apply(this,this.vuetify)}async updateTheme(){var d,p,h,m,g;const e=await l.getApp();let i=(d=F==null?void 0:F.appearance)==null?void 0:d.colorScheme;(!i||i==="auto")&&(i=this.mode),await e.projectManager.projectReady.fired;const n=e.projectConfig.get().bridge,s=(p=i==="light"?n==null?void 0:n.lightTheme:n==null?void 0:n.darkTheme)!=null?p:"bridge.noSelection",r=(m=(h=F==null?void 0:F.appearance)==null?void 0:h[`${i}Theme`])!=null?m:`bridge.default.${i}`,a=s!=="bridge.noSelection"?s:r,o=this.themeMap.get(s!=="bridge.noSelection"?s:r),c=this.themeMap.get(`bridge.default.${i}`);this.currentTheme!==(o?a:`bridge.default.${i}`)&&(this.currentTheme=o?a:`bridge.default.${i}`,this.applyTheme(o!=null?o:c),this.dispatch((g=o==null?void 0:o.colorScheme)!=null?g:"dark"))}async loadDefaultThemes(e){await e.dataLoader.fired,await xe(await e.dataLoader.getDirectoryHandle("data/packages/common/themes"),i=>this.loadTheme(i)),this.updateTheme()}async loadTheme(e,i=!0,n){const s=await e.getFile();let r;try{r=z.parse(await s.text())}catch{throw new Error(`Failed to load theme "${s.name}"`)}const a=this.addTheme(r,i);n&&n.push(a)}getThemes(e,i){const n=[];for(const[s,r]of this.themeMap)(!e||r.colorScheme===e)&&(r.isGlobal||i===r.isGlobal)&&n.push(r);return n}setThemeColor(e){this.themeColorTag.setAttribute("content",e)}addTheme(e,i){var s,r;const n=this.themeMap.get(`bridge.default.${(s=e.colorScheme)!=null?s:"dark"}`);return this.themeMap.set(e.id,new Af(wt((r=n==null?void 0:n.getThemeDefinition())!=null?r:{},e),i)),this.updateTheme(),{dispose:()=>this.themeMap.delete(e.id)}}getColor(e){const i=this.themeMap.get(this.currentTheme);if(!i)throw new Error("No theme currently loaded");return i.getColor(e)}getHighlighterInfo(e){const i=this.themeMap.get(this.currentTheme);if(!i)throw new Error("No theme currently loaded");return i.getHighlighterInfo(e)}}class Qe{}u(Qe,"ready",new L);const Ln=class{constructor(){u(this,"confirmPermissionWindow",null);u(this,"_status","waiting")}get status(){return this._status}setStatus(e){this._status=e}async setupFileSystem(e){let i=await ut("bridgeBaseDir");if(!G&&i&&(i=await this.verifyPermissions(i)),(G||await bu("bridgeFolder"))&&(i=new ve(null,"bridgeFolder",void 0),await i.setupDone.fired),i)Qe.ready.dispatch();else{const n=Ln.state;n.showInitialSetupDialog.value=!0,i=await n.receiveDirectoryHandle.fired,await this.verifyPermissions(i),i instanceof ve||await Le("bridgeBaseDir",i),n.setupDone.dispatch()}return G&&!await ut("confirmedUnsupportedBrowser")&&e.windows.browserUnsupported.open(),this._status="done",i}async verifyPermissions(e,i=!0){const n={writable:!0,mode:"readwrite"};try{i&&await e.requestPermission(n)!=="granted"&&await this.verifyPermissions(e,!1)}catch{}await e.queryPermission(n)!=="granted"&&this.confirmPermissionWindow===null&&(this.confirmPermissionWindow=new ae({name:"windows.projectFolder.title",description:"windows.projectFolder.content",onClose:async()=>{this._status="userInteracted",this.confirmPermissionWindow=null,await e.requestPermission(n)!=="granted"&&await this.verifyPermissions(e,!1)}}),await this.confirmPermissionWindow.fired);try{await e.getDirectoryHandle("data",{create:!0})}catch{return}return e}};let at=Ln;u(at,"state",{showInitialSetupDialog:bt(!1),receiveDirectoryHandle:new L,setupDone:new L});var Qt;(function(t){t[t.matchCase=0]="matchCase",t[t.ignoreCase=1]="ignoreCase",t[t.useRegExp=2]="useRegExp"})(Qt||(Qt={}));var _f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-btn-toggle",{attrs:{dense:"",mandatory:"",value:t.value},on:{change:function(n){return t.$emit("input",n)}}},[i("v-btn",{staticStyle:{"min-width":"unset"},attrs:{title:"Match Case",color:"menu"}},[i("v-icon",[t._v("mdi-format-letter-case-upper")])],1),i("v-btn",{staticStyle:{"min-width":"unset"},attrs:{title:"Ignore Case",color:"menu"}},[i("v-icon",[t._v("mdi-format-letter-case")])],1),i("v-btn",{staticStyle:{"min-width":"unset"},attrs:{title:"Use Regular Expression",color:"menu"}},[i("v-icon",[t._v("mdi-regex")])],1)],1)},xf=[];const Df={name:"SearchType",props:{value:Number}},la={};var kf=E(Df,_f,xf,!1,Sf,null,null,null);function Sf(t){for(let e in la)this[e]=la[e]}var Bf=function(){return kf.exports}(),jf=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"code-font code-match",staticStyle:{width:"100%","overflow-x":"hidden"}},[i("span",[t._v(t._s(t.item.isStartOfFile?"":"...")+t._s(t.item.beforeMatch))]),i("span",{class:{"error--text text-decoration-line-through":t.showReplaceWith,"success--text":!t.showReplaceWith}},[t._v(t._s(t.item.match))]),t.showReplaceWith?i("span",{staticClass:"success--text"},[t._v(t._s(t.replaceWith))]):t._e(),i("span",[t._v(t._s(t.item.afterMatch)+"...")])])},Tf=[];const Pf={name:"Match",props:{replaceWith:String,showReplaceWith:Boolean,item:Object}},da={};var $f=E(Pf,jf,Tf,!1,Mf,"6cc24f6a",null,null);function Mf(t){for(let e in da)this[e]=da[e]}var Of=function(){return $f.exports}(),Rf=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"font-weight-black clickable px-1",staticStyle:{display:"inline-block",width:"fit-content"},on:{click:function(n){return t.openFile(t.filePath)}}},[i("v-icon",{staticStyle:{position:"relative",top:"-2px"},attrs:{small:"",color:t.getIconColor(t.filePath)}},[t._v(" "+t._s(t.getFileIcon(t.filePath))+" ")]),t._v(" "+t._s(t.filePath)+" ")],1)},If=[];const Wf={name:"FileName",props:{filePath:String},methods:{getFileIcon(t){var e;return(e=(l.fileType.get(t)||{}).icon)!=null?e:"mdi-file-outline"},getIconColor(t){return(Ce.getWithRelativePath(t)||{}).color},async openFile(t){const e=await l.getApp(),i=await e.fileSystem.getFileHandle(`projects/${e.project.name}/${t}`);e.project.openFile(i)}}},pa={};var Nf=E(Wf,Rf,If,!1,Lf,null,null,null);function Lf(t){for(let e in pa)this[e]=pa[e]}var Hf=function(){return Nf.exports}();function Vf(t,e,i){return t.replace(e,(n,...s)=>(s=s.slice(0,-2),i.replace(/{(\d+)}/g,(r,...a)=>{var o;return(o=s[Number(a[0])])!=null?o:r})))}function zf(t,e){let i;try{i=new RegExp(e===Qt.useRegExp?t:ru(t),`g${e===Qt.ignoreCase?"i":""}`)}catch{return}return i}var Uf=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"px-3"},[i("div",{staticClass:"d-flex",class:{"flex-column":t.hasLimitedSpace}},[i("v-col",{staticClass:"flex-grow-0 flex-shrink-0 align-center",attrs:{cols:t.hasLimitedSpace?12:3}},[i("v-text-field",{staticClass:"mb-2",attrs:{"prepend-inner-icon":"mdi-magnify",outlined:"",dense:"","hide-details":"",autofocus:t.pointerDevice==="mouse",label:t.t("findAndReplace.search")},model:{value:t.searchFor,callback:function(n){t.searchFor=n},expression:"searchFor"}}),i("v-text-field",{staticClass:"mb-2",attrs:{"prepend-inner-icon":"mdi-file-replace-outline",outlined:"",dense:"","hide-details":"",label:t.t("findAndReplace.replace")},model:{value:t.replaceWith,callback:function(n){t.replaceWith=n},expression:"replaceWith"}}),i("SearchType",{staticClass:"mb-2",model:{value:t.queryOptions.searchType,callback:function(n){t.$set(t.queryOptions,"searchType",n)},expression:"queryOptions.searchType"}}),i("v-btn",{staticClass:"mb-2",attrs:{color:"primary",disabled:t.replaceWith===""||t.searchFor==="",loading:t.tab.isLoading},on:{click:function(n){return t.onReplaceAll()}}},[i("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-file-replace-outline")]),t._v(" "+t._s(t.t("findAndReplace.replaceAll"))+" ")],1)],1),i("v-col",{staticClass:"flex-grow-1 flex-shrink-0",attrs:{cols:t.hasLimitedSpace?12:9}},[i("v-card",{staticClass:"pa-2",staticStyle:{background:"var(--v-expandedSidebar-base)"},style:"white-space: nowrap; height: "+((t.hasLimitedSpace?400:t.height)-24)+"px",attrs:{outlined:"",rounded:""}},[t.queryResults.length===0?i("p",{staticStyle:{"white-space":"normal"}},[t._v(" "+t._s(t.t("findAndReplace.no"+(t.searchFor===""?"Search":"Results")))+" ")]):t._e(),i("v-virtual-scroll",{ref:"virtualScroller",attrs:{items:t.tab.displayQueryResults,height:(t.hasLimitedSpace?400:t.height)-40,bench:30,"item-height":"22"},nativeOn:{scroll:function(n){return t.onScroll(n)}},scopedSlots:t._u([{key:"default",fn:function(n){var s=n.item;return[typeof s=="string"?i("div",{staticStyle:{display:"inline-flex",width:"calc(100% - 8px)"}},[i("FilePath",{attrs:{filePath:s}}),i("v-spacer"),i("v-btn",{staticStyle:{position:"relative",top:"3px"},attrs:{icon:"","x-small":"",disabled:t.replaceWith===""},on:{click:function(r){return t.onReplaceSingleFile(s)}}},[i("v-icon",[t._v("mdi-file-replace-outline")])],1)],1):i("Match",{attrs:{showReplaceWith:!!t.replaceWith,replaceWith:t.processReplaceWith(s.match),item:s}})]}}])})],1)],1)],1)])},Gf=[];const Jf={name:"FindAndReplaceTab",mixins:[P],components:{SearchType:Bf,Match:Of,FilePath:Hf},props:{tab:Object,height:Number},setup(){return{pointerDevice:ce}},mounted(){this.$refs.virtualScroller.$el.scrollTop=this.scrollTop},activated(){this.$refs.virtualScroller.$el.scrollTop=this.scrollTop},data(){return this.tab.state},methods:{updateQuery:Jn.exports.debounce(async function(){await this.tab.updateQuery()},750),onScroll(t){this.scrollTop=t.target.scrollTop},onReplaceAll(){this.tab.executeQuery()},processReplaceWith(t){return Vf(t,zf(this.searchFor,this.queryOptions.searchType),this.replaceWith)},onReplaceSingleFile(t){this.tab.executeSingleQuery(t)}},computed:{hasLimitedSpace(){return this.$vuetify.breakpoint.mobile||this.tab.parent.isSharingScreen}},watch:{"tab.uuid"(){for(const t in this.tab.state)X(this,t,this.tab.state[t])},searchFor(){this.updateQuery()},"queryOptions.searchType"(){this.updateQuery()},scrollTop(){this.$refs.virtualScroller.$el.scrollTop=this.scrollTop}}},ha={};var qf=E(Jf,Uf,Gf,!1,Kf,null,null,null);function Kf(t){for(let e in ha)this[e]=ha[e]}var Qf=function(){return qf.exports}();function Xf(){return new Worker("/assets/Worker.045b11e6.js",{type:"module"})}const Zf=qn(new Xf);class Yf extends Lt{constructor(){super(...arguments);u(this,"component",Qf);u(this,"findAndReplace");u(this,"state",ke({scrollTop:0,searchFor:"",replaceWith:"",queryOptions:{searchType:Qt.matchCase},queryResults:[]}));u(this,"searchReady",new L)}get displayQueryResults(){return this.state.queryResults.map(({filePath:e,matches:i})=>[e,...i]).flat()}async setup(){this.findAndReplace=await new Zf(this.parent.projectRoot),await super.setup(),this.searchReady.dispatch()}async updateQuery(){await this.searchReady.fired,this.searchReady.resetSignal(),this.isLoading=!0,this.state.queryResults=await this.findAndReplace.createQuery(this.state.searchFor,this.state.queryOptions),this.isLoading=!1,this.state.scrollTop=0,this.searchReady.dispatch()}async executeQuery(){await this.searchReady.fired,this.searchReady.resetSignal(),this.isLoading=!0,await this.findAndReplace.executeQuery(this.state.searchFor,this.state.replaceWith,this.state.queryOptions),await this.parent.app.project.updateFiles(this.state.queryResults.map(({filePath:e})=>e)),this.state.queryResults=[],this.state.scrollTop=0,this.isLoading=!1,this.searchReady.dispatch()}async executeSingleQuery(e){await this.searchReady.fired,this.searchReady.resetSignal(),this.isLoading=!0;const i=await this.findAndReplace.setMatchedFiles([e]);await this.findAndReplace.executeQuery(this.state.searchFor,this.state.replaceWith,this.state.queryOptions),await this.findAndReplace.setMatchedFiles(i.filter(n=>n!==e)),await this.parent.app.project.updateFile(e),this.state.queryResults=this.state.queryResults.filter(n=>n.filePath!==e),this.isLoading=!1,this.searchReady.dispatch()}static is(){return!1}async is(){return!1}async onActivate(){}get icon(){return"mdi-file-search-outline"}get iconColor(){return"success"}get name(){return this.parent.app.locales.translate("findAndReplace.name")}save(){}}class kn{constructor(e){this.handle=e}async package(){let e={};return await xe(this.handle,async(i,n)=>{const s=await i.getFile();e[n]=new Uint8Array(await s.arrayBuffer())}),au(e)}}async function Ot(){const t=await l.getApp();t.windows.loadingWindow.open();const e=new kn(G?t.fileSystem.baseDirectory:t.project.baseDirectory),i=`projects/${t.project.name}/builds/${t.project.name}.brproject`;try{await Si(i,await e.package(),t.fileSystem)}catch(n){console.error(n)}t.windows.loadingWindow.close()}class eg{constructor(e){u(this,"fileSystem");u(this,"task");this.directory=e,this.fileSystem=new Fe(e)}createTask(e,i={icon:"mdi-folder-zip",name:"taskManager.tasks.unzipper.name",description:"taskManager.tasks.unzipper.description"}){this.task=e.create(i)}}class ma extends eg{unzip(e){return new Promise(async(i,n)=>{Li(e,async(s,r)=>{var c,d,p,h,m;if(s)return n(s);const a=new Fe(this.directory);(c=this.task)==null||c.update(0,Object.keys(r).length);let o=0;for(const g in r){if(rt(g).startsWith(".")){(d=this.task)==null||d.update(++o),r[g]=void 0;continue}if(g.endsWith("/")){(p=this.task)==null||p.update(++o),r[g]=void 0;continue}await this.fileSystem.write(await a.getFileHandle(g,!0),r[g]),r[g]=void 0,(h=this.task)==null||h.update(++o)}(m=this.task)==null||m.complete(),i()}),e=void 0})}}async function Sn(t,e=!1){const i=await l.getApp(),n=i.fileSystem,s=await n.getDirectoryHandle("import",{create:!0}),r=new ma(s);e||await i.projectManager.projectReady.fired;const a=await t.getFile(),o=new Uint8Array(await a.arrayBuffer());r.createTask(i.taskManager),await r.unzip(o);let c="import";if(!await n.fileExists("import/config.json")){if(G){try{await n.move("import/data","data")}catch{}try{await n.move("import/extensions","extensions")}catch{}await We.loadSettings(i),await i.extensionLoader.reload(),i.locales.setDefaultLanguage()}try{const[h]=await n.readdir("import/projects");c=`import/projects/${h}`}catch{return}}G&&!e&&await new ue({description:"windows.projectChooser.openNewProject.saveCurrentProject",cancelText:"general.no",confirmText:"general.yes"}).fired&&await Ot();const d=c==="import"?`projects/${rt(t.name,".brproject")}`:c.replace("import/","");await n.move(c,d);let p;e||(p=i.project.name),Qe.ready.hasFired&&await i.projectManager.addProject(await n.getDirectoryHandle(d),!0),G&&!e&&await i.projectManager.removeProject(p),await n.unlink("import")}var tg=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-flex align-center mb-2"},[t.selected?[i("v-icon",{staticClass:"mr-1",attrs:{color:"success",small:""}},[t._v(" mdi-checkbox-marked-circle-outline ")]),i("span",[t._v(" "+t._s(t.t("general.active"))+" ")])]:[i("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v(" mdi-checkbox-blank-circle-outline ")]),i("span",[t._v(" "+t._s(t.t("general.inactive"))+" ")])]],2)},ig=[];const ng={name:"SelectedStatus",mixins:[P],props:{selected:{type:Boolean,required:!0}}},fa={};var sg=E(ng,tg,ig,!1,rg,null,null,null);function rg(t){for(let e in fa)this[e]=fa[e]}var Bn=function(){return sg.exports}(),ag=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"rounded-lg",class:{"bg-dark":t.dark,bg:!t.dark}},[t._t("default")],2)},og=[];const ug={name:"BridgeSheet",props:{dark:Boolean}},ga={};var cg=E(ug,ag,og,!1,lg,"70b3f4d8",null,null);function lg(t){for(let e in ga)this[e]=ga[e]}var Pi=function(){return cg.exports}(),dg=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BridgeSheet",{directives:[{name:"ripple",rawName:"v-ripple",value:t.isSelectable,expression:"isSelectable"}],class:{"rounded-lg pa-3 content-area":!0,selected:t.selected},nativeOn:{click:function(n){return n.stopPropagation(),t.$emit("click")}}},[i("div",{staticClass:"d-flex"},[i("v-icon",{staticClass:"mr-2",attrs:{color:t.packType.color}},[t._v(" "+t._s(t.packType.icon)+" ")]),i("h1",{staticClass:"header"},[t._v(" "+t._s(t.t("packType."+t.packType.id+".name"))+" ")])],1),t.isSelectable?i("SelectedStatus",{attrs:{selected:t.selected}}):t._e(),t.packType.version?i("div",{staticClass:"mb-2"},[t._v(" Pack Version: v"+t._s(t.packType.version.join("."))+" ")]):t._e(),i("span",[t._v(t._s(t.t("packType."+t.packType.id+".description")))]),t._t("default",null,{selected:t.selected})],2)},pg=[];const hg={name:"PackTypeViewer",mixins:[P],components:{SelectedStatus:Bn,BridgeSheet:Pi},props:{packType:Object,selected:Boolean,isSelectable:Boolean}},wa={};var mg=E(hg,dg,pg,!1,fg,"6c7805f7",null,null);function fg(t){for(let e in wa)this[e]=wa[e]}var ya=function(){return mg.exports}(),gg=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BridgeSheet",{directives:[{name:"ripple",rawName:"v-ripple",value:t.isToggleable,expression:"isToggleable"}],class:{"content-area pa-2":!0,selected:t.internalValue},attrs:{dark:t.dark},nativeOn:{click:function(n){return t.onClick(n)}}},[t._t("default",null,{value:t.internalValue})],2)},wg=[];const yg={name:"ToogleSheet",components:{BridgeSheet:Pi},props:{value:Boolean,dark:Boolean,isToggleable:{type:Boolean,default:!0}},data(){return{internalValue:this.value}},methods:{onClick(){!this.isToggleable||(this.internalValue=!this.internalValue,this.$emit("input",this.internalValue))}}},va={};var vg=E(yg,gg,wg,!1,Cg,"573a92b2",null,null);function Cg(t){for(let e in va)this[e]=va[e]}var Ca=function(){return vg.exports}(),bg=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ToggleSheet",{attrs:{value:t.value,dark:!0,isToggleable:t.isToggleable},on:{input:function(n){return t.$emit("input",n)}},scopedSlots:t._u([{key:"default",fn:function(n){var s=n.value;return[i("div",{staticClass:"d-flex align-center"},[i("v-icon",{staticClass:"mr-1",attrs:{color:"primary"}},[t._v(" "+t._s(t.experiment.icon)+" ")]),i("h1",{staticClass:"header"},[t._v(" "+t._s(t.t("experimentalGameplay."+t.experiment.id+".name"))+" ")])],1),i("SelectedStatus",{attrs:{selected:s}}),t.dense?t._e():i("p",[t._v(" "+t._s(t.t("experimentalGameplay."+t.experiment.id+".description"))+" ")])]}}])})},Fg=[];const Ag={name:"ExperimentalGameplay",mixins:[P],components:{ToggleSheet:Ca,SelectedStatus:Bn},props:{experiment:{type:Object,required:!0},isToggleable:{type:Boolean,default:!0},value:Boolean,dense:Boolean}},ba={};var Eg=E(Ag,bg,Fg,!1,_g,"219a16e7",null,null);function _g(t){for(let e in ba)this[e]=ba[e]}var Fa=function(){return Eg.exports}(),xg=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ToggleSheet",{attrs:{value:t.value,dark:!0,isToggleable:t.isToggleable},on:{input:function(n){return t.$emit("input",n)}},scopedSlots:t._u([{key:"default",fn:function(n){var s=n.value;return[i("div",{staticClass:"d-flex align-center"},[i("v-icon",{staticClass:"mr-1",attrs:{color:"primary"}},[t._v(" "+t._s(t.file.icon)+" ")]),i("h1",{staticClass:"header"},[t._v(" "+t._s(t.t("windows.createProject.individualFiles.file."+t.file.id+".name"))+" ")])],1),i("h2",{staticClass:"text-normal font-weight-light"},[t._v(" "+t._s(t.t("packType."+t.file.packId+".name"))+" ")]),i("SelectedStatus",{attrs:{selected:s}}),i("p",[t._v(" "+t._s(t.t("windows.createProject.individualFiles.file."+t.file.id+".description"))+" ")])]}}])})},Dg=[];const kg={name:"ExperimentalGameplay",mixins:[P],components:{ToggleSheet:Ca,SelectedStatus:Bn},props:{file:{type:Object,required:!0},isToggleable:{type:Boolean,default:!0},value:Boolean}},Aa={};var Sg=E(kg,xg,Dg,!1,Bg,"6f4db92c",null,null);function Bg(t){for(let e in Aa)this[e]=Aa[e]}var jg=function(){return Sg.exports}();function Ea(t,e){if(!e||e==="*")return!0;const i=e.split(","),n=t.name||"",s=t.type||"",r=s.replace(/\/.*$/,"");return i.some(a=>{const o=a.trim();return o.charAt(0)==="."?n.toLowerCase().endsWith(o.toLowerCase()):/\/\*$/.test(o)?r===o.replace(/\/.*$/,""):s===o})}var Tg=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.shouldRender?i("BaseWindow",{attrs:{windowTitle:"windows.createProject.title",isVisible:t.isVisible,hasMaximizeButton:!1,hasCloseButton:!t.isFirstProject,isFullscreen:!1,isPersistent:t.isCreatingProject||t.isFirstProject,percentageWidth:80,percentageHeight:80},on:{closeWindow:t.close},scopedSlots:t._u([{key:"default",fn:function(){return[t.isFirstProject?i("BridgeSheet",{staticClass:"pa-3 mb-2"},[i("h1",[t._v(" "+t._s(t.t("windows.createProject.welcome"))+" ")]),i("span",[t._v(" "+t._s(t.t("windows.createProject.welcomeDescription"))+" ")])]):t._e(),i("v-row",{staticClass:"mb-6",attrs:{dense:""}},t._l(t.availablePackTypes,function(n){return i("v-col",{key:n.id,attrs:{xs:"12",sm:"6",md:"4",lg:"3",xl:"2"}},[i("PackTypeViewer",{staticStyle:{height:"100%"},attrs:{packType:n,isSelectable:"",selected:t.createOptions.packs.includes(n.id)},on:{click:function(s){return t.togglePack(n.id)}},scopedSlots:t._u([n.id==="behaviorPack"?{key:"default",fn:function(s){var r=s.selected;return[i("v-switch",{staticClass:"mt-3",attrs:{inset:"",dense:"",label:t.t("windows.createProject.bpAsRpDependency"),value:t.createOptions.rpAsBpDependency||t.createOptions.packs.includes("resourcePack"),disabled:!r||!t.createOptions.packs.includes("resourcePack")},nativeOn:{click:function(a){a.stopPropagation(),t.createOptions.bpAsRpDependency=!t.createOptions.bpAsRpDependency}}})]}}:n.id==="resourcePack"?{key:"default",fn:function(s){var r=s.selected;return[i("v-switch",{staticClass:"mt-3",attrs:{inset:"",dense:"",label:t.t("windows.createProject.rpAsBpDependency"),value:t.createOptions.rpAsBpDependency||t.createOptions.packs.includes("behaviorPack"),disabled:!r||!t.createOptions.packs.includes("behaviorPack")},nativeOn:{click:function(a){a.stopPropagation(),t.createOptions.rpAsBpDependency=!t.createOptions.rpAsBpDependency}}})]}}:null],null,!0)})],1)}),1),i("v-expansion-panels",{staticClass:"mb-6"},[i("v-expansion-panel",[i("v-expansion-panel-header",{attrs:{color:"expandedSidebar","expand-icon":"mdi-menu-down"}},[t._v(" "+t._s(t.t("general.experimentalGameplay"))+" ")]),i("v-expansion-panel-content",{attrs:{color:"expandedSidebar"}},[i("v-row",{attrs:{dense:""}},t._l(t.experimentalToggles,function(n){return i("v-col",{key:n.id,attrs:{xs:"12",sm:"6",md:"4",lg:"3",xl:"2"}},[i("ExperimentalGameplay",{staticStyle:{height:"100%"},attrs:{experiment:n},model:{value:t.createOptions.experimentalGameplay[n.id],callback:function(s){t.$set(t.createOptions.experimentalGameplay,n.id,s)},expression:`
									createOptions.experimentalGameplay[
										experiment.id
									]
								`}})],1)}),1)],1)],1)],1),t.$data.packCreateFiles.length>0?i("v-expansion-panels",{staticClass:"mb-6"},[i("v-expansion-panel",[i("v-expansion-panel-header",{attrs:{color:"expandedSidebar","expand-icon":"mdi-menu-down"}},[t._v(" "+t._s(t.t("windows.createProject.individualFiles.name"))+" ")]),i("v-expansion-panel-content",{attrs:{color:"expandedSidebar"}},[i("v-row",{attrs:{dense:""}},t._l(t.$data.packCreateFiles,function(n,s){return i("v-col",{key:s+"-"+n.id,attrs:{xs:"12",sm:"6",md:"4",lg:"3",xl:"3"}},[i("CreateFile",{staticStyle:{height:"100%"},attrs:{file:n},model:{value:n.isActive,callback:function(r){t.$set(n,"isActive",r)},expression:"file.isActive"}})],1)}),1)],1)],1)],1):t._e(),i("div",{staticClass:"d-flex"},[i("div",{staticStyle:{width:"40%"},on:{drop:function(n){return n.preventDefault(),n.stopPropagation(),t.onDropFile(n)},dragover:function(n){n.preventDefault(),n.stopPropagation()}}},[i("v-file-input",{staticClass:"mr-2",attrs:{label:t.t("windows.createProject.packIcon"),"prepend-icon":null,"prepend-inner-icon":"mdi-image-outline",accept:"image/png",outlined:"",dense:""},model:{value:t.createOptions.icon,callback:function(n){t.$set(t.createOptions,"icon",n)},expression:"createOptions.icon"}})],1),i("v-text-field",{staticClass:"ml-2",attrs:{label:t.t("windows.createProject.projectName.name"),rules:t.nameRules,autocomplete:"off",outlined:"",dense:""},model:{value:t.createOptions.name,callback:function(n){t.$set(t.createOptions,"name",n)},expression:"createOptions.name"}})],1),i("v-textarea",{attrs:{label:t.t("windows.createProject.projectDescription"),autocomplete:"off","auto-grow":"",rows:"1",counter:"",outlined:"",dense:""},model:{value:t.createOptions.description,callback:function(n){t.$set(t.createOptions,"description",n)},expression:"createOptions.description"}}),i("div",{staticClass:"d-flex"},[i("v-text-field",{staticClass:"mr-2",attrs:{label:t.t("windows.createProject.projectPrefix"),autocomplete:"off",outlined:"",dense:""},model:{value:t.createOptions.namespace,callback:function(n){t.$set(t.createOptions,"namespace",n)},expression:"createOptions.namespace"}}),i("v-text-field",{staticClass:"mx-2",attrs:{label:t.t("windows.createProject.projectAuthor"),autocomplete:"off",outlined:"",dense:""},model:{value:t.createOptions.author,callback:function(n){t.$set(t.createOptions,"author",n)},expression:"createOptions.author"}}),i("v-autocomplete",{staticClass:"ml-2",attrs:{label:t.t("windows.createProject.projectTargetVersion"),autocomplete:"off",items:t.availableTargetVersions,loading:t.availableTargetVersionsLoading,outlined:"",dense:"","menu-props":{maxHeight:220}},model:{value:t.createOptions.targetVersion,callback:function(n){t.$set(t.createOptions,"targetVersion",n)},expression:"createOptions.targetVersion"}})],1),i("div",{staticClass:"d-flex"},[i("v-switch",{staticClass:"ma-3",attrs:{inset:"",dense:"",label:t.t("windows.createProject.useLangForManifest"),value:t.createOptions.useLangForManifest},nativeOn:{click:function(n){n.stopPropagation(),t.createOptions.useLangForManifest=!t.createOptions.useLangForManifest}}})],1)]},proxy:!0},{key:"actions",fn:function(){return[i("v-spacer"),i("v-btn",{attrs:{color:"primary",disabled:!t.currentWindow.hasRequiredData||t.isCreatingProject,loading:t.shouldLoad},on:{click:t.createProject}},[i("v-icon",{staticClass:"pr-2"},[t._v("mdi-plus")]),i("span",[t._v(t._s(t.t("windows.createProject.create")))])],1)]},proxy:!0}],null,!1,3080505887)}):t._e()},Pg=[];const $g={name:"CreateProjectWindow",mixins:[P],components:{BaseWindow:de,PackTypeViewer:ya,BridgeSheet:Pi,ExperimentalGameplay:Fa,CreateFile:jg},props:["currentWindow"],data(){return this.currentWindow},computed:{shouldLoad(){return this.isFirstProject?this.isCreatingProject:this.isCreatingProject},nameRules(){return this.projectNameRules.map(t=>e=>{const i=t(e);return i===!0?!0:this.t(i)})}},methods:{close(){this.currentWindow.close()},async createProject(){this.isCreatingProject=!0,await this.currentWindow.createProject(),this.isCreatingProject=!1,this.currentWindow.close()},togglePack(t){const e=this.createOptions.packs,i=e.indexOf(t);i>-1?e.splice(i,1):e.push(t)},setModel(t,e){this.createOptions[t]=e},onDropFile(t){const e=t.dataTransfer.files[0];!Ea(e,"image/png")||(this.createOptions.icon=e)}}},_a={};var Mg=E($g,Tg,Pg,!1,Og,"0dd7079f",null,null);function Og(t){for(let e in _a)this[e]=_a[e]}var Rg=function(){return Mg.exports}();class Xt{async create(e,i){await e.mkdir(this.packPath);for(const n of this.createFiles)!n.isActive||await n.create(e,i)}}class le{constructor(){u(this,"icon","mdi-file-outline");u(this,"isActive",!0);u(this,"isConfigurable",!0)}}class $i extends le{constructor(e){super();u(this,"id","packManifest");u(this,"isConfigurable",!1);this.pack=e}get type(){switch(this.pack){case"BP":return"data";case"RP":return"resources";case"SP":return"skin_pack";case"WT":return"world_template"}}async transformTargetVersion(e,i){var r;return(r=(await(await l.getApp()).dataLoader.readJSON("data/packages/minecraftBedrock/minEngineVersionMap.json"))[i])!=null?r:i}async create(e,i){var s,r,a,o,c,d,p,h,m,g,w;i.packs.includes("behaviorPack")&&((r=(s=i.uuids).data)!=null||(s.data=N())),i.packs.includes("resourcePack")&&((o=(a=i.uuids).resources)!=null||(a.resources=N())),i.packs.includes("skinPack")&&((d=(c=i.uuids).skin_pack)!=null||(c.skin_pack=N())),i.packs.includes("worldTemplate")&&((h=(p=i.uuids).world_template)!=null||(p.world_template=N()));const n={format_version:2,metadata:{authors:Array.isArray(i.author)?i.author:[i.author],generated_with:{bridge:[gt]}},header:{name:i.useLangForManifest?i.name:"pack.name",description:i.useLangForManifest?i.description:"pack.description",min_engine_version:(this.type,(await this.transformTargetVersion(e,i.targetVersion)).split(".").map(f=>Number(f))),uuid:(g=i.uuids[(m=this.type)!=null?m:"data"])!=null?g:N(),version:[1,0,0]},modules:[{type:this.type,uuid:N(),version:[1,0,0]}]};if(i.rpAsBpDependency&&i.packs.includes("resourcePack")&&this.type==="data"){if(!i.uuids.resources)throw new Error("Trying to register RP uuid before it was defined");n.dependencies=[{uuid:i.uuids.resources,version:[1,0,0]}]}if(i.bpAsRpDependency&&i.packs.includes("behaviorPack")&&this.type==="resources"){if(!i.uuids.data)throw new Error("Trying to register RP uuid before it was defined");n.dependencies=[{uuid:i.uuids.data,version:[1,0,0]}]}this.type==="data"&&i.experimentalGameplay.additionalModdingCapabilities&&n.modules.push({type:"client_data",uuid:N(),version:[1,0,0]}),this.type==="data"&&i.experimentalGameplay.enableGameTestFramework&&(n.modules.push({type:"javascript",uuid:N(),entry:"scripts/main.js",version:[1,0,0]}),(w=n.dependencies)!=null||(n.dependencies=[]),n.dependencies.push({uuid:"b26a4d4c-afdf-4690-88f8-931846312678",version:[0,1,0]},{uuid:"6f4b6893-1bb6-42fd-b458-7fa3d0c89616",version:[0,1,0]})),this.type==="world_template"&&(n.header.lock_template_options=!0,n.header.base_game_version=i.targetVersion.split(".").map(f=>Number(f))),await e.writeJSON(`${this.pack}/manifest.json`,n,!0)}}class jn extends le{constructor(e){super();u(this,"id","lang");u(this,"isConfigurable",!1);this.packPath=e}async create(e,i){this.packPath==="BP"&&i.useLangForManifest||(await e.mkdir(`${this.packPath}/texts`),await e.writeFile(`${this.packPath}/texts/en_US.lang`,i.useLangForManifest?"":`pack.name=${i.name} ${this.packPath}
pack.description=${i.description}`),await e.writeJSON(`${this.packPath}/texts/languages.json`,["en_US"],!0))}}class Tn extends le{constructor(e){super();u(this,"id","packIcon");u(this,"isConfigurable",!1);this.packPath=e}async create(e,i){let n=i.icon;if(!n){const s=await l.getApp();await s.dataLoader.fired,n=await s.dataLoader.readFile("data/packages/common/packIcon.png")}await e.writeFile(`${this.packPath}/pack_icon.png`,n)}}class Ig extends le{constructor(){super(...arguments);u(this,"id","tick")}async create(e,i){await e.writeJSON("BP/functions/tick.json",{values:[]},!0)}}class Wg extends le{constructor(){super(...arguments);u(this,"id","gameTestMain");u(this,"isConfigurable",!1)}async create(e,i){i.experimentalGameplay.enableGameTestFramework&&(await e.mkdir("BP/scripts",{recursive:!0}),await e.writeFile("BP/scripts/main.js",""))}}class Ng extends le{constructor(){super(...arguments);u(this,"id","player")}async create(e){const i=await l.getApp();await i.dataLoader.fired;const n=await i.dataLoader.readJSON("data/packages/minecraftBedrock/vanilla/player.json");await e.writeJSON("BP/entities/player.json",n,!0),await e.writeFile("BP/loot_tables/empty.json","{}")}}class xa extends Xt{constructor(){super(...arguments);u(this,"packPath","BP");u(this,"createFiles",[new $i(this.packPath),new jn(this.packPath),new Tn(this.packPath),new Ig,new Wg,new Ng])}}class Lg extends le{constructor(){super(...arguments);u(this,"id","blocks")}async create(e,i){await e.writeJSON("RP/blocks.json",{format_version:[1,1,0]},!0)}}class Hg extends le{constructor(){super(...arguments);u(this,"id","itemTexture")}async create(e,i){await e.mkdir("RP/textures",{recursive:!0}),await e.writeJSON("RP/textures/item_texture.json",{resource_pack_name:i.name,texture_name:"atlas.items",texture_data:{}},!0)}}class Vg extends le{constructor(){super(...arguments);u(this,"id","terrainTexture")}async create(e,i){await e.mkdir("RP/textures",{recursive:!0}),await e.writeJSON("RP/textures/terrain_texture.json",{num_mip_levels:4,padding:8,resource_pack_name:i.name,texture_name:"atlas.terrain",texture_data:{}},!0)}}class zg extends le{constructor(){super(...arguments);u(this,"id","flipbookTextures")}async create(e,i){await e.mkdir("RP/textures",{recursive:!0}),await e.writeJSON("RP/textures/flipbook_textures.json",[],!0)}}class Ug extends le{constructor(){super(...arguments);u(this,"id","biomesClient")}async create(e,i){await e.writeJSON("RP/biomes_client.json",{biomes:{}},!0)}}class Gg extends le{constructor(){super(...arguments);u(this,"id","sounds")}async create(e,i){await e.writeJSON("RP/sounds.json",{},!0)}}class Jg extends le{constructor(){super(...arguments);u(this,"id","soundDefinitions")}async create(e,i){await e.mkdir("RP/sounds",{recursive:!0}),await e.writeJSON("RP/sounds/sound_definitions.json",{sound_definitions:{}},!0)}}class Da extends Xt{constructor(){super(...arguments);u(this,"packPath","RP");u(this,"createFiles",[new $i(this.packPath),new jn(this.packPath),new Tn(this.packPath),new Lg,new Hg,new Vg,new zg,new Ug,new Gg,new Jg])}}class qg extends le{constructor(){super(...arguments);u(this,"id","skins")}create(e,i){return e.writeJSON("SP/skins.json",{geometry:"skinpacks/skins.json",skins:[],serialize_name:i.namespace,localization_name:i.namespace},!0)}}class ka extends Xt{constructor(){super(...arguments);u(this,"packPath","SP");u(this,"createFiles",[new $i(this.packPath),new jn(this.packPath),new Tn(this.packPath),new qg])}}class Kg extends le{constructor(){super(...arguments);u(this,"id","compilerConfig");u(this,"isConfigurable",!1)}async create(e,i){await e.mkdir(".bridge/compiler")}}class Qg extends Xt{constructor(){super(...arguments);u(this,"packPath",".bridge");u(this,"createFiles",[new Kg])}}class Xg extends le{constructor(){super(...arguments);u(this,"id","gitignore")}async create(e,i){await e.writeFile(".gitignore",`Desktop.ini    
.DS_Store 
!.bridge/
.bridge/*
!.bridge/compiler/
!.bridge/extensions
!.bridge/config.json
builds`)}}class Sa extends Xt{constructor(){super(...arguments);u(this,"packPath","WT");u(this,"createFiles",[new $i(this.packPath)])}}class Ba extends le{constructor(){super(...arguments);u(this,"id","bridgeConfig")}async create(e,i){await e.writeJSON("config.json",{type:"minecraftBedrock",name:i.name,namespace:i.namespace,authors:Array.isArray(i.author)?i.author:[i.author],targetVersion:i.targetVersion,description:i.description,experimentalGameplay:i.experimentalGameplay,packs:Object.fromEntries(i.packs.filter(n=>n!==".bridge").map(n=>[n,Ut[n]])),compiler:{plugins:["typeScript","entityIdentifierAlias","customEntityComponents","customItemComponents","customBlockComponents","customCommands","moLang",["simpleRewrite",{packName:i.name}]]}},!0)}}class Zt extends ne{constructor(){super(Rg,!1);u(this,"isFirstProject",!1);u(this,"createOptions",this.getDefaultOptions());u(this,"isCreatingProject",!1);u(this,"availableTargetVersions",[]);u(this,"availableTargetVersionsLoading",!0);u(this,"packs",{behaviorPack:new xa,resourcePack:new Da,skinPack:new ka,worldTemplate:new Sa,".bridge":new Qg});u(this,"availablePackTypes",[]);u(this,"createFiles",[new Xg,new Ba]);u(this,"experimentalToggles",[]);u(this,"projectNameRules",[e=>e.match(/^[a-zA-Z0-9_ ]*$/)!==null||"windows.createProject.projectName.invalidLetters",e=>e.trim()!==""||"windows.createProject.projectName.mustNotBeEmpty"]);this.defineWindow(),l.ready.once(async e=>{await e.dataLoader.fired,this.availableTargetVersions=(await e.dataLoader.readJSON("data/packages/minecraftBedrock/formatVersions.json")).reverse(),this.createOptions.targetVersion=this.availableTargetVersions[0],this.availableTargetVersionsLoading=!1,this.experimentalToggles=await e.dataLoader.readJSON("data/packages/minecraftBedrock/experimentalGameplay.json"),this.createOptions.experimentalGameplay=Object.fromEntries(this.experimentalToggles.map(i=>[i.id,!1]))}),Ce.ready.once(()=>{this.availablePackTypes=Ce.all()})}get packCreateFiles(){return Object.entries(this.packs).map(([e,i])=>this.createOptions.packs.includes(e)?i.createFiles.map(n=>Object.assign(n,{packId:e})):[]).flat().filter(e=>e.isConfigurable)}get hasRequiredData(){return this.createOptions.packs.length>1&&this.projectNameRules.every(e=>e(this.createOptions.name)===!0)&&this.createOptions.namespace.length>0&&this.createOptions.author.length>0&&this.createOptions.targetVersion.length>0}open(e=!1){this.createOptions=this.getDefaultOptions(),this.isFirstProject=e,this.packCreateFiles.forEach(i=>i.isActive=!0),super.open()}async createProject(){const e=await l.getApp();G&&!this.isFirstProject&&await new ue({description:"windows.createProject.saveCurrentProject",cancelText:"general.no",confirmText:"general.yes"}).fired&&await Ot();const n=await e.fileSystem.getDirectoryHandle(`projects/${this.createOptions.name}`,{create:!0}),s=new Fe(n);for(const o of this.createFiles)await o.create(s,this.createOptions);const r=this.createOptions.packs.sort((o,c)=>c.localeCompare(o));for(const o of r)await this.packs[o].create(s,this.createOptions);let a;this.isFirstProject||(a=e.project.name),await e.projectManager.addProject(n),await e.extensionLoader.installFilesToCurrentProject(),G&&!this.isFirstProject&&await e.projectManager.removeProject(a),this.createOptions=this.getDefaultOptions(),await l.audioManager.playAudio("confirmation_002.ogg",1)}static getDefaultOptions(){var e,i;return{author:(i=(e=F==null?void 0:F.projects)==null?void 0:e.defaultAuthor)!=null?i:"",description:"",icon:null,name:"",namespace:"bridge",targetVersion:"",packs:[".bridge","behaviorPack","resourcePack"],rpAsBpDependency:!1,bpAsRpDependency:!1,useLangForManifest:!1,experimentalGameplay:{},uuids:{}}}getDefaultOptions(){return W(j({},Zt.getDefaultOptions()),{targetVersion:this.availableTargetVersions?this.availableTargetVersions[0]:"",experimentalGameplay:this.experimentalToggles?Object.fromEntries(this.experimentalToggles.map(e=>[e.id,!1])):{}})}static async loadFromConfig(){var n,s,r,a,o,c,d;const e=await l.getApp();let i;try{return i=await e.project.fileSystem.readJSON("config.json"),{author:(n=i.author)!=null?n:"",description:(s=i.description)!=null?s:"",icon:null,name:(r=i.name)!=null?r:"",namespace:(a=i.namespace)!=null?a:"bridge",targetVersion:(o=i.targetVersion)!=null?o:"",packs:(c=Object.values(i.packs))!=null?c:[".bridge","behaviorPack","resourcePack"],useLangForManifest:!1,rpAsBpDependency:!1,bpAsRpDependency:!1,experimentalGameplay:(d=i.experimentalGameplay)!=null?d:{},uuids:{}}}catch{return this.getDefaultOptions()}}}async function ja(t,e=!1){var w,f,D;const i=await l.getApp(),n=i.fileSystem,s=await n.getDirectoryHandle("import",{create:!0}),r=new ma(s);e||await i.projectManager.projectReady.fired;const a=await t.getFile(),o=new Uint8Array(await a.arrayBuffer());r.createTask(i.taskManager),await r.unzip(o);const c=t.name.replace(".mcaddon","");G&&!e&&await new ue({description:"windows.projectChooser.openNewProject.saveCurrentProject",cancelText:"general.no",confirmText:"general.yes"}).fired&&await Ot();let d,p;const h=[".bridge"];for await(const A of s.values())if(A.kind==="directory"&&await n.fileExists(`import/${A.name}/manifest.json`)){const _=await n.readJSON(`import/${A.name}/manifest.json`),C=(w=_==null?void 0:_.modules)!=null?w:[];d||(d=(f=_==null?void 0:_.metadata)==null?void 0:f.authors),p||(p=(D=_==null?void 0:_.header)==null?void 0:D.description);const S=Zg(C);if(!S)return;h.push(S);const T=Ut[S];await n.move(`import/${A.name}`,`projects/${c}/${T}`)}const m=Zt.getDefaultOptions();m.name=c,m.author=d!=null?d:["Unknown"],m.description=p!=null?p:"",m.packs=h,m.targetVersion=await ft(),await new Ba().create(new Fe(await n.getDirectoryHandle(`projects/${c}`)),m),await n.mkdir(`projects/${c}/.bridge/extensions`),await n.mkdir(`projects/${c}/.bridge/compiler`);let g;e||(g=i.project.name),Qe.ready.hasFired&&await i.projectManager.addProject(await n.getDirectoryHandle(`projects/${c}`),!0),G&&!e&&await i.projectManager.removeProject(g),await n.unlink("import")}function Zg(t){for(const{type:e}of t)switch(e){case"data":return"behaviorPack";case"resources":return"resourcePack";case"skin_pack":return"skinPack";case"world_template":return"worldTemplate"}}async function Pn(){let t;try{[t]=await window.showOpenFilePicker({multiple:!1,types:[{description:"Choose a Project",accept:{"application/zip":[".brproject",".mcaddon"]}}]})}catch{return}const e=t.name;e.endsWith(".brproject")?await Sn(t):e.endsWith(".mcaddon")?await ja(t):new ae({description:"windows.projectChooser.wrongFileType"})}async function $n(){const e=await new Gt("windows.projectChooser.title",{isPersistent:!1}).actionManager;e.create({icon:"mdi-plus",name:"windows.projectChooser.newProject.name",description:"windows.projectChooser.saveCurrentProject.description",onTrigger:async()=>{(await l.getApp()).windows.createProject.open()}}),e.create({icon:"mdi-content-save-outline",name:"windows.projectChooser.saveCurrentProject.name",description:"windows.projectChooser.saveCurrentProject.description",onTrigger:()=>Ot()}),e.create({icon:"mdi-folder-open-outline",name:"windows.projectChooser.openNewProject.name",description:"windows.projectChooser.openNewProject.description",onTrigger:()=>Pn()})}async function Yg(){Tt({id:"projects",displayName:"windows.projectChooser.title",icon:"mdi-view-dashboard-outline",onClick:async()=>{G?$n():l.instance.windows.projectChooser.open()}});const t=Tt({id:"packExplorer",displayName:"windows.packExplorer.title",icon:"mdi-folder-outline"});l.getApp().then(e=>{t.setSidebarContent(e.packExplorer),t.click()}),Tt({id:"fileSearch",displayName:"findAndReplace.name",icon:"mdi-file-search-outline",onClick:async()=>{var i;const e=await l.getApp();(i=e.project.tabSystem)==null||i.add(new Yf(e.project.tabSystem),!0)}}),Tt({id:"compiler",displayName:"sidebar.compiler.name",icon:"mdi-cogs",onClick:async()=>{var i;await((i=(await l.getApp()).project)==null?void 0:i.compilerManager.openWindow())}}),Tt({id:"extensions",displayName:"sidebar.extensions.name",icon:"mdi-puzzle-outline",onClick:async()=>{await(await l.getApp()).windows.extensionStore.open()}}),We.loadedSettings.once(e=>{var i,n,s;for(const r of Object.values(Z.sidebarElements))r.isVisible=(s=(n=(i=e==null?void 0:e.sidebar)==null?void 0:i.sidebarElements)==null?void 0:n[r.uuid])!=null?s:!0})}class e3{constructor(e,i){u(this,"currentStepCount",0);u(this,"window");this.taskManager=e,this.taskDetails=i}update(e,i){e!==void 0&&(this.currentStepCount=e),i!==void 0&&(this.taskDetails.totalTaskSteps=i)}createWindow(){this.window=new ae({name:this.name,description:this.description})}complete(){this.window&&this.window.dispose(),this.dispose()}dispose(){var e;(e=this.taskManager)==null||e.delete(this)}get name(){return this.taskDetails.name}get description(){return this.taskDetails.description}get totalStepCount(){var e;return(e=this.taskDetails.totalTaskSteps)!=null?e:100}get icon(){return this.taskDetails.icon}get progress(){return Math.round(this.currentStepCount/this.totalStepCount*100)}}const Yt=ke([]);class t3{create(e){const i=new e3(this,e);return Yt.push(i),i}delete(e){Yt.splice(Yt.indexOf(e),1)}get hasRunningTasks(){return Yt.length>0}}class Xe extends ee{constructor(){super(...arguments);u(this,"id",N());u(this,"type","divider")}}const Mn=new Set(["INPUT","TEXTAREA"]);function i3(t){const e=new Mt("mdi-pencil-outline","toolbar.edit.name");e.addItem(t.actionManager.create({icon:"mdi-undo",name:"actions.undo.name",description:"actions.undo.description",keyBinding:"Ctrl + Z",prevent:i=>i.tagName==="INPUT"||i.tagName==="TEXTAREA",onTrigger:()=>{var n;const i=(n=t.tabSystem)==null?void 0:n.selectedTab;i instanceof jt?i.treeEditor.undo():i instanceof ht?i.editorInstance.trigger("toolbar","undo",null):document.execCommand("undo")}})),e.addItem(t.actionManager.create({icon:"mdi-redo",name:"actions.redo.name",description:"actions.redo.description",keyBinding:fr,prevent:i=>i.tagName==="INPUT"||i.tagName==="TEXTAREA",onTrigger:()=>{var n;const i=(n=t.tabSystem)==null?void 0:n.selectedTab;i instanceof jt?i.treeEditor.redo():i instanceof ht?i.editorInstance.trigger("toolbar","redo",null):document.execCommand("redo")}})),e.addItem(new Xe),e.addItem(t.actionManager.create({icon:"mdi-content-copy",name:"actions.copy.name",description:"actions.copy.description",keyBinding:"Ctrl + C",prevent:i=>Mn.has(i.tagName),onTrigger:()=>{var i,n;return(n=(i=t.tabSystem)==null?void 0:i.selectedTab)==null?void 0:n.copy()}})),e.addItem(t.actionManager.create({icon:"mdi-content-cut",name:"actions.cut.name",description:"actions.cut.description",keyBinding:"Ctrl + X",prevent:i=>Mn.has(i.tagName),onTrigger:()=>{var i,n;return(n=(i=t.tabSystem)==null?void 0:i.selectedTab)==null?void 0:n.cut()}})),e.addItem(t.actionManager.create({icon:"mdi-content-paste",name:"actions.paste.name",description:"actions.paste.description",keyBinding:"Ctrl + V",prevent:i=>Mn.has(i.tagName),onTrigger:()=>{var i,n;return(n=(i=t.tabSystem)==null?void 0:i.selectedTab)==null?void 0:n.paste()}})),e.addItem(new Xe),e.addItem(t.actionManager.create({icon:"mdi-pencil-outline",name:"actions.toggleReadOnly.name",description:"actions.toggleReadOnly.description",onTrigger:()=>{var n;const i=(n=t.tabSystem)==null?void 0:n.selectedTab;i instanceof Q&&i.setReadOnly(!i.isReadOnly)}})),l.toolbar.addCategory(e)}function n3(t){const e=new Mt("mdi-file-outline","toolbar.file.name");e.addItem(t.actionManager.create({id:"bridge.action.newFile",icon:"mdi-file-plus-outline",name:"actions.newFile.name",description:"actions.newFile.description",keyBinding:"Ctrl + N",onTrigger:()=>t.windows.createPreset.open()})),e.addItem(t.actionManager.create({id:"bridge.action.openFile",icon:"mdi-open-in-app",name:"actions.openFile.name",description:"actions.openFile.description",keyBinding:"Ctrl + O",onTrigger:async()=>{let n;try{n=await window.showOpenFilePicker({multiple:!0})}catch{return}for(const s of n)await t.fileDropper.importFile(s)||t.project.openFile(s,{isTemporary:!1})}})),e.addItem(t.actionManager.create({id:"bridge.action.searchFile",icon:"mdi-magnify",name:"actions.searchFile.name",description:"actions.searchFile.description",keyBinding:"Ctrl + P",onTrigger:()=>t.windows.filePicker.open()})),e.addItem(t.actionManager.create({icon:"mdi-file-cancel-outline",name:"actions.closeFile.name",description:"actions.closeFile.description",keyBinding:"Ctrl + W",onTrigger:()=>l.ready.once(n=>{var s;return(s=n.tabSystem)==null?void 0:s.close()})})),e.addItem(new Xe),e.addItem(t.actionManager.create({icon:"mdi-content-save-outline",name:"actions.saveFile.name",description:"actions.saveFile.description",keyBinding:"Ctrl + S",onTrigger:()=>l.ready.once(n=>{var s;return(s=n.tabSystem)==null?void 0:s.save()})})),G?e.addItem(t.actionManager.create({icon:"mdi-file-download-outline",name:"actions.downloadFile.name",description:"actions.downloadFile.description",keyBinding:"Ctrl + Shift + S",onTrigger:async()=>{var c;const n=await l.getApp();await n.project.compilerManager.fired;const s=(c=n.project.tabSystem)==null?void 0:c.selectedTab;if(!(s instanceof Q))return;const[r,a]=await n.project.compilerManager.compileWithFile(s.getPath(),await s.getFile());let o;typeof a=="string"?o=new TextEncoder().encode(a):a instanceof Blob?o=new Uint8Array(await a.arrayBuffer()):o=new Uint8Array(a),ia(s.name,o)}})):e.addItem(t.actionManager.create({icon:"mdi-content-save-edit-outline",name:"actions.saveAs.name",description:"actions.saveAs.description",keyBinding:"Ctrl + Shift + S",onTrigger:()=>l.ready.once(n=>{var s;return(s=n.tabSystem)==null?void 0:s.saveAs()})})),e.addItem(t.actionManager.create({icon:"mdi-content-save-settings-outline",name:"actions.saveAll.name",description:"actions.saveAll.description",keyBinding:ge()==="win32"?"Ctrl + Alt + S":"Ctrl + Meta + S",onTrigger:()=>l.ready.once(n=>{var s;return(s=n.tabSystem)==null?void 0:s.saveAll()})}));const i=t.actionManager.getAction("bridge.action.openSettings");i&&t.mobile.isCurrentDevice()&&(e.addItem(new Xe),e.addItem(i)),l.toolbar.addCategory(e)}function s3(t){const e=new Mt("mdi-help","toolbar.help.name");e.addItem(t.actionManager.create({name:"actions.releases.name",icon:"mdi-alert-decagram",description:"actions.releases.description",onTrigger:()=>window.open("https://github.com/bridge-core/editor/releases","_blank")})),e.addItem(t.actionManager.create({name:"actions.bugReports.name",icon:"mdi-bug-outline",description:"actions.bugReports.description",onTrigger:()=>window.open("https://github.com/bridge-core/editor/issues/new/choose","_blank")})),e.addItem(new Xe),e.addItem(t.actionManager.create({name:"actions.extensionAPI.name",icon:"mdi-puzzle-outline",description:"actions.extensionAPI.description",onTrigger:()=>l.openUrl("https://bridge-core.github.io/extension-docs/","_blank")})),e.addItem(t.actionManager.create({name:"actions.gettingStarted.name",icon:"mdi-help-circle-outline",description:"actions.gettingStarted.description",onTrigger:()=>l.openUrl("https://bridge-core.github.io/editor-docs/getting-started/","_blank")})),e.addItem(t.actionManager.create({name:"actions.faq.name",icon:"mdi-frequently-asked-questions",description:"actions.faq.description",onTrigger:()=>l.openUrl("https://bridge-core.github.io/editor-docs/faq/","_blank")})),l.toolbar.addCategory(e)}function r3(t){const e=new Mt("mdi-wrench-outline","toolbar.tools.name");e.addItem(t.actionManager.create({icon:"mdi-book-open-page-variant",name:"actions.docs.name",description:"actions.docs.description",onTrigger:()=>l.openUrl("https://bedrock.dev","DocWindow")})),e.addItem(new Xe),e.addItem(t.actionManager.create({id:"bridge.action.refreshProject",icon:"mdi-folder-refresh-outline",name:"windows.packExplorer.refresh.name",description:"windows.packExplorer.refresh.description",keyBinding:ge()==="win32"?"Ctrl + Alt + R":"Ctrl + Meta + R",onTrigger:async()=>{await t.projectManager.projectReady.fired,await t.project.refresh()}})),e.addItem(t.actionManager.create({icon:"mdi-reload",name:"actions.reloadAutoCompletions.name",description:"actions.reloadAutoCompletions.description",keyBinding:"Ctrl + Shift + R",onTrigger:async()=>{await t.projectManager.projectReady.fired,t.project.jsonDefaults.reload()}})),e.addItem(t.actionManager.create({icon:"mdi-puzzle-outline",name:"actions.reloadExtensions.name",description:"actions.reloadExtensions.description",onTrigger:async()=>{t.extensionLoader.deactiveAll(!0),t.extensionLoader.loadExtensions(),await t.projectManager.projectReady.fired,t.project.extensionLoader.deactiveAll(!0),t.project.extensionLoader.loadExtensions()}})),e.addItem(new Xe),e.addItem(t.actionManager.create({icon:"mdi-cancel",name:"actions.clearAllNotifications.name",description:"actions.clearAllNotifications.description",onTrigger:()=>gc()})),l.toolbar.addCategory(e)}function a3(t){const e=new Mt("mdi-view-dashboard-outline","toolbar.project.name");t.mobile.change.on(i=>e.setShouldRender(!i)),e.addItem(t.actionManager.create({icon:"mdi-folder-open-outline",name:"windows.projectChooser.title",description:"windows.projectChooser.description",onTrigger:()=>{G?$n():l.instance.windows.projectChooser.open()}})),e.addItem(new Xe),e.addItem(t.actionManager.create({id:"bridge.action.newProject",icon:"mdi-folder-plus-outline",name:"actions.newProject.name",description:"actions.newProject.description",onTrigger:()=>t.windows.createProject.open()})),e.addItem(t.actionManager.create({icon:"mdi-import",name:"actions.importBrproject.name",description:"actions.importBrproject.description",onTrigger:()=>Pn()})),e.addItem(new Xe),e.addItem(t.actionManager.create({icon:"mdi-puzzle-outline",name:"actions.extensions.name",description:"actions.extensions.description",onTrigger:()=>t.windows.extensionStore.open()})),e.addItem(t.actionManager.create({id:"bridge.action.openSettings",icon:"mdi-cog-outline",name:"actions.settings.name",description:"actions.settings.description",keyBinding:"Ctrl + ,",onTrigger:()=>t.windows.settings.open()})),l.toolbar.addCategory(e)}async function o3(t){a3(t),n3(t),i3(t),r3(t),s3(t)}var u3=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.shouldRender?i("BaseWindow",{attrs:{windowTitle:"windows.browserUnsupported.title",isVisible:t.isVisible,isPersistent:!0,hasCloseButton:!1,width:420,height:240},on:{closeWindow:t.onClose},scopedSlots:t._u([{key:"default",fn:function(){return[i("div",{staticClass:"text-center"},[i("v-icon",{staticStyle:{"font-size":"8em"},attrs:{color:"error"}},[t._v(" mdi-alert-octagon-outline ")]),i("p",[t._v(t._s(t.t("windows.browserUnsupported.description")))])],1)]},proxy:!0},{key:"actions",fn:function(){return[i("v-spacer"),i("v-btn",{attrs:{color:"error"},on:{click:t.onContinue}},[i("v-icon",{staticClass:"mr-1"},[t._v("mdi-check")]),t._v(" "+t._s(t.t("windows.browserUnsupported.continue"))+" ")],1),i("v-spacer")]},proxy:!0}],null,!1,3226775507)}):t._e()},c3=[];const l3={name:"Discord",mixins:[P],components:{BaseWindow:de},props:["currentWindow"],data(){return this.currentWindow},methods:{onClose(){this.currentWindow.close()},async onContinue(){await Le("confirmedUnsupportedBrowser",!0),this.onClose()}}},Ta={};var d3=E(l3,u3,c3,!1,p3,null,null,null);function p3(t){for(let e in Ta)this[e]=Ta[e]}var h3=function(){return d3.exports}();class m3 extends ne{constructor(){super(h3);this.defineWindow()}}var f3=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-normal pa-4 mb-2 rounded-lg card"},[i("div",{staticClass:"d-flex align-center mb-2"},[t.extension.icon?i("v-icon",{staticClass:"mr-1",attrs:{color:"accent"}},[t._v(" "+t._s(t.extension.icon)+" ")]):t._e(),i("h3",[t._v(t._s(t.extension.name))]),i("v-spacer"),t.extension.isInstalled?t.extension.isUpdateAvailable?i("v-btn",{staticClass:"rounded-lg elevation-0",attrs:{loading:t.extension.isLoading,color:"primary",small:""},on:{click:function(n){return t.extension.update()}}},[i("v-icon",{class:{"mr-1":!t.isMobile},attrs:{small:!t.isMobile}},[t._v(" mdi-sync ")]),t.isMobile?t._e():i("span",[t._v("Update")])],1):i("v-tooltip",{attrs:{color:t.extension.isActive?"success":"error",right:""},scopedSlots:t._u([{key:"activator",fn:function(n){var s=n.on;return[t.extension.isActive?i("v-icon",t._g({attrs:{color:"success"}},s),[t._v(" mdi-check ")]):i("v-icon",t._g({attrs:{color:"error"}},s),[t._v("mdi-close")])]}}])},[i("span",[t._v(" "+t._s(t.extension.isActive?"Extension Active":"Extension Inactive")+" ")])]):i("v-btn",{staticClass:"rounded-lg elevation-0",attrs:{loading:t.extension.isLoading,color:"primary",small:""},on:{click:function(n){return t.extension.download()}}},[i("v-icon",{class:{"mr-1":!t.isMobile},attrs:{small:!t.isMobile}},[t._v(" mdi-download ")]),t.isMobile?t._e():i("span",[t._v("Download")])],1),t.extension.isInstalled?i("v-menu",{attrs:{"offset-y":"","offset-x":"",rounded:"lg"},scopedSlots:t._u([{key:"activator",fn:function(n){var s=n.on,r=n.attrs;return[i("v-btn",t._g(t._b({attrs:{small:"",icon:""}},"v-btn",r,!1),s),[i("v-icon",[t._v("mdi-dots-vertical")])],1)]}}],null,!1,3448670655),model:{value:t.extension.showMenu,callback:function(n){t.$set(t.extension,"showMenu",n)},expression:"extension.showMenu"}},[i("v-list",{attrs:{color:"menu",dense:""}},t._l(t.extension.actions,function(n,s){return i("v-list-item",{key:s,on:{click:function(r){return r.stopPropagation(),n.trigger()}}},[i("v-list-item-icon",[i("v-icon",{attrs:{color:"primary"}},[t._v(" "+t._s(n.icon))])],1),i("v-list-item-title",[t._v(" "+t._s(t.t(n.name))+" ")])],1)}),1)],1):t._e()],1),i("v-row",{staticClass:"mb-4",attrs:{dense:""}},t._l(t.tags,function(n){return i("v-col",{key:n.text,staticClass:"flex-grow-0"},[i("v-chip",{attrs:{color:n.color,"text-color":n.color?"white":void 0,small:""},on:{click:function(s){n.type==="search"?t.$emit("search",n.text):t.$emit("select",n.text.toLowerCase())}}},[i("v-icon",{staticClass:"mr-1"},[t._v(t._s(n.icon))]),t._v(" "+t._s(n.text)+" ")],1)],1)}),1),i("span",[t._v(t._s(t.extension.description))]),t.extension.connected&&t.extension.connected.contributesCompilerPlugins?[i("v-divider",{staticClass:"my-2"}),i("span",{staticClass:"font-weight-bold"},[t._v(" "+t._s(t.t("windows.extensionStore.compilerPluginDownload.compilerPlugins"))+": ")]),i("span",[t._v(" "+t._s(t.compilerPlugins)+" ")])]:t._e()],2)},g3=[];const w3={name:"ExtensionCard",mixins:[P],props:{extension:Object},computed:{tags(){return[{icon:"mdi-account-outline",color:"primary",text:this.extension.author,type:"search"},{icon:"mdi-code-braces",text:this.extension.displayVersion,type:"search"}].concat(this.extension.tags)},isMobile(){return this.$vuetify.breakpoint.mobile},compilerPlugins(){return Object.keys(this.extension.connected.compilerPlugins).map(t=>`"${t}"`).join(", ")}}},Pa={};var y3=E(w3,f3,g3,!1,v3,"5b631fba",null,null);function v3(t){for(let e in Pa)this[e]=Pa[e]}var C3=function(){return y3.exports}(),b3=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("SidebarWindow",{attrs:{windowTitle:t.title,isVisible:t.isVisible,hasMaximizeButton:!1,isFullscreen:!1,percentageWidth:80,percentageHeight:80,sidebarItems:t.sidebar.elements},on:{closeWindow:t.onClose},scopedSlots:t._u([{key:"sidebar",fn:function(){return[i("v-text-field",{staticClass:"pt-2",attrs:{"prepend-inner-icon":"mdi-magnify",label:t.t("windows.extensionStore.searchExtensions"),autocomplete:"off",autofocus:t.pointerDevice==="mouse",outlined:"",dense:""},model:{value:t.sidebar._filter,callback:function(n){t.$set(t.sidebar,"_filter",n)},expression:"sidebar._filter"}})]},proxy:!0},{key:"default",fn:function(){return[t.currentExtensions.length===0?i("div",[t._v(" No plugins match your search... ")]):t._l(t.currentExtensions,function(n){return i("ExtensionCard",{key:n.id+"."+n.isInstalled+"."+n.isUpdateAvailable,attrs:{extension:n},on:{search:function(s){return t.sidebar._filter=s},select:function(s){return t.$data.selectedSidebar=s}}})})]},proxy:!0}]),model:{value:t.$data.selectedSidebar,callback:function(n){t.$set(t.$data,"selectedSidebar",n)},expression:"$data.selectedSidebar"}})},F3=[];const A3={name:"CreatePresetWindow",mixins:[P],components:{SidebarWindow:Jt,ExtensionCard:C3},props:["currentWindow"],setup(){return{pointerDevice:ce}},data(){return this.currentWindow},computed:{title(){return this.sidebar.currentElement?`[${this.sidebar._filter||this.sidebar.currentElement.text} - ${this.t("windows.extensionStore.title")}]`:"windows.extensionStore.title"},currentExtensions(){if(this.sidebar._filter!==""){const t=this.sidebar._filter.toLowerCase();return this.extensions.filter(e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.author.toLowerCase().includes(t)||e.version.includes(t)||e.tags.some(i=>i.text.toLowerCase().includes(t)))}return this.sidebar.currentState}},methods:{onClose(){this.currentWindow.close()}}},$a={};var E3=E(A3,b3,F3,!1,_3,null,null,null);function _3(t){for(let e in $a)this[e]=$a[e]}var x3=function(){return E3.exports}();let je;class D3 extends ne{constructor(){super(x3);u(this,"baseUrl","https://raw.githubusercontent.com/bridge-core/plugins/master");u(this,"sidebar",new xi([]));u(this,"extensions",[]);u(this,"extensionTags");u(this,"installedExtensions",[]);u(this,"tags",{});u(this,"updates",new Set);l.eventSystem.on("projectChanged",()=>{je==null||je.dispose(),je=void 0}),this.defineWindow()}async open(){l.audioManager.playAudio("click5.ogg",1);const e=await l.getApp();e.windows.loadingWindow.open(),this.sidebar.removeElements(),this.installedExtensions=[],await e.dataLoader.fired,this.extensionTags=await e.dataLoader.readJSON("data/packages/common/extensionTags.json");const i=await e.extensionLoader.getInstalledExtensions();let n;try{n=await fetch(`${this.baseUrl}/extensions.json`).then(s=>s.json())}catch{this.close(),e.windows.loadingWindow.close(),new ae({description:"windows.extensionStore.offlineError"});return}this.extensions=n.map(s=>new Jr(this,s)),this.updates.clear(),i.forEach((s,r)=>{const a=this.extensions.find(o=>o.id===r);a?(a.setInstalled(),a.setConnected(s),Ve.exports.compare(s.version,a.version,"<")&&(a.setIsUpdateAvailable(),this.updates.add(a))):this.extensions.push(s.forStore(this))}),je==null||je.dispose(),this.setupSidebar(),e.windows.loadingWindow.close(),super.open()}close(){l.audioManager.playAudio("click5.ogg",1),super.close(),this.updates.size>0&&(je=new hi({icon:"mdi-sync",color:"primary",message:"sidebar.notifications.updateExtensions",onClick:()=>{this.updates.forEach(e=>e.update(!1)),je==null||je.dispose()}}))}updateInstalled(e){this.updates.delete(e)}delete(e){const i=this.installedExtensions.findIndex(n=>n.id===e.id);i!==-1&&(this.installedExtensions.splice(i,1),e.isLocalOnly&&(this.extensions=this.extensions.filter(n=>n.id!==e.id)))}setupSidebar(){this.sidebar.addElement(new Pt({id:"all",text:"All",icon:"mdi-format-list-bulleted-square",color:"primary"}),this.getExtensions()),this.sidebar.addElement(new Pt({id:"installed",text:"Installed",icon:"mdi-download-circle-outline",color:"primary"}),this.installedExtensions),Object.values(this.tags).forEach(e=>this.sidebar.addElement(e.asSidebarElement(),this.getExtensionsByTag(e))),this.sidebar.setDefaultSelected()}getExtensions(e){return[...new Set([...this.extensions,...this.installedExtensions])].filter(i=>!i.isLocalOnly&&(!e||i.hasTag(e))).sort(({releaseTimestamp:i},{releaseTimestamp:n})=>n-i)}getExtensionsByTag(e){return this.getExtensions(e)}getTagIcon(e){var i;return(i=this.extensionTags[e])==null?void 0:i.icon}getTagColor(e){var i;return(i=this.extensionTags[e])==null?void 0:i.color}getExtensionById(e){return this.getExtensions().find(i=>i.id===e)}get selectedSidebar(){return this.sidebar.selected}set selectedSidebar(e){this.sidebar.clearFilter(),this.sidebar.selected=e}getBaseUrl(){return this.baseUrl}addInstalledExtension(e){this.installedExtensions.push(e)}}var k3=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseWindow",{attrs:{windowTitle:t.$data.message||"windows.loadingWindow.titles.loading",isVisible:t.isVisible,hasMaximizeButton:!1,hasCloseButton:!1,isPersistent:!0,isFullscreen:!1,width:300,height:40,isSmallPopup:!0},on:{closeWindow:t.onClose},scopedSlots:t._u([{key:"default",fn:function(){return[i("v-progress-linear",{attrs:{indeterminate:""}})]},proxy:!0}])})},S3=[];const B3={name:"LoadingWindow",components:{BaseWindow:de},props:["currentWindow"],data(){return this.currentWindow},methods:{onClose(){this.currentWindow.close()}}},Ma={};var j3=E(B3,k3,S3,!1,T3,null,null,null);function T3(t){for(let e in Ma)this[e]=Ma[e]}var P3=function(){return j3.exports}();class Oa extends ne{constructor(){super(P3);u(this,"virtualWindows",0);u(this,"loadingMessages",[]);this.defineWindow()}get message(){return this.loadingMessages[this.loadingMessages.length-1]}open(e){this.virtualWindows++,this.loadingMessages.push(e),this.isVisible||super.open()}close(){this.virtualWindows--,this.loadingMessages.pop(),this.virtualWindows===0?super.close():this.virtualWindows<0&&(this.virtualWindows=0)}closeAll(){this.virtualWindows=0,this.loadingMessages=[],super.close()}}var $3=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.shouldRender?i("SidebarWindow",{attrs:{windowTitle:"windows.createPreset.title",isVisible:t.isVisible,hasMaximizeButton:!1,isFullscreen:!1,percentageWidth:80,percentageHeight:80,sidebarItems:t.sidebar.elements},on:{closeWindow:t.onClose},scopedSlots:t._u([{key:"sidebar",fn:function(){return[i("v-text-field",{staticClass:"pt-2",attrs:{"prepend-inner-icon":"mdi-magnify",label:t.t("windows.createPreset.searchPresets"),autocomplete:"off",autofocus:"",outlined:"",dense:""},model:{value:t.sidebar._filter,callback:function(n){t.$set(t.sidebar,"_filter",n)},expression:"sidebar._filter"}})]},proxy:!0},{key:"default",fn:function(){return[i("h1",{staticClass:"mt-2 d-flex align-center",class:{"mb-6":!t.content.description}},[i("v-icon",{staticClass:"mr-1",attrs:{large:""}},[t._v(t._s(t.content.icon))]),t._v(" "+t._s(t.content.name)+" ")],1),t.content.description?i("p",{staticClass:"mt-2 mb-6"},[t._v(" "+t._s(t.content.description)+" ")]):t._e(),typeof t.content.models.PRESET_PATH=="string"?i("PresetPath",{model:{value:t.content.models.PRESET_PATH,callback:function(n){t.$set(t.content.models,"PRESET_PATH",n)},expression:"content.models.PRESET_PATH"}}):t._e(),t._l(t.content.fields,function(n,s){var r=n[0],a=n[1],o=n[2];return o===void 0&&(o={}),[!o.type||o.type==="textInput"?i("v-text-field",{key:s,staticClass:"mb-1",attrs:{label:r,rules:o.validate?o.validate.map(function(c){return t.$data.validationRules[c]}):[],autocomplete:"off",outlined:"",dense:""},on:{keypress:function(c){return!c.type.indexOf("key")&&t._k(c.keyCode,"enter",13,c.key,"Enter")?null:t.onCreatePreset(c)}},model:{value:t.content.models[a],callback:function(c){t.$set(t.content.models,a,c)},expression:"content.models[id]"}}):o.type==="fileInput"?i("span",{key:s,on:{drop:function(c){return c.preventDefault(),c.stopPropagation(),t.onDropFile(a,o,c)},dragover:function(c){c.preventDefault(),c.stopPropagation()}}},[i("v-file-input",{staticClass:"mb-1",attrs:{accept:o.accept,"prepend-icon":null,"prepend-inner-icon":o.icon||"mdi-paperclip",label:r,multiple:o.multiple||!1,autocomplete:"off",outlined:"",dense:""},model:{value:t.content.models[a],callback:function(c){t.$set(t.content.models,a,c)},expression:"content.models[id]"}})],1):o.type==="selectInput"?i(o.options.length>4?"v-autocomplete":"v-select",{key:s,tag:"component",staticClass:"mb-1",attrs:{loading:o.isLoading,disabled:o.isLoading,items:o.options,"menu-props":{maxHeight:220},label:r,autocomplete:"off",outlined:"",dense:""},model:{value:t.content.models[a],callback:function(c){t.$set(t.content.models,a,c)},expression:"content.models[id]"}}):o.type==="switch"?i("v-switch",{key:s,staticClass:"mb-1",attrs:{label:r},model:{value:t.content.models[a],callback:function(c){t.$set(t.content.models,a,c)},expression:"content.models[id]"}}):o.type==="numberInput"?i("v-slider",{key:s,staticClass:"mb-1",attrs:{min:o.min||0,max:o.max||10,discrete:"",step:o.step||1,"thumb-label":"always",label:r},model:{value:t.content.models[a],callback:function(c){t.$set(t.content.models,a,c)},expression:"content.models[id]"}}):t._e()]})]},proxy:!0},{key:"actions",fn:function(){return[i("v-spacer"),i("v-btn",{attrs:{color:"primary",disabled:!t.fieldsReady},on:{click:t.onCreatePreset}},[i("v-icon",{staticClass:"mr-1"},[t._v("mdi-plus")]),t._v(" Create ")],1)]},proxy:!0}],null,!1,1038933285),model:{value:t.sidebar.selected,callback:function(n){t.$set(t.sidebar,"selected",n)},expression:"sidebar.selected"}}):t._e()},M3=[];const O3={name:"CreatePresetWindow",mixins:[P],components:{SidebarWindow:Jt,PresetPath:_n},props:["currentWindow"],data(){return this.currentWindow},computed:{content(){return this.sidebar.currentState},fieldsReady(){return Object.values(this.content.fields||{}).every(([t,e,i={}])=>i.validate&&i.validate.some(n=>this.$data.validationRules[n](this.content.models[e])!==!0)?!1:!!this.content.models[e]||i.optional)}},methods:{onClose(){this.currentWindow.close()},onCreatePreset(){this.fieldsReady&&this.currentWindow.createPreset(this.content)},onDropFile(t,e,i){const{accept:n,multiple:s}=e,r=[...i.dataTransfer.files].filter(a=>Ea(a,n));r.length!==0&&(s?this.content.models[t]?this.content.models[t].push(...r):this.content.models[t]=[...r]:this.content.models[t]=r[r.length-1])}}},Ra={};var R3=E(O3,$3,M3,!1,I3,null,null,null);function I3(t){for(let e in Ra)this[e]=Ra[e]}var W3=function(){return R3.exports}();function Ne(t,e,i){return e.forEach(n=>t=t.replaceAll(`{{${n}}}`,i[n])),t}class On extends Fe{constructor(e,i){super(e);this.dataLoader=i}getDirectoryHandle(e,i){return e.startsWith("data/packages/")?this.dataLoader.getDirectoryHandle(e,i):super.getDirectoryHandle(e,i)}}async function N3(t,e,i,n){var A;const s=await l.getApp(),r=(A=s.project)==null?void 0:A.fileSystem,a=new On(s.fileSystem.baseDirectory,s.dataLoader);let o;e.startsWith("./")?o=e=e.replaceAll("./",t+"/"):o=`data/packages/minecraftBedrock/${e}`,await s.dataLoader.fired;const d=await(await a.readFile(o)).text(),p={exports:void 0};try{Dt({script:d,env:{module:p}})}catch(_){throw new Error(`Failed to execute PresetScript "${e}": ${_}`)}if(typeof p.exports!="function")throw new Error(`Failed to execute PresetScript "${e}": module.exports is of type ${typeof p.exports}`);const h=[],m=[],g=(_,C,S={inject:[],openFile:!1})=>(typeof C!="string"&&(C=JSON.stringify(C,null,"	")),w(_,C,S)),w=async(_,C,{inject:S=[],openFile:T=!1}={inject:[],openFile:!1})=>{if(n.mayOverwriteFiles===void 0&&await r.fileExists(_))if(await new ue({description:"windows.createPreset.overwriteFiles",confirmText:"windows.createPreset.overwriteFilesConfirm"}).fired)n.mayOverwriteFiles=!0;else{n.mayOverwriteFiles=!1;return}else if(n.mayOverwriteFiles===!1)return;const $=await r.getFileHandle(_,!0);h.push($),T&&m.push($),r.write($,typeof C=="string"?Ne(C,S,i):C)},f=async(_,C,{inject:S=[],openFile:T=!1}={inject:[],openFile:!1})=>{const $=await s.project.fileSystem.getFileHandle(_,!0);if(n.mayOverwriteUnsavedChanges===void 0){const B=await s.project.getFileTab($);if(B!==void 0&&B.isUnsaved)if(await new ue({description:"windows.createPreset.overwriteUnsavedChanges",confirmText:"windows.createPreset.overwriteUnsavedChangesConfirm"}).fired)n.mayOverwriteUnsavedChanges=!0,B.close();else{n.mayOverwriteUnsavedChanges=!1;return}}else if(n.mayOverwriteUnsavedChanges===!1)return;let O=null;try{O=await(await r.readFile(_)).text()}catch{}h.push($),T&&m.push($),typeof C=="string"?(C=Ne(C,S,i),await r.writeFile(_,O?`${O}
${C}`:C)):(C=Ne(z.stringify(C),S,i),await r.writeJSON(_,wt(O?z.parse(O):{},z.parse(C)),!0))},D=_=>a.readFile(`${t}/${_}`);return await p.exports({models:i,createFile:w,expandFile:f,loadPresetFile:D,createJSONFile:g}),{createdFiles:h,openFile:m}}async function L3(t,[e,i,n],s){var m;const r=await l.getApp(),a=new On(r.fileSystem.baseDirectory,r.dataLoader),o=(m=n==null?void 0:n.inject)!=null?m:[],c=`${t}/${e}`,d=Ne(`projects/${r.selectedProject}/${i}`,o,s),p=Ee(d);await a.mkdir(Oe(d),{recursive:!0});let h;if(p===".json"){const g=await a.readJSON(c);let w;try{w=await a.readJSON(d)}catch{w={}}h=await a.writeFile(d,Ne(JSON.stringify(wt(w,g),null,"	"),o,s))}else{const w=await(await a.readFile(c)).text();let f;try{f=await(await a.readFile(d)).text()}catch{f=""}const D=Ne(w,o,s);h=await a.writeFile(d,`${f}${f!==""?`
`:""}${D}`)}return h}const H3=[".mcfunction",".json",".js",".ts",".txt",".molang"];async function V3(t,[e,i,n],s){var m;const r=await l.getApp(),a=new On(r.fileSystem.baseDirectory,r.dataLoader),o=(m=n==null?void 0:n.inject)!=null?m:[],c=`${t}/${e}`,d=Ne(`projects/${r.selectedProject}/${i}`,o,s),p=Ee(d);await a.mkdir(Oe(d),{recursive:!0});let h;if(o.length===0||!H3.includes(p))h=await a.copyFile(c,d);else{const w=await(await a.readFile(c)).text();h=await a.writeFile(d,Ne(w,o,s))}return h}class Ia extends Pt{constructor(e){super(e);u(this,"resetState");this.resetState=e.resetState}}class z3 extends ne{constructor(){super(W3);u(this,"loadPresetPaths",new Map);u(this,"sidebar",new xi([]));u(this,"shouldReloadPresets",!0);u(this,"modelResetters",[]);u(this,"_validationRules",{alphanumeric:e=>e.match(/^[a-zA-Z0-9_\.]*$/)!==null,lowercase:e=>e.toLowerCase()===e,required:e=>!!e});this.defineWindow(),l.eventSystem.on("presetsChanged",()=>{this.onPresetsChanged()})}get validationRules(){return Object.fromEntries(Object.entries(this._validationRules).map(([e,i])=>[e,n=>i(n)||l.instance.locales.translate(`windows.createPreset.validationRule.${e}`)]))}onPresetsChanged(){this.shouldReloadPresets=!0}async addPreset(e,i){var h,m,g;const n=await l.getApp();let s;try{s=await e.readJSON(i)}catch{return}if(!s.category)throw new Error(`Error loading ${i}: Missing preset category`);if(!await new aa(s.requires).isValid())return;let a=this.sidebar.rawElements.find(w=>w.getText()===s.category);a||(a=new _i({isOpen:!1,text:s.category,items:[]}),this.sidebar.addElement(a));const o=N(),c=()=>{var w,f,D;(w=s.fields)==null||w.forEach(([A,_,C={}])=>{var $;if(C.type!=="selectInput"||Array.isArray(C.options))return;const{fileType:S,cacheKey:T}=($=C.options)!=null?$:{};!S||!T||(C.options=[],C.isLoading=!0,n.project.packIndexer.once(async()=>{const O=await n.project.packIndexer.service.getCacheDataFor(S,void 0,T);C.options=O!=null?O:[],C.isLoading=!1}))}),this.sidebar.setState(o,W(j({},s),{presetPath:Oe(i),models:j(j({PROJECT_PREFIX:(f=n.projectConfig.get().namespace)!=null?f:"bridge"},(D=s.additionalModels)!=null?D:{}),Object.fromEntries(s.fields.map(([A,_,C={}])=>{var S;return[_,(S=C.default)!=null?S:!C.type||C.type==="textInput"?"":null]})))}))},d=(h=s.additionalModels)==null?void 0:h.PRESET_PATH,p=typeof d=="string"&&s.category==="fileType.simpleFile"&&(g=(m=Ce.getWithRelativePath(d+"test.json"))==null?void 0:m.color)!=null?g:"primary";a.addItem(new Ia({id:o,text:s.name,icon:s.icon,color:p,resetState:c})),c(),this.modelResetters.push(c)}async loadPresets(e,i="data/packages/minecraftBedrock/preset"){await e.fired;let n=[];try{n=await e.readdir(i,{withFileTypes:!0})}catch{}for(const s of n)if(s.kind==="directory")await this.loadPresets(e,`${i}/${s.name}`);else if(s.name==="manifest.json")return await this.addPreset(e,`${i}/${s.name}`)}async open(){const e=await l.getApp(),i=e.fileSystem;if(e.windows.loadingWindow.open(),this.shouldReloadPresets){this.sidebar.removeElements(),await this.loadPresets(e.dataLoader);for(const[n,s]of this.loadPresetPaths)await this.loadPresets(i,s);this.sidebar.setDefaultSelected(),this.shouldReloadPresets=!1}else this.modelResetters.forEach(n=>n());e.windows.loadingWindow.close(),super.open()}addPresets(e){const i=N();return this.loadPresetPaths.set(i,e),{dispose:()=>this.loadPresetPaths.delete(i)}}async createPreset({presetPath:e,createFiles:i=[],expandFiles:n=[]}){var h,m,g,w,f,D;if(!e)return;const s=await l.getApp();s.windows.loadingWindow.open();const r=s.project.fileSystem,a=[],o={mayOverwriteFiles:void 0,mayOverwriteUnsavedChanges:void 0};for(const A of i){if(typeof A=="string")continue;const _=Ne(A[1],(m=(h=A[2])==null?void 0:h.inject)!=null?m:[],this.sidebar.currentState.models);if(await r.fileExists(_))if(await new ue({description:"windows.createPreset.overwriteFiles",confirmText:"windows.createPreset.overwriteFilesConfirm"}).fired){o.mayOverwriteFiles=!0;break}else{s.windows.loadingWindow.close();return}}const c=s.project;for(const A of n){if(typeof A=="string")continue;let _=Ne(A[1],(w=(g=A[2])==null?void 0:g.inject)!=null?w:[],this.sidebar.currentState.models),C=null;try{C=await c.fileSystem.getFileHandle(_)}catch{continue}const S=await c.getFileTab(C);if(S!==void 0&&S.isUnsaved)if(await new ue({description:"windows.createPreset.overwriteUnsavedChanges",confirmText:"windows.createPreset.overwriteUnsavedChangesConfirm"}).fired)o.mayOverwriteUnsavedChanges=!0,c.closeFile(C);else{s.windows.loadingWindow.close();return}}const d=[];for(const A of i)if(typeof A=="string"){const _=await N3(e,A,this.sidebar.currentState.models,o);a.push(..._.createdFiles),d.push(..._.openFile)}else{const _=await V3(e,A,this.sidebar.currentState.models);a.push(_),((f=A[2])==null?void 0:f.openFile)&&d.push(_)}for(const A of n){const _=await L3(e,A,this.sidebar.currentState.models);a.push(_),((D=A[2])==null?void 0:D.openFile)&&d.push(_)}l.eventSystem.dispatch("fileAdded",void 0),o.mayOverwriteFiles!==!1&&this.close();const p=[];for(const A of a){const _=await s.fileSystem.pathTo(A);!_||(p.push(_),d.includes(A)&&await s.project.openFile(A,{selectTab:A===d[d.length-1],isTemporary:!1}))}await s.project.updateFiles(p),this.sidebar.currentElement instanceof Ia&&this.sidebar.currentElement.resetState(),s.windows.loadingWindow.close()}}var U3=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseWindow",{attrs:{windowTitle:"windows.openFile.title",isVisible:t.isVisible,hasMaximizeButton:!1,hasCloseButton:!0,isFullscreen:!1,width:500,height:120},on:{closeWindow:t.onClose},scopedSlots:t._u([{key:"default",fn:function(){return[i("v-autocomplete",{attrs:{label:t.t("windows.openFile.search"),items:t.packFiles,dense:"","no-data-text":t.t("windows.openFile.noData"),outlined:"","auto-select-first":"",autofocus:""},on:{change:t.onChange},scopedSlots:t._u([{key:"item",fn:function(n){var s=n.item;return[i("v-icon",{staticClass:"mr-1",attrs:{color:t.getFileIconColor(s)}},[t._v(" "+t._s(t.getFileIcon(s))+" ")]),i("span",[t._v(t._s(s))])]}}]),model:{value:t.selectedFile,callback:function(n){t.selectedFile=n},expression:"selectedFile"}})]},proxy:!0}])})},G3=[];const J3={name:"OpenFileWindow",mixins:[P],components:{BaseWindow:de},props:["currentWindow"],data(){return this.currentWindow},methods:{onClose(){this.currentWindow.close()},onChange(t){t&&this.currentWindow.openFile(t)},getFileIcon(t){const e=l.fileType.get(t);return e&&e.icon||"mdi-file-outline"},getFileIconColor(t){const e=Ce.getWithRelativePath(t);return e&&e.color||"primary"}}},Wa={};var q3=E(J3,U3,G3,!1,K3,null,null,null);function K3(t){for(let e in Wa)this[e]=Wa[e]}var Q3=function(){return q3.exports}();class X3 extends ne{constructor(){super(Q3,!1,!0);u(this,"packFiles",[]);u(this,"selectedFile","");u(this,"isCurrentlyOpening",!1);this.defineWindow()}async open(){var n,s,r;if(l.audioManager.playAudio("click5.ogg",1),this.isCurrentlyOpening)return;this.isCurrentlyOpening=!0,this.selectedFile="";const e=await l.getApp();e.windows.loadingWindow.open();const i=(n=e.project)==null?void 0:n.packIndexer;i&&(this.packFiles=(r=await((s=i.service)==null?void 0:s.getAllFiles(!0)))!=null?r:[]),e.windows.loadingWindow.close(),super.open(),this.isCurrentlyOpening=!1}openFile(e){l.ready.once(async i=>{var s;const n=await i.fileSystem.getFileHandle(`projects/${i.selectedProject}/${e}`);(s=i.project)==null||s.openFile(n)}),l.audioManager.playAudio("confirmation_002.ogg",1),this.close()}}async function Z3(){const t=await l.getApp(),e=new Gt("windows.projectChooser.addPack"),i=await e.actionManager,n=t.project.getPacks();Ce.all().filter(r=>!n.includes(r.id)).forEach(r=>i.create({icon:r.icon,color:r.color,name:`packType.${r.id}.name`,description:`packType.${r.id}.description`,onTrigger:async()=>{var d;t.windows.loadingWindow.open();const a=t.project.fileSystem,o=await Zt.loadFromConfig();switch(r.id){case"behaviorPack":{await new xa().create(a,o);break}case"resourcePack":{await new Da().create(a,o);break}case"skinPack":{await new ka().create(a,o);break}case"worldTemplate":{await new Sa().create(a,o);break}default:throw t.windows.loadingWindow.close(),new Error(`Unable to add pack with id "${r.id}"`)}const c=await a.readJSON("config.json");await a.writeJSON("config.json",W(j({},c),{packs:W(j({},(d=c.packs)!=null?d:{}),{[r.id]:Ut[r.id]})}),!0),t.project.addPack(W(j({},r),{packPath:t.project.config.getPackFilePath(r.id),version:[1,0,0]})),t.project.updateChangedFiles(),l.eventSystem.dispatch("projectChanged",t.project),t.windows.loadingWindow.close()}})),e.open()}var Y3=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("SidebarWindow",{attrs:{windowTitle:"windows.projectChooser.title",isVisible:t.isVisible,hasMaximizeButton:!1,isFullscreen:!1,percentageWidth:80,percentageHeight:80,sidebarItems:t.sidebar.elements,actions:t.actions},on:{closeWindow:t.onClose},scopedSlots:t._u([{key:"sidebar",fn:function(){return[i("v-text-field",{staticClass:"pt-2",attrs:{"prepend-inner-icon":"mdi-magnify",label:t.t("windows.projectChooser.searchProjects"),outlined:"",dense:""},model:{value:t.sidebar._filter,callback:function(n){t.$set(t.sidebar,"_filter",n)},expression:"sidebar._filter"}})]},proxy:!0},{key:"default",fn:function(){return[i("div",{staticClass:"d-flex align-center mb-4 rounded-lg content-area pa-4"},[i("img",{staticClass:"mr-2 project-logo rounded-lg",attrs:{height:"64",src:t.sidebar.currentState.imgSrc,draggable:"false"}}),i("div",[i("h1",{staticStyle:{"overflow-wrap":"anywhere"}},[t._v(" "+t._s(t.sidebar.currentState.name)+" ")]),i("h2",{staticClass:"subheader"},[t._v("by "+t._s(t.authors))])])]),i("v-row",{staticClass:"mb-6",attrs:{dense:""}},t._l(t.sidebar.currentState.contains,function(n){return i("v-col",{key:n.id},[i("PackTypeViewer",{staticStyle:{height:"100%"},attrs:{packType:n}})],1)}),1),i("h2",{staticClass:"subheader"},[t._v(t._s(t.t("general.experimentalGameplay")))]),i("v-row",{attrs:{dense:""}},t._l(t.sidebar.currentState.experimentalGameplay,function(n){return i("v-col",{key:n.id+"."+n.isActive,attrs:{xs:"12",sm:"6",md:"4",lg:"3",xl:"2"}},[i("ExperimentalGameplay",{staticStyle:{height:"100%"},attrs:{experiment:n,isToggleable:!1,value:n.isActive}})],1)}),1)]},proxy:!0},{key:"actions",fn:function(n){var s=n.selectedSidebar;return[i("v-btn",{attrs:{color:"primary",disabled:t.currentProject!==s},on:{click:t.onAddPack}},[i("v-icon",{staticClass:"mr-1"},[t._v("mdi-plus-box")]),t._v(" "+t._s(t.t("windows.projectChooser.addPack"))+" ")],1),i("v-spacer"),i("v-btn",{attrs:{color:"error",disabled:t.currentProject===s},on:{click:function(r){return t.onDeleteProject(s)}}},[i("v-icon",[t._v("mdi-delete")]),t._v(" "+t._s(t.t("general.delete"))+" ")],1),i("v-btn",{attrs:{color:"primary",disabled:t.currentProject===s},on:{click:t.onSelectProject}},[i("v-icon",[t._v("mdi-check")]),t._v(" "+t._s(t.t("general.select"))+" ")],1)]}}]),model:{value:t.sidebar.selected,callback:function(n){t.$set(t.sidebar,"selected",n)},expression:"sidebar.selected"}})},ew=[];let Rn;"ListFormat"in Intl?Rn=new Intl.ListFormat("en",{style:"long",type:"conjunction"}):Rn={format:t=>t.join(", ")};const tw={name:"ProjectChooserWindow",mixins:[P],components:{SidebarWindow:Jt,PackTypeViewer:ya,ExperimentalGameplay:Fa},props:["currentWindow"],data(){return this.currentWindow},methods:{onClose(){this.currentWindow.close()},async onSelectProject(){(await l.getApp()).projectManager.selectProject(this.sidebar.selected),this.currentWindow.close()},onDeleteProject(t){new ue({description:"windows.deleteProject.description",confirmText:"windows.deleteProject.confirm",cancelText:"general.cancel",onConfirm:async()=>{await(await l.getApp()).projectManager.removeProject(t),await this.currentWindow.loadProjects()}})},onAddPack(){Z3(),this.currentWindow.close()}},computed:{authors(){const t=this.sidebar.currentState.authors||"Unknown";return Array.isArray(t)?Rn.format(t):t}}},Na={};var iw=E(tw,Y3,ew,!1,nw,"69068460",null,null);function nw(t){for(let e in Na)this[e]=Na[e]}var sw=function(){return iw.exports}();class rw extends ne{constructor(){super(sw,!1,!0);u(this,"sidebar",new xi([]));u(this,"currentProject");u(this,"experimentalToggles",[]);this.defineWindow(),this.actions.push(new se({icon:"mdi-import",name:"actions.importBrproject.name",color:"accent",onTrigger:()=>{this.close(),Pn()}}),new se({icon:"mdi-plus",name:"windows.projectChooser.newProject.name",color:"accent",onTrigger:async()=>{const e=await l.getApp();this.close(),e.windows.createProject.open()}}))}addProject(e,i,n){this.sidebar.addElement(new Pt({color:"primary",text:i!=null?i:"Unknown",icon:`mdi-alpha-${i[0].toLowerCase()}-box-outline`,id:e!=null?e:N()}),n),this.sidebar.setDefaultSelected()}async loadProjects(){this.sidebar.removeElements();const e=await l.getApp(),i=await e.projectManager.getProjects(),n=await e.dataLoader.readJSON("data/packages/minecraftBedrock/experimentalGameplay.json");return i.forEach(s=>this.addProject(s.projectData.path,s.name,W(j({},s.projectData),{experimentalGameplay:n.map(r=>{var a,o;return j({isActive:(o=(a=s.config.get().experimentalGameplay)==null?void 0:a[r.id])!=null?o:!1},r)})}))),this.sidebar.setDefaultSelected(e.projectManager.selectedProject),e.projectManager.selectedProject}async open(){this.currentProject=await this.loadProjects(),super.open()}}var aw=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseWindow",{attrs:{windowTitle:"windows.changelogWindow.title",isVisible:t.isVisible,hasMaximizeButton:!1,isFullscreen:!1,width:600,height:600},on:{closeWindow:t.onClose},scopedSlots:t._u([{key:"default",fn:function(){return[i("div",{staticClass:"mt-4 mb-2 d-flex align-center"},[i("v-icon",{staticClass:"mr-2",attrs:{color:"primary",large:""}},[t._v("mdi-update")]),i("h1",[t._v("v"+t._s(t.$data.version))])],1),i("v-divider",{staticClass:"mb-4"}),i("div",{staticClass:"changelog",domProps:{innerHTML:t._s(t.$data.changelog)}})]},proxy:!0}])})},ow=[];const uw={name:"ChangelogComponent",components:{BaseWindow:de},props:["currentWindow"],data(){return this.currentWindow},methods:{onClose(){this.currentWindow.close()}}},La={};var cw=E(uw,aw,ow,!1,lw,null,null,null);function lw(t){for(let e in La)this[e]=La[e]}var dw=function(){return cw.exports}();const Ha="/";class pw extends ne{constructor(){super(dw);u(this,"changelog");u(this,"version");this.defineWindow()}async open(){l.audioManager.playAudio("click5.ogg",1);const e=await l.getApp();e.windows.loadingWindow.open(),await fetch(Ha+"changelog.html").then(i=>i.text()).then(i=>{this.changelog=i,this.version=gt}),e.windows.loadingWindow.close(),super.open()}}var hw=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.shouldRender?i("BaseWindow",{attrs:{windowTitle:"windows.socials.title",isVisible:t.isVisible,hasMaximizeButton:!1,isFullscreen:!1,width:420,height:140},on:{closeWindow:t.close},scopedSlots:t._u([{key:"default",fn:function(){return[i("p",[t._v(t._s(t.t("windows.socials.content")))])]},proxy:!0},{key:"actions",fn:function(){return[i("v-spacer"),i("v-btn",{attrs:{color:"#7289DA"},on:{click:t.openDiscord}},[i("v-icon",{attrs:{color:"white"}},[t._v("mdi-discord")]),i("span",{staticClass:"white--text"},[t._v(t._s(t.t("windows.socials.discord")))])],1),i("v-btn",{attrs:{color:"#1DA1F2"},on:{click:t.openTwitter}},[i("v-icon",{attrs:{color:"white"}},[t._v("mdi-twitter")]),i("span",{staticClass:"white--text"},[t._v(t._s(t.t("windows.socials.twitter")))])],1),i("v-btn",{attrs:{color:"#333"},on:{click:t.openGithub}},[i("v-icon",{attrs:{color:"white"}},[t._v("mdi-github")]),i("span",{staticClass:"white--text"},[t._v(t._s(t.t("windows.socials.github")))])],1)]},proxy:!0}],null,!1,533919895)}):t._e()},mw=[];const fw={name:"Socials",mixins:[P],components:{BaseWindow:de},data(){return this.currentWindow},props:["currentWindow"],methods:{close(){this.currentWindow.close()},openDiscord(){window.open("https://discord.gg/jj2PmqU","_blank")},openTwitter(){window.open("https://twitter.com/bridgeEditor","_blank")},openGithub(){window.open("https://github.com/bridge-core","_blank")}}},Va={};var gw=E(fw,hw,mw,!1,ww,null,null,null);function ww(t){for(let e in Va)this[e]=Va[e]}var yw=function(){return gw.exports}();class vw extends ne{constructor(){super(yw);this.defineWindow()}}class Cw{constructor(e){u(this,"settings");u(this,"socialsWindow",new vw);u(this,"projectChooser",new rw);u(this,"createProject",new Zt);u(this,"loadingWindow",new Oa);u(this,"filePicker",new X3);u(this,"createPreset",new z3);u(this,"extensionStore",new D3);u(this,"browserUnsupported",new m3);u(this,"changelogWindow",new pw);this.app=e,this.settings=new We(e)}}class bw extends Fe{constructor(e=!1){super();u(this,"_virtualFileSystem");this.loadData(e)}get virtualFileSystem(){if(!this._virtualFileSystem)throw new Error("DataLoader: virtualFileSystem is not initialized");return this._virtualFileSystem}async loadData(e=!1){const i=await fetch(Ha+"packages.zip").then(a=>a.arrayBuffer()),n=await new Promise((a,o)=>Li(new Uint8Array(i),async(c,d)=>{if(c)return o(c);a(d)}));this._virtualFileSystem=new ve(null,"bridgeFolder",new Map,e),await this._virtualFileSystem.setupDone.fired;const r={".":await this._virtualFileSystem.getDirectoryHandle("data",{create:!0})};for(const a in n){const o=rt(a),c=Oe(a);if(a.endsWith("/")){const d=await r[c].getDirectoryHandle(o,{create:!0});r[a.slice(0,-1)]=d}else await r[c].getFileHandle(o,{create:!0,initialData:n[a]})}this.setup(this._virtualFileSystem)}}class Fw{constructor(){u(this,"state",He({}))}addCategory(e){X(this.state,e.id,e)}disposeCategory(e){$e(this.state,e.id)}}class Aw extends ee{constructor(){super();u(this,"state",ke({currentHeight:window.innerHeight,currentWidth:window.innerWidth}));window.addEventListener("resize",Ct(()=>this.dispatch(),50,{trailing:!0})),this.on(([e,i])=>{this.state.currentWidth=e,this.state.currentHeight=i}),l.getApp().then(e=>e.projectManager.projectReady.fired.then(()=>this.dispatch()))}dispatch(){super.dispatch([window.innerWidth,window.innerHeight])}}class Ew extends hi{constructor(){super({message:"sidebar.notifications.installApp.message",color:"primary",icon:"mdi-download",textColor:"white",isVisible:!1});u(this,"isInstallable",new L);u(this,"isInstalled",new L);u(this,"installEvent");window.addEventListener("beforeinstallprompt",e=>this.onInstallPrompt(e)),window.addEventListener("appinstalled",()=>this.dispose()),this.addClickHandler(()=>this.prompt())}onInstallPrompt(e){e.preventDefault(),this.installEvent=e,this.show(),this.isInstallable.dispatch()}prompt(){this.installEvent?(this.installEvent.prompt(),this.installEvent.userChoice.then(e=>{e.outcome==="accepted"&&(this.dispose(),this.isInstalled.dispatch())})):this.dispose()}}class _w extends on{constructor(e,i){super(e,5,i)}isEquals(e,i){return e.path===i.path}}const In=tt?"bridge. Nightly":"bridge. v2";class xw{constructor(){u(this,"titleTag");u(this,"current",bt(In));this.titleTag=document.head.getElementsByTagName("title")[0]}setProject(e){this.titleTag.innerText=`${e} - ${In}`,this.current.value=`${e} - ${In}`}}class Dw extends L{constructor(e){super();u(this,"addedProject",new ee);u(this,"activatedProject",new ee);u(this,"recentProjects");u(this,"state",He({}));u(this,"title",Object.freeze(new xw));u(this,"_selectedProject");u(this,"projectReady",new L);this.app=e,this.loadProjects(),this.recentProjects=ke(new _w(this.app,"data/recentProjects.json")),this.once(()=>{this.recentProjects.keep(i=>Object.values(this.state).findIndex(n=>n.projectData.path===i.path)>-1)})}get currentProject(){if(!!this.selectedProject)return this.state[this.selectedProject]}get selectedProject(){return this._selectedProject}async getProjects(){return await this.fired,Object.values(this.state)}async addProject(e,i=!0){const n=new Bi(this,this.app,e);return await n.loadProject(),X(this.state,n.name,n),i&&(await this.selectProject(n.name),this.addedProject.dispatch(n)),n}async removeProject(e){const i=this.state[e];!i||($e(this.state,e),await this.app.fileSystem.unlink(`projects/${e}`),this.recentProjects.remove(i.projectData))}async loadProjects(){await this.app.fileSystem.fired,await this.app.dataLoader.fired,await Qe.ready.fired;let e=[];try{e=await this.app.fileSystem.readdir("projects",{withFileTypes:!0})}catch{}const i=e.filter(({kind:n})=>n==="directory");if(i.length===0){const n=this.app.windows.createProject;n.open(!0),await n.fired}else for(const n of i)await this.addProject(n,!1);this.dispatch()}async selectProject(e){var n,s;if(this.state[e]===void 0)throw new Error(`Cannot select project "${e}" because it no longer exists`);const i=await l.getApp();(n=this.currentProject)==null||n.deactivate(),this._selectedProject=e,l.eventSystem.dispatch("disableValidation",null),(s=this.currentProject)==null||s.activate(),this.currentProject&&await this.recentProjects.add(this.currentProject.projectData),await Le("selectedProject",e),i.themeManager.updateTheme(),l.eventSystem.dispatch("projectChanged",this.currentProject),this.projectReady.hasFired||this.projectReady.dispatch()}async selectLastProject(e){await this.fired;let i=await ut("selectedProject");if(typeof i=="string")try{await e.fileSystem.getDirectoryHandle(`projects/${i}`)}catch{i=await this.loadFallback()}else i=await this.loadFallback();if(typeof i=="string")await this.selectProject(i);else throw new Error(`Expected string, found ${typeof i}`)}async loadFallback(){await this.fired;const e=Object.keys(this.state)[0];return await Le("selectedProject",e),e}updateAllEditorOptions(e){Object.values(this.state).forEach(i=>i.tabSystems.forEach(n=>n.updateOptions(e)))}forEachProject(e){return Object.values(this.state).forEach(e),this.addedProject.on(e)}onActiveProject(e){return this.projectReady.hasFired&&this.currentProject&&e(this.currentProject),this.activatedProject.on(e)}async recompileAll(e=!0){for(const i of Object.values(this.state))await i.recompile(e)}}class kw{constructor(){u(this,"mayCloseOnClickOutside",!0);u(this,"isVisible",!1);u(this,"actionManager");u(this,"position",{x:0,y:0})}show(e,i,n=!0){this.position.x=e.clientX,this.position.y=e.clientY,this.actionManager=i,this.mayCloseOnClickOutside=n,this.isVisible=!0}setMayCloseOnClickOutside(e){setTimeout(()=>{this.mayCloseOnClickOutside=e},100)}}class Sw extends qr{constructor(e){super(e.fileSystem,"extensions","data/inactiveExtensions.json",!0);this.app=e}async getInstalledExtensions(){return new Map([...(await super.getInstalledExtensions()).entries(),...(await this.app.project.extensionLoader.getInstalledExtensions()).entries()])}mapActive(e){const i=this.app.project.extensionLoader.mapActive(e);for(const n of this._extensions.values())n.isActive&&i.push(e(n));return i}installFilesToCurrentProject(){return Promise.all([...this.extensions.values()].map(e=>e.installFilesToCurrentProject()))}async reload(){this.disposeAll(),this.loadExtensions()}}class Bw{constructor(e){u(this,"state",ke({isHovering:!1}));u(this,"fileHandlers",new Map);this.app=e,window.addEventListener("dragover",i=>{var n;i.preventDefault(),!(l.windowState.isAnyWindowVisible.value&&Qe.ready.hasFired)&&((n=i.dataTransfer)==null?void 0:n.effectAllowed)!=="move"&&(this.state.isHovering=!0)}),window.addEventListener("mouseout",i=>{i.preventDefault(),i.relatedTarget==null&&(this.state.isHovering=!1)}),window.addEventListener("dragend",i=>{i.preventDefault(),this.state.isHovering=!1}),window.addEventListener("drop",i=>{var n,s;i.preventDefault(),!(l.windowState.isAnyWindowVisible.value&&Qe.ready.hasFired)&&(this.onDrop([...(s=(n=i.dataTransfer)==null?void 0:n.items)!=null?s:[]]),this.state.isHovering=!1)}),"launchQueue"in window&&window.launchQueue.setConsumer(async i=>{if(!!i.files.length)for(const n of i.files)await this.importFile(n)})}async onDrop(e){for(const i of e){const n=await i.getAsFileSystemHandle();if(!n)return;n.kind==="directory"?!G&&n.name==="com.mojang"&&this.app.comMojang.handleComMojangDrop(n):n.kind==="file"&&await this.importFile(n)}}async importFile(e){const i=Ee(e.name),n=this.fileHandlers.get(i);if(!n)return!1;try{await n(e)}catch(s){return console.error(s),!1}return!0}addFileImporter(e,i){if(this.fileHandlers.has(e))throw new Error(`Handler for ${e} already exists`);return this.fileHandlers.set(e,i),{dispose:()=>this.fileHandlers.delete(e)}}}class Mi{constructor(e,i){u(this,"disposables",[]);for(const n of e)this.disposables.push(i.addFileImporter(n,this.onImport.bind(this)))}dispose(){this.disposables.forEach(e=>e.dispose())}}class jw extends Mi{constructor(e){super([".mcaddon"],e)}async onImport(e){const i=await l.getApp();i.windows.loadingWindow.open();try{await ja(e)}catch(n){console.error(n)}finally{i.windows.loadingWindow.close()}}}var Tw=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.shouldRender?i("BaseWindow",{attrs:{windowTitle:"windows.filePath.title",isVisible:t.isVisible,hasMaximizeButton:!1,isFullscreen:!1,isPersistent:t.$data.isPersistent,hasCloseButton:!1,width:440,height:140},on:{closeWindow:function(n){return t.onClose(!0)}},scopedSlots:t._u([{key:"default",fn:function(){return[i("PresetPath",{model:{value:t.currentFilePath,callback:function(n){t.currentFilePath=n},expression:"currentFilePath"}})]},proxy:!0},{key:"actions",fn:function(){return[i("v-spacer"),i("v-btn",{attrs:{color:"primary"},on:{click:function(n){return t.onClose(!1)}}},[i("v-icon",[t._v("mdi-check")]),i("span",[t._v(" "+t._s(t.t("general.confirm"))+" ")])],1)]},proxy:!0}],null,!1,2163908922)}):t._e()},Pw=[];const $w={name:"FilePathWindow",mixins:[P],components:{BaseWindow:de,PresetPath:_n},props:["currentWindow"],data(){return this.currentWindow},methods:{onClose(t){this.currentWindow.close(t?null:this.currentFilePath)}}},za={};var Mw=E($w,Tw,Pw,!1,Ow,null,null,null);function Ow(t){for(let e in za)this[e]=za[e]}var Rw=function(){return Mw.exports}();class Iw extends ne{constructor(e,i=!0){super(Rw,!0,!1);u(this,"currentFilePath");this.isPersistent=i,this.currentFilePath=e!=null?e:"",this.defineWindow(),this.open()}}class Ww extends Mi{constructor(e){super([".mcfunction",".mcstructure",".json",".molang",".js",".ts",".lang",".tga",".png",".jpg",".jpeg",".wav",".ogg",".mp3",".fsb"],e)}async onImport(e){const i=await l.getApp(),n=i.locales.translate.bind(i.locales),s=new Gt("fileDropper.importMethod",{isPersistent:!0}),r=await s.actionManager;r.create({icon:"mdi-content-save-outline",name:"fileDropper.saveToProject.title",description:`[${n("fileDropper.saveToProject.description1")} "${e.name}" ${n("fileDropper.saveToProject.description2")}]`,onTrigger:()=>this.onSave(e)}),r.create({icon:"mdi-share-outline",name:"fileDropper.openFile.title",description:`[${n("fileDropper.openFile.description1")} "${e.name}" ${n("fileDropper.openFile.description2")}]`,onTrigger:()=>this.onOpen(e)}),s.open(),await s.fired}async onSave(e){var o;const i=await l.getApp(),n=new Iw((o=await l.fileType.guessFolder(e))!=null?o:"",!1);n.open();const s=await n.fired;if(s===null)return;if(await i.project.fileSystem.fileExists(`${s}${e.name}`)){const c=new ue({description:"windows.createPreset.overwriteFiles",confirmText:"windows.createPreset.overwriteFilesConfirm"});if(c.open(),!await c.fired)return}i.windows.loadingWindow.open();const a=await i.project.fileSystem.getFileHandle(`${s}${e.name}`,!0);await i.project.fileSystem.copyFileHandle(e,a),l.eventSystem.dispatch("fileAdded",void 0),await i.project.updateFile(`${s}${e.name}`),await i.project.openFile(a,{isTemporary:!1}),i.windows.loadingWindow.close()}async onOpen(e){await(await l.getApp()).project.openFile(e)}}class Nw extends Mi{constructor(e){super([".brproject"],e)}async onImport(e){await Sn(e)}}class Lw extends Mi{constructor(e){super([".bbmodel"],e)}async onImport(e){const i=await l.getApp(),n=await e.getFile(),s=z.parse(await n.text());i.windows.loadingWindow.open(),await this.exportImages(i,s.textures),await this.exportModel(i,s),i.windows.loadingWindow.close()}async exportImages(e,i){for(let n of i){const s=await fetch(n.source),r=await s.arrayBuffer(),a=s.headers.get("content-type");let o="png";switch(a){case"image/png":o="png";break;case"image/jpeg":case"image/jpg":o="jpg";break;case"image/tga":case"image/x-tga":case"image/x-targa":case"image/target":case"application/x-tga":case"application/x-targa":o="tga";break}const c=await new $t({name:"general.textureLocation",default:"entity",options:["entity","blocks","items"]}).fired,d=Re("RP","textures",c,n.folder,`${n.name}.${o}`);if(await e.project.fileSystem.fileExists(d)){const m=new ue({description:"general.confirmOverwriteFile",confirmText:"windows.createPreset.overwriteFilesConfirm"});if(m.open(),!await m.fired)continue}const h=await e.project.fileSystem.writeFile(d,r);l.eventSystem.dispatch("fileAdded",void 0),await e.project.updateFile(d),await e.project.openFile(h,{isTemporary:!1})}}async exportModel(e,i){var h,m,g,w,f,D;const n={description:{identifier:"geometry."+(i.geometry_name||"unknown"),texture_width:i.resolution.width||16,texture_height:i.resolution.height||16,visible_bounds_width:(m=(h=i.visible_box)==null?void 0:h[0])!=null?m:0,visible_bounds_height:(w=(g=i.visible_box)==null?void 0:g[1])!=null?w:0,visible_bounds_offset:[0,(D=(f=i.visible_box)==null?void 0:f[2])!=null?D:0,0]}},s={format_version:"1.12.0","minecraft:geometry":[n]},r=this.extractCubes(i.elements,i.meta.box_uv),a=this.extractLocators(i.elements),o=this.createBones(i,r,a);o.size>0&&(n.bones=[...o.values()]);const c=Re("RP","models","entity",i.name+".json");if(await e.project.fileSystem.fileExists(c)){const A=new ue({description:"general.confirmOverwriteFile",confirmText:"windows.createPreset.overwriteFilesConfirm"});if(A.open(),!await A.fired)return}const p=await e.project.fileSystem.getFileHandle(c,!0);await e.project.fileSystem.writeJSON(c,s,!0),l.eventSystem.dispatch("fileAdded",void 0),await e.project.updateFile(c),await e.project.openFile(p,{isTemporary:!1})}extractCubes(e,i=!0){const n=new Map;return e.forEach(s=>{if(s.type==="locator")return;const r=Array.isArray(s.rotation)&&s.rotation.every(o=>o!==0),a={origin:s.from?[...s.from]:void 0,size:s.to.map((o,c)=>o-s.from[c]),rotation:r?s.rotation.map((o,c)=>c===2?o:-o):void 0,pivot:r?[s.origin[0]*-1,s.origin[1],s.origin[2]]:void 0,inflate:s.inflate};if(a.origin&&(a.origin[0]=-(a.origin[0]+a.size[0])),i)a.uv=s.uv_offset,s.mirror_uv&&(a.mirror=s.mirror_uv);else{a.uv={};for(const[o,c]of Object.entries(s.faces))c.texture!==null&&(a.uv[o]={uv:[c.uv[0],c.uv[1]],uv_size:[c.uv[2]-c.uv[0],c.uv[3]-c.uv[1]]},c.material_name&&(a.uv[o].material_instance=c.material_name),(o==="up"||o==="down")&&(a.uv[o].uv[0]+=a.uv[o].uv_size[0],a.uv[o].uv[1]+=a.uv[o].uv_size[1],a.uv[o].uv_size[0]*=-1,a.uv[o].uv_size[1]*=-1))}n.set(s.uuid,a)}),n}extractLocators(e){const i=new Map;return e.forEach(n=>{if(n.type!=="locator")return;const s={offset:[...n.from]};s.offset[0]*=-1,(n.rotation[0]!==0||n.rotation[1]!==0||n.rotation[2]!==0)&&(s.rotation=[-n.rotation[0],-n.rotation[0],n.rotation[0]]),i.set(n.name,s)}),i}createBones(e,i,n){const s=new Map;return Array.isArray(e.outliner)&&e.outliner.forEach(r=>this.parseOutlinerElement(r,s,i,n)),s}parseOutlinerElement(e,i,n,s,r){const a={name:e.name,parent:r==null?void 0:r.name,pivot:[e.origin[0]*-1,e.origin[1],e.origin[2]],rotation:e.rotation?[e.rotation[0]*-1,e.rotation[1]*-1,e.rotation[2]]:void 0,binding:e.bedrock_binding,mirror:e.mirror_uv,material:e.material,reset:e.reset,cubes:e.children.filter(o=>typeof o=="string").map(o=>n.get(o)).filter(o=>o!==void 0),locators:Object.fromEntries(e.children.filter(o=>typeof o=="string").map(o=>[o,s.get(o)]).filter(([o,c])=>c!==void 0))};if(a.cubes.length===0&&(a.cubes=void 0),Object.keys(a.locators).length===0&&(a.locators=void 0),i.set(e.name,a),Array.isArray(e.children))for(let o of e.children)o instanceof Object&&this.parseOutlinerElement(o,i,n,s,a)}}class Hw{constructor(e){new jw(e),new Ww(e),new Nw(e),new Lw(e)}}var ko;class Vw{constructor(){u(this,"currentAudioPlaying");u(this,"masterVolume",1);u(this,"isMuted",!((ko=F==null?void 0:F.audio)==null?void 0:ko.playAudio))}loadIsMuted(){var e;this.isMuted=!((e=F==null?void 0:F.audio)==null?void 0:e.playAudio)}playAudio(e="click5.ogg",i=1){const n="/audio/";this.isMuted||(this.currentAudioPlaying?this.currentAudioPlaying.currentTime/this.currentAudioPlaying.duration==1&&(this.currentAudioPlaying=new Audio(n+e),this.currentAudioPlaying.volume=i*this.masterVolume,this.currentAudioPlaying.play()):(this.currentAudioPlaying=new Audio(n+e),this.currentAudioPlaying.volume=i*this.masterVolume,this.currentAudioPlaying.play()))}}class zw extends ee{constructor(){super();u(this,"currentLanguage");u(this,"loadedFileType");u(this,"baseKeywords",["minecraft"]);u(this,"dynamicKeywords",[]);u(this,"typeIdentifiers",[]);u(this,"variables",[]);u(this,"definitions",[]);l.getApp().then(async e=>{await e.projectManager.projectReady.fired,e.projectManager.onActiveProject(i=>{this.updateKeywords(i.config),i.fileSave.on("config.json",()=>this.updateKeywords(i.config))})}),l.eventSystem.on("currentTabSwitched",e=>this.loadWords(e)),this.loadWords()}get keywords(){return this.baseKeywords.concat(this.dynamicKeywords)}get knownWords(){return{keywords:this.keywords,typeIdentifiers:this.typeIdentifiers,variables:this.variables,definitions:this.definitions}}async updateKeywords(e){await e.refreshConfig(),this.baseKeywords=[...new Set(["minecraft","bridge",e.get().namespace].filter(i=>i!==void 0))],this.updateHighlighter()}async loadWords(e){var a,o,c,d,p,h;const i=await l.getApp();await i.projectManager.projectReady.fired,await l.fileType.ready.fired;const n=e!=null?e:(a=i.project.tabSystem)==null?void 0:a.selectedTab;if(!(n instanceof ht)&&!(n instanceof jt))return;const{id:s,highlighterConfiguration:r={}}=(o=l.fileType.getGlobal(n.getPath()))!=null?o:{};if(!s)return this.resetWords(n);s!==this.loadedFileType&&(this.dynamicKeywords=(c=r.keywords)!=null?c:[],this.typeIdentifiers=(d=r.typeIdentifiers)!=null?d:[],this.variables=(p=r.variables)!=null?p:[],this.definitions=(h=r.definitions)!=null?h:[],n instanceof ht?this.updateHighlighter():n instanceof jt&&this.dispatch(this.knownWords),this.loadedFileType=s)}resetWords(e){this.dynamicKeywords=[],this.typeIdentifiers=[],this.variables=[],this.definitions=[],e instanceof ht?this.updateHighlighter():e instanceof jt&&this.dispatch(this.knownWords),this.loadedFileType="unknown"}updateHighlighter(){var i;const e=V.setMonarchTokensProvider("json",{defaultToken:"invalid",tokenPostfix:".json",atoms:["false","true","null"],keywords:this.keywords,typeIdentifiers:this.typeIdentifiers,variables:this.variables,definitions:this.definitions,symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,digits:/\d+(_+\d+)*/,tokenizer:{root:[[/[{}]/,"delimiter.bracket"],{include:"common"}],common:[[/[a-z_$][\w$]*/,{cases:{"@atoms":"atom","@default":"identifier"}}],{include:"@whitespace"},[/(@digits)[eE]([\-+]?(@digits))?/,"number.float"],[/(@digits)\.(@digits)([eE][\-+]?(@digits))?/,"number.float"],[/(@digits)/,"number"],[/[:,]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/"\//,{token:"identifier",next:"@embeddedCommand",nextEmbedded:"mcfunction"}],[/"/,"identifier","@string"]],embeddedCommand:[[/@escapes/,"string.escape"],[/"/,{token:"identifier",next:"@pop",nextEmbedded:"@pop"}]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*\*(?!\/)/,"comment.doc","@jsdoc"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],jsdoc:[[/[^\/*]+/,"comment.doc"],[/\*\//,"comment.doc","@pop"],[/[\/*]/,"comment.doc"]],string:[[/[^\"\:]+/,{cases:{"@keywords":"keyword","@variables":"variable","@typeIdentifiers":"type.identifier","@definitions":"definition","@default":"string"}}],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"identifier","@pop"]]}});(i=this.currentLanguage)==null||i.dispose(),this.currentLanguage=e,this.dispatch(this.knownWords)}}class Uw{constructor(){u(this,"highlighter",new zw);this.setModeConfiguration()}getHighlighter(){return this.highlighter}setModeConfiguration(){V.json.jsonDefaults.setModeConfiguration({colors:!1,tokens:!1,completionItems:!0,diagnostics:!0,hovers:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0,documentSymbols:!0,foldingRanges:!0,selectionRanges:!0})}}class Gw{constructor(){u(this,"state",He({}));u(this,"isAnyWindowVisible",bt(!0));ui(this.state,()=>{for(const e of Object.values(this.state))if(e.isVisible){this.isAnyWindowVisible.value=!0;return}this.isAnyWindowVisible.value=!1},{deep:!1})}}class Jw{constructor(e){u(this,"change",new ee);this.vuetify=e,ui(e.breakpoint,()=>{this.change.dispatch(e.breakpoint.mobile)}),this.change.dispatch(e.breakpoint.mobile)}isCurrentDevice(){return this.vuetify.breakpoint.mobile}}class ei{constructor(e,i,n,s=!1){u(this,"children",[]);u(this,"displayName");u(this,"uuid",N());u(this,"isFolderOpen",!1);u(this,"hasLoadedChildren");u(this,"isLoading",!1);u(this,"type");var r,a;this.fileSystem=e,this.parent=i,this.path=n,this._isFile=s,s||this.isFolderOpen&&this.loadChildren(n),this.type=this._isFile?"file":((a=(r=F==null?void 0:F.general)==null?void 0:r.enablePackSpider)!=null?a:!1)?"virtualFolder":"folder",this.hasLoadedChildren=this._isFile}static async create(e=[],i=!1){const n=new ei(l.instance.fileSystem,null,e,i);return n.open(),ke(n)}async loadChildren(e){var s,r,a;this.isLoading=!0;const n=(r=await((s=(await l.getApp()).project)==null?void 0:s.packIndexer.readdir(e,{withFileTypes:!0})))!=null?r:[];this.children=[];for(const o of n){if(ge()==="darwin"&&o.name===".DS_Store"&&o.kind==="file")return;const c=new ei(this.fileSystem,this,(a=typeof o.path=="string"?o.path.split("/"):o.path)!=null?a:e.concat([o.name]),o.kind==="file");c.setDisplayName(o.displayName),o.filePath&&c.setPath(o.filePath),this.children.push(c)}this.sortChildren(),this.isLoading=!1,this.hasLoadedChildren=!0}async createOpenStateMap(){const e={};return await this.iterate(i=>{i._isFile||(e[i.getPath()]=i.isFolderOpen)}),e}async refresh(){const e=await this.createOpenStateMap();await this.loadChildren(this.path),await this.iterate(async i=>{!i._isFile&&e[i.getPath()]&&await i.open()})}get name(){var e;return(e=this.displayName)!=null?e:this.path[this.path.length-1]}get isFile(){return this._isFile}get color(){var e;return(e=Ce.get(this.getPath()))==null?void 0:e.color}get icon(){var e;return(e=l.fileType.getGlobal(this.getPath()))==null?void 0:e.icon}getPath(){var e,i;return(i=(e=this.path)==null?void 0:e.join("/"))!=null?i:[]}getPathWithoutPack(){const e=[...this.path];return e.shift(),e.join("/")}setPath(e){return this.path=e.split("/")}updatePath(e){this.path=e.split("/"),this._isFile||this.children.forEach(i=>{i.updatePath(Re(e,i.name))})}async open(){return this.isFile?(l.ready.once(async e=>{var n;const i=await e.fileSystem.getFileHandle(this.getPath());await((n=e.project)==null?void 0:n.openFile(i))}),!0):(this.isFolderOpen=!this.isFolderOpen,this.hasLoadedChildren||await this.loadChildren(this.path),!1)}setDisplayName(e){this.displayName=e}remove(){if(this.parent===void 0)throw new Error("FileDisplayer: Cannot delete root of FS");this.parent.children=this.parent.children.filter(e=>e!==this)}sortChildren(){this.children=this.children.sort((e,i)=>{if(e.isFile&&!i.isFile)return 1;if(!e.isFile&&i.isFile)return-1;if(e.isFile){if(e.getPathWithoutPack()>i.getPathWithoutPack())return 1;if(e.getPathWithoutPack()<i.getPathWithoutPack())return-1}else{if(e.name>i.name)return 1;if(e.name<i.name)return-1}return 0})}updateUUID(){this.uuid=N()}async iterate(e){await e(this),await Promise.all(this.children.map(i=>i.iterate(e)))}}const qw={data:()=>({settingsState:F}),computed:{enablePackSpider(){var t,e;return(e=(t=F==null?void 0:F.general)==null?void 0:t.enablePackSpider)!=null?e:!1}}};function Kw(t,e=!1){let i=null,n=0;return(...s)=>{if(ce.value==="touch")return t(!1,...s);n===0?(n++,e&&t(!1,...s),i=window.setTimeout(()=>{n=0,i=null,e||t(!1,...s)},500)):(i&&window.clearTimeout(i),n=0,t(!0,...s))}}var Qw=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.directoryEntry&&!t.directoryEntry.isLoading?i("div",{staticClass:"text-normal"},[i("Draggable",{attrs:{group:"pack-explorer",disabled:t.enablePackSpider||t.pointerDevice==="touch"},on:{change:t.draggedFile},model:{value:t.directoryEntry.children,callback:function(n){t.$set(t.directoryEntry,"children",n)},expression:"directoryEntry.children"}},[t._l(t.directoryEntry.children,function(n){return[n.isFile?i("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:n.uuid,staticClass:"file d-flex align-center rounded-lg",on:{click:function(s){return s.stopPropagation(),t.onClick(n)},contextmenu:function(s){s.preventDefault(),s.stopPropagation(),t.$emit("contextmenu",{type:"file",path:n.path.join("/"),clientX:s.clientX,clientY:s.clientY,entry:n})}}},[i("v-icon",{staticClass:"pr-1",attrs:{color:n.color,small:""}},[t._v(" "+t._s(n.icon||"mdi-file-outline")+" ")]),t._v(" "+t._s(n.name)+" "),i("v-spacer"),t.pointerDevice==="touch"?i("v-btn",{attrs:{text:"",icon:"",small:""},on:{click:function(s){t.$emit("contextmenu",{type:"file",path:n.path.join("/"),clientX:s.clientX,clientY:s.clientY,entry:n})},mouseenter:function(s){t.isHoveringBtn=!0},mouseleave:function(s){t.isHoveringBtn=!1}}},[i("v-icon",[t._v(" mdi-dots-vertical-circle-outline ")])],1):t._e()],1):i("details",{key:n.uuid,staticClass:"folder",attrs:{open:n.isFolderOpen}},[i("summary",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"rounded-lg",on:{click:function(s){return s.preventDefault(),t.onClickFolder(n)},contextmenu:function(s){s.preventDefault(),s.stopPropagation(),t.$emit("contextmenu",{type:n.type,path:n.path.join("/"),clientX:s.clientX,clientY:s.clientY,entry:n})}}},[i("span",{staticClass:"d-flex align-center"},[i("v-icon",{staticClass:"pr-1",attrs:{color:n.color,small:""}},[t._v(" "+t._s(n.isFolderOpen?"mdi-folder-open":"mdi-folder")+" ")]),i("span",{staticClass:"folder"},[t._v(t._s(n.name))]),i("v-spacer"),t.pointerDevice==="touch"?i("v-btn",{attrs:{text:"",icon:"",small:""},on:{click:function(s){t.$emit("contextmenu",{type:n.type,path:n.path.join("/"),clientX:s.clientX,clientY:s.clientY,entry:n})},mouseenter:function(s){t.isHoveringBtn=!0},mouseleave:function(s){t.isHoveringBtn=!1}}},[i("v-icon",[t._v(" mdi-dots-vertical-circle-outline ")])],1):t._e()],1)]),i("FileDisplayer",{attrs:{entry:n},on:{closeWindow:function(s){return t.$emit("closeWindow")},contextmenu:function(s){return t.$emit("contextmenu",s)}}})],1)]})],2)],1):i("v-progress-linear",{attrs:{indeterminate:""}})},Xw=[];const Zw={name:"FileDisplayer",mixins:[qw],components:{Draggable:Wi},props:{entry:Object,startPath:Array},setup(t,{emit:e}){const i=bt(!1),n=Kw((s,r)=>{if(s)l.getApp().then(a=>{const o=a.project.tabSystem.selectedTab;o&&o.isTemporary&&(o.isTemporary=!1)});else{if(i.value)return;r.open()&&e("closeWindow")}},!0);return{pointerDevice:ce,onClick:n,isHoveringBtn:i}},mounted(){this.loadDirectory()},data:()=>({directoryEntry:null,tree:[]}),methods:{onClickFolder(t){this.isHoveringBtn||t.open()},async loadDirectory(){if(this.entry)this.directoryEntry=this.entry;else{const t=await l.getApp();await t.projectManager.projectReady.fired,t.project.packIndexer.once(async()=>{this.directoryEntry=await ei.create(this.startPath)})}},async draggedFile(t){const e=Object.values(t)[0].element;if("added"in t){const i=await l.getApp(),n=e.getPath();e.updatePath(Re(this.directoryEntry.getPath(),e.name));const s=e.getPath();e.parent=this.directoryEntry,await i.project.fileSystem.move(n,s),await i.project.updateChangedFiles(),await i.project.recentFiles.removeFile(`projects/${i.project.name}/${n}`)}e.parent&&e.parent.sortChildren()}},watch:{startPath(){this.loadDirectory()},entry(){this.loadDirectory()}}},Ua={};var Yw=E(Zw,Qw,Xw,!1,ey,"0a7d026a",null,null);function ey(t){for(let e in Ua)this[e]=Ua[e]}var ty=function(){return Yw.exports}(),iy=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.sidebarContent.selectedAction?i("FileDisplayer",{key:t.sidebarContent.selectedAction.config.id,attrs:{entry:t.sidebarContent.directoryEntries[t.sidebarContent.selectedAction.config.id]},on:{contextmenu:t.onContextMenu}}):t._e()},ny=[];const sy={props:{sidebarContent:Object},components:{FileDisplayer:ty},methods:{async onContextMenu(t){st(t,await this.sidebarContent.getContextMenu(t.type,t.path,t.entry))}}},Ga={};var ry=E(sy,iy,ny,!1,ay,null,null,null);function ay(t){for(let e in Ga)this[e]=Ga[e]}var oy=function(){return ry.exports}(),uy=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"d-flex align-center pa-2 clickable",on:{click:t.onClick}},[i("img",{staticClass:"rounded-lg",staticStyle:{"image-rendering":"pixelated"},attrs:{src:t.imgSrc,draggable:"false",height:"44px",alt:"Pack Icon of "+t.name}}),i("h1",{staticClass:"header ml-2",staticStyle:{opacity:"0.7",display:"block",width:"calc(100% - 52px)","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},[t._v(" "+t._s(t.name)+" ")])])},cy=[];const Ja="/img/icons/android-chrome-192x192.png",ly={data:()=>({imgSrc:Ja,name:"Unknown"}),mounted(){this.onProjectChanged(),l.eventSystem.on("projectChanged",this.onProjectChanged)},destroyed(){l.eventSystem.off("projectChanged",this.onProjectChanged)},methods:{onClick(){l.getApp().then(t=>t.windows.projectChooser.open())},async onProjectChanged(){var i,n;const t=await l.getApp();await t.projectManager.projectReady.fired;const e=t.project.projectData;this.name=(i=e.name)!=null?i:"Unknown",this.imgSrc=(n=e.imgSrc)!=null?n:Ja}}},qa={};var dy=E(ly,uy,cy,!1,py,"795d3f16",null,null);function py(t){for(let e in qa)this[e]=qa[e]}var Ka=function(){return dy.exports}();async function hy(){var n,s,r,a;const t=await l.getApp();if(t.windows.loadingWindow.open(),G){const o=t.project.fileSystem;let c={};for(const p of t.project.getPacks()){const h=t.project.getFilePath(p);if(await o.fileExists(`${h}/manifest.json`)){const m=(n=await o.readJSON(`${h}/manifest.json`))!=null?n:{},[g,w,f]=(r=(s=m.header)==null?void 0:s.version)!=null?r:[0,0,0],D=[g,w,f+1];c[`${h}/manifest.json`]=W(j({},m),{header:W(j({},(a=m.header)!=null?a:{}),{version:D})})}}const d=Object.values(c);for(const p of d)!Array.isArray(p.dependencies)||p.dependencies.forEach(h=>{const m=d.find(g=>g.header.uuid===h.uuid);!m||(h.version=m.header.version)});for(const[p,h]of Object.entries(c))await o.writeJSON(p,h,!0)}await t.project.compilerManager.start("default","build");const e=new kn(await t.project.fileSystem.getDirectoryHandle("builds/dist",{create:!0})),i=`projects/${t.project.name}/builds/${t.project.name}.mcaddon`;try{await Si(i,await e.package(),t.fileSystem)}catch(o){console.error(o)}t.windows.loadingWindow.close()}async function Qa(t=!1){var p,h,m,g,w;const e=await l.getApp(),i=e.project,n=i.fileSystem;e.windows.loadingWindow.open(),await e.project.compilerManager.start("default","build");let s=[];i.hasPacks(["worldTemplate"])&&s.push("WT"),await n.directoryExists("worlds")&&s.push(...(await n.readdir("worlds")).map(f=>`worlds/${f}`));let r;if(s.length===0){e.windows.loadingWindow.close();return}else s.length===1?r=s[0]:r=await new $t({default:s[0],name:"windows.packExplorer.exportAsMctemplate.chooseWorld",options:s}).fired;await n.mkdir("builds/mctemplate/behavior_packs",{recursive:!0}),await n.mkdir("builds/mctemplate/resource_packs",{recursive:!0});const a=await n.readdir("builds/dist"),o=Object.fromEntries(Object.entries({BP:a.find(f=>f.endsWith("BP")),RP:a.find(f=>f.endsWith("RP")),WT:a.find(f=>f.endsWith("WT"))}).map(([f,D])=>[f,`builds/dist/${D}`]));if(r==="WT"?await n.move(o.WT,"builds/mctemplate"):await n.copyFolder(r,"builds/mctemplate"),o.BP){const f=await n.readJSON(`${o.BP}/manifest.json`).catch(()=>null);f!==null&&((p=f==null?void 0:f.header)==null?void 0:p.uuid)&&((h=f==null?void 0:f.header)==null?void 0:h.version)&&await n.writeJSON("builds/mctemplate/world_behavior_packs.json",[{pack_id:f.header.uuid,version:f.header.version}])}if(o.RP){const f=await n.readJSON(`${o.RP}/manifest.json`).catch(()=>null);f!==null&&((m=f==null?void 0:f.header)==null?void 0:m.uuid)&&((g=f==null?void 0:f.header)==null?void 0:g.version)&&await n.writeJSON("builds/mctemplate/world_resource_packs.json",[{pack_id:f.header.uuid,version:f.header.version}])}o.BP&&await n.move(o.BP,`builds/mctemplate/behavior_packs/BP_${e.project.name}`),o.RP&&await n.move(o.RP,`builds/mctemplate/resource_packs/RP_${e.project.name}`),!await n.fileExists("builds/mctemplate/manifest.json")&&!t?await n.writeJSON("builds/mctemplate/manifest.json",{format_version:2,header:{name:"pack.name",description:"pack.description",version:[1,0,0],uuid:N(),lock_template_options:!0,base_game_version:((w=e.project.config.get().targetVersion)!=null?w:await ft()).split(".")},modules:[{type:"world_template",version:[1,0,0],uuid:N()}]}):t&&r==="WT"&&await n.unlink("builds/mctemplate/manifest.json");const c=new kn(await e.project.fileSystem.getDirectoryHandle("builds/mctemplate",{create:!0})),d=`projects/${e.project.name}/builds/${e.project.name}.${t?"mcworld":"mctemplate"}`;try{await Si(d,await c.package(),e.fileSystem)}catch(f){console.error(f)}await n.unlink("builds/mctemplate"),i.app.windows.loadingWindow.close()}async function Xa(){const t=await l.getApp();return t.project.hasPacks(["worldTemplate"])||await t.project.fileSystem.directoryExists("worlds")&&(await t.project.fileSystem.readdir("worlds")).length>0}class my extends bn{constructor(){super();u(this,"component",oy);u(this,"actions",[]);u(this,"directoryEntries",{});u(this,"topPanel",G?new wn({type:"warning",text:"general.fileSystemPolyfill",isDismissible:!0}):void 0);l.eventSystem.on("projectChanged",()=>this.setup()),l.eventSystem.on("fileAdded",()=>this.refresh()),l.getApp().then(e=>{e.mobile.isCurrentDevice()||(this.headerSlot=Ka),e.mobile.change.on(i=>{this.headerSlot=i?void 0:Ka})}),this.headerHeight="60px"}async setup(){var i,n,s;const e=await l.getApp();this.unselectAllActions();for(const r of(i=e.project.projectData.contains)!=null?i:[])X(this.directoryEntries,r.packPath,await ei.create([r.packPath]));this.actions=(s=(n=e.project.projectData.contains)==null?void 0:n.map(r=>new Ei(this,{id:r.packPath,name:`packType.${r.id}.name`,icon:r.icon,color:r.color})))!=null?s:[],G&&this.actions.push(new Cn({icon:"mdi-content-save-outline",name:"general.save",onTrigger:()=>Ot()})),this.actions.push(new Cn({icon:"mdi-dots-vertical",name:"general.more",onTrigger:r=>{this.showMoreMenu(r)}}))}async refresh(){await Promise.all(Object.values(this.directoryEntries).map(e=>e.refresh()))}async getContextMenu(e,i,n){if(e==="virtualFolder")return[];const s=await l.getApp().then(r=>r.project);return[{icon:"mdi-delete-outline",name:"windows.packExplorer.fileActions.delete.name",description:"windows.packExplorer.fileActions.delete.description",onTrigger:async()=>{if(!!await new ue({description:"windows.packExplorer.fileActions.delete.confirmText"}).fired){n.remove(),await Promise.all([s.packIndexer.unlink(i),s.compilerManager.unlink(i)]),await s.jsonDefaults.reload();try{await s.fileSystem.unlink(i)}catch{}await s.recentFiles.removeFile(`projects/${s.name}/${i}`)}}},...e==="file"?[{icon:"mdi-pencil-outline",name:"windows.packExplorer.fileActions.rename.name",description:"windows.packExplorer.fileActions.rename.description",onTrigger:async()=>{const r=n.name.split(".").slice(0,-1).join("."),o=await new qt({name:"windows.packExplorer.fileActions.rename.name",label:"general.fileName",default:r,expandText:Ee(i)}).fired;if(!o)return;const c=Re(Oe(i),o);await s.fileSystem.fileExists(c)&&!await new ue({description:"general.confirmOverwriteFile"}).fired||(await Promise.all([s.packIndexer.unlink(i),s.compilerManager.unlink(i)]),await s.fileSystem.move(i,c),await s.updateFile(c),await s.recentFiles.removeFile(`projects/${s.name}/${i}`),this.refresh())}},{icon:"mdi-content-duplicate",name:"windows.packExplorer.fileActions.duplicate.name",description:"windows.packExplorer.fileActions.duplicate.description",onTrigger:async()=>{const r=n.name.split(".").slice(0,-1).join("."),o=await new qt({name:"windows.packExplorer.fileActions.duplicate.name",label:"general.fileName",default:r,expandText:Ee(i)}).fired;if(!o)return;const c=Re(Oe(i),o);await s.fileSystem.fileExists(c)&&!await new ue({description:"general.confirmOverwriteFile"}).fired||(await s.fileSystem.copyFile(i,c),await s.updateFile(c),l.eventSystem.dispatch("fileAdded",void 0))}},{type:"divider"},{icon:"mdi-cogs",name:"windows.packExplorer.fileActions.viewCompilerOutput.name",description:"windows.packExplorer.fileActions.viewCompilerOutput.description",onTrigger:async()=>{const r=s.app,a=await s.compilerManager.current.getCompilerOutputPath(i),o=r.comMojang.hasComMojang?r.comMojang.fileSystem:s.fileSystem;if(!await o.fileExists(a)){new ae({description:"windows.packExplorer.fileActions.viewCompilerOutput.fileMissing"});return}const c=await o.getFileHandle(a);await(s==null?void 0:s.openFile(c,{selectTab:!0,isReadOnly:!0}))}}]:[{icon:"mdi-file-plus-outline",name:"windows.packExplorer.fileActions.createFile.name",description:"windows.packExplorer.fileActions.createFile.description",onTrigger:async()=>{const a=await new qt({name:"windows.packExplorer.fileActions.createFile.name",label:"general.fileName",default:"",expandText:Ee(i)}).fired;if(!a)return;const o=await s.fileSystem.writeFile(`${i}/${a}`,"");l.eventSystem.dispatch("fileAdded",void 0),await s.openFile(o,{selectTab:!0}),s.updateChangedFiles()}},{icon:"mdi-folder-plus-outline",name:"windows.packExplorer.fileActions.createFolder.name",description:"windows.packExplorer.fileActions.createFolder.description",onTrigger:async()=>{const a=await new qt({name:"windows.packExplorer.fileActions.createFolder.name",label:"general.fileName",default:"",expandText:Ee(i)}).fired;!a||(await s.fileSystem.mkdir(`${i}/${a}`,{recursive:!0}),this.refresh())}},{type:"divider"}],{icon:"mdi-folder-outline",name:"windows.packExplorer.fileActions.revealFilePath.name",description:"windows.packExplorer.fileActions.revealFilePath.description",onTrigger:()=>new ae({name:"windows.packExplorer.fileActions.revealFilePath.name",description:`[${i}]`,isPersistent:!1}).open()}]}async showMoreMenu(e){const i=await l.getApp();st(e,[{icon:"mdi-plus",name:"windows.packExplorer.createPreset",onTrigger:async()=>{await(await l.getApp()).windows.createPreset.open()}},{icon:"mdi-refresh",name:"windows.packExplorer.refresh.name",onTrigger:async()=>{i.actionManager.trigger("bridge.action.refreshProject")}},{icon:"mdi-restart-alert",name:"windows.packExplorer.restartDevServer.name",onTrigger:()=>{new ue({description:"windows.packExplorer.restartDevServer.description",height:168,onConfirm:async()=>{await Promise.all([i.project.fileSystem.unlink(".bridge/.lightningCache"),i.project.fileSystem.unlink(".bridge/.compilerFiles")]),await i.project.fileSystem.writeFile(".bridge/.restartDevServer",""),i.actionManager.trigger("bridge.action.refreshProject")}})}},{type:"divider"},{icon:"mdi-export",name:"windows.packExplorer.exportAsBrproject.name",onTrigger:()=>Ot()},{icon:"mdi-folder-zip-outline",name:"windows.packExplorer.exportAsMcaddon.name",onTrigger:()=>hy()},{icon:"mdi-earth-box",name:"windows.packExplorer.exportAsMcworld.name",isDisabled:!await Xa(),onTrigger:()=>Qa(!0)},{icon:"mdi-earth-box-plus",name:"windows.packExplorer.exportAsMctemplate.name",isDisabled:!await Xa(),onTrigger:()=>Qa()},...await i.project.exportProvider.getExporters(),{type:"divider"},{icon:"mdi-cog-outline",name:"windows.packExplorer.projectConfig.name",onTrigger:async()=>{var s;const n=i.project;if(!await n.fileSystem.fileExists("config.json")){new ae({description:"windows.packExplorer.projectConfig.missing"});return}await((s=n.tabSystem)==null?void 0:s.openPath(`projects/${n.name}/config.json`))}}])}}const Za=Un("app-notifications","app-notification-store");class Ya extends hi{constructor(e){super(e);if(!e.id)throw new Error("PersistentNotification requires an id")}async show(){await ut(this.id,Za)||super.show()}dispose(){super.dispose(),Le(this.id,!0,Za)}}const vt=class{constructor(e){u(this,"packExplorer",new my);u(this,"keyBindingManager",new or);u(this,"actionManager",new vi(this.keyBindingManager));u(this,"themeManager");u(this,"taskManager",new t3);u(this,"dataLoader",U(new bw(!0)));u(this,"fileSystem",new Fe);u(this,"projectManager",new Dw(this));u(this,"extensionLoader",new Sw(this));u(this,"windowResize",new Aw);u(this,"contextMenu",new kw);u(this,"locales");u(this,"fileDropper",new Bw(this));u(this,"fileImportManager",new Hw(this.fileDropper));u(this,"comMojang",new nm(this));u(this,"configuredJsonLanguage",U(new Uw));u(this,"mobile");u(this,"languageManager",U(new yf));u(this,"_windows");this.themeManager=new Ef(e.$vuetify),this.locales=new Eu(e.$vuetify),this._windows=new Cw(this),this.mobile=new Jw(e.$vuetify);const i="Are you sure that you want to close bridge.? Unsaved progress will be lost.";window.addEventListener("beforeunload",n=>{var s;if(((s=this.tabSystem)==null?void 0:s.hasUnsavedTabs)||this.taskManager.hasRunningTasks||G)return n.preventDefault(),n.returnValue=i,i}),We.loadedSettings.once(n=>{var s,r;((r=(s=n==null?void 0:n.general)==null?void 0:s.openProjectChooserOnAppStartup)!=null?r:!1)&&this.projectManager.projectReady.once(()=>{G?$n():vt.instance.windows.projectChooser.open()})})}get windows(){return this._windows}get tabSystem(){var e;return(e=this.projectManager.currentProject)==null?void 0:e.tabSystem}get selectedProject(){return this.projectManager.selectedProject}get project(){if(!this.projectManager.currentProject)throw new Error("Trying to access project before it is defined. Make sure to await app.projectManager.projectReady.fired");return this.projectManager.currentProject}get projects(){return Object.values(this.projectManager.state)}get projectConfig(){return this.project.config}static get instance(){return this._instance}static getApp(){return new Promise(e=>vt.ready.once(i=>e(i)))}static openUrl(e,i){var n;return((n=F==null?void 0:F.general)==null?void 0:n.openLinksInBrowser)?window.open(e,"_blank"):window.open(e,i,"toolbar=no,menubar=no,status=no")}static async main(e){this._instance=U(Object.freeze(new vt(e))),this.instance.windows.loadingWindow.open(),await this.instance.beforeStartUp();const i=await this.fileSystemSetup.setupFileSystem(this.instance);if(!i)return this.instance.windows.loadingWindow.close();this.instance.fileSystem.setup(i),await ut("firstStartAfterUpdate")&&(await Le("firstStartAfterUpdate",!1),this.instance.windows.changelogWindow.open()),await We.loadSettings(this.instance).then(async()=>{await this.instance.dataLoader.fired,this.instance.themeManager.loadDefaultThemes(this.instance),this.audioManager.loadIsMuted()}),await this.instance.startUp(),this.ready.dispatch(this.instance),await this.instance.projectManager.selectLastProject(this.instance),this.instance.windows.loadingWindow.close()}async beforeStartUp(){console.time("[APP] beforeStartUp()"),navigator.clearAppBadge&&navigator.clearAppBadge(),Yg(),o3(this);{const e=new Ya({id:"bridge-social-links",icon:"mdi-link-variant",message:"sidebar.notifications.socials.message",color:"#1DA1F2",textColor:"white",onClick:()=>{this.windows.socialsWindow.open(),e.dispose()}}),i=new Ya({id:"bridge-getting-started",icon:"mdi-help-circle-outline",message:"sidebar.notifications.gettingStarted.message",onClick:()=>{vt.openUrl("https://bridge-core.github.io/editor-docs/getting-started/"),i.dispose()}})}console.timeEnd("[APP] beforeStartUp()")}async startUp(){console.time("[APP] startUp()"),this.locales.setDefaultLanguage(),await Promise.all([this.fileSystem.mkdir("projects"),this.fileSystem.mkdir("extensions"),this.fileSystem.mkdir("data"),vt.fileType.setup(this.dataLoader),Ce.setup(this.dataLoader)]),this.projectManager.projectReady.fired.then(async()=>this.extensionLoader.loadExtensions()),console.timeEnd("[APP] startUp()")}};let l=vt;u(l,"windowState",new Gw),u(l,"installApp",new Ew),u(l,"fileSystemSetup",new at),u(l,"toolbar",new Fw),u(l,"eventSystem",new Kr(["projectChanged","currentTabSwitched","refreshCurrentContext","disableValidation","fileAdded","fileChange","fileSave","presetsChanged"])),u(l,"ready",new L),u(l,"_instance"),u(l,"audioManager",new Vw),u(l,"fileType",U(new Xr));const Z=ke({isNavigationVisible:!0,currentState:null,sidebarElements:{}});function fy(t){t===Z.currentState?Z.currentState=null:Z.currentState=t,l.getApp().then(e=>e.windowResize.dispatch())}function gy(){Z.isNavigationVisible=!1,l.getApp().then(t=>t.windowResize.dispatch())}const eo=bt(!1);ui(Z,()=>{eo.value=Z.currentState!==null},{deep:!1});const Wn={data:()=>({windowControlsOverlay:navigator.windowControlsOverlay&&navigator.windowControlsOverlay.visible}),mounted(){navigator.windowControlsOverlay&&navigator.windowControlsOverlay.addEventListener("geometrychange",t=>{this.windowControlsOverlay=t.visible})}},ti={mixins:[Wn],computed:{appToolbarHeight(){return`env(titlebar-area-height, ${this.$vuetify.breakpoint.mobile?32:24}px)`},appToolbarHeightNumber(){return this.windowControlsOverlay?33:this.$vuetify.breakpoint.mobile?32:24}}};var wy=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-navigation-drawer",{style:{maxHeight:"calc(100% - "+t.appToolbarHeight+")",top:t.appToolbarHeight},attrs:{"mini-variant":"","mini-variant-width":"60",stateless:"",app:t.app,absolute:"",right:t.isSidebarRight,color:"sidebarNavigation",height:"calc(100% - "+t.appToolbarHeight+")"},model:{value:t.isNavigationVisible,callback:function(n){t.isNavigationVisible=n},expression:"isNavigationVisible"}},[t.isMobile?i("SidebarButton",{attrs:{displayName:"general.close",icon:"mdi-close",color:"error"},on:{click:t.closeSidebar}}):t._e(),i("v-list",t._l(t.sidebarElements,function(n){return i("SidebarButton",{key:""+n.uuid,attrs:{displayName:n.displayName,icon:n.icon,isLoading:n.isLoading,isSelected:n.isSelected},on:{click:function(s){return n.click()}}})}),1),t.hasVisibleNotifications?i("v-list",[i("v-divider",{staticClass:"mx-3 mb-6"}),t._l(t.NotificationStore,function(n){return[n.isVisible?i("SidebarButton",{key:n.id,attrs:{displayName:n.message,icon:n.icon,color:n.color,iconColor:n.textColor},on:{click:function(s){return n.onClick()},middleClick:function(s){return n.onMiddleClick()}}}):t._e()]})],2):t._e(),t.tasks.length>0?i("v-list",[i("v-divider",{staticClass:"mx-3 mb-6"}),t._l(t.tasks,function(n,s){return i("SidebarButton",{key:""+s,attrs:{displayName:n.name,icon:n.icon,color:"primary",isLoading:"",alwaysAllowClick:""},on:{click:function(r){return n.createWindow()}}},[i("v-progress-circular",{attrs:{rotate:"-90",size:"24",width:"2",color:"white",value:n.progress}})],1)})],2):t._e()],1)},yy=[];const vy={name:"Sidebar",mixins:[ti],props:{app:Boolean},components:{SidebarButton:Bu},data(){return{SidebarState:Z,settingsState:F,tasks:Yt,NotificationStore:ct}},computed:{isMobile(){return this.$vuetify.breakpoint.mobile},isNavigationVisible:{get(){return!this.isMobile||Z.isNavigationVisible},set(t){Z.isNavigationVisible=t}},sidebarElements(){return Object.values(Z.sidebarElements).filter(t=>t.isVisible)},hasVisibleNotifications(){return Object.values(this.NotificationStore).some(({isVisible:t})=>t)},isSidebarRight(){return this.settingsState&&this.settingsState.sidebar&&this.settingsState.sidebar.isSidebarRight}},methods:{closeSidebar(){Z.isNavigationVisible=!1}}},to={};var Cy=E(vy,wy,yy,!1,by,null,null,null);function by(t){for(let e in to)this[e]=to[e]}var Fy=function(){return Cy.exports}(),Ay=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-btn",{staticClass:"toolbar-btn",attrs:{small:"",icon:"",color:t.color},on:{click:function(n){return n.stopPropagation(),t.action(n)}}},[i("v-icon",{attrs:{small:""}},[t._v(t._s(t.icon))])],1)},Ey=[];const _y={name:"WindowAction",components:{},props:{action:Function,icon:String,color:String}},io={};var xy=E(_y,Ay,Ey,!1,Dy,"b0e50f88",null,null);function Dy(t){for(let e in io)this[e]=io[e]}var ky=function(){return xy.exports}(),Sy=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-list",{staticClass:"app-menu",staticStyle:{"border-radius":"0"},attrs:{color:"menu"}},[t._l(t.elements,function(n,s,r){return[n.type==="divider"?i("v-divider",{key:"menu."+r+"."+Math.random()}):i("v-menu",{key:"menu."+r+"."+Math.random(),attrs:{"open-on-hover":"","offset-x":"",tile:"","z-index":"11"},scopedSlots:t._u([{key:"activator",fn:function(a){var o=a.on;return[i("v-list-item",t._g({attrs:{dense:""},on:{click:function(c){return t.onClick(n)}}},n.type==="category"?o:void 0),[n.icon?i("v-list-item-icon",[i("v-icon",{attrs:{color:"accent",small:""}},[t._v(t._s(n.icon))])],1):t._e(),i("v-list-item-content",[i("v-list-item-title",[t._v(" "+t._s(t.t(n.name))+" ")])],1),i("v-list-item-action",[i("v-list-item-action-text",[n.type!=="category"&&n.keyBinding?i("span",[t._v(" "+t._s(n.keyBinding.toStrKeyCode())+" ")]):t._e(),n.type==="category"?i("v-icon",{attrs:{small:""}},[t._v(" mdi-chevron-right ")]):t._e()],1)],1)],1)]}}],null,!0)},[i("MenuList",{attrs:{elements:n.state}})],1)]})],2)},By=[];const jy={name:"MenuList",mixins:[P],props:{elements:Object},methods:{onClick(t){t.trigger()}}},no={};var Ty=E(jy,Sy,By,!1,Py,null,null,null);function Py(t){for(let e in no)this[e]=no[e]}var $y=function(){return Ty.exports}(),My=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-btn",{staticClass:"toolbar-btn",class:{"btn-enabled":!t.disabled,"btn-disabled":t.disabled,"px-1":t.$vuetify.breakpoint.mobile},attrs:{small:"",text:"",disabled:t.disabled},on:{click:function(n){return t.$emit("click",n)}}},[t.displayIcon?i("v-icon",{class:{"pr-1":!t.$vuetify.breakpoint.mobile},attrs:{color:"accent","x-small":t.$vuetify.breakpoint.mobile}},[t._v(" "+t._s(t.displayIcon)+" ")]):t._e(),i("span",[t._v(" "+t._s(t.t(t.displayName))+" ")])],1)},Oy=[];const Ry={name:"MenuButton",mixins:[P],props:{displayName:String,displayIcon:String,disabled:{type:Boolean}}},so={};var Iy=E(Ry,My,Oy,!1,Wy,"574f7a7c",null,null);function Wy(t){for(let e in so)this[e]=so[e]}var ro=function(){return Iy.exports}(),Ny=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-menu",{attrs:{"min-width":"260px","offset-y":"",tile:"","z-index":"11"},scopedSlots:t._u([{key:"activator",fn:function(n){var s=n.on;return[i("MenuButton",t._g({attrs:{disabled:t.disabled,displayIcon:t.item.icon,displayName:t.item.name}},s))]}}]),model:{value:t.item.isVisible,callback:function(n){t.$set(t.item,"isVisible",n)},expression:"item.isVisible"}},[t.item.isVisible?i("MenuList",{attrs:{elements:t.item.state}}):t._e()],1)},Ly=[];const Hy={name:"MenuActivator",components:{MenuList:$y,MenuButton:ro},props:{item:Object,disabled:Boolean}},ao={};var Vy=E(Hy,Ny,Ly,!1,zy,null,null,null);function zy(t){for(let e in ao)this[e]=ao[e]}var Uy=function(){return Vy.exports}(),Gy=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-system-bar",{style:{"padding-left":0,"margin-left":"env(titlebar-area-x, 0)",width:"env(titlebar-area-width, 100%)","z-index":t.windowControlsOverlay?1e3:void 0},attrs:{color:"toolbar",fixed:"",app:"",clipped:"",padless:"",height:t.appToolbarHeight}},[!t.isMacOS||!t.windowControlsOverlay?i("Logo",{staticStyle:{height:"20px","padding-right":"4px","padding-left":"calc(env(safe-area-inset-left) + 4px)"},attrs:{alt:"Logo of bridge. v2",draggable:"false"}}):t._e(),i("v-divider",{attrs:{vertical:""}}),i("v-toolbar-items",{staticClass:"px14-font"},[t._l(t.toolbar,function(n,s,r){return[n.type!=="category"?i("MenuButton",{key:"button."+s,attrs:{displayName:n.name,displayIcon:n.icon,disabled:t.isAnyWindowVisible},on:{click:function(){return n.trigger()}}}):n.shouldRender?i("MenuActivator",{key:"activator."+s,attrs:{item:n,disabled:t.isAnyWindowVisible}}):t._e(),n.shouldRender&&(t.windowControlsOverlay||r+1<Object.keys(t.toolbar).length)?i("v-divider",{key:"divider."+s,attrs:{vertical:""}}):t._e()]})],2),t.windowControlsOverlay?i("span",{staticClass:"pl-3"},[t._v(" "+t._s(t.title)+" ")]):t._e(),i("v-spacer"),i("div",{directives:[{name:"ripple",rawName:"v-ripple",value:!t.isAnyWindowVisible,expression:"!isAnyWindowVisible"}],staticClass:"px-1 mx-1 rounded-lg app-version-display",style:{opacity:t.isAnyWindowVisible?.4:null,"margin-right":"env(safe-area-inset-right, 0)"},on:{click:t.openChangelogWindow}},[t._v(" v"+t._s(t.appVersion)+" ")])],1)},Jy=[];const qy={name:"Toolbar",mixins:[Wn,ti],components:{WindowAction:ky,MenuActivator:Uy,MenuButton:ro,Logo:zi},setup(){const t=ke({title:"bridge.",isAnyWindowVisible:l.windowState.isAnyWindowVisible});return l.getApp().then(e=>{t.title=e.projectManager.title.current}),t},data:()=>({toolbar:l.toolbar.state,isMacOS:ge()==="darwin",appVersion:gt}),methods:{async openChangelogWindow(){if(this.isAnyWindowVisible)return;await(await l.getApp()).windows.changelogWindow.open()}}},oo={};var Ky=E(qy,Gy,Jy,!1,Qy,"cf4fc784",null,null);function Qy(t){for(let e in oo)this[e]=oo[e]}var Xy=function(){return Ky.exports}(),Zy=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.windows,function(n,s){return i(n.component,{key:s,tag:"component",attrs:{currentWindow:n}})}),1)},Yy=[];const ev={name:"CollectedWindows",data:()=>({windows:l.windowState.state})},uo={};var tv=E(ev,Zy,Yy,!1,iv,null,null,null);function iv(t){for(let e in uo)this[e]=uo[e]}var nv=function(){return tv.exports}();const sv={mixins:[ps],computed:{tabSystem(){if(this.project)return this.project.tabSystem},tabSystems(){if(this.project)return this.project.tabSystems},shouldRenderWelcomeScreen(){return this.tabSystems&&(this.tabSystems[0].shouldRender||this.tabSystems[1].shouldRender)}}};var rv=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-menu",{attrs:{"position-x":t.contextMenu.position.x,"position-y":t.contextMenu.position.y,rounded:"lg",absolute:"","offset-y":"",transition:"scale-transition","close-on-click":t.contextMenu.mayCloseOnClickOutside},model:{value:t.isVisible,callback:function(n){t.isVisible=n},expression:"isVisible"}},[i("v-list",{attrs:{color:"menu",dense:""}},[t._l(t.actions,function(n,s){return[n.type==="divider"?i("v-divider",{key:s}):i("v-list-item",{key:s,attrs:{origin:"center center",transition:"scale-transition",disabled:n.isDisabled},on:{click:function(r){return n.trigger()}}},[i("v-list-item-icon",{staticClass:"mr-2",style:{opacity:n.isDisabled?"38%":null}},[i("v-icon",{attrs:{color:"primary"}},[t._v(t._s(n.icon))])],1),i("v-list-item-action",{staticClass:"ma-0"},[t._v(" "+t._s(t.t(n.name))+" ")])],1)]})],2)],1)},av=[];const ov={name:"ContextMenu",mixins:[P],props:{contextMenu:Object},data:()=>({shouldRender:!1,timeoutId:null}),computed:{isVisible:{set(t){this.contextMenu.isVisible=t},get(){return this.contextMenu.isVisible}},actions(){return!this.contextMenu||!this.contextMenu.actionManager?[]:this.contextMenu.actionManager.state}},watch:{isVisible(){this.isVisible?(this.shouldRender=!0,this.timeoutId&&clearTimeout(this.timeoutId)):this.timeoutId=setTimeout(()=>{this.shouldRender=!1,this.timeoutId=null},500)}}},co={};var uv=E(ov,rv,av,!1,cv,null,null,null);function cv(t){for(let e in co)this[e]=co[e]}var lv=function(){return uv.exports}(),dv=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"tabElement",staticClass:"px-3 py-2 cursor-pointer",class:{selected:t.tab.isSelected,"default-tab-style":!0,"d-flex":!0,"align-center":!0,inactive:!t.isActive},staticStyle:{position:"relative"},on:{mousedown:[function(n){if(!n.type.indexOf("key")&&t._k(n.keyCode,"left",37,n.key,["Left","ArrowLeft"])||"button"in n&&n.button!==0)return null;t.hoveringBtn||t.tab.select()},function(n){if("button"in n&&n.button!==1)return null;n.preventDefault()}],mouseup:function(n){return"button"in n&&n.button!==1?null:t.tab.close()},contextmenu:function(n){return n.preventDefault(),t.tab.onContextMenu(n)},dblclick:function(n){t.tab.isTemporary=!1}}},[t.tab.isSelected&&t.pointerDevice==="touch"?i("v-btn",{attrs:{text:"",icon:"",small:""},on:{click:function(n){return t.tab.onContextMenu(n)},mouseenter:function(n){t.hoveringBtn=!0},mouseleave:function(n){t.hoveringBtn=!1}}},[i("v-icon",[t._v("mdi-dots-vertical")])],1):t._e(),i("v-badge",{class:{"mr-3":t.tab.isReadOnly,"mr-1":t.tab.isUnsaved},attrs:{value:t.tab.isReadOnly||t.tab.isUnsaved,color:t.tab.iconColor,icon:t.tab.isReadOnly?"mdi-lock-outline":null,bordered:"",overlap:"",depressed:"",dot:t.tab.isUnsaved&&!t.tab.isReadOnly}},[i("v-icon",{staticClass:"mr-1",attrs:{color:t.tab.iconColor,small:""}},[t._v(" "+t._s(t.tab.icon)+" ")])],1),i("v-tooltip",{attrs:{color:"tooltip","open-delay":"1500",disabled:t.pointerDevice==="touch"||!t.tab.projectPath,bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var s=n.on;return[i("span",t._g({},s),[i("span",{style:{"font-style":t.tab.isTemporary?"italic":null,position:t.tab.folderName?"relative":null,top:t.tab.folderName?"-4px":null}},[t._v(" "+t._s(t.tabName)+" ")]),t.tab.folderName?i("span",{staticStyle:{position:"absolute",top:"22px",left:"32px","font-size":"12px",overflow:"hidden","text-overflow":"ellipsis"},style:{left:t.tab.isSelected&&t.pointerDevice==="touch"?"60px":"32px",width:t.tab.isSelected&&t.pointerDevice==="touch"?"calc(100% - 76px)":"calc(100% - 48px)"}},[t._v(" "+t._s(t.tab.folderName)+"/ ")]):t._e()])]}}])},[i("span",[t._v(t._s(t.tab.projectPath))])]),i("v-btn",{attrs:{text:"",icon:"",small:""},on:{click:function(n){return n.stopPropagation(),t.tab.close()},mouseenter:function(n){t.hoveringBtn=!0},mouseleave:function(n){t.hoveringBtn=!1}}},[i("v-icon",{attrs:{small:""}},[t._v("mdi-close")])],1)],1)},pv=[];const hv={name:"TabSystemTab",props:{tab:Lt,isActive:Boolean},data:()=>({hoveringBtn:!1}),setup(){return{pointerDevice:ce}},mounted(){this.isSelected&&this.$refs.tabElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},computed:{compactDesign(){return!F.editor||F.editor.compactTabDesign===void 0?!0:F.editor.compactTabDesign},isSelected(){return this.tab.isSelected},tabName(){if(!this.compactDesign||this.isSelected)return this.tab.name;let t=this.tab.name.split(".");return t.pop(),t=t.join("."),t.length>5?t.slice(0,5)+"...":this.tab.name}},watch:{isSelected(){this.isSelected&&this.$refs.tabElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}},lo={};var mv=E(hv,dv,pv,!1,fv,"c29a26fe",null,null);function fv(t){for(let e in lo)this[e]=lo[e]}var gv=function(){return mv.exports}(),wv=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"ripple",rawName:"v-ripple",value:!t.action.isDisabled,expression:"!action.isDisabled"}],staticClass:"d-flex px-1 mx-1 align-center action",style:{opacity:t.action.isDisabled?.2:1,cursor:t.action.isDisabled?null:"pointer"},on:{click:t.onClick}},[i("v-icon",{staticClass:"mr-1",attrs:{color:t.action.color||"primary",small:""}},[t._v(" "+t._s(t.action.icon)+" ")]),i("span",{staticClass:"action-name"},[t._v(t._s(t.t(t.action.name)))])],1)},yv=[];const vv={props:{action:se},mixins:[P],methods:{onClick(){this.$emit("click"),this.action.trigger()}}},po={};var Cv=E(vv,wv,yv,!1,bv,"42e47abc",null,null);function bv(t){for(let e in po)this[e]=po[e]}var Fv=function(){return Cv.exports}(),Av=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-inline-flex mb-1",staticStyle:{height:"21px",width:"100%","overflow-x":"auto","overflow-y":"hidden"}},t._l(t.actions,function(n){return i("Action",{key:n.id,attrs:{action:n},on:{click:function(s){return t.$emit("click")}}})}),1)},Ev=[];const _v={components:{Action:Fv},props:{actions:Array}},ho={};var xv=E(_v,Av,Ev,!1,Dv,null,null,null);function Dv(t){for(let e in ho)this[e]=ho[e]}var kv=function(){return xv.exports}(),Sv=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.tabSystem.shouldRender?i("Draggable",{style:"display: flex; overflow-x: scroll; white-space: nowrap; width: 100%; height: 48px;",attrs:{group:{name:"tabSystemTabRow"},disabled:t.pointerDevice==="touch"},on:{change:t.updateTab},nativeOn:{mousedown:function(n){return n.target!==n.currentTarget?null:t.tabSystem.setActive(!0)}},model:{value:t.tabSystem.tabs,callback:function(n){t.$set(t.tabSystem,"tabs",n)},expression:"tabSystem.tabs"}},t._l(t.tabSystem.tabs,function(n){return i("TabSystemTab",{key:n.uuid,attrs:{tab:n,isActive:t.tabSystem.isActive}})}),1):t._e(),t.tabSystem.selectedTab&&t.tabSystem.selectedTab.actions.length>0?i("ActionBar",{class:{"inactive-action-bar":!t.tabSystem.isActive},attrs:{actions:t.tabSystem.selectedTab.actions},on:{click:function(n){return t.tabSystem.setActive(!0)}}}):t._e()],1)},Bv=[];const jv={components:{TabSystemTab:gv,ActionBar:kv,Draggable:Wi},props:{tabSystem:Object},setup(){return{pointerDevice:ce}},methods:{updateTab({added:t}){!t||t.element.toOtherTabSystem(!1)}}},mo={};var Tv=E(jv,Sv,Bv,!1,Pv,"6e0b7f6a",null,null);function Pv(t){for(let e in mo)this[e]=mo[e]}var $v=function(){return Tv.exports}(),Mv=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.tabSystem.shouldRender?i("div",{style:{"margin-right":"1px",width:t.isMobile?"100%":"calc(50% - 100px)",height:t.isMobile?"50%":"100%"}},[i("TabBar",{attrs:{tabSystem:t.tabSystem}}),t.tabSystem.selectedTab&&t.tabSystem.selectedTab.isLoading?i("v-progress-linear",{attrs:{absolute:"",indeterminate:""}}):t._e(),i("keep-alive",[i(t.tabSystem.currentComponent,{key:t.tabSystem.uuid+"."+(t.tabSystem.currentComponent.name||t.tabSystem.selectedTab.type||t.tabSystem.selectedTab.name),tag:"component",style:"height: "+t.tabHeight+"px; width: 100%;",attrs:{height:t.tabHeight,tab:t.tabSystem.selectedTab,id:t.id}})],1)],1):t._e()},Ov=[];const Rv={name:"TabSystem",mixins:[ti],props:{tabSystem:Object,id:{type:Number,default:0}},components:{TabBar:$v,WelcomeScreen:Ui},data:()=>({windowHeight:window.innerHeight}),async mounted(){(await l.getApp()).windowResize.on(this.updateWindowHeight)},async destroyed(){(await l.getApp()).windowResize.off(this.updateWindowHeight)},computed:{tabBarHeight(){return this.tabSystem.selectedTab&&this.tabSystem.selectedTab.actions.length>0?48+25:48},tabHeight(){return(this.windowHeight-this.appToolbarHeightNumber)/(this.tabSystem.isSharingScreen&&this.isMobile?2:1)-this.tabBarHeight},isMobile(){return this.$vuetify.breakpoint.mobile}},methods:{updateWindowHeight(){this.windowHeight=window.innerHeight}},watch:{"tabSystem.shouldRender"(){l.getApp().then(t=>t.windowResize.dispatch())}}},fo={};var Iv=E(Rv,Mv,Ov,!1,Wv,null,null,null);function Wv(t){for(let e in fo)this[e]=fo[e]}var Nv=function(){return Iv.exports}(),Lv=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-overlay",{attrs:{opacity:.9},model:{value:t.state.isHovering,callback:function(n){t.$set(t.state,"isHovering",n)},expression:"state.isHovering"}},[i("div",{staticClass:"d-flex flex-column align-center justify-center"},[i("v-icon",{staticStyle:{"font-size":"8em"},attrs:{color:"primary"}},[t._v(" mdi-plus-circle-outline ")]),i("h1",[t._v(t._s(t.t("fileDropper.importFiles")))])],1)])},Hv=[];const Vv={name:"FileDropperUI",mixins:[P],data:()=>({state:{isHovering:!1}}),mounted(){l.getApp().then(t=>{this.state=t.fileDropper.state})}},go={};var zv=E(Vv,Lv,Hv,!1,Uv,null,null,null);function Uv(t){for(let e in go)this[e]=go[e]}var Gv=function(){return zv.exports}(),Jv=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{attrs:{color:"transparent",elevation:"0",rounded:"lg"}},[i("v-card-actions",[i("v-btn",{attrs:{color:"primary",disabled:t.buttonDisabled},on:{click:t.onClick}},[i("v-icon",{staticClass:"mr-1"},[t._v("mdi-download")]),t._v(" "+t._s(t.t("sidebar.notifications.installApp.message"))+" ")],1),i("v-spacer"),i("v-btn",{on:{click:function(n){return t.$emit("next")}}},[t._v(t._s(t.t("general.skip")))])],1)],1)},qv=[];const Kv={mixins:[P],data:()=>({buttonDisabled:!1}),methods:{async onClick(){l.installApp.prompt()}}},wo={};var Qv=E(Kv,Jv,qv,!1,Xv,null,null,null);function Xv(t){for(let e in wo)this[e]=wo[e]}var Zv=function(){return Qv.exports}(),Yv=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{attrs:{color:"transparent",elevation:"0"}},t._l(t.actions,function(n,s){return i("ActionViewer",{directives:[{name:"ripple",rawName:"v-ripple"}],key:s,staticClass:"clickable",attrs:{action:n,hideTriggerButton:""},nativeOn:{click:function(r){return n.trigger()}}})}),1)},eC=[];const tC={components:{ActionViewer:Ft},async mounted(){at.state.receiveDirectoryHandle.dispatch(new ve(null,"bridgeFolder",void 0)),await at.state.setupDone},data(){return{actions:[new se({icon:"mdi-plus",name:"initialSetup.step.bridgeProject.createNew.name",description:"initialSetup.step.bridgeProject.createNew.description",onTrigger:async()=>{this.$emit("next")}}),new se({icon:"mdi-import",name:"initialSetup.step.bridgeProject.importExisting.name",description:"initialSetup.step.bridgeProject.importExisting.description",onTrigger:async()=>{let t;try{[t]=await window.showOpenFilePicker({multiple:!1,types:[{description:"bridge. Project",accept:{"application/zip":[".brproject"]}}]})}catch{return}const e=new Oa;e.open(),await Sn(t,!0),this.$emit("done"),e.close()}})]}}},yo={};var iC=E(tC,Yv,eC,!1,nC,null,null,null);function nC(t){for(let e in yo)this[e]=yo[e]}var sC=function(){return iC.exports}(),rC=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-btn",{attrs:{color:"primary",disabled:t.buttonDisabled},on:{click:t.onClick}},[i("v-icon",{staticClass:"mr-1"},[t._v("mdi-folder-open-outline")]),t._v(" "+t._s(t.t("general.selectFolder"))+" ")],1)},aC=[];const oC={mixins:[P],data:()=>({buttonDisabled:!1}),methods:{async onClick(){let t;try{t=await window.showDirectoryPicker({writable:!0,startIn:"documents"})}catch{return}!t||(at.state.receiveDirectoryHandle.dispatch(t),this.buttonDisabled=!0,await at.state.setupDone,this.$emit("next"))}}},vo={};var uC=E(oC,rC,aC,!1,cC,null,null,null);function cC(t){for(let e in vo)this[e]=vo[e]}var lC=function(){return uC.exports}(),dC=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{attrs:{color:"transparent",elevation:"0",rounded:"lg"}},[i("v-card-text",{staticClass:"d-flex align-center"},[i("v-icon",{staticClass:"pr-2",attrs:{color:"primary","x-large":""}},[t._v(" mdi-plus-circle-outline ")]),i("span",{staticClass:"text-h5"},[t._v(" "+t._s(t.t("initialSetup.step.comMojang.extraDescription"))+" ")])],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{on:{click:function(n){return t.$emit("next")}}},[t._v(t._s(t.t("general.skip")))])],1)],1)},pC=[];const hC={mixins:[P],mounted(){l.instance.comMojang.setup.fired.then(()=>{this.$emit("next")})}},Co={};var mC=E(hC,dC,pC,!1,fC,null,null,null);function fC(t){for(let e in Co)this[e]=Co[e]}var gC=function(){return mC.exports}(),wC=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{attrs:{color:"transparent",elevation:"0"}},t._l(t.actions,function(n,s){return i("ActionViewer",{directives:[{name:"ripple",rawName:"v-ripple"}],key:s,staticClass:"clickable",attrs:{action:n,hideTriggerButton:""},nativeOn:{click:function(r){return n.trigger()}}})}),1)},yC=[];const vC={components:{ActionViewer:Ft},data(){return{isLoading:!1,actions:[new se({icon:"mdi-text",name:"initialSetup.step.editorType.rawText.name",description:"initialSetup.step.editorType.rawText.description",onTrigger:async()=>{this.isLoading||(this.isLoading=!0,await this.setJsonEditor("rawText"),this.$emit("next"))}}),new se({icon:"mdi-file-tree",name:"initialSetup.step.editorType.treeEditor.name",description:"initialSetup.step.editorType.treeEditor.description",onTrigger:async()=>{this.isLoading||(this.isLoading=!0,await this.setJsonEditor("treeEditor"),this.$emit("next"))}})]}},methods:{async setJsonEditor(t){await We.loadSettings(l.instance),F.editor||(F.editor={}),F.editor.jsonEditor=t,await We.saveSettings(l.instance)}}},bo={};var CC=E(vC,wC,yC,!1,bC,null,null,null);function bC(t){for(let e in bo)this[e]=bo[e]}var FC=function(){return CC.exports}(),AC=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isVisible?i("v-dialog",{attrs:{value:t.isVisible&&t.stepId<t.steps.length+1,fullscreen:"","hide-overlay":"",persistent:""}},[i("v-card",[i("v-container",{class:{"pt-12":t.windowControlsOverlay}},[i("div",{staticClass:"d-flex flex-column justify-center align-center text-center mb-6"},[i("Logo",{attrs:{height:"128"}}),i("h1",{staticClass:"text-h3"},[t._v(t._s(t.t("initialSetup.welcome")))]),i("h2",{staticClass:"text-h5"},[t._v(" - "+t._s(t.t("initialSetup.welcomeCaption"))+" - ")])],1),i("v-stepper",{attrs:{vertical:""},model:{value:t.stepId,callback:function(n){t.stepId=n},expression:"stepId"}},[t._l(t.steps,function(n,s){var r=n.name,a=n.component;return[i("v-stepper-step",{key:r+".header",attrs:{complete:t.stepId>s+1,step:s+1}},[i("span",{staticClass:"text-h5"},[t._v(t._s(t.t(r+".name")))]),t.stepId===s+1?i("span",{staticClass:"text-body-2"},[t._v(" "+t._s(t.t(r+".description"))+" ")]):t._e()]),i("v-stepper-content",{key:r+".content",attrs:{step:s+1}},[i(a,{tag:"component",on:{next:function(o){return t.onNext()},done:function(o){return t.onDone()}}})],1)]})],2)],1)],1)],1):t._e()},EC=[];const _C={name:"InitialSetupDialog",mixins:[P,Wn],components:{Logo:zi},setup:()=>({isVisible:at.state.showInitialSetupDialog}),data:()=>({setupInProgress:!0,stepId:1,steps:[...G?[{name:"initialSetup.step.bridgeProject",component:sC}]:[{name:"initialSetup.step.bridge",component:lC},{name:"initialSetup.step.comMojang",component:gC}],{name:"initialSetup.step.editorType",component:FC}]}),mounted(){let t=!1;l.installApp.isInstallable.on(()=>{t||this.stepId>1||(this.steps.unshift({name:"initialSetup.step.installApp",component:Zv}),t=!0,this.stepId=0,this.$nextTick(()=>this.stepId=1))}),l.installApp.isInstalled.on(()=>{this.onNext()})},methods:{onNext(){this.stepId++,this.stepId>this.steps.length&&Qe.ready.dispatch()},onDone(){this.stepId=this.steps.length+1,Qe.ready.dispatch()}}},Fo={};var xC=E(_C,AC,EC,!1,DC,null,null,null);function DC(t){for(let e in Fo)this[e]=Fo[e]}var kC=function(){return xC.exports}(),SC=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-tooltip",{attrs:{color:t.color||"tooltip",disabled:t.$vuetify.breakpoint.mobile,"open-delay":500,bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var s=n.on,r=n.attrs;return[i("div",t._g(t._b({directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"rounded-lg ma-1 d-flex justify-center sidebar-actions pa-2",class:{"elevation-4":t.isSelected},style:{background:t.isSelected?"var(--v-"+t.color+"-base)":null,transform:t.isSelected?"scale(1.05)":null},on:{click:function(a){return t.$emit("click",a)}}},"div",r,!1),s),[i("v-icon",{attrs:{color:t.isSelected?"white":t.color}},[t._v(" "+t._s(t.icon)+" ")])],1)]}}])},[i("span",[t._v(t._s(t.t(t.name)))])])},BC=[];const jC={mixins:[P],props:{color:String,icon:String,name:String,isSelected:Boolean}},Ao={};var TC=E(jC,SC,BC,!1,PC,"49cd559f",null,null);function PC(t){for(let e in Ao)this[e]=Ao[e]}var $C=function(){return TC.exports}(),MC=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",{staticClass:"action-bar pa-1",attrs:{cols:"5","no-gutters":""}},t._l(t.actions,function(n,s){return i("v-col",{key:s},[i("Action",{attrs:{color:n.config.color,icon:n.config.icon,name:n.config.name,isSelected:n.isSelected},on:{click:function(r){return t.onClick(r,n)}}})],1)}),1)},OC=[];const RC={props:{actions:Array},components:{Action:$C},methods:{onClick(t,e){e instanceof Ei?e.select():e.trigger(t)}}},Eo={};var IC=E(RC,MC,OC,!1,WC,"30f490bd",null,null);function WC(t){for(let e in Eo)this[e]=Eo[e]}var NC=function(){return IC.exports}(),LC=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.content?i("div",{staticClass:"pa-2",style:{height:"calc("+t.windowDimensions.currentHeight+"px - "+t.appToolbarHeight+")"}},[t.content.headerSlot?i("BridgeSheet",{staticClass:"mb-2",style:{height:t.content.headerHeight,overflow:"auto"}},[i(t.content.headerSlot,{tag:"component"})],1):t._e(),i("BridgeSheet",{style:{height:t.content.headerSlot?"calc(100% - "+t.content.headerHeight+" - 8px)":"100%",overflow:"auto"}},[t.content.topPanel?i("InfoPanel",{staticClass:"ma-2",attrs:{infoPanel:t.content.topPanel}}):t._e(),t.content.actions&&t.content.actions.length>0?i("ActionBar",{attrs:{actions:t.content.actions}}):t._e(),i(t.content.component,{tag:"component",attrs:{sidebarContent:t.content}})],1)],1):t._e()},HC=[];const VC={mixins:[ti],components:{BridgeSheet:Pi,ActionBar:NC,InfoPanel:br},mounted(){l.getApp().then(t=>{this.windowDimensions=t.windowResize.state})},data:()=>({SidebarState:Z,windowDimensions:{currentHeight:window.innerHeight}}),computed:{content(){return this.SidebarState.currentState}}},_o={};var zC=E(VC,LC,HC,!1,UC,null,null,null);function UC(t){for(let e in _o)this[e]=_o[e]}var GC=function(){return zC.exports}(),JC=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",{style:{fontFamily:t.fontFamily},nativeOn:{contextmenu:function(n){return n.preventDefault()}}},[i("Toolbar"),i("Sidebar",{attrs:{app:""}}),t.sidebarNavigationVisible?t._e():i("v-btn",{staticStyle:{bottom:"calc(env(safe-area-inset-bottom, 0) + 16px)"},attrs:{small:"",fab:"",fixed:"",left:!t.isSidebarRight,right:t.isSidebarRight,color:"primary"},on:{click:t.openSidebar}},[i("v-icon",[t._v("mdi-table-column")])],1),i("v-main",{style:{"padding-top":t.appToolbarHeight}},[i("WindowRenderer"),i("v-row",{staticClass:"d-flex fill-area",class:{"flex-row-reverse":t.isSidebarRight},attrs:{"no-gutters":""}},[t.isSidebarContentVisible?i("v-col",{attrs:{cols:t.isSidebarContentVisible?3+t.sidebarSize:0}},[i("SidebarContent")],1):t._e(),i("v-col",{staticClass:"flex-grow-1",attrs:{cols:t.isSidebarContentVisible?9-t.sidebarSize:12}},[t.shouldRenderWelcomeScreen?i("div",{staticClass:"d-flex",class:{"flex-column":t.$vuetify.breakpoint.mobile},style:{height:"calc("+t.windowSize.currentHeight+"px - "+t.appToolbarHeight+")"}},[t.isSidebarContentVisible&&!t.isSidebarRight?i("v-divider",{staticStyle:{"z-index":"1"},attrs:{vertical:""}}):t._e(),i("TabSystem",{staticClass:"flex-grow-1",attrs:{tabSystem:t.tabSystems[0],showWelcomeScreen:""}}),t.tabSystems[0].shouldRender&&t.tabSystems[1].shouldRender?i("v-divider",{staticStyle:{"z-index":"1"},attrs:{vertical:!t.$vuetify.breakpoint.mobile}}):t._e(),i("TabSystem",{staticClass:"flex-grow-1",attrs:{tabSystem:t.tabSystems[1],id:1}}),t.isSidebarContentVisible&&t.isSidebarRight?i("v-divider",{attrs:{vertical:""}}):t._e()],1):i("WelcomeScreen")],1)],1)],1),i("InitialSetupDialog"),t.contextMenu?i("ContextMenu",{attrs:{contextMenu:t.contextMenu}}):t._e(),i("FileDropper")],1)},qC=[];const KC={name:"App",mixins:[sv,ti],mounted(){l.getApp().then(t=>{this.contextMenu=t.contextMenu,this.windowSize=t.windowResize.state})},components:{Sidebar:Fy,Toolbar:Xy,WindowRenderer:nv,ContextMenu:lv,TabSystem:Nv,WelcomeScreen:Ui,FileDropper:Gv,InitialSetupDialog:kC,SidebarContent:GC},data:()=>({isMacOs:ge()==="darwin",contextMenu:null,settingsState:F,windowSize:{currentWidth:window.innerWidth,currentHeight:window.innerHeight}}),computed:{isSidebarContentVisible(){return this.sidebarNavigationVisible&&eo.value},sidebarNavigationVisible(){return Z.isNavigationVisible},isSidebarRight(){return this.settingsState&&this.settingsState.sidebar&&this.settingsState.sidebar.isSidebarRight},sidebarSize(){let t=this.settingsState&&this.settingsState.sidebar?this.settingsState.sidebar.sidebarSize:void 0;if(t||(t="normal"),this.$vuetify.breakpoint.mobile)return 9;switch(t){case"tiny":return-2;case"small":return-1;case"normal":return 0;case"large":return 1}},fontFamily(){return this.settingsState&&this.settingsState.appearance&&this.settingsState.appearance.font?`${this.settingsState.appearance.font} !important`:"Roboto !important"}},methods:{openSidebar(){Z.isNavigationVisible=!0}},watch:{"$vuetify.breakpoint.mobile"(){this.$nextTick(()=>{l.getApp().then(t=>t.windowResize.dispatch())})}}},xo={};var QC=E(KC,JC,qC,!1,XC,null,null,null);function XC(t){for(let e in xo)this[e]=xo[e]}var ZC=function(){return QC.exports}(),YC=W(j({},ou),{languageName:"English",general:{yes:"Yes",no:"No",okay:"Okay",confirm:"Confirm",cancel:"Cancel",close:"Close",reload:"Reload",information:"Information",continue:"Continue",delete:"Delete",select:"Select",skip:"Skip",save:"Save",more:"More...",selectFolder:"Select Folder",fileName:"File Name",inactive:"Inactive",active:"Active",later:"Later",confirmOverwriteFile:"This action overwrites a file with the same name. Do you want to continue?",fileSystemPolyfill:"Due to the browser you are using, you need to download your projects in order to actually save your progress. This is not necessary if you are using Chrome (excluding Chrome 93/94) or Edge!",successfulExport:{title:"Export Successful",description:"You can find the exported package here"},experimentalGameplay:"Experimental Gameplay",textureLocation:"Texture Location"},packType:{behaviorPack:{name:"Behavior Pack",description:"Create new game mechanics and change how Minecraft behaves"},resourcePack:{name:"Resource Pack",description:"Used for changing Minecraft's look and sound"},skinPack:{name:"Skin Pack",description:"Provide new appearances a player can select for their character"},worldTemplate:{name:"World Template",description:"Create a world that users can create to experience your project"}},fileType:{manifest:"Manifest",animation:"Animation",animationController:"Animation Controller",biome:"Biome",block:"Block",bridgeConfig:"Project Config",dialogue:"Dialogue",entity:"Entity",feature:"Feature",featureRule:"Feature Rule",functionTick:"Function Tick",function:"Function",item:"Item",lootTable:"Loot Table",recipe:"Recipe",clientScript:"Client Script",serverScript:"Server Script",script:"Script",spawnRule:"Spawn Rule",mcstructure:"Structure",tradeTable:"Trade Table",clientManifest:"Client Manifest",skinManifest:"Skin Manifest",geometry:"Geometry",customCommand:"Command",customComponent:"Component",clientAnimation:"Client Animation",clientAnimationController:"Client Animation Controller",attachable:"Attachable",clientEntity:"Client Entity",clientItem:"Client Item",clientLang:"Language",fog:"Fog",particle:"Particle",renderController:"Render Controller",texture:"Texture",textureSet:"Texture Set",itemTexture:"Item Texture",clientBlock:"Client Block",terrainTexture:"Terrain Texture",flipbookTexture:"Flipbook Texture",clientBiome:"Client Biome",soundDefinition:"Sound Definition",musicDefinition:"Music Definition",clientSound:"Client Sound",skins:"Skins",langDef:"Language Definitions",lang:"Language",molang:"Molang",gameTest:"Game Test",unknown:"Other",simpleFile:"Simple Files",ui:"UI",volume:"Volume",worldManifest:"World Manifest"},actions:{newProject:{name:"New Project",description:"Create a new bridge. project"},newFile:{name:"New File",description:"Create a new Add-On feature"},openFile:{name:"Open File",description:"Open a file from the current project"},searchFile:{name:"Search File",description:"Search and open a file from the current project"},saveFile:{name:"Save File",description:"Save the currently opened file"},saveAs:{name:"Save As",description:"Save the currently opened file under a different name"},saveAll:{name:"Save All",description:"Save all currently opened files"},closeFile:{name:"Close File",description:"Close the currently opened file"},settings:{name:"Settings",description:"Open bridge.'s app settings"},extensions:{name:"Extensions",description:"Install and manage your installed extensions"},copy:{name:"Copy",description:"Copy selected text to the clipboard"},cut:{name:"Cut",description:"Copy selected text to the clipboard and remove it from the original context"},paste:{name:"Paste",description:"Paste clipboard content"},docs:{name:"Documentation",description:"Opens the Minecraft Add-On documentation"},releases:{name:"Releases",description:"View the latest bridge. releases"},bugReports:{name:"Bug Reports",description:"Report an issue with bridge."},extensionAPI:{name:"Extension API",description:"Read more about bridge.'s extension API"},gettingStarted:{name:"Getting Started",description:"Read our guide on how to get started with bridge."},faq:{name:"FAQ",description:"Read through frequently asked questions about developing Add-Ons with bridge."},reloadAutoCompletions:{name:"Reload Auto-Completions",description:"Reloads all auto-completion data"},reloadExtensions:{name:"Reload Extensions",description:"Reloads all extensions"},moveToSplitScreen:{name:"Move to Split Screen",description:"Opens a split screen view and moves this tab to it"},closeTab:{name:"Close Tab",description:"Close this tab"},closeAll:{name:"Close All",description:"Close all tabs"},closeTabsToRight:{name:"Close Tabs to the Right",description:"Close all tabs to the right-hand side of this tab"},closeAllSaved:{name:"Close All Saved",description:"Close all saved tabs"},closeOtherTabs:{name:"Close other Tabs",description:"Close all tabs except this tab"},clearAllNotifications:{name:"Clear All Notifications",description:"Clears all current notifications"},pluginInstallLocation:{global:{name:"Install Globally",description:"Global extensions are accessible in all of your projects"},local:{name:"Install Locally",description:"Local extensions are only accessible inside of the projects you add them to"}},toObject:{name:"Transform to Object"},toArray:{name:"Transform to Array"},documentationLookup:{name:"View Documentation",noDocumentation:"No documentation available for"},toggleReadOnly:{name:"Toggle Read-Only Mode",description:"Toggle read-only mode for the currently opened file"},keepInTabSystem:{name:"Keep in Tab System",description:"Converts this tab to a permanent tab"},importBrproject:{name:"Import Project",description:"Import a project from a .brproject file"},downloadFile:{name:"Download File",description:"Download the currently opened file"},undo:{name:"Undo",description:"Undo the last action"},redo:{name:"Redo",description:"Redo the last action"},goToDefinition:{name:"Go to Definition",description:"Go to the definition of the selected symbol"},goToSymbol:{name:"Go to Symbol",description:"Opens a dialog to select a symbol to go to"},formatDocument:{name:"Format Document",description:"Format the currently opened document"},changeAllOccurrences:{name:"Change All Occurrences",description:"Change all occurrences of the selected text"}},toolbar:{project:{name:"Project"},file:{name:"File",preferences:{name:"Preferences"}},edit:{name:"Edit"},tools:{name:"Tools"},help:{name:"Help"}},sidebar:{compiler:{name:"Compiler",default:{name:"Default Config",description:`Run bridge.'s compiler with the default compiler configuration that is part of your project's "config.json" file.`}},extensions:{name:"Extensions"},notifications:{socials:{message:"Socials"},gettingStarted:{message:"Getting Started"},installApp:{message:"Install App"},updateAvailable:{message:"Update Available"},updateExtensions:"Update All Extensions"}},welcome:{title:"Welcome to bridge.",subtitle:"Creating Minecraft addons has never been more convenient!",quickActions:"Quick Actions",recentFiles:"Recent Files",recentProjects:"Recent Projects"},experimentalGameplay:{cavesAndCliffs:{name:"Caves and Cliffs",description:"Enables auto-completions for the new mountain generation inside of biomes."},holidayCreatorFeatures:{name:"Holiday Creator Features",description:"Enables auto-completions for the data driven item and block features."},creationOfCustomBiomes:{name:"Creation of Custom Biomes",description:"Enables the creation of custom biomes, features and feature rules."},additionalModdingCapabilities:{name:"Additional Modding Capabilities",description:"Enables the Scripting API in the manifest and allows you to create scripts with auto-completions."},upcomingCreatorFeatures:{name:"Upcoming Creator Features",description:"Enables the creation of fog volume files and provides auto-completions for entity properties."},enableGameTestFramework:{name:"Enable GameTest Framework",description:"Enables the GameTest related modules in the manifest and allows you to create GameTest scripts with auto-completions."},experimentalMolangFeatures:{name:"Experimental Molang Features",description:"Enables auto-completions for experimental Molang queries."},educationEdition:{name:"Enable Education Edition",description:"Enables auto-completions for education features such as material reducer recipes."}},windows:{changelogWindow:{title:"What's new?"},openFile:{title:"Open",search:"Search file...",noData:"No results..."},createProject:{welcome:"Welcome to bridge.!",welcomeDescription:"Please create your first project in order to get started.",omitPack:"Omit",selectedPack:"Selected",title:"Create Project",packIcon:"Project Icon (optional)",projectName:{name:"Project Name",invalidLetters:"You may only use alphanumerical characters",mustNotBeEmpty:"You must enter a project name"},projectDescription:"Project Description (optional)",projectPrefix:"Project Prefix",projectAuthor:"Project Author",projectTargetVersion:"Project Target Version",rpAsBpDependency:"Register resource pack as behavior pack dependency",bpAsRpDependency:"Register behavior pack as a resource pack dependency",useLangForManifest:"Add pack name/description directly to the manifest",create:"Create",saveCurrentProject:"Do you want to save your current project before creating the new one? Any unsaved changes will get lost!",individualFiles:{name:"Individual Files",file:{player:{name:"player.json",description:"Edit how the default player behaves"},tick:{name:"tick.json",description:"Define which functions to execute every tick"},skins:{name:"skins.json",description:"Register the skins you have created"},blocks:{name:"blocks.json",description:"Used to define how multiple block faces are combined to a single block"},terrainTexture:{name:"terrain_texture.json",description:"Used to assign textures to block faces"},itemTexture:{name:"item_texture.json",description:"Used to assign textures to items"},flipbookTextures:{name:"flipbook_textures.json",description:"Used for animating block textures"},biomesClient:{name:"biomes_client.json",description:"Used to define how biome specific effects render"},sounds:{name:"sounds.json",description:"Used to define sounds for specific game features"},soundDefinitions:{name:"sound_definitions.json",description:"Used to register ids for sound files to be used elsewhere in the project"}}}},createPreset:{title:"Create Preset",searchPresets:"Search presets...",overwriteFiles:"This preset overwrites one or more existing files. Do you want to continue?",overwriteFilesConfirm:"Continue",overwriteUnsavedChanges:"This preset overwrites one or more files with unsaved changes. Do you want to continue?",overwriteUnsavedChangesConfirm:"Continue",validationRule:{alphanumeric:"You may only use alphanumeric characters and/or underscores",lowercase:"You may only use lowercase letters",required:"This field is required",noEmptyFolderNames:"Folder name may not be empty"}},deleteProject:{confirm:"Delete",description:"Are you sure you want to delete this project?"},socials:{title:"Socials",content:"Check out our Twitter, Github and join the official bridge. Discord server!",discord:"Discord",twitter:"Twitter",github:"Github"},projectChooser:{title:"Choose Project",description:"Select the currently active project",searchProjects:"Search projects...",newProject:{name:"New Project",description:"Create a new bridge. project."},saveCurrentProject:{name:"Save Project",description:"Download your current project as a .brproject file to save changes that you have made."},openNewProject:{name:"Open Project",description:"Open a different project by selecting the corresponding .brproject file.",saveCurrentProject:"Do you want to save your current project before loading in the new one?"},wrongFileType:"Project must be a .brproject or .mcaddon file",addPack:"Add Pack"},filePath:{title:"Choose File Path"},packExplorer:{title:"Pack Explorer",searchFiles:"Search files...",categories:"Categories",refresh:{name:"Refresh Project",description:"Fetch the current project for newly added files"},restartDevServer:{name:"Restart Dev Server",description:"Are you sure that you want to restart the compiler's dev server? This can take some time depending on the size of your project. Restarting the compiler deletes your add-on from the com.mojang folder and recompiles it based on your bridge. folder!"},createPreset:"New File",projectConfig:{name:"Open Project Config",missing:"It looks like this project has no config.json file. Every project needs a project config in order to work correctly."},exportAsMcaddon:{name:"Export as .mcaddon"},exportAsMctemplate:{name:"Export as .mctemplate",chooseWorld:"Choose a World"},exportAsMcworld:{name:"Export as .mcworld",chooseWorld:"Choose a World"},exportAsBrproject:{name:"Export as .brproject"},fileActions:{delete:{name:"Delete",description:"Delete a file or folder",confirmText:"Are you sure that you want to delete this file? You won't be able to restore it later!"},rename:{name:"Rename",description:"Rename a file"},duplicate:{name:"Duplicate",description:"Duplicate a file"},viewCompilerOutput:{name:"View Compiler Output",description:"View the current compiler output for this file",fileMissing:"It doesn't look like this file was compiled yet."},revealFilePath:{name:"Reveal File Path",description:"Reveals the location of a file or folder"},createFile:{name:"Create File",description:"Create a new file"},createFolder:{name:"Create Folder",description:"Create a new folder"}}},settings:{title:"Settings",searchSettings:"Search settings...",sidebar:{name:"Sidebar",sidebarRight:{name:"Sidebar Right",description:"Moves the sidebar to the right side of the screen"},sidebarSize:{name:"Sidebar Size",description:"Changes the width of the expanded sidebar area."},shrinkSidebarElements:{name:"Shrink Sidebar Elements",description:"Shrink the size of bridge.'s sidebar elements"}},appearance:{name:"Appearance",colorScheme:{name:"Color Scheme",description:"Choose the color scheme of bridge.'s UI"},darkTheme:{name:"Dark Theme",description:"Select the default dark theme bridge. uses"},lightTheme:{name:"Light Theme",description:"Select the default light theme bridge. uses"},localDarkTheme:{name:"Local Dark Theme",description:"Choose a dark theme for the currently active project"},localLightTheme:{name:"Local Light Theme",description:"Choose a light theme for the currently active project"},fontSize:{name:"Font Size",description:"Change the font size of bridge.'s text"},editorFontSize:{name:"Code Font Size",description:"Change the font size of bridge.'s code editor"},editorFont:{name:"Code Font",description:"Change the font of bridge.'s code editor"},font:{name:"Font",description:"Change the font that is used inside of bridge.'s user interface"}},general:{name:"General",language:{name:"Language",description:"Choose a language for bridge. to use"},collaborativeMode:{name:"Collaborative Mode",description:"Forces full refresh of the cache upon switching projects. Disable when you work alone and you only use bridge. to edit your project"},packSpider:{name:"Pack Spider",description:"Pack Spider connects files inside of your projects and presents the connections to you in a virtual file system"},formatOnSave:{name:"Format On Save",description:"Formats your text files upon saving them"},openLinksInBrowser:{name:"Open Links in Default Browser",description:"Open links inside of your default browser instead of a native app window"},restoreTabs:{name:"Restore Tabs",description:"Restore your tabs from when you last used bridge. upon opening the app"},resetBridgeFolder:{name:"Select Root Folder",description:"Choose the main folder bridge. operates on"},openProjectChooserOnAppStartup:{name:"Open Project Chooser",description:"Automatically open the project chooser upon starting bridge."}},developer:{name:"Developer",simulateOS:{name:"Simulate OS",description:"Simulate a different OS for testing platform specific behavior"},devMode:{name:"Developer Mode",description:"Enable the developer mode for this app"}},audio:{name:"Audio",volume:{name:"Audio Enabled",description:"Enable or disable all bridge sounds"}},actions:{name:"Actions"},projects:{name:"Projects",defaultAuthor:{name:"Default Author",description:"The default author for new projects"}},editor:{jsonEditor:{name:"JSON Editor",description:"Choose how you want to edit JSON files"},bracketPairColorization:{name:"Bracket Pair Colorization",description:"Give matching brackets an unique color"},wordWrap:{name:"Word Wrap",description:"Wrap words to disable horizontal scrolling"},wordWrapColumns:{name:"Word Wrap Columns",description:"Defines after how many columns the editor should wrap words"},compactTabDesign:{name:"Compact Tab Design",description:"Display tabs inside of the tab system in a more compact way"},automaticallyOpenTreeNodes:{name:"Automatically Open Tree Nodes",description:"Inside of bridge.'s tree editor, automatically open nodes when you select them"},dragAndDropTreeNodes:{name:"Drag and Drop Tree Nodes",description:"Disable/enable drag & drop for tree nodes inside of bridge.'s tree editor"}}},projectFolder:{title:"Project Folder",content:"bridge. needs access to its project folder in order to work correctly."},extensionStore:{title:"Extension Store",searchExtensions:"Search Extension...",deleteExtension:"Delete Extension",activateExtension:"Activate Extension",deactivateExtension:"Deactivate Extension",offlineError:"Failed to load extensions. Please confirm that your device has an active network connection.",compilerPluginDownload:{compilerPlugins:"Compiler Plugins",title:"Downloaded Compiler Plugin",description:"You have just downloaded a new compiler plugin. Make sure to add it to your compiler config file or otherwise it won't have an effect.",openConfig:"Open Config"}},pluginInstallLocation:{title:"Choose Install Location"},unsavedFile:{description:"Do you want to save your changes to this file before closing it?",save:"Save & Close"},browserUnsupported:{title:"Unsupported Browser",description:"Please use Chrome (Desktop, excluding Chrome 93/94) or Edge (Chromium) in order to get the best experience using bridge. v2! Your browser does not support saving files directly and syncing projects to your com.mojang folder.",continue:"Continue Anyways"},invalidJson:{title:"Invalid JSON",description:`bridge.'s tree editor cannot open files that contain invalid JSON. You can switch to the "Raw Text" editor type inside of the settings to manually fix the issue.`},loadingWindow:{titles:{loading:"Loading..."}}},taskManager:{tasks:{packIndexing:{title:"Indexing Packs",description:"bridge. is collecting data about your pack that is needed for its intelligent features"},compiler:{title:"Compiling Project",description:"bridge. is compiling your project to make it ready for import into Minecraft"},unzipper:{name:"Unpacking ZIP",description:"bridge. is currently unpacking a ZIP file."},loadingSchemas:{name:"Loading Auto-Completions",description:"bridge. is currently loading its auto-completion data."}}},fileDropper:{importFiles:"Drop files here to import them!",importFailed:"bridge. was unable to import the following files:",andMore:"...and more!",importMethod:"Import Method",saveToProject:{title:"Save to Project",description1:"Save the file ",description2:" inside of your project."},openFile:{title:"Open File",description1:"Open the file ",description2:" and save edits to the original file."}},comMojang:{folderDropped:"Do you want to set this folder as your default com.mojang folder?",title:'Access to folder "com.mojang"',permissionRequest:'bridge. needs access to your "com.mojang" folder in order to compile projects to it.',status:{sucess:"Syncing your projects to com.mojang is setup correctly.",deniedPermission:"You setup com.mojang syncing but you did not grant bridge. permission to the folder.",notSetup:"You have not setup com.mojang syncing yet.",notAvailable:"Syncing projects to the com.mojang folder is only available for Chrome and Edge users."}},findAndReplace:{name:"Find & Replace",search:"Search",replace:"Replace",replaceAll:"Replace All",noResults:"No results found.",noSearch:"Once you start typing, results for your search query will appear here."},preview:{name:"Preview",viewAnimation:"View Animation",viewModel:"View Model",viewParticle:"View Particle",viewEntity:"View Entity",viewBlock:"View Block",failedClientEntityLoad:"Failed to load connected client entity",invalidEntity:"Cannot open preview for an entity with invalid JSON. Please fix JSON errors inside of the file and try again.",chooseGeometry:"Choose Geometry",noGeometry:"No valid geometry found inside of this file. Make sure that your JSON is valid, that the file structure is correct and that a geometry with the provided identifier exists."},initialSetup:{welcome:"Welcome to bridge. v2!",welcomeCaption:"A powerful IDE for Minecraft Add-Ons",step:{installApp:{name:"Install bridge.",description:"For the best experience, install bridge. v2 as an app to your computer."},bridge:{name:"bridge. Folder",description:"Please create a folder where bridge. can save app related data and your add-on projects."},bridgeProject:{name:"bridge. Project",description:"Do you want to create a new project or import an existing project from a .brproject file?",createNew:{name:"New Project",description:"Create a new project."},importExisting:{name:"Import Project",description:"Import an existing project."}},comMojang:{name:"com.mojang Folder",description:"Now drag your com.mojang folder onto bridge. to setup syncing of projects to this folder. This makes your add-ons accessible inside of Minecraft for Windows 10 automatically. Setting up com.mojang syncing can be done at any point in time while bridge. is open.",extraDescription:"Drag your com.mojang folder onto bridge."},editorType:{name:"Choose Editor Type",description:"How do you want to edit JSON files? You can change your choice inside of bridge.'s settings later!",rawText:{name:"Raw Text",description:"Edit JSON as raw text. Ideal for intermediate to advanced developers. Comes with advanced auto-completions and JSON validation."},treeEditor:{name:"Tree Editor",description:"Edit JSON as a tree-like structure that requires little to no JSON knowledge. Ideal for beginners and intermediate creators."}}}},editors:{treeEditor:{addObject:"Add Object",addArray:"Add Array",addValue:"Add Value",edit:"Edit"}}}),eb=W(j({},uu),{languageName:"Deutsch",packType:{behaviorPack:{name:"Verhaltenspaket",description:"Erstelle neue Spielmechaniken und \xE4ndere, wie sich Minecraft verh\xE4lt"},resourcePack:{name:"Ressourcenpaket",description:"Ver\xE4ndere Minecraft's Aussehen und Sound"},skinPack:{name:"Charakterpaket",description:"Erstelle verschieden Charakter, die ein Spieler ausw\xE4hlen kann"},worldTemplate:{name:"Weltvorlage",description:"Gebe Spielern eine Welt zum Erkunden"}},fileType:{manifest:"Manifest",animation:"Animation",animationController:"Animation Controller",biome:"Biome",block:"Block",entity:"Entity",feature:"Feature",featureRule:"Feature Rule",functionTick:"Function Tick",function:"Function",item:"Item",lootTable:"Loot Table",recipe:"Recipe",script:"Script",spawnRule:"Spawn Rule",mcstructure:"Structure",tradeTable:"Trade Table",clientManifest:"Client Manifest",geometry:"Geometry",clientAnimation:"Client Animation",clientAnimationController:"Client Animation Controller",attachable:"Attachable",clientEntity:"Client Entity",clientItem:"Client Item",fog:"Fog",particle:"Particle",renderController:"Render Controller",textureSet:"Texture Set",itemTexture:"Item Texture",clientBlock:"Client Block",terrainTexture:"Terrain Texture",flipbookTexture:"Flipbook Texture",clientBiome:"Client Biome",soundDefinition:"Sound Definition",musicDefinition:"Music Definition",clientSound:"Client Sound",skins:"Skins",langDef:"Language Definitions",lang:"Language",molang:"Molang",unknown:"Other",simpleFile:"Simple Files"},actions:{newProject:{name:"Neues Projekt",description:"Erstelle ein neues Projekt"},newFile:{name:"Neue Datei",description:"Erstelle ein neues Add-On Feature"},openFile:{name:"\xD6ffne Datei",description:"Suche und \xF6ffne eine Datei deines momentanen Projektes"},saveFile:{name:"Speichere Datei",description:"Speichere die aktuelle Datei"},closeFile:{name:"Schlie\xDFe Datei",description:"Schlie\xDFe die aktuelle Datei"},settings:{name:"Einstellungen",description:"\xD6ffne bridge.'s Appeinstellungen"},extensions:{name:"Erweiterungen",description:"Installiere und verwalte Erweiterungen"},copy:{name:"Kopieren",description:"Kopiere ausgew\xE4hlten Text"},cut:{name:"Schneiden",description:"Kopiere ausgew\xE4hlten Text und entferne ihn aus dem urspr\xFCnglichen Kontext"},paste:{name:"Einf\xFCgen",description:"F\xFCge kopierten Text ein"},docs:{name:"Dokumentation",description:"\xD6ffne die Minecraft Add-On Dokumentation"},releases:{name:"Updates",description:"Sehe die neusten Updates"},bugReports:{name:"Fehler Melden",description:"Melde einen Fehler der App"},pluginAPI:{name:"Erweiterungs API",description:"Lese mehr \xFCber bridge.'s Erweiterungs API"},gettingStarted:{name:"So Geht's Los!",description:"Lies unser Tutorial, wie du mit bridge. loslegst."},faq:{name:"FAQ",description:"Informiere dich \xFCber h\xE4ufig gestellte Fragen"},reloadAutoCompletions:{name:"Autovervollst\xE4ndigung Neuladen",description:"Lade alle Autovervollst\xE4ndigungen neu"},pluginInstallLocation:{global:{name:"Global Installieren",description:"Globale Erweiterungen sind in allen Projekten aktiv"},local:{name:"Lokal Installieren",description:"Lokale Erweiterungen sind in deinem aktuellen Projekt aktiv"}}},toolbar:{file:{name:"Datei",preferences:{name:"Pr\xE4ferenzen"}},edit:{name:"Editieren"},tools:{name:"Werkzeuge"},help:{name:"Hilfe"}},sidebar:{compiler:{name:"Compiler"},extensions:{name:"Erweiterungen"},notifications:{discord:{message:"Discord Server"},gettingStarted:{message:"So Geht's los!"},installApp:{message:"App Installieren"},updateAvailable:{message:"Update Verf\xFCgbar"}}},welcome:{title:"Willkommen zu bridge.",subtitle:"Add-On Entwicklung einfach gemacht!",quickActions:"Aktionen",recentFiles:"Zuletzt Verwendet",recentProjects:"Letzte Projekte"},windows:{common:{confirm:{title:"Best\xE4tigung"},dropdown:{confirm:"Best\xE4tigung"},information:{confirm:"Okay"},input:{confirm:"Best\xE4tigung"}},loadingWindow:{title:"Laden..."},openFile:{title:"\xD6ffnen",search:"Datei suchen...",noData:"Keine Ergebnisse..."},createProject:{welcome:"Willkommen to bridge.!",welcomeDescription:"Erstelle dein erstes Projekt, um loszulegen.",omitPack:"Nicht Ausgew\xE4hlt",selectedPack:"Ausgew\xE4hlt",title:"Projekt Erstellen",packIcon:"Projekt Logo (optional)",projectName:"Projekt Name",projectDescription:"Projekt Beschreibung (optional)",projectPrefix:"Project Pr\xE4fix",projectAuthor:"Project Author",projectTargetVersion:"Projekt Zielversion",create:"Erstellen!"},createPreset:{title:"Erstelle Preset",searchPresets:"Suche Presets..."},deleteProject:{confirm:"L\xF6schen",cancel:"Abbrechen",description:"Bist du sicher, dass du das Projekt entfernen willst?"},discord:{title:"Discord",content:"Trete dem offizielen bridge. Discord Server bei!",join:"Beitreten",later:"Sp\xE4ter"},projectChooser:{title:"Projekte",searchProjects:"Suche Projekte..."},selectFolder:{title:"Ordner Aussuchen",content:"W\xE4hle einen Ordner, indem bridge. deinen Projekte speichern soll.",select:"Ausw\xE4hlen!"},packExplorer:{title:"Paket Explorer",searchFiles:"Suche Dateien...",categories:"Kategorien"},settings:{title:"Einstellungen",searchSettings:"Suche Einstellungen...",appearance:{name:"Aussehen",colorScheme:{name:"Farbschema",description:"W\xE4hle ein Farbschema f\xFCr bridge.'s Benutzeroberfl\xE4che"},darkTheme:{name:"Dunkles Theme",description:"Select the default dark theme bridge. uses"},lightTheme:{name:"Helles Theme",description:"Select the default light theme bridge. uses"},localDarkTheme:{name:"Lokales Dunkles Theme",description:"Choose a dark theme for the currently active project"},localLightTheme:{name:"Lokales Helles Theme",description:"Choose a light theme for the currently active project"},sidebarRight:{name:"Rechte Seitenleiste",description:"Bewege die Seitenleiste auf die rechte Seite des Screens"},shrinkSidebarElements:{name:"Kleine Seitenleistenelemente",description:"Schrumpfe die Seitenleistenelemente, sodass sie weniger Platz ben\xF6tigen"}},general:{name:"Allgemein",language:{name:"Sprache",description:"W\xE4hle eine Sprache f\xFCr bridge. aus"},collaborativeMode:{name:"Kollaborativer Modus",description:"L\xE4dt den Cache komplett neu, wenn du die Projekte wechselst. Kann deaktiviert werden, wenn du alleine arbeitest und du nur bridge. f\xFCr dein Projekt nutzt"},packSpider:{name:"Pack Spider",description:"Pack Spider erkennt Verbindungen zwischen Dateien deines Projektes und bildet diese in einem Virtuellen Dateiensystem ab"},openLinksInBrowser:{name:"\xD6ffne Links im Browser",description:"\xD6ffne Links in deinem Browser anstelle von Applikationsfenstern"},resetBridgeFolder:{name:"W\xE4hle bridge. Ordner",description:"W\xE4hle dein Hautpordner, auf dem bridge. arbeitet"}},developer:{name:"Entwickler",simulateOS:{name:"OS Simulieren",description:"Simuliere ein anderes OS, um platformspezifische Features zu testen"},devMode:{name:"Developermodus",description:"Aktiviere den Developermodus f\xFCr diese App"}},actions:{name:"Aktionen"}},projectFolder:{title:"Projekte Ordner",content:"bridge. ben\xF6tigt Zugriff auf deinen Projekteordner."},extensionStore:{title:"Erweiterungen",searchExtensions:"Suche Erweiterungen..."},pluginInstallLocation:{title:"W\xE4hle Installationsart"},unsavedFile:{title:"Best\xE4tigen",description:"M\xF6chtest du die \xC4nderungen an dieser Datei speichern?",cancel:"Abbrechen",noSave:"Schlie\xDFen",save:"Spichern & Schlie\xDFen"},browserUnsupported:{title:"Keine Browserunterst\xFCtzung!",description:"bridge. unterst\xFCtzt deinen Browser momentan nicht. Bitte nutze Chrome (Desktop) or Edge (Chromium), um bridge. zu nutzen!"}},taskManager:{tasks:{packIndexing:{title:"Paketindizierung",description:"bridge. sammelt Daten aus deinem Paket, die es f\xFCr seine intelligenten Features ben\xF6tigt"},compiler:{title:"Projektkompilierung",description:"bridge. kompiliert dein Projekt, um es f\xFCr die Nutzung in Minecraft vorzubereiten"}}}}),tb=W(j({},cu),{languageName:"Nederlands",general:{yes:"Ja",no:"Nee",okay:"Oke",confirm:"Bevestig",cancel:"Annuleer",close:"Sluit",reload:"Herlaad",information:"Informatie",continue:"Doorgaan",delete:"Verwijderen",select:"Selecteren",skip:"Overslaan",save:"Opslaan",more:"Meer...",selectFolder:"Selecteer Map",fileName:"Bestandsnaam",inactive:"Inactief",active:"Actief",confirmOverwriteFile:"Er bestaat al een bestand met deze naam. Wil je het overschrijven?",fileSystemPolyfill:"Vanwege de browser die u gebruikt, moet u uw projecten downloaden om uw voortgang daadwerkelijk op te slaan. Dit is niet nodig als u Chrome of Edge gebruikt!",successfulExport:{title:"Exporteren succesvol",description:"U kunt het ge\xEBxporteerde pakket hier vinden"},experimentalGameplay:"Experimental Gameplay"},packType:{behaviorPack:{name:"Gedragspakket",description:"Cre\xEBer nieuwe spelmechanismen en verander hoe Minecraft zich gedraagt"},resourcePack:{name:"Resourcepakket",description:"Wordt gebruikt voor het veranderen van Minecraft's uiterlijk en geluid"},skinPack:{name:"Skin Pakket",description:"Voorziet nieuwe uiterlijken die de speler kan selecteren voor hun karakter"},worldTemplate:{name:"Wereldsjabloon",description:"Geef spelers een wereld om te verkennen"}},fileType:{manifest:"Manifest",animation:"Animation",animationController:"Animation Controller",biome:"Biome",block:"Block",bridgeConfig:"Projectconfiguratie",dialogue:"Dialogue",entity:"Entity",feature:"Feature",featureRule:"Feature Rule",functionTick:"Function Tick",function:"Function",item:"Item",lootTable:"Loot Table",recipe:"Recipe",clientScript:"Client Script",serverScript:"Server Script",script:"Script",spawnRule:"Spawn Rule",mcstructure:"Structure",tradeTable:"Trade Table",clientManifest:"Client Manifest",skinManifest:"Skin Manifest",geometry:"Geometry",customCommand:"Command",customComponent:"Component",clientAnimation:"Client Animation",clientAnimationController:"Client Animation Controller",attachable:"Attachable",clientEntity:"Client Entity",clientItem:"Client Item",clientLang:"Language",fog:"Fog",particle:"Particle",renderController:"Render Controller",texture:"Texture",textureSet:"Texture Set",itemTexture:"Item Texture",clientBlock:"Client Block",terrainTexture:"Terrain Texture",flipbookTexture:"Flipbook Texture",clientBiome:"Client Biome",soundDefinition:"Sound Definition",musicDefinition:"Music Definition",clientSound:"Client Sound",skins:"Skins",langDef:"Language Definitions",lang:"Language",molang:"Molang",gameTest:"Game Test",unknown:"Other",simpleFile:"Simple Files",ui:"UI",volume:"Volume",worldManifest:"World Manifest"},actions:{newProject:{name:"Nieuw Project",description:"Maak een nieuw bridge. project"},newFile:{name:"Nieuw Bestand",description:"Maak een nieuwe Add-On functie"},openFile:{name:"Open Bestand",description:"Zoek en open een bestand in het huidige project"},searchFile:{name:"Zoek Bestand",description:"Zoek en open een bestand in het huidige project"},saveFile:{name:"Bestand Opslaan",description:"Sla het momenteel geopende bestand op"},saveAs:{name:"Opslaan Als",description:"Sla het momenteel geopende bestand op onder een andere naam"},saveAll:{name:"Alles Opslaan",description:"Alle momenteel geopende bestanden opslaan"},closeFile:{name:"Bestand Sluiten",description:"Sluit het momenteel geopende bestand"},settings:{name:"Instellingen",description:"Open de app instellingen van bridge."},extensions:{name:"Extensies",description:"Beheer uw ge\xEFnstalleerde extensies"},copy:{name:"Kopi\xEBren",description:"Kopieer geselecteerde tekst naar het klembord"},cut:{name:"Knippen",description:"Kopieer geselecteerde tekst naar het klembord en verwijder deze uit de oorspronkelijke context"},paste:{name:"Plakken",description:"Plak de inhoud van het klembord"},docs:{name:"Documentatie",description:"Opent de Minecraft Add-On documentatie"},releases:{name:"Releases",description:"Bekijk de nieuwste bridge. releases"},bugReports:{name:"Foutmeldingen",description:"Meld een probleem met bridge."},pluginAPI:{name:"Plugin API",description:"Lees meer over de plugin API van bridge"},gettingStarted:{name:"Beginnen",description:"Lees onze gids om aan de slag te gaan met bridge."},faq:{name:"FAQ",description:"Lees veelgestelde vragen over het ontwikkelen van Add-Ons met bridge."},reloadAutoCompletions:{name:"Herlaad automatische aanvullingen",description:"Herlaadt alle gegevens voor automatisch aanvullen opnieuw"},reloadExtensions:{name:"Herlaad Extensies",description:"Laadt alle extensies opnieuw"},moveToSplitScreen:{name:"Verplaats naar gesplitst scherm",description:"Opent een gesplitste schermweergave en verplaatst dit tabblad ernaar"},closeTab:{name:"Sluit Tab",description:"Sluit dit tabblad"},closeAll:{name:"Sluit Alles",description:"Sluit alle tabbladen"},closeTabsToRight:{name:"Sluit tabbladen aan de rechterkant",description:"Sluit alle tabbladen aan de rechterkant van dit tabblad"},closeAllSaved:{name:"Sluit alle opgeslagen",description:"Sluit alle opgeslagen tabbladen"},closeOtherTabs:{name:"Sluit andere tabbladen",description:"Sluit alle tabbladen behalve dit tabblad"},clearAllNotifications:{name:"Wis Alle Meldingen",description:"Wist alle huidige meldingen"},pluginInstallLocation:{global:{name:"Globaal Installeren",description:"Globale extensies zijn toegankelijk in al uw projecten"},local:{name:"Locaal Installeren",description:"Lokale extensies zijn alleen toegankelijk binnen de projecten waaraan u ze toevoegt"}},toObject:{name:"Transformeren naar Object"},toArray:{name:"Transformeren naar Reeks"},documentationLookup:{name:"Documentatie bekijken",noDocumentation:"Geen documentatie beschikbaar voor"},toggleReadOnly:{name:"Schakel Alleen-Lezen Modus",description:"Schakel alleen-lezen modus voor het momenteel geopende bestand"},keepInTabSystem:{name:"Houd in Tab Systeem",description:"Converteert dit tabblad naar een permanent tabblad"},importBrproject:{name:"Project importeren",description:"Een project importeren uit een .brproject bestand"},downloadFile:{name:"Download bestand",description:"Download het momenteel geopende bestand"},undo:{name:"Ongedaan maken",description:"De laatste actie ongedaan maken"},redo:{name:"Opnieuw uitvoeren",description:"Voer de laatste actie opnieuw uit"}},toolbar:{project:{name:"Project"},file:{name:"Bestand",preferences:{name:"Voorkeuren"}},edit:{name:"Bewerk"},tools:{name:"Hulpmiddelen"},help:{name:"Help"}},sidebar:{compiler:{name:"Compiler",default:{name:"Default Config",description:`Voer bridge.'s compiler uit met de standaard compilerconfiguratie die deel uitmaakt van het "config.json" bestand van uw project.`}},extensions:{name:"Extensies"},notifications:{discord:{message:"Discord Server"},gettingStarted:{message:"Beginnen"},installApp:{message:"Installeer App"},updateAvailable:{message:"Update Beschikbaar"},updateExtensions:"Werk alle extensies bij"}},welcome:{title:"Welkom bij bridge.",subtitle:"Het maken van Minecraft addons is nog nooit zo gemakkelijk geweest!",quickActions:"Snelle Acties",recentFiles:"Recente Bestanden",recentProjects:"Recente Projecten"},experimentalGameplay:{cavesAndCliffs:{name:"Caves and Cliffs",description:"Maakt automatische aanvullingen mogelijk voor de nieuwe berggeneratie in biomen."},holidayCreatorFeatures:{name:"Holiday Creator Features",description:"Schakelt automatische aanvullingen in voor de gegevensgestuurde item- en blokfuncties."},creationOfCustomBiomes:{name:"Creation of Custom Biomes",description:"Maakt het maken van aangepaste biomen, features en feature rules mogelijk."},additionalModdingCapabilities:{name:"Additional Modding Capabilities",description:"Schakelt de Scripting API in het manifest in en stelt u in staat om scripts te maken met automatische aanvullingen."},upcomingCreatorFeatures:{name:"Upcoming Creator Features",description:"Maakt het maken van fog volume bestanden mogelijk en biedt automatische aanvullingen voor entity eigenschappen."},enableGameTestFramework:{name:"Enable GameTest Framework",description:"Schakelt de GameTest gerelateerde modules in het manifest in en stelt u in staat om GameTest scripts te maken met automatische aanvullingen."},experimentalMolangFeatures:{name:"Experimental Molang Features",description:"Schakelt automatische aanvullingen in voor experimentele Molang queries."},educationEdition:{name:"Enable Education Edition",description:"Schakelt automatische aanvullingen in voor educatieve functies, zoals recepten voor materiaalreductie."}},windows:{changelogWindow:{title:"Wat is er nieuw?"},openFile:{title:"Openen",search:"Zoek bestand...",noData:"Geen resultaten..."},createProject:{welcome:"Welkom bij bridge.!",welcomeDescription:"Maak alstublieft uw eerste project aan om aan de slag te gaan.",omitPack:"Weglaten",selectedPack:"Geselecteerd",title:"Project Maken",packIcon:"Projectpictogram (optioneel)",projectName:{name:"Projectnaam",invalidLetters:"U mag alleen alfanumerieke tekens gebruiken",mustNotBeEmpty:"U moet een projectnaam invoeren"},projectDescription:"Projectbeschrijving (optioneel)",projectPrefix:"Projectvoorvoegsel",projectAuthor:"Project Auteur",projectTargetVersion:"Doelversie van het project",rpAsBpDependency:"Registreer resourcepakket als afhankelijkheid van gedragspakket",useLangForManifest:"Voeg de naam/beschrijving van het pakket rechtstreeks toe aan het manifest",create:"Cre\xEBer!",saveCurrentProject:"Wilt u uw huidige project opslaan voordat u een nieuwe maakt? Alle niet-opgeslagen wijzigingen gaan verloren!",individualFiles:{name:"Individuele Bestanden",file:{player:{name:"player.json",description:"Bewerk hoe de standaardspeler zich gedraagt"},tick:{name:"tick.json",description:"Definieer welke functies elke tick moeten worden uitgevoerd"},skins:{name:"skins.json",description:"Registreer de skins die je hebt gemaakt"},blocks:{name:"blocks.json",description:"Wordt gebruikt om te defini\xEBren hoe meerdere blokvlakken worden gecombineerd tot een enkel blok"},terrainTexture:{name:"terrain_texture.json",description:"Wordt gebruikt om texturen toe te wijzen aan de vlakken van een blok"},itemTexture:{name:"item_texture.json",description:"Wordt gebruikt om texturen aan items toe te wijzen"},flipbookTextures:{name:"flipbook_textures.json",description:"Gebruikt voor het animeren van blok texturen"},biomesClient:{name:"biomes_client.json",description:"Wordt gebruikt om te defini\xEBren hoe bioom specifieke effecten worden weergegeven"},sounds:{name:"sounds.json",description:"Gebruikt om geluiden te defini\xEBren voor specifieke gamefuncties"},soundDefinitions:{name:"sound_definitions.json",description:"Wordt gebruikt om id's te registreren voor geluidsbestanden die elders in het project kunnen worden gebruikt"}}}},createPreset:{title:"Voorinstelling maken",searchPresets:"Voorinstellingen zoeken...",overwriteFiles:"Deze voorinstelling overschrijft \xE9\xE9n of meerdere bestaande bestanden. Wilt u doorgaan?",overwriteFilesConfirm:"Doorgaan",overwriteUnsavedChanges:"Deze voorinstelling overschrijft een of meer bestanden met niet-opgeslagen wijzigingen. Wil je doorgaan?",overwriteUnsavedChangesConfirm:"Doorgaan",validationRule:{alphanumeric:"U mag alleen alfanumerieke tekens en/of onderstrepingstekens gebruiken",lowercase:"U mag alleen kleine letters gebruiken",required:"Dit veld is verplicht",noEmptyFolderNames:"De mapnaam mag niet leeg zijn"}},deleteProject:{confirm:"Verwijderen",description:"Weet u zeker dat u dit project wilt verwijderen?"},discord:{title:"Socials",content:"Bekijk onze Twitter, Github en sluit je aan bij de offici\xEBle bridge. Discord server!",discord:"Discord",twitter:"Twitter",github:"Github"},projectChooser:{title:"Projecten",description:"Selecteer het momenteel actieve project",searchProjects:"Zoek Projecten...",newProject:{name:"Nieuw Project",description:"Maak een nieuw bridge. project."},saveCurrentProject:{name:"Project Opslaan",description:"Download uw huidige project als een .brproject bestand om de aangebrachte wijzigingen op te slaan."},openNewProject:{name:"Open Project",description:"Open een ander project door het bijbehorende .brproject bestand te selecteren.",saveCurrentProject:"Wilt u uw huidige project opslaan voordat u het nieuwe laadt?"},wrongFileType:"Project moet een .brproject bestand zijn",addPack:"Pakket Toevoegen"},filePath:{title:"Kies Bestandspad"},packExplorer:{title:"Pack Explorer",searchFiles:"Zoek bestanden...",categories:"Categorie\xEBn",refresh:{name:"Vernieuw Project",description:"Haal het huidige project op voor nieuw toegevoegde bestanden"},restartDevServer:{name:"Herstart Dev Server",description:"Weet u zeker dat u de dev server van de compiler opnieuw wilt starten? Dit kan enige tijd duren, afhankelijk van de grootte van uw project."},createPreset:"Nieuw Bestand",projectConfig:{name:"Projectconfiguratie openen",missing:"Het lijkt erop dat dit project geen config.json bestand heeft. Elk project heeft een projectconfiguratie nodig om correct te kunnen werken."},exportAsMcaddon:{name:"Exporteer als .mcaddon"},exportAsMctemplate:{name:"Exporteer als .mctemplate",chooseWorld:"Kies een wereld"},exportAsMcworld:{name:"Exporteer als .mcworld",chooseWorld:"Kies een wereld"},exportAsBrproject:{name:"Exporteer als .brproject"},fileActions:{delete:{name:"Verwijderen",description:"Verwijder een bestand of map",confirmText:"Weet u zeker dat u dit bestand wilt verwijderen? U kunt het later niet meer herstellen!"},rename:{name:"Hernoemen",description:"Een bestand hernoemen"},duplicate:{name:"Dupliceren",description:"Een bestand dupliceren"},viewCompilerOutput:{name:"Uitvoer van compiler bekijken",description:"Bekijk de huidige compiler output voor dit bestand",fileMissing:"Het lijkt erop dat dit bestand nog niet is gecompileerd."},revealFilePath:{name:"Bestandspad onthullen",description:"Geeft de locatie van een bestand of map weer"},createFile:{name:"Bestand aanmaken",description:"Maak een nieuw bestand"},createFolder:{name:"Map aanmaken",description:"Maak een nieuwe map"}}},settings:{title:"Instellingen",searchSettings:"Zoek instellingen...",sidebar:{name:"Zijbalk",sidebarRight:{name:"Zijbalk Rechts",description:"Verplaatst de zijbalk naar de rechterkant van het scherm"},sidebarSize:{name:"Grootte zijbalk",description:"Wijzigt de breedte van het uitgevouwen zijbalkgebied."},shrinkSidebarElements:{name:"Zijbalkelementen verkleinen",description:"De grootte van bridge.'s zijbalkelementen verkleinen"}},appearance:{name:"Uiterlijk",colorScheme:{name:"Kleurenschema",description:"Kies het kleurenschema voor de gebruikersinterface van bridge."},darkTheme:{name:"Donker Thema",description:"Selecteer het standaard donkere thema dat door bridge. wordt gebruikt"},lightTheme:{name:"Licht Thema",description:"Selecteer het standaard lichte thema dat door bridge. wordt gebruikt"},localDarkTheme:{name:"Lokaal Donker Thema",description:"Kies een donker thema voor het momenteel actieve project"},localLightTheme:{name:"Lokaal Licht Thema",description:"Kies een licht thema voor het momenteel actieve project"},fontSize:{name:"Lettergrootte",description:"Wijzig de lettergrootte van de tekst van bridge."},editorFontSize:{name:"Code Lettergrootte",description:"Wijzig de lettergrootte van de code editor van bridge."},editorFont:{name:"Code Lettertype",description:"Wijzig het lettertype van de code editor van bridge."},font:{name:"Lettertype",description:"Wijzig het lettertype dat in de gebruikersinterface van bridge. wordt gebruikt"}},general:{name:"Algemeen",language:{name:"Taal",description:"Kies een taal die bridge. moet gebruiken"},collaborativeMode:{name:"Samenwerkingsmodus",description:"Forceert een volledige verversing van de cache bij het wisselen van project. Schakel uit als u alleen werkt en alleen bridge. gebruikt om uw project te bewerken"},packSpider:{name:"Pack Spider",description:"Pack Spider verbindt bestanden binnen uw projecten en presenteert de verbindingen aan u in een virtueel bestandssysteem"},formatOnSave:{name:"Opmaken na opslaan",description:"Maakt uw tekstbestanden op na het opslaan"},openLinksInBrowser:{name:"Open koppelingen in de standaardbrowser",description:"Open links in uw standaardbrowser in plaats van een native app-venster"},restoreTabs:{name:"Herstel tabbladen",description:"Herstel uw tabbladen van de laatste keer dat u bridge. gebruikte bij het openen van de app"},resetBridgeFolder:{name:"Selecteer Werkmap",description:"Kies de hoofdmap waarop bridge. werkt"},openProjectChooserOnAppStartup:{name:"Projectkiezer openen",description:"Open automatisch de projectkiezer bij het starten van bridge."}},developer:{name:"Ontwikkelaar",simulateOS:{name:"Simuleer OS",description:"Simuleer een ander besturingssysteem om platformspecifiek gedrag te testen"},devMode:{name:"Ontwikkelaarsmodus",description:"Schakel de ontwikkelaarsmodus in voor deze app"}},audio:{name:"Audio",volume:{name:"Audio Ingeschakeld",description:"Alle brige geluiden in- of uitschakelen"}},actions:{name:"Acties"},editor:{jsonEditor:{name:"JSON Editor",description:"Kies hoe u JSON bestanden wilt bewerken"},wordWrap:{name:"Woordomloop",description:"Wikkel woorden om horizontaal scrollen uit te schakelen"},wordWrapColumns:{name:"Woordomloop Kolommen",description:"Definieert na hoeveel kolommen de editor woorden moet laten omlopen"},compactTabDesign:{name:"Compact tabbladontwerp",description:"Toon tabbladen in het tabbladsysteem op een compactere manier"},automaticallyOpenTreeNodes:{name:"Automatisch Tree Nodes Openen",description:"Binnen in bridge.'s tree editor, open automatisch nodes wanneer je ze selecteert"},dragAndDropTreeNodes:{name:"Tree Nodes Slepen en Neerzetten",description:"Schakel tussen slepen & neerzetten voor tree nodes in bridge.'s tree editor"}}},projectFolder:{title:"Project Map",content:"bridge. heeft toegang tot zijn projectmap nodig om correct te werken."},extensionStore:{title:"Uitbreiding Winkel",searchExtensions:"Extensie zoeken...",deleteExtension:"Extensie Verwijderen",activateExtension:"Extensie Activeren",deactivateExtension:"Extensie Deactiveren",offlineError:"Kan extensies niet laden. Controleer of uw apparaat een actieve netwerkverbinding heeft."},pluginInstallLocation:{title:"Kies Installatielocatie"},unsavedFile:{description:"Wilt u uw wijzigingen in dit bestand opslaan voordat u het sluit?",save:"Opslaan & Afsluiten"},browserUnsupported:{title:"Niet-ondersteunde browser",description:"Uw browser wordt momenteel niet ondersteund. Gebruik Chrome (Desktop) of Edge (Chromium) om aan de slag te gaan met bridge.!",continue:"Toch doorgaan"},invalidJson:{title:"Ongeldige JSON",description:`bridge.'s tree editor kan geen bestanden openen die ongeldige JSON bevatten. U kunt binnen de instellingen overschakelen naar het editortype "Onbewerkte Tekst" om het probleem handmatig op te lossen.`},loadingWindow:{titles:{loading:"Bezig met laden..."}}},taskManager:{tasks:{packIndexing:{title:"Pakketten Indexeren",description:"bridge. verzamelt gegevens over uw pakket die nodig zijn voor zijn intelligente functies."},compiler:{title:"Project Compileren",description:"bridge. compileert uw project om het klaar te maken om in Minecraft te importeren."},unzipper:{name:"ZIP uitpakken",description:"bridge. is momenteel bezig met het uitpakken van een ZIP-bestand."},loadingSchemas:{name:"Automatische Aanvullingen Laden",description:"bridge. is momenteel bezig met het laden van de gegevens voor automatische aanvullingen."}}},fileDropper:{importFiles:"Zet bestanden hier neer om ze te importeren!",importFailed:"bridge. kon de volgende bestanden niet importeren:",andMore:"...en meer!",importMethod:"Importeer Methode",saveToProject:{title:"Save to Project",description1:"Het bestand opslaan ",description2:" in uw project."},openFile:{title:"Open bestand",description1:"Open het bestand ",description2:" en sla de bewerkingen op in het originele bestand."}},comMojang:{folderDropped:"Wilt u deze map instellen als uw standaard com.mojang map?",title:'Toegang tot map "com.mojang"',permissionRequest:'bridge. heeft toegang nodig tot uw "com.mojang" map om er projecten naar te kunnen compileren.',status:{sucess:"Het synchroniseren van uw projecten met com.mojang is correct ingesteld.",deniedPermission:"U heeft com.mojang synchronisatie ingesteld, maar u heeft bridge. geen toestemming verleend voor de map.",notSetup:"U heeft com.mojang synchronisatie nog niet ingesteld.",notAvailable:"Het synchroniseren van projecten naar de com.mojang map is alleen beschikbaar voor Chrome en Edge gebruikers."}},findAndReplace:{name:"Zoek & Vervang",search:"Zoeken",replace:"Vervangen",replaceAll:"Vervang Alles",noResults:"Geen resultaten gevonden.",noSearch:"Zodra u begint met typen, worden de resultaten voor uw zoekopdracht hier weergegeven."},preview:{name:"Voorbeeld",viewAnimation:"Bekijk Animatie",viewModel:"Bekijk Model",viewParticle:"Bekijk Particle",viewEntity:"Bekijk Entity",viewBlock:"Bekijk Blok",failedClientEntityLoad:"Kon de verbonden client entity niet laden",invalidEntity:"Kan voorbeeld niet openen voor een entiteit met ongeldige JSON. Corrigeer JSON-fouten in het bestand en probeer het opnieuw.",chooseGeometry:"Kies Geometrie",noGeometry:"Geen geldige geometrie gevonden in dit bestand. Zorg ervoor dat uw JSON geldig is en dat de bestandsstructuur correct is."},initialSetup:{welcome:"Welkom bij bridge. v2!",welcomeCaption:"Een krachtige IDE voor Minecraft Add-Ons",step:{installApp:{name:"bridge. installeren",description:"Voor de beste ervaring, installeert u bridge. v2 als app op uw computer."},bridge:{name:"bridge. Map",description:"Maak een map waarin bridge. app-gerelateerde gegevens en uw add-on-projecten kan opslaan."},bridgeProject:{name:"bridge. Project",description:"Wilt u een nieuw project aanmaken of een bestaand project importeren vanuit een .brproject-bestand?",createNew:{name:"Nieuw Project",description:"Maak een nieuw project."},importExisting:{name:"Importeer Project",description:"Importeer een bestaand project."}},comMojang:{name:"com.mojang Map",description:"Sleep nu je com.mojang map naar bridge. om het synchroniseren van projecten naar deze map in te stellen. Hierdoor zijn uw add-ons automatisch toegankelijk in Minecraft voor Windows 10. Het instellen van com.mojang synchronisatie kan op elk moment wanner bridge. is geopend.",extraDescription:"Sleep uw map com.mojang naar bridge."},editorType:{name:"Kies Editor Type",description:"Hoe wilt u JSON bestanden bewerken? U kunt uw keuze later in de instellingen van bridge. wijzigen!",rawText:{name:"Onbewerkte Tekst",description:"Bewerk JSON als onbewerkte tekst. Ideaal voor gemiddelde tot gevorderde ontwikkelaars. Wordt geleverd met geavanceerde automatische aanvullingen en JSON-validatie."},treeEditor:{name:"Tree Editor",description:"Bewerk JSON als een boomachtige structuur die weinig tot geen JSON kennis vereist. Ideaal voor beginners en gemiddelde makers."}}}},editors:{treeEditor:{addObject:"Object Toevoegen",addArray:"Reeks Toevoegen",addValue:"Waarde Toevoegen",edit:"Bewerk"}}}),ib=W(j({},lu),{languageName:"\uD55C\uAD6D\uC5B4",toolbar:{installApp:"Install app",file:{name:"\uD30C\uC77C",newFile:"\uC0C8\uB85C\uC6B4 \uD30C\uC77C",import:{name:"\uD30C\uC77C \uAC00\uC838\uC624\uAE30",openFile:"\uD30C\uC77C \uC5F4\uAE30",importOBJ:"OBJ \uBAA8\uB378 \uAC00\uC838\uC624\uAE30"},saveFile:"\uD30C\uC77C \uC800\uC7A5",saveAs:"\uB2E4\uB978 \uC774\uB984\uC73C\uB85C \uC800\uC7A5",saveAll:"\uBAA8\uB450 \uC800\uC7A5",closeEditor:"\uD3B8\uC9D1 \uCC3D \uB2EB\uAE30",clearAllNotifications:"\uC54C\uB9BC \uC804\uBD80 \uC9C0\uC6B0\uAE30",preferences:{name:"\uD658\uACBD \uC124\uC815",settings:"\uC124\uC815",extensions:"\uD50C\uB7EC\uADF8\uC778"}},edit:{name:"\uD3B8\uC9D1",selection:{name:"\uC120\uD0DD",unselect:"\uC120\uD0DD \uCDE8\uC18C",selectParent:"\uC5B4\uBC84\uC774 \uC120\uD0DD",selectNext:"\uB2E4\uC74C \uC120\uD0DD",selectPrevious:"\uC774\uC804 \uC120\uD0DD"},jsonNodes:{name:"JSON \uAC1C\uCCB4",toggleOpen:"\uAC1C\uCCB4 \uC5EC\uB2EB\uAE30",toggleOpenChildren:"\uAC1C\uCCB4 \uC790\uC2DD \uC5EC\uB2EB\uAE30",moveDown:"\uC544\uB798\uB85C \uC774\uB3D9",moveUp:"\uC704\uB85C \uC774\uB3D9",commentUncomment:"\uD65C\uC131\uD654/\uBE44\uD65C\uC131\uD654"},delete:"\uC0AD\uC81C",undo:"\uC2E4\uD589 \uCDE8\uC18C",redo:"\uC7AC\uC2E4\uD589",copy:"\uBCF5\uC0AC",cut:"\uC790\uB974\uAE30",paste:"\uBD99\uC5EC\uB123\uAE30",alternativePaste:"\uB2E4\uB978 \uBD99\uC5EC\uB123\uAE30"},tools:{name:"\uB3C4\uAD6C",docs:"\uC815\uBCF4 \uAE30\uB85D\uBB38",presets:"\uD504\uB9AC\uC14B",snippets:"\uBD80\uBD84\uC801 \uC778\uC6A9",goToFile:"\uD30C\uC77C\uB85C \uC774\uB3D9"},help:{name:"\uB3C4\uC6C0\uB9D0",about:"\uC815\uBCF4",releases:"\uCD5C\uC2E0 \uB9B4\uB9AC\uC2A4",bugReports:"\uBC84\uADF8 \uC81C\uBCF4",pluginAPI:"\uD50C\uB7EC\uADF8\uC778 API",gettingStarted:"bridge. \uC2DC\uC791\uD558\uB294 \uBC95",faq:"FAQ"},dev:{name:"\uAC1C\uBC1C\uC790 \uC635\uC158",reloadBrowserWindow:"\uBE0C\uB77C\uC6B0\uC800 \uCC3D \uC7AC\uC2E4\uD589",reloadEditorData:"\uD3B8\uC9D1 \uB370\uC774\uD130 \uC7AC\uC2E4\uD589",developerTools:"\uAC1C\uBC1C\uC790 \uB3C4\uAD6C"}},sidebar:{explorer:{name:"\uC775\uC2A4\uD50C\uB85C\uB7EC"},vanillaPacks:{name:"\uBC14\uB2D0\uB77C \uD329"},debugLog:{name:"\uB514\uBC84\uADF8 \uB85C\uADF8"},extensions:{name:"\uD504\uB85C\uADF8\uB7A8 \uD655\uC7A5",intro:{description:"bridge.\uB97C \uD50C\uB7EC\uADF8\uC778\uC744 \uD1B5\uD574 \uCEE4\uC2A4\uD130\uB9C8\uC774\uC988 \uD574\uBCF4\uC138\uC694!!",themes:"\uD14C\uB9C8",snippets:"\uBD80\uBD84\uC801 \uC778\uC6A9",presets:"\uD504\uB9AC\uC14B",uiElements:"UI \uC694\uC18C",andMore:"\uADF8\uB9AC\uACE0 \uB354 \uB9CE\uC2B5\uB2C8\uB2E4!!",viewExtensions:"\uD504\uB85C\uADF8\uB7A8 \uD655\uC7A5\uB4E4 \uBCF4\uAE30"}}},welcome:{title:"bridge.",subtitle:"\uB9C8\uC778\uD06C\uB798\uD504\uD2B8 \uC560\uB4DC\uC628\uC744 \uB9CC\uB4E4\uAE30 \uB354\uC6B1 \uC27D\uAC8C!!",syntaxHighlighting:"Syntax \uD558\uC774\uB77C\uC774\uD2B8 \uAE30\uB2A5",richAutoCompletions:"\uB2E4\uC591\uD55C \uC790\uB3D9\uC644\uC131 \uAE30\uB2A5",projectManagement:"\uC26C\uC6B4 \uC791\uC5C5 \uAD00\uB9AC",customSyntax:"\uCEE4\uC2A4\uD140 \uC560\uB4DC\uC628 syntax",customComponents:"\uCEE4\uC2A4\uD140 \uC694\uC18C",customCommands:"\uCEE4\uC2A4\uD140 \uCEE4\uB9E8\uB4DC",plugins:"\uD50C\uB7EC\uADF8\uC778\uC744 \uD1B5\uD574 \uD504\uB85C\uADF8\uB7A8 \uCEE4\uC2A4\uD140 \uAC00\uB2A5"},windows:{common:{confirm:{title:"\uD655\uC778"},dropdown:{confirm:"\uD655\uC778"},information:{confirm:"\uC608"},input:{confirm:"\uD655\uC778"}},discord:{content:"bridge.\uC758 \uACF5\uC2DD \uB514\uC2A4\uCF54\uB4DC \uC11C\uBC84\uC5D0 \uB4E4\uC5B4\uC624\uC138\uC694!!",join:"\uB4E4\uC5B4\uAC00\uAE30",later:"\uB098\uC911\uC5D0"},selectFolder:{title:"\uD3F4\uB354 \uC120\uD0DD",content:"\uD504\uB85C\uC81D\uD2B8 \uC800\uC7A5 \uC704\uCE58\uB97C \uC120\uD0DD\uD558\uAC70\uB098 \uC774\uBBF8 \uC874\uC7AC\uD558\uB294 \uB514\uB809\uD1A0\uB9AC\uB97C \uC120\uD0DD\uD558\uC138\uC694.",select:"\uC120\uD0DD!!"},projectFolder:{title:"\uD504\uB85C\uC81D\uD2B8 \uD3F4\uB354",content:"bridge.\uAC00 \uC81C\uB300\uB85C \uC791\uB3D9\uD558\uAE30 \uC704\uD574\uC11C\uB294 \uD504\uB85C\uC81D\uD2B8 \uD3F4\uB354\uC5D0 \uB300\uD55C \uC811\uADFC \uAD8C\uD55C\uC774 \uD544\uC694\uD569\uB2C8\uB2E4."},managePlugin:{name:"\uD50C\uB7EC\uADF8\uC778 \uAD00\uB9AC",done:"\uC644\uB8CC"}}}),nb=W(j({},du),{languageName:"\u4E2D\u6587(\u81FA\u7063)",general:{yes:"\u662F",no:"\u5426",okay:"\u597D",confirm:"\u78BA\u8A8D",cancel:"\u53D6\u6D88",close:"\u95DC\u9589",reload:"\u91CD\u65B0\u8F09\u5165",information:"\u8CC7\u8A0A",continue:"\u7E7C\u7E8C",delete:"\u522A\u9664",skip:"\u8DF3\u904E",selectFolder:"\u9078\u53D6\u8CC7\u6599\u593E",fileName:"\u6A94\u6848\u540D\u7A31",confirmOverwriteFile:"\u5DF2\u5B58\u5728\u76F8\u540C\u540D\u7A31\u7684\u6A94\u6848\uFF0C\u662F\u5426\u8981\u8986\u5BEB?"},packType:{behaviorPack:{name:"\u884C\u70BA\u5305",description:"\u5728\u904A\u6232\u4E2D\u5275\u9020\u65B0\u7684\u6A5F\u5236\uFF0C\u4EE5\u53CA\u4FEE\u6539Minecraft\u7684\u884C\u70BA\u3002"},resourcePack:{name:"\u8CC7\u6E90\u5305",description:"\u7528\u65BC\u4FEE\u6539Minecrat\u7684\u5916\u89C0\u548C\u97F3\u6548"},skinPack:{name:"\u5916\u89C0\u5305",description:"\u5275\u5EFA\u53EF\u4EE5\u8B93\u73A9\u5BB6\u81EA\u7531\u4F7F\u7528\u7684\u5168\u65B0\u5916\u89C0\u3002"},worldTemplate:{name:"\u4E16\u754C\u7BC4\u672C",description:"\u5275\u9020\u8B93\u73A9\u5BB6\u80FD\u5920\u9AD4\u9A57\u4F60\u7684\u5C08\u6848\u7684\u4E16\u754C\u3002"}},fileType:{manifest:"Manifest",animation:"\u52D5\u756B",animationController:"\u52D5\u756B\u63A7\u5236\u5668",biome:"\u751F\u614B\u57DF",block:"\u65B9\u584A",bridgeConfig:"bridge.\u5C08\u6848\u8A2D\u5B9A",dialogue:"\u5C0D\u8A71\u6846",entity:"\u5BE6\u9AD4",feature:"\u5730\u7269",featureRule:"\u5730\u7269\u751F\u6210\u898F\u5247",functionTick:"Tick\u51FD\u6578",function:"\u51FD\u6578",item:"\u7269\u54C1",lootTable:"\u6230\u5229\u54C1\u8868",recipe:"\u5408\u6210\u914D\u65B9",clientScript:"\u4F7F\u7528\u8005\u7AEF\u8173\u672C",serverScript:"\u4F3A\u670D\u5668\u7AEF\u8173\u672C",script:"\u8173\u672C",spawnRule:"\u751F\u6210\u898F\u5247",mcstructure:"\u7D50\u69CB",tradeTable:"\u4EA4\u6613\u8868",clientManifest:"\u4F7F\u7528\u8005\u7AEFManifest",skinManifest:"\u5916\u89C0Manifest",geometry:"\u5E7E\u4F55\u9AD4",customComponent:"\u7D44\u4EF6",clientAnimation:"\u4F7F\u7528\u8005\u7AEF\u52D5\u756B",clientAnimationController:"\u4F7F\u7528\u8005\u7AEF\u52D5\u756B\u63A7\u5236\u5668",attachable:"\u53EF\u9644\u52A0\u7269\u54C1",clientEntity:"\u4F7F\u7528\u8005\u7AEF\u5BE6\u9AD4",clientItem:"\u4F7F\u7528\u8005\u7AEF\u7269\u54C1",clientLang:"\u8A9E\u8A00",fog:"\u9727",particle:"\u7C92\u5B50",renderController:"\u6E32\u67D3\u63A7\u5236\u5668",texture:"\u6750\u8CEA",textureSet:"\u6750\u8CEA\u96C6",itemTexture:"\u7269\u54C1\u6750\u8CEA",clientBlock:"\u4F7F\u7528\u8005\u7AEF\u65B9\u584A",terrainTexture:"\u5730\u5F62\u6750\u8CEA",flipbookTexture:"Flipbook\u6750\u8CEA",clientBiome:"\u4F7F\u7528\u8005\u7AEF\u751F\u614B\u57DF",soundDefinition:"\u8072\u97F3\u5B9A\u7FA9",musicDefinition:"\u97F3\u6A02\u5B9A\u7FA9",clientSound:"\u4F7F\u7528\u8005\u7AEF\u8072\u97F3",skins:"\u5916\u89C0",langDef:"\u8A9E\u8A00\u5B9A\u7FA9",lang:"\u8A9E\u8A00",molang:"Molang",gameTest:"\u904A\u6232\u6E2C\u8A66",unknown:"\u5176\u4ED6",simpleFile:"\u7D14\u6A94\u6848",ui:"UI",volume:"\u529F\u80FD\u57DF",worldManifest:"\u4E16\u754CManifest"},actions:{newProject:{name:"\u65B0\u5EFA\u5C08\u6848",description:"\u65B0\u5EFA\u4E00\u500Bbridge.\u5C08\u6848"},newFile:{name:"\u65B0\u589E\u6A94\u6848",description:"\u65B0\u5EFA\u4E00\u500BAdd-On\u529F\u80FD"},openFile:{name:"\u958B\u555F\u6A94\u6848",description:"\u5F9E\u6B64\u5C08\u6848\u958B\u555F\u6A94\u6848"},searchFile:{name:"\u641C\u5C0B\u6A94\u6848",description:"\u5728\u6B64\u5C08\u6848\u4E2D\u641C\u5C0B"},saveFile:{name:"\u5132\u5B58\u6A94\u6848",description:"\u5132\u5B58\u958B\u555F\u7684\u6A94\u6848"},saveAs:{name:"\u53E6\u5B58\u65B0\u6A94",description:"\u4EE5\u4E0D\u540C\u6A94\u540D\u5132\u5B58\u958B\u555F\u7684\u6A94\u6848"},saveAll:{name:"\u5168\u90E8\u5132\u5B58",description:"\u5132\u5B58\u5168\u90E8\u958B\u555F\u7684\u6A94\u6848"},closeFile:{name:"\u95DC\u9589\u6A94\u6848",description:"\u95DC\u9589\u958B\u555F\u7684\u6A94\u6848"},settings:{name:"\u8A2D\u5B9A",description:"\u958B\u555Fbridge.\u7684\u8A2D\u5B9A"},extensions:{name:"\u64F4\u5145\u5143\u4EF6",description:"\u5B89\u88DD\u548C\u7BA1\u7406\u64F4\u5145\u5143\u4EF6"},copy:{name:"\u8907\u88FD",description:"\u5C07\u9078\u53D6\u7684\u6587\u5B57\u8907\u88FD\u5230\u526A\u8CBC\u7C3F"},cut:{name:"\u526A\u4E0B",description:"\u5C07\u9078\u53D6\u7684\u6587\u5B57\u526A\u4E0B"},paste:{name:"\u8CBC\u4E0A",description:"\u8CBC\u4E0A\u526A\u8CBC\u7C3F\u7684\u5167\u5BB9"},docs:{name:"\u6587\u6A94",description:"\u958B\u555FMinecraft Add-On\u6587\u6A94"},releases:{name:"\u767C\u884C\u7248",description:"\u67E5\u770B\u6700\u65B0\u7684bridge.\u767C\u884C\u7248"},bugReports:{name:"\u554F\u984C\u56DE\u5831",description:"\u56DE\u5831bridge.\u7684\u554F\u984C"},extensionAPI:{name:"\u64F4\u5145\u5143\u4EF6API",description:"\u67E5\u770Bbridge.\u64F4\u5145\u5143\u4EF6API\u7684\u8AAA\u660E"},gettingStarted:{name:"\u65B0\u624B\u4E0A\u8DEF",description:"\u67E5\u770B\u6211\u5011\u7684bridge.\u5165\u9580\u6307\u5357"},faq:{name:"\u5E38\u898B\u554F\u984C",description:"\u67E5\u770B\u4F7F\u7528bridge.\u958B\u767CAdd-On\u5E38\u898B\u7684\u554F\u984C"},reloadAutoCompletions:{name:"\u91CD\u65B0\u8F09\u5165\u81EA\u52D5\u5B8C\u6210",description:"\u91CD\u65B0\u8F09\u5165\u81EA\u52D5\u5B8C\u6210\u7684\u8CC7\u6599"},reloadExtensions:{name:"\u91CD\u65B0\u8F09\u5165\u64F4\u5145\u5143\u4EF6",description:"\u91CD\u65B0\u8F09\u5165\u6240\u6709\u64F4\u5145\u5143\u4EF6"},moveToSplitScreen:{name:"\u79FB\u81F3\u5206\u5272\u8996\u7A97",description:"\u5C07\u9019\u500B\u9801\u7C64\u79FB\u81F3\u65B0\u958B\u555F\u7684\u5206\u5272\u8996\u7A97"},closeTab:{name:"\u95DC\u9589\u9801\u7C64",description:"\u95DC\u9589\u9019\u500B\u9801\u7C64"},closeAll:{name:"\u5168\u90E8\u95DC\u9589",description:"\u95DC\u9589\u5168\u90E8\u7684\u9801\u7C64"},closeTabsToRight:{name:"\u95DC\u9589\u53F3\u908A\u7684\u9801\u7C64",description:"\u95DC\u9589\u53F3\u908A\u6240\u6709\u7684\u9801\u7C64"},closeAllSaved:{name:"\u95DC\u9589\u5DF2\u5132\u5B58\u7684\u9801\u7C64",description:"\u95DC\u9589\u6240\u6709\u5DF2\u5132\u5B58\u7684\u9801\u7C64"},closeOtherTabs:{name:"\u95DC\u9589\u5176\u4ED6\u9801\u7C64",description:"\u95DC\u9589\u5176\u4ED6\u7684\u9801\u7C64"},clearAllNotifications:{name:"\u6E05\u9664\u5168\u90E8\u901A\u77E5",description:"\u6E05\u9664\u5168\u90E8\u7684\u901A\u77E5"},pluginInstallLocation:{global:{name:"\u5168\u57DF\u5B89\u88DD",description:"\u6240\u6709\u5C08\u6848\u7686\u53EF\u4F7F\u7528\u5168\u57DF\u64F4\u5145\u5143\u4EF6"},local:{name:"\u5340\u57DF\u5B89\u88DD",description:"\u50C5\u6709\u5B89\u88DD\u8A72\u64F4\u5145\u5143\u4EF6\u7684\u5C08\u6848\u53EF\u4EE5\u4F7F\u7528"}},toObject:{name:"\u8F49\u63DB\u6210\u7269\u4EF6"},toArray:{name:"\u8F49\u63DB\u6210\u9663\u5217"}},toolbar:{file:{name:"\u6A94\u6848",preferences:{name:"\u504F\u597D\u8A2D\u5B9A"}},edit:{name:"\u7DE8\u8F2F"},tools:{name:"\u5DE5\u5177"},help:{name:"\u5E6B\u52A9"}},sidebar:{compiler:{name:"\u7DE8\u8B6F\u5668"},extensions:{name:"\u64F4\u5145\u5143\u4EF6"},notifications:{socials:{message:"\u793E\u7FA4\u5A92\u9AD4"},gettingStarted:{message:"\u65B0\u624B\u4E0A\u8DEF"},installApp:{message:"\u5B89\u88DD\u61C9\u7528\u7A0B\u5F0F"},updateAvailable:{message:"\u6709\u66F4\u65B0\u53EF\u7528"},updateExtensions:"\u66F4\u65B0\u5168\u90E8\u7684\u64F4\u5145\u5143\u4EF6"}},welcome:{title:"\u6B61\u8FCE\u4F7F\u7528bridge.",subtitle:"\u88FD\u4F5CMinecraft Add-On\u5F9E\u6C92\u5982\u6B64\u4FBF\u6377\u904E!",quickActions:"\u5FEB\u6377\u52D5\u4F5C",recentFiles:"\u6700\u8FD1\u958B\u555F\u7684\u6A94\u6848",recentProjects:"\u6700\u8FD1\u7684\u5C08\u6848"},windows:{loadingWindow:{titles:{loading:"\u8F09\u5165\u4E2D...",downloadingData:"\u4E0B\u8F09\u65B0\u8CC7\u6599..."}},changelogWindow:{title:"\u65B0\u529F\u80FD"},openFile:{title:"\u958B\u555F",search:"\u641C\u5C0B\u6A94\u6848...",noData:"\u6C92\u6709\u7D50\u679C..."},createProject:{welcome:"\u6B61\u8FCE\u4F7F\u7528bridge.!",welcomeDescription:"\u65B0\u589E\u4F60\u7684\u7B2C\u4E00\u500B\u5C08\u6848\u3002",omitPack:"\u5FFD\u7565",selectedPack:"\u5DF2\u9078\u53D6",title:"\u65B0\u589E\u5C08\u6848",packIcon:"\u5C08\u6848\u5716\u793A(\u9078\u64C7\u6027)",projectName:"\u5C08\u6848\u540D\u7A31",projectDescription:"\u5C08\u6848\u7C21\u4ECB(\u9078\u64C7\u6027)",projectPrefix:"\u5C08\u6848\u524D\u7DB4",projectAuthor:"\u5C08\u6848\u4F5C\u8005",projectTargetVersion:"\u5C08\u6848\u5C0D\u61C9\u7684Minecraft\u7248\u672C",scripting:"\u555F\u7528\u8173\u672CAPI",gameTest:"\u555F\u7528\u904A\u6232\u6E2C\u8A66\u6846\u67B6",rpAsBpDependency:"\u5C07\u8CC7\u6E90\u5305\u8A3B\u518A\u70BA\u884C\u70BA\u5305\u7684\u5957\u4EF6\u76F8\u4F9D\u6027",useLangForManifest:"\u76F4\u63A5\u5C07\u5305\u540D\u548C\u7C21\u4ECB\u6DFB\u52A0\u81F3manifest\u6A94\u6848",create:"\u65B0\u589E"},createPreset:{title:"\u65B0\u589E\u9810\u8A2D\u96C6",searchPresets:"\u641C\u5C0B\u9810\u8A2D\u96C6...",overwriteFiles:"\u9019\u500B\u9810\u8A2D\u96C6\u6703\u8986\u5BEB\u4E00\u6216\u591A\u500B\u6A94\u6848\uFF0C\u662F\u5426\u7E7C\u7E8C?",overwriteFilesConfirm:"\u78BA\u8A8D",overwriteUnsavedChanges:"\u9019\u500B\u9810\u8A2D\u96C6\u6703\u8986\u5BEB\u4E00\u6216\u591A\u500B\u672A\u5132\u5B58\u8B8A\u66F4\u7684\u6A94\u6848\uFF0C\u662F\u5426\u7E7C\u7E8C?",overwriteUnsavedChangesConfirm:"\u78BA\u8A8D",validationRule:{alphanumeric:"\u53EA\u80FD\u4F7F\u7528\u82F1\u6578\u7B26\u865F\u6216\u8005\u4E0B\u5283\u7DDA",lowercase:"\u53EA\u80FD\u4F7F\u7528\u5C0F\u5BEB",required:"\u6B64\u6B04\u4F4D\u70BA\u5FC5\u586B",noEmptyFolderNames:"\u8CC7\u6599\u593E\u540D\u7A31\u4E0D\u53EF\u7A7A\u767D"}},deleteProject:{confirm:"\u522A\u9664",description:"\u662F\u5426\u8981\u522A\u9664\u9019\u500B\u5C08\u6848?"},socials:{title:"\u793E\u7FA4\u5A92\u9AD4",content:"\u67E5\u770Bbridge.\u7684\u5B98\u65B9Twitter\u548CGithub\uFF0C\u4EE5\u53CA\u52A0\u5165Discord\u7FA4\u7D44!",discord:"Discord",twitter:"Twitter",github:"Github"},projectChooser:{title:"\u5C08\u6848",searchProjects:"\u641C\u5C0B\u5C08\u6848...",newProject:"\u65B0\u589E\u5C08\u6848"},filePath:{title:"\u9078\u64C7\u6A94\u6848\u8DEF\u5F91"},packExplorer:{title:"\u5957\u4EF6\u700F\u89BD\u5668",searchFiles:"\u641C\u5C0B\u6A94\u6848...",categories:"\u985E\u5225",refresh:{name:"\u91CD\u65B0\u8F09\u5165\u5C08\u6848",description:"\u91CD\u65B0\u8F09\u5165\u76EE\u524D\u5C08\u6848\u4E2D\u65B0\u589E\u7684\u6A94\u6848"},restartDevServer:{name:"\u91CD\u65B0\u555F\u52D5Dev Server",description:"\u662F\u5426\u8981\u91CD\u555F\u7DE8\u8B6F\u5668\u7684Dev Server? \u82B1\u8CBB\u7684\u6642\u9593\u4F9D\u7167\u4F60\u7684\u5C08\u6848\u5927\u5C0F\u800C\u5B9A\u3002"},createPreset:"\u65B0\u589E\u6A94\u6848",projectConfig:{name:"\u958B\u555F\u5C08\u6848\u8A2D\u5B9A\u6A94",missing:"\u770B\u4F86\u9019\u500B\u6A94\u6848\u6C92\u6709config.json\u3002\u5C08\u6848\u9700\u8981\u8A72\u6A94\u6848\u624D\u80FD\u6B63\u5E38\u904B\u4F5C\u3002"},fileActions:{delete:{name:"\u522A\u9664",description:"\u522A\u9664\u6A94\u6848\u6216\u8CC7\u6599\u593E",confirmText:"\u662F\u5426\u8981\u522A\u9664\u9019\u500B\u6A94\u6848? \u6B64\u52D5\u4F5C\u7121\u6CD5\u9084\u539F!"},rename:{name:"\u91CD\u65B0\u547D\u540D",description:"\u91CD\u65B0\u547D\u540D\u6A94\u6848"},duplicate:{name:"\u62F7\u8C9D",description:"\u62F7\u8C9D\u6A94\u6848"},revealFilePath:{name:"\u986F\u793A\u6A94\u6848\u8DEF\u5F91",description:"\u986F\u793A\u6A94\u6848\u6216\u8CC7\u6599\u593E\u7684\u5BE6\u969B\u4F4D\u7F6E"}}},settings:{title:"\u8A2D\u5B9A",searchSettings:"\u641C\u5C0B\u8A2D\u5B9A...",sidebar:{name:"\u5074\u908A\u6B04",sidebarRight:{name:"\u5074\u908A\u6B04\u79FB\u81F3\u53F3\u65B9",description:"\u5C07\u5074\u908A\u6B04\u79FB\u81F3\u87A2\u5E55\u53F3\u65B9"},sidebarSize:{name:"\u5074\u908A\u6B04\u5927\u5C0F",description:"\u66F4\u6539\u5C55\u958B\u7684\u5074\u908A\u6B04\u5BEC\u5EA6\u3002"},shrinkSidebarElements:{name:"\u6536\u5408\u5074\u908A\u6B04\u5143\u7D20",description:"\u6536\u5408bridge.\u7684\u5074\u908A\u6B04\u5143\u7D20"}},appearance:{name:"\u5916\u89C0",colorScheme:{name:"\u914D\u8272\u65B9\u6848",description:"\u9078\u53D6bridge. UI\u7684\u914D\u8272\u65B9\u6848"},darkTheme:{name:"\u6DF1\u8272\u4E3B\u984C",description:"\u9078\u53D6bridge.\u9810\u8A2D\u7684\u6DF1\u8272\u4E3B\u984C"},lightTheme:{name:"\u6DFA\u8272\u4E3B\u984C",description:"\u9078\u53D6bridge.\u9810\u8A2D\u7684\u6DFA\u8272\u4E3B\u984C"},localDarkTheme:{name:"\u5340\u57DF\u6DF1\u8272\u4E3B\u984C",description:"\u9078\u53D6\u76EE\u524D\u5C08\u6848\u7684\u6DF1\u8272\u4E3B\u984C"},localLightTheme:{name:"\u6DFA\u8272\u4E3B\u984C",description:"\u9078\u53D6\u76EE\u524D\u5C08\u6848\u7684\u6DFA\u8272\u4E3B\u984C"}},general:{name:"\u4E00\u822C",language:{name:"\u8A9E\u8A00",description:"\u9078\u53D6bridge.\u7684\u8A9E\u8A00"},collaborativeMode:{name:"\u5354\u4F5C\u6A21\u5F0F",description:"\u5F37\u5236\u5728\u5207\u63DB\u5C08\u6848\u6642\u91CD\u65B0\u8F09\u5165\u5FEB\u53D6\u6A94\u6848\u3002\u50C5\u6709\u60A8\u4E00\u4EBA\u4F7F\u7528bridge.\u7DE8\u8F2F\u5C08\u6848\u6642\u95DC\u9589\u6B64\u9078\u9805\u3002"},packSpider:{name:"\u5957\u4EF6\u722C\u87F2",description:"\u5957\u4EF6\u722C\u87F2\u6703\u7528\u865B\u64EC\u6A94\u6848\u7CFB\u7D71\u70BA\u5C08\u6848\u4E2D\u7684\u6A94\u6848\u5EFA\u7ACB\u9023\u7D50\uFF0C\u4E26\u986F\u793A\u4ED6\u5011\u7684\u95DC\u806F\u3002"},formatOnSave:{name:"\u5132\u5B58\u6642\u683C\u5F0F\u5316",description:"\u5728\u5132\u5B58\u6642\u683C\u5F0F\u5316\u6A94\u6848"},openLinksInBrowser:{name:"\u5728\u700F\u89BD\u5668\u4E2D\u958B\u555F\u9023\u7D50",description:"\u4F7F\u7528\u7CFB\u7D71\u9810\u8A2D\u700F\u89BD\u5668\u958B\u555F\u9023\u7D50\u3002"},restoreTabs:{name:"\u56DE\u5FA9\u9801\u7C64",description:"\u958B\u555Fbirdge.\u6642\u56DE\u5FA9\u4E0A\u4E00\u6B21\u958B\u555F\u7684\u9801\u7C64\u3002"},resetBridgeFolder:{name:"\u9078\u53D6\u6839\u76EE\u9304",description:"\u9078\u53D6bridge.\u904B\u4F5C\u7684\u4E3B\u8981\u76EE\u9304"}},developer:{name:"\u958B\u767C\u4EBA\u54E1",simulateOS:{name:"\u6A21\u64EC\u4F5C\u696D\u7CFB\u7D71",description:"\u6A21\u64EC\u4F5C\u696D\u7CFB\u7D71\u7528\u65BC\u6E2C\u8A66\u7279\u5B9A\u7684\u884C\u70BA"},devMode:{name:"\u958B\u767C\u4EBA\u54E1\u6A21\u5F0F",description:"\u958B\u555F\u958B\u767C\u4EBA\u54E1\u6A21\u5F0F"}},audio:{name:"\u97F3\u6548",volume:{name:"\u97F3\u6548\u5DF2\u958B\u555F",description:"\u958B\u555F\u6216\u95DC\u9589bridge.\u7684\u97F3\u6548"}},actions:{name:"\u52D5\u4F5C"},editor:{jsonEditor:{name:"JSON\u7DE8\u8F2F\u5668",description:"\u9078\u64C7\u7DE8\u8F2FJSON\u6A94\u6848\u7684\u65B9\u5F0F"},wordWrap:{name:"\u81EA\u52D5\u63DB\u884C",description:"\u7A0B\u5F0F\u78BC\u81EA\u52D5\u63DB\u884C"}}},projectFolder:{title:"\u5C08\u6848\u8CC7\u6599\u593E",content:"bridge.\u5FC5\u9808\u5B58\u53D6\u5C08\u6848\u8CC7\u6599\u593E"},extensionStore:{title:"\u64F4\u5145\u5143\u4EF6\u5546\u5E97",searchExtensions:"\u641C\u5C0B\u64F4\u5145\u5143\u4EF6...",activateExtension:"\u555F\u7528\u64F4\u5145\u5143\u4EF6",deactivateExtension:"\u505C\u7528\u64F4\u5145\u5143\u4EF6",offlineError:"\u7121\u6CD5\u8F09\u5165\u64F4\u5145\u5143\u4EF6\uFF0C\u8ACB\u78BA\u8A8D\u88DD\u7F6E\u5DF2\u9023\u4E0A\u7DB2\u8DEF\u3002"},pluginInstallLocation:{title:"\u9078\u64C7\u5B89\u88DD\u4F4D\u7F6E"},unsavedFile:{description:"\u662F\u5426\u5728\u95DC\u9589\u6A94\u6848\u524D\u5132\u5B58\u8B8A\u66F4?",save:"\u5132\u5B58 & \u95DC\u9589"},browserUnsupported:{title:"\u4E0D\u652F\u63F4\u7684\u700F\u89BD\u5668",description:"bridge.\u4E0D\u652F\u63F4\u4F60\u7684\u700F\u89BD\u5668\uFF0C\u8ACB\u4F7F\u7528\u96FB\u8166\u7248\u7684Chrome\u6216Edge!"},invalidJson:{title:"\u7121\u6548\u7684JSON",description:"bridge.\u7684\u6A39\u72C0\u7DE8\u8F2F\u5668\u7121\u6CD5\u958B\u555F\u7121\u6548JSON\u6A94\u6848\uFF0C\u4F60\u53EF\u4EE5\u5207\u63DB\u6210\u300C\u7D14\u6587\u672C\u7DE8\u8F2F\u5668\u300D\u4FEE\u6539\u6A94\u6848\u3002"}},taskManager:{tasks:{dataLoader:{title:"\u4E0B\u8F09\u8CC7\u6599...",description:"\u4E0B\u8F09\u7DE8\u8F2F\u5668\u7684\u6700\u65B0\u8CC7\u6599"},packIndexing:{title:"\u6AA2\u7D22\u5957\u4EF6\u4E2D",description:"bridge.\u6B63\u5728\u70BA\u4F60\u7684\u5C08\u6848\u529F\u80FD\u8490\u96C6\u5FC5\u8981\u7684\u8CC7\u8A0A"},compiler:{title:"\u7DE8\u8B6F\u5C08\u6848",description:"bridge.\u6B63\u5728\u7DE8\u8B6F\u53EF\u532F\u5165\u81F3Minecraft\u7684\u5957\u4EF6"}}},fileDropper:{importFiles:"\u5C07\u6A94\u6848\u62D6\u653E\u5230\u9019\u88E1\u532F\u5165!",importFailed:"bridge.\u7121\u6CD5\u532F\u5165\u4EE5\u4E0B\u6A94\u6848:",andMore:"...\u548C\u66F4\u591A!",importMethod:"\u532F\u5165\u65B9\u6CD5",saveToProject:{title:"\u5132\u5B58\u81F3\u5C08\u6848",description1:"\u5132\u5B58\u6A94\u6848",description2:"\u81F3\u4F60\u7684\u5C08\u6848\u3002"},openFile:{title:"\u958B\u555F\u6A94\u6848",description1:"\u958B\u555F\u6A94\u6848",description2:"\u5C07\u8B8A\u66F4\u5132\u5B58\u81F3\u539F\u59CB\u6A94\u6848\u3002"}},comMojang:{folderDropped:"\u662F\u5426\u5C07\u9019\u500B\u8CC7\u6599\u593E\u8A2D\u70BA\u9810\u8A2D\u7684com.mojang\u8CC7\u6599\u593E?",permissionRequest:"bridge.\u5FC5\u9808\u5B58\u53D6\u4F60\u7684com.mojang\u8CC7\u6599\u593E\u624D\u80FD\u7DE8\u8B6F\u5C08\u6848\u3002"},findAndReplace:{name:"\u5C0B\u627E & \u53D6\u4EE3",search:"\u5C0B\u627E",replace:"\u53D6\u4EE3",replaceAll:"\u5168\u90E8\u53D6\u4EE3",noResults:"\u6C92\u6709\u7D50\u679C\u3002",noSearch:"\u8F38\u5165\u6587\u5B57\uFF0C\u9019\u88E1\u5C31\u6703\u986F\u793A\u641C\u5C0B\u7D50\u679C\u3002"},preview:{name:"\u9810\u89BD",viewAnimation:"\u6AA2\u8996\u52D5\u756B",viewModel:"\u6AA2\u8996\u6A21\u578B",viewParticle:"\u6AA2\u8996\u7C92\u5B50",viewEntity:"\u6AA2\u8996\u5BE6\u9AD4",viewBlock:"\u6AA2\u8996\u65B9\u584A",failedClientEntityLoad:"\u7121\u6CD5\u8F09\u5165\u9023\u63A5\u7684\u4F7F\u7528\u8005\u7AEF\u5BE6\u9AD4",invalidEntity:"\u5BE6\u9AD4JSON\u7121\u6548\uFF0C\u7121\u6CD5\u958B\u555F\u3002\u8ACB\u4FEE\u6B63\u932F\u8AA4\u5F8C\u518D\u8A66\u4E00\u6B21\u3002",chooseGeometry:"\u9078\u64C7\u5E7E\u4F55\u9AD4",noGeometry:"\u6B64\u6A94\u6848\u4E2D\u672A\u627E\u5230\u6709\u6548\u7684\u5E7E\u4F55\u9AD4\u3002\u8ACB\u6AA2\u67E5JSON\u662F\u5426\u6709\u6548\uFF0C\u6A94\u6848\u7D50\u69CB\u662F\u5426\u6B63\u78BA\uFF0C\u4EE5\u53CA\u542B\u6709\u6307\u5B9A\u7684\u5E7E\u4F55\u9AD4\u8B58\u5225\u7B26\u3002"},initialSetup:{welcome:"\u6B61\u8FCE\u4F7F\u7528bridge. v2!",welcomeCaption:"\u4E00\u6B3E\u5F37\u5927\u7684Minecraft Add-On IDE\u3002",step:{installApp:{name:"\u5B89\u88DDbridge.",description:"\u70BA\u6C42\u6700\u4F73\u4F7F\u7528\u9AD4\u9A57\uFF0C\u5C07bridge. v2\u5B89\u88DD\u5230\u96FB\u8166\u3002"},bridge:{name:"bridge.\u7684\u8CC7\u6599\u593E",description:"\u8ACB\u65B0\u589E\u4E00\u500B\u8CC7\u6599\u593E\uFF0C\u7528\u65BC\u5B58\u653Ebridge.\u7684\u76F8\u95DC\u8CC7\u6599\u8207Add-On\u5C08\u6848\u3002"},comMojang:{name:"com.mojang\u8CC7\u6599\u593E",description:"\u5C07\u60A8\u7684com.mojang\u8CC7\u6599\u593E\u62D6\u66F3\u81F3bridge.\uFF0C\u5C07\u5176\u8207\u5C08\u6848\u8CC7\u6599\u593E\u540C\u6B65\u3002\u9019\u6A23\u53EF\u4EE5\u8B93Windows 10\u7248Minecraft\u76F4\u63A5\u5075\u6E2C\u5230\u4F60\u7684Add-On\u3002\u4E4B\u5F8C\u53EF\u518D\u4FEE\u6539com.mojang\u8CC7\u6599\u593E\u7684\u540C\u6B65\u8A2D\u5B9A\u3002",extraDescription:"\u5C07\u60A8\u7684com.mojang\u8CC7\u6599\u593E\u62D6\u66F3\u81F3bridge..."},editorType:{name:"\u9078\u53D6\u7DE8\u8F2F\u5668\u6A21\u5F0F",description:" \u60A8\u60F3\u8981\u5982\u4F55\u7DE8\u8F2FJSON\u6A94\u6848? \u4E4B\u5F8C\u53EF\u518D\u4FEE\u6539\u8A2D\u5B9A\u3002",rawText:{name:"\u7D14\u6587\u672C",description:"\u4EE5\u7D14\u6587\u672C\u6A21\u5F0F\u7DE8\u8F2FJSON\uFF0C\u6709\u5148\u9032\u7684\u81EA\u52D5\u5B8C\u6210\u548CJSON\u5075\u932F\u7CFB\u7D71\uFF0C\u9069\u5408\u4E2D\u968E\u4EE5\u53CA\u9032\u968E\u958B\u767C\u8005\u3002"},treeEditor:{name:"\u6A39\u72C0\u7DE8\u8F2F\u5668",description:"\u4EE5\u6A39\u72C0\u6A21\u5F0F\u7DE8\u8F2FJSON\uFF0C\u7121\u9808JSON\u77E5\u8B58\uFF0C\u9069\u5408\u521D\u968E\u4EE5\u53CA\u4E2D\u968E\u958B\u767C\u8005\u3002"}}}},editors:{treeEditor:{addObject:"\u52A0\u5165\u7269\u4EF6",addArray:"\u65B0\u589E\u9663\u5217",addValue:"\u65B0\u589E\u5024",edit:"\u7DE8\u8F2F"}}}),sb=W(j({},pu),{languageName:"\u65E5\u672C\u8A9E",general:{yes:"\u306F\u3044",no:"\u3044\u3044\u3048",okay:"\u308F\u304B\u308A\u307E\u3057\u305F",confirm:"\u78BA\u8A8D",cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB",close:"\u9589\u3058\u308B",reload:"\u518D\u8AAD\u307F\u8FBC\u307F",information:"\u30A4\u30F3\u30D5\u30A9\u30E1\u30FC\u30B7\u30E7\u30F3",continue:"\u7D9A\u884C",delete:"\u524A\u9664",select:"\u9078\u629E",skip:"\u30B9\u30AD\u30C3\u30D7",save:"\u4FDD\u5B58",more:"\u3082\u3063\u3068...",selectFolder:"\u30D5\u30A9\u30EB\u30C0\u3092\u9078\u629E",fileName:"\u30D5\u30A1\u30A4\u30EB\u540D",inactive:"\u7121\u52B9",active:"\u6709\u52B9",later:"\u3042\u3068\u3067",confirmOverwriteFile:"\u3053\u306E\u30A2\u30AF\u30B7\u30E7\u30F3\u306F\u540C\u540D\u306E\u30D5\u30A1\u30A4\u30EB\u3092\u4E0A\u66F8\u304D\u3057\u307E\u3059\u3002 \u7D9A\u884C\u3057\u307E\u3059\u304B\uFF1F",fileSystemPolyfill:"\u304A\u4F7F\u3044\u306E\u30D6\u30E9\u30A6\u30B6\u306F\u9032\u6357\u72B6\u6CC1\u3092\u4FDD\u5B58\u3059\u308B\u305F\u3081\u306B\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002 Chrome \u3084 Edge \u3092\u4F7F\u7528\u3057\u3066\u3044\u308B\u5834\u5408\u306F\u305D\u306E\u5FC5\u8981\u306F\u3042\u308A\u307E\u305B\u3093\u3002",successfulExport:{title:"\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8\u6210\u529F",description:"\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8\u3055\u308C\u305F\u30D1\u30C3\u30B1\u30FC\u30B8\u306F\u3053\u3061\u3089\u3067\u3054\u89A7\u3044\u305F\u3060\u3051\u307E\u3059\u3002"},experimentalGameplay:"\u8A66\u9A13\u7684\u30B2\u30FC\u30E0\u30D7\u30EC\u30A4",textureLocation:"\u30C6\u30AF\u30B9\u30C1\u30E3\u306E\u5834\u6240"},packType:{behaviorPack:{name:"\u30D3\u30D8\u30A4\u30D3\u30A2\u30D1\u30C3\u30AF",description:"\u65B0\u3057\u3044\u30B2\u30FC\u30E0\u306E\u4ED5\u7D44\u307F\u3092\u4F5C\u308A Minecraft \u306E\u52D5\u4F5C\u3092\u5909\u3048\u307E\u3059"},resourcePack:{name:"\u30EA\u30BD\u30FC\u30B9\u30D1\u30C3\u30AF",description:"Minecraft \u306E\u5916\u89B3\u3084\u30B5\u30A6\u30F3\u30C9\u306E\u5909\u66F4\u3057\u307E\u3059"},skinPack:{name:"\u30B9\u30AD\u30F3\u30D1\u30C3\u30AF",description:"\u30D7\u30EC\u30A4\u30E4\u30FC\u304C\u9078\u629E\u3067\u304D\u308B\u30AD\u30E3\u30E9\u30AF\u30BF\u30FC\u306E\u65B0\u305F\u306A\u30B9\u30AD\u30F3\u3092\u63D0\u4F9B\u3057\u307E\u3059"},worldTemplate:{name:"\u30EF\u30FC\u30EB\u30C9\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8",description:"\u30E6\u30FC\u30B6\u30FC\u304C\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u4F53\u9A13\u3059\u308B\u305F\u3081\u306E\u30EF\u30FC\u30EB\u30C9\u3092\u4F5C\u6210\u3057\u307E\u3059"}},fileType:{manifest:"\u30DE\u30CB\u30D5\u30A7\u30B9\u30C8",animation:"\u30A2\u30CB\u30E1\u30FC\u30B7\u30E7\u30F3",animationController:"\u30A2\u30CB\u30E1\u30FC\u30B7\u30E7\u30F3\u30B3\u30F3\u30C8\u30ED\u30FC\u30E9",biome:"\u30D0\u30A4\u30AA\u30FC\u30E0",block:"\u30D6\u30ED\u30C3\u30AF",bridgeConfig:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u8A2D\u5B9A",dialogue:"\u30C0\u30A4\u30A2\u30ED\u30B0",entity:"\u30A8\u30F3\u30C6\u30A3\u30C6\u30A3",feature:"\u30D5\u30A3\u30FC\u30C1\u30E3\u30FC",featureRule:"\u30D5\u30A3\u30FC\u30C1\u30E3\u30FC\u30EB\u30FC\u30EB",functionTick:"\u30D5\u30A1\u30F3\u30AF\u30B7\u30E7\u30F3\u30C6\u30A3\u30C3\u30AF",function:"\u30D5\u30A1\u30F3\u30AF\u30B7\u30E7\u30F3",item:"\u30A2\u30A4\u30C6\u30E0",lootTable:"\u30EB\u30FC\u30C8\u30C6\u30FC\u30D6\u30EB",recipe:"\u30EC\u30B7\u30D4",clientScript:"\u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u30B9\u30AF\u30EA\u30D7\u30C8",serverScript:"\u30B5\u30FC\u30D0\u30FC\u30B9\u30AF\u30EA\u30D7\u30C8",script:"\u30B9\u30AF\u30EA\u30D7\u30C8",spawnRule:"\u30B9\u30DD\u30FC\u30F3\u30EB\u30FC\u30EB",mcstructure:"\u30B9\u30C8\u30E9\u30AF\u30C1\u30E3\u30FC",tradeTable:"\u30C8\u30EC\u30FC\u30C9\u30C6\u30FC\u30D6\u30EB",clientManifest:"\u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u30DE\u30CB\u30D5\u30A7\u30B9\u30C8",skinManifest:"\u30B9\u30AD\u30F3\u30DE\u30CB\u30D5\u30A7\u30B9\u30C8",geometry:"\u30B8\u30AA\u30E1\u30C8\u30EA",customCommand:"\u30B3\u30DE\u30F3\u30C9",customComponent:"\u30B3\u30F3\u30DD\u30FC\u30CD\u30F3\u30C8",clientAnimation:"\u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u30A2\u30CB\u30E1\u30FC\u30B7\u30E7\u30F3",clientAnimationController:"\u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u30A2\u30CB\u30E1\u30FC\u30B7\u30E7\u30F3\u30B3\u30F3\u30C8\u30ED\u30FC\u30E9",attachable:"\u30A2\u30BF\u30C3\u30C1\u30E3\u30D6\u30EB",clientEntity:"\u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u30A8\u30F3\u30C6\u30A3\u30C6\u30A3",clientItem:"\u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u30A2\u30A4\u30C6\u30E0",clientLang:"\u8A00\u8A9E",fog:"\u30D5\u30A9\u30B0",particle:"\u30D1\u30FC\u30C6\u30A3\u30AF\u30EB",renderController:"\u30EC\u30F3\u30C0\u30FC\u30B3\u30F3\u30C8\u30ED\u30FC\u30E9",texture:"\u30C6\u30AF\u30B9\u30C1\u30E3",textureSet:"\u30C6\u30AF\u30B9\u30C1\u30E3\u30BB\u30C3\u30C8",itemTexture:"\u30A2\u30A4\u30C6\u30E0\u30C6\u30AF\u30B9\u30C1\u30E3",clientBlock:"\u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u30D6\u30ED\u30C3\u30AF",terrainTexture:"Terrain \u30C6\u30AF\u30B9\u30C1\u30E3",flipbookTexture:"Flipbook \u30C6\u30AF\u30B9\u30C1\u30E3",clientBiome:"\u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u30D0\u30A4\u30AA\u30FC\u30E0",soundDefinition:"\u30B5\u30A6\u30F3\u30C9\u5B9A\u7FA9",musicDefinition:"\u97F3\u697D\u5B9A\u7FA9",clientSound:"\u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u30B5\u30A6\u30F3\u30C9",skins:"\u30B9\u30AD\u30F3",langDef:"\u8A00\u8A9E\u5B9A\u7FA9",lang:"\u8A00\u8A9E",molang:"Molang",gameTest:"Game Test",unknown:"\u305D\u306E\u4ED6",simpleFile:"\u30B7\u30F3\u30D7\u30EB\u30D5\u30A1\u30A4\u30EB",ui:"UI",volume:"\u30DC\u30EA\u30E5\u30FC\u30E0",worldManifest:"\u30EF\u30FC\u30EB\u30C9\u30DE\u30CB\u30D5\u30A7\u30B9\u30C8"},actions:{newProject:{name:"\u65B0\u898F\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8",description:"\u65B0\u898F bridge. \u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u4F5C\u6210\u3057\u307E\u3059"},newFile:{name:"\u65B0\u898F\u30D5\u30A1\u30A4\u30EB",description:"\u65B0\u3057\u3044\u30A2\u30C9\u30AA\u30F3\u6A5F\u80FD\u306E\u4F5C\u6210"},openFile:{name:"\u30D5\u30A1\u30A4\u30EB\u3092\u958B\u304F",description:"\u73FE\u5728\u306E\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u304B\u3089\u30D5\u30A1\u30A4\u30EB\u3092\u958B\u304F"},searchFile:{name:"\u30D5\u30A1\u30A4\u30EB\u3092\u63A2\u3059",description:"\u73FE\u5728\u306E\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u304B\u3089\u30D5\u30A1\u30A4\u30EB\u3092\u691C\u7D22\u3057\u3066\u958B\u304F"},saveFile:{name:"\u30D5\u30A1\u30A4\u30EB\u3092\u4FDD\u5B58",description:"\u73FE\u5728\u958B\u3044\u3066\u3044\u308B\u30D5\u30A1\u30A4\u30EB\u3092\u4FDD\u5B58\u3059\u308B"},saveAs:{name:"\u540D\u524D\u3092\u4ED8\u3051\u3066\u4FDD\u5B58...",description:"\u73FE\u5728\u958B\u3044\u3066\u3044\u308B\u30D5\u30A1\u30A4\u30EB\u3092\u5225\u306E\u540D\u524D\u3067\u4FDD\u5B58\u3059\u308B"},saveAll:{name:"\u3059\u3079\u3066\u4FDD\u5B58",description:"\u73FE\u5728\u958B\u3044\u3066\u3044\u308B\u30D5\u30A1\u30A4\u30EB\u3092\u3059\u3079\u3066\u4FDD\u5B58"},closeFile:{name:"\u30D5\u30A1\u30A4\u30EB\u3092\u9589\u3058\u308B",description:"\u73FE\u5728\u958B\u3044\u3066\u3044\u308B\u30D5\u30A1\u30A4\u30EB\u3092\u9589\u3058\u308B"},settings:{name:"\u8A2D\u5B9A",description:"bridge. \u306E\u30A2\u30D7\u30EA\u8A2D\u5B9A\u3092\u958B\u304F"},extensions:{name:"\u62E1\u5F35\u6A5F\u80FD",description:"\u62E1\u5F35\u6A5F\u80FD\u306E\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3068\u7BA1\u7406"},copy:{name:"\u30B3\u30D4\u30FC",description:"\u9078\u629E\u3057\u305F\u30C6\u30AD\u30B9\u30C8\u3092\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC"},cut:{name:"\u5207\u308A\u53D6\u308A",description:"\u9078\u629E\u3057\u305F\u30C6\u30AD\u30B9\u30C8\u3092\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC\u3057\u3066\u5207\u308A\u53D6\u308B"},paste:{name:"\u8CBC\u308A\u4ED8\u3051",description:"\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306E\u5185\u5BB9\u3092\u8CBC\u308A\u4ED8\u3051\u308B"},docs:{name:"\u30C9\u30AD\u30E5\u30E1\u30F3\u30C8",description:"Minecraft \u30A2\u30C9\u30AA\u30F3\u306E\u30C9\u30AD\u30E5\u30E1\u30F3\u30C8\u3092\u958B\u304F"},releases:{name:"\u30EA\u30EA\u30FC\u30B9",description:"\u6700\u65B0\u306E bridge. \u30EA\u30EA\u30FC\u30B9\u3092\u898B\u308B"},bugReports:{name:"\u30D0\u30B0\u30EC\u30DD\u30FC\u30C8",description:"bridge. \u306E\u554F\u984C\u3092\u5831\u544A\u3059\u308B"},extensionAPI:{name:"\u62E1\u5F35\u6A5F\u80FD API",description:"bridge. \u306E\u62E1\u5F35\u6A5F\u80FD API \u306B\u3064\u3044\u3066\u8A73\u3057\u304F\u306F\u3053\u3061\u3089"},gettingStarted:{name:"\u306F\u3058\u3081\u306B",description:"bridge. \u3092\u4F7F\u3044\u59CB\u3081\u308B\u305F\u3081\u306E\u30AC\u30A4\u30C9\u3092\u8AAD\u3080"},faq:{name:"FAQ",description:"bridge. \u3067\u306E\u30A2\u30C9\u30AA\u30F3\u958B\u767A\u306B\u95A2\u3059\u308B\u3088\u304F\u3042\u308B\u8CEA\u554F"},reloadAutoCompletions:{name:"\u30AA\u30FC\u30C8\u30B3\u30F3\u30D7\u30EA\u30FC\u30C8\u306E\u518D\u8AAD\u307F\u8FBC\u307F",description:"\u3059\u3079\u3066\u306E\u30AA\u30FC\u30C8\u30B3\u30F3\u30D7\u30EA\u30FC\u30C8\u30C7\u30FC\u30BF\u3092\u518D\u8AAD\u307F\u8FBC\u307F\u3059\u308B"},reloadExtensions:{name:"\u62E1\u5F35\u6A5F\u80FD\u306E\u518D\u8AAD\u307F\u8FBC\u307F",description:"\u3059\u3079\u3066\u306E\u62E1\u5F35\u6A5F\u80FD\u3092\u518D\u8AAD\u307F\u8FBC\u307F\u3059\u308B"},moveToSplitScreen:{name:"\u5206\u5272\u753B\u9762\u3078\u79FB\u52D5",description:"\u5206\u5272\u753B\u9762\u3092\u958B\u304D\u3053\u306E\u30BF\u30D6\u3092\u79FB\u3059"},closeTab:{name:"\u30BF\u30D6\u3092\u9589\u3058\u308B",description:"\u3053\u306E\u30BF\u30D6\u3092\u9589\u3058\u308B"},closeAll:{name:"\u3059\u3079\u3066\u9589\u3058\u308B",description:"\u3059\u3079\u3066\u306E\u30BF\u30D6\u3092\u9589\u3058\u308B"},closeTabsToRight:{name:"\u53F3\u5074\u3092\u9589\u3058\u308B",description:"\u3053\u306E\u30BF\u30D6\u306E\u53F3\u5074\u306B\u3042\u308B\u3059\u3079\u3066\u306E\u30BF\u30D6\u3092\u9589\u3058\u308B"},closeAllSaved:{name:"\u4FDD\u5B58\u6E08\u307F\u3092\u9589\u3058\u308B",description:"\u4FDD\u5B58\u3057\u305F\u30BF\u30D6\u3092\u3059\u3079\u3066\u9589\u3058\u308B"},closeOtherTabs:{name:"\u305D\u306E\u4ED6\u3092\u9589\u3058\u308B",description:"\u3053\u306E\u30BF\u30D6\u4EE5\u5916\u306E\u3059\u3079\u3066\u306E\u30BF\u30D6\u3092\u9589\u3058\u308B"},clearAllNotifications:{name:"\u3059\u3079\u3066\u306E\u901A\u77E5\u3092\u6D88\u53BB",description:"\u73FE\u5728\u8868\u793A\u3055\u308C\u3066\u3044\u308B\u3059\u3079\u3066\u306E\u901A\u77E5\u3092\u6D88\u53BB\u3059\u308B"},pluginInstallLocation:{global:{name:"\u30B0\u30ED\u30FC\u30D0\u30EB\u306B\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB",description:"\u3059\u3079\u3066\u306E\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3067\u5229\u7528\u53EF\u80FD\u306B\u3057\u307E\u3059"},local:{name:"\u30ED\u30FC\u30AB\u30EB\u306B\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB",description:"\u8FFD\u52A0\u3057\u305F\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306E\u4E2D\u3067\u306E\u307F\u5229\u7528\u53EF\u80FD\u306B\u3057\u307E\u3059"}},toObject:{name:"\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u306B\u5909\u63DB"},toArray:{name:"\u914D\u5217\u306B\u5909\u63DB"},documentationLookup:{name:"\u30C9\u30AD\u30E5\u30E1\u30F3\u30C8\u306E\u8868\u793A",noDocumentation:"\u3053\u306E\u30C9\u30AD\u30E5\u30E1\u30F3\u30C8\u306F\u3042\u308A\u307E\u305B\u3093: "},toggleReadOnly:{name:"\u8AAD\u307F\u53D6\u308A\u5C02\u7528\u306E\u5207\u308A\u66FF\u3048",description:"\u73FE\u5728\u958B\u3044\u3066\u3044\u308B\u30D5\u30A1\u30A4\u30EB\u306E\u8AAD\u307F\u53D6\u308A\u5C02\u7528\u30E2\u30FC\u30C9\u3092\u5207\u308A\u66FF\u3048\u308B"},keepInTabSystem:{name:"\u30BF\u30D6\u3092\u56FA\u5B9A",description:"\u30BF\u30D6\u3092\u56FA\u5B9A\u3057\u307E\u3059"},importBrproject:{name:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306E\u30A4\u30F3\u30DD\u30FC\u30C8",description:".brproject \u30D5\u30A1\u30A4\u30EB\u304B\u3089\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u30A4\u30F3\u30DD\u30FC\u30C8\u3059\u308B"},downloadFile:{name:"\u30D5\u30A1\u30A4\u30EB\u3092\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9",description:"\u73FE\u5728\u958B\u3044\u3066\u3044\u308B\u30D5\u30A1\u30A4\u30EB\u3092\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u3059\u308B"},undo:{name:"\u5143\u306B\u623B\u3059",description:"\u76F4\u524D\u306E\u64CD\u4F5C\u3092\u5143\u306B\u623B\u3059"},redo:{name:"\u3084\u308A\u76F4\u3057",description:"\u76F4\u524D\u306E\u64CD\u4F5C\u3092\u3084\u308A\u76F4\u3059"},goToDefinition:{name:"\u5B9A\u7FA9\u3078\u79FB\u52D5",description:"\u9078\u629E\u3057\u305F\u30B7\u30F3\u30DC\u30EB\u306E\u5B9A\u7FA9\u306B\u79FB\u52D5"},goToSymbol:{name:"\u30B7\u30F3\u30DC\u30EB\u3078\u79FB\u52D5",description:"\u79FB\u52D5\u3059\u308B\u30B7\u30F3\u30DC\u30EB\u3092\u9078\u629E\u3059\u308B\u30C0\u30A4\u30A2\u30ED\u30B0\u3092\u958B\u304F"},formatDocument:{name:"\u30C9\u30AD\u30E5\u30E1\u30F3\u30C8\u306E\u30D5\u30A9\u30FC\u30DE\u30C3\u30C8",description:"\u73FE\u5728\u958B\u3044\u3066\u3044\u308B\u30C9\u30AD\u30E5\u30E1\u30F3\u30C8\u3092\u30D5\u30A9\u30FC\u30DE\u30C3\u30C8\u3059\u308B"},changeAllOccurrences:{name:"\u3059\u3079\u3066\u306E\u51FA\u73FE\u500B\u6240\u3092\u5909\u66F4",description:"\u9078\u629E\u3055\u308C\u305F\u30C6\u30AD\u30B9\u30C8\u306E\u3059\u3079\u3066\u306E\u51FA\u73FE\u7B87\u6240\u3092\u5909\u66F4\u3059\u308B"}},toolbar:{project:{name:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8"},file:{name:"\u30D5\u30A1\u30A4\u30EB",preferences:{name:"\u8A2D\u5B9A"}},edit:{name:"\u7DE8\u96C6"},tools:{name:"\u30C4\u30FC\u30EB"},help:{name:"\u30D8\u30EB\u30D7"}},sidebar:{compiler:{name:"\u30B3\u30F3\u30D1\u30A4\u30E9",default:{name:"\u30C7\u30D5\u30A9\u30EB\u30C8\u8A2D\u5B9A",description:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306E config.json \u30D5\u30A1\u30A4\u30EB\u306B\u542B\u307E\u308C\u308B\u30C7\u30D5\u30A9\u30EB\u30C8\u306E\u30B3\u30F3\u30D1\u30A4\u30E9\u8A2D\u5B9A\u3067 bridge. \u306E\u30B3\u30F3\u30D1\u30A4\u30E9\u3092\u5B9F\u884C\u3057\u307E\u3059\u3002"}},extensions:{name:"\u62E1\u5F35\u6A5F\u80FD"},notifications:{socials:{message:"\u30BD\u30FC\u30B7\u30E3\u30EB"},gettingStarted:{message:"\u306F\u3058\u3081\u306B"},installApp:{message:"\u30A2\u30D7\u30EA\u306E\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB"},updateAvailable:{message:"\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8\u53EF\u80FD"},updateExtensions:"\u3059\u3079\u3066\u306E\u62E1\u5F35\u6A5F\u80FD\u3092\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8"}},welcome:{title:"\u3088\u3046\u3053\u305D bridge. \u3078",subtitle:"Minecraft \u306E\u30A2\u30C9\u30AA\u30F3\u306E\u4F5C\u6210\u304C\u3053\u308C\u307E\u3067\u4EE5\u4E0A\u306B\u4FBF\u5229\u306B\u306A\u308A\u307E\u3057\u305F!",quickActions:"\u30AF\u30A4\u30C3\u30AF\u30A2\u30AF\u30B7\u30E7\u30F3",recentFiles:"\u6700\u8FD1\u306E\u30D5\u30A1\u30A4\u30EB",recentProjects:"\u6700\u8FD1\u306E\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8"},experimentalGameplay:{cavesAndCliffs:{name:"Caves and Cliffs",description:"\u65B0\u3057\u3044\u30EF\u30FC\u30EB\u30C9\u751F\u6210\u7528\u306E\u81EA\u52D5\u88DC\u5B8C\u6A5F\u80FD\u3092\u6709\u52B9\u306B\u3057\u307E\u3059\u3002"},holidayCreatorFeatures:{name:"\u30DB\u30EA\u30C7\u30FC\u30AF\u30EA\u30A8\u30A4\u30BF\u30FC\u306E\u7279\u5FB4",description:"\u30C7\u30FC\u30BF\u99C6\u52D5\u578B\u306E\u30A2\u30A4\u30C6\u30E0\u304A\u3088\u3073\u30D6\u30ED\u30C3\u30AF\u306E\u81EA\u52D5\u88DC\u5B8C\u6A5F\u80FD\u3092\u6709\u52B9\u306B\u3057\u307E\u3059\u3002"},creationOfCustomBiomes:{name:"\u30AA\u30EA\u30B8\u30CA\u30EB\u30D0\u30A4\u30AA\u30FC\u30E0\u306E\u4F5C\u6210",description:"\u30AB\u30B9\u30BF\u30E0\u30D0\u30A4\u30AA\u30FC\u30E0\u3001\u30D5\u30A3\u30FC\u30C1\u30E3\u30FC\u3001\u30D5\u30A3\u30FC\u30C1\u30E3\u30FC\u30EB\u30FC\u30EB\u306E\u4F5C\u6210\u3092\u53EF\u80FD\u306B\u3057\u307E\u3059\u3002"},additionalModdingCapabilities:{name:"\u8FFD\u52A0\u306E\u6539\u9020\u6A5F\u80FD",description:"\u30DE\u30CB\u30D5\u30A7\u30B9\u30C8\u306E Scripting API \u3068\u30B9\u30AF\u30EA\u30D7\u30C8\u306E\u81EA\u52D5\u88DC\u5B8C\u6A5F\u80FD\u3092\u6709\u52B9\u5316\u3057\u307E\u3059\u3002"},upcomingCreatorFeatures:{name:"\u4ECA\u5F8C\u306E\u30AF\u30EA\u30A8\u30A4\u30BF\u30FC\u6A5F\u80FD",description:"\u30D5\u30A9\u30B0\u30DC\u30EA\u30E5\u30FC\u30E0\u30D5\u30A1\u30A4\u30EB\u306E\u4F5C\u6210\u3068\u30A8\u30F3\u30C6\u30A3\u30C6\u30A3\u30D7\u30ED\u30D1\u30C6\u30A3\u306E\u81EA\u52D5\u88DC\u5B8C\u6A5F\u80FD\u3092\u6709\u52B9\u5316\u3057\u307E\u3059\u3002"},enableGameTestFramework:{name:"GameTest\u30D5\u30EC\u30FC\u30E0\u30EF\u30FC\u30AF\u306E\u6709\u52B9\u5316",description:"\u30DE\u30CB\u30D5\u30A7\u30B9\u30C8\u306E GameTest \u95A2\u9023\u30E2\u30B8\u30E5\u30FC\u30EB\u3068GameTest\u30B9\u30AF\u30EA\u30D7\u30C8\u306E\u81EA\u52D5\u88DC\u5B8C\u6A5F\u80FD\u3092\u6709\u52B9\u5316\u3057\u307E\u3059\u3002"},experimentalMolangFeatures:{name:"\u5B9F\u9A13\u7684\u306A Molang \u306E\u6A5F\u80FD",description:"\u5B9F\u9A13\u7684\u306A Molang \u306E\u30AF\u30A8\u30EA\u306B\u5BFE\u3059\u308B\u81EA\u52D5\u88DC\u5B8C\u6A5F\u80FD\u3092\u6709\u52B9\u306B\u3057\u307E\u3059\u3002"},educationEdition:{name:"Education Edition \u306E\u6709\u52B9\u5316",description:"\u7269\u8CEA\u9084\u5143\u30EC\u30B7\u30D4\u306A\u3069\u306E\u6559\u80B2\u6A5F\u80FD\u3067\u81EA\u52D5\u88DC\u5B8C\u6A5F\u80FD\u3092\u6709\u52B9\u306B\u3057\u307E\u3059\u3002"}},windows:{changelogWindow:{title:"What's new?"},openFile:{title:"\u958B\u304F",search:"\u30D5\u30A1\u30A4\u30EB\u306E\u691C\u7D22...",noData:"\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F..."},createProject:{welcome:"bridge. \u3078\u3088\u3046\u3053\u305D!!",welcomeDescription:"\u307E\u305A\u306F\u6700\u521D\u306E\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u4F5C\u6210\u3057\u3066\u307F\u3066\u304F\u3060\u3055\u3044\u3002",omitPack:"\u7701\u7565\u53EF",selectedPack:"\u9078\u629E\u6E08\u307F",title:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306E\u4F5C\u6210",packIcon:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u30A2\u30A4\u30B3\u30F3\uFF08\u4EFB\u610F)",projectName:{name:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u540D",invalidLetters:"\u4F7F\u7528\u3067\u304D\u308B\u6587\u5B57\u306F\u534A\u89D2\u82F1\u6570\u5B57\u306E\u307F\u3067\u3059",mustNotBeEmpty:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u540D\u3092\u5165\u529B\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059"},projectDescription:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306E\u8AAC\u660E\uFF08\u4EFB\u610F)",projectPrefix:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u540D",projectAuthor:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u4F5C\u6210\u8005",projectTargetVersion:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306E\u5BFE\u8C61\u30D0\u30FC\u30B8\u30E7\u30F3",rpAsBpDependency:"\u30EA\u30BD\u30FC\u30B9\u30D1\u30C3\u30AF\u3092\u30D3\u30D8\u30A4\u30D3\u30A2\u30D1\u30C3\u30AF\u306E\u4F9D\u5B58\u95A2\u4FC2\u3068\u3057\u3066\u767B\u9332\u3059\u308B",bpAsRpDependency:"\u30D3\u30D8\u30A4\u30D3\u30A2\u30D1\u30C3\u30AF\u3092\u30EA\u30BD\u30FC\u30B9\u30D1\u30C3\u30AF\u306E\u4F9D\u5B58\u95A2\u4FC2\u3068\u3057\u3066\u767B\u9332\u3059\u308B",useLangForManifest:"\u30DE\u30CB\u30D5\u30A7\u30B9\u30C8\u306B\u30D1\u30C3\u30AF\u540D/\u8AAC\u660E\u6587\u3092\u76F4\u63A5\u8FFD\u52A0\u3059\u308B",create:"\u4F5C\u6210",saveCurrentProject:"\u65B0\u3057\u3044\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u4F5C\u6210\u3059\u308B\u524D\u306B\u73FE\u5728\u306E\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u4FDD\u5B58\u3057\u307E\u3059\u304B\uFF1F \u4FDD\u5B58\u3055\u308C\u3066\u3044\u306A\u3044\u5909\u66F4\u70B9\u306F\u5931\u308F\u308C\u3066\u3057\u307E\u3044\u307E\u3059",individualFiles:{name:"\u500B\u5225\u30D5\u30A1\u30A4\u30EB",file:{player:{name:"player.json",description:"\u30D7\u30EC\u30FC\u30E4\u30FC\u306E\u30C7\u30D5\u30A9\u30EB\u30C8\u30D3\u30D8\u30A4\u30D3\u30A2\u3092\u5B9A\u7FA9\u3057\u307E\u3059\u3002"},tick:{name:"tick.json",description:"\u30C6\u30A3\u30C3\u30AF\u6BCE\u306B\u5B9F\u884C\u3059\u308B\u6A5F\u80FD\u306E\u5B9A\u7FA9\u3092\u3057\u307E\u3059\u3002"},skins:{name:"skins.json",description:"\u4F5C\u6210\u3057\u305F\u30B9\u30AD\u30F3\u306E\u5B9A\u7FA9\u3092\u3057\u307E\u3059\u3002"},blocks:{name:"blocks.json",description:"\u30D6\u30ED\u30C3\u30AF\u306E\u30C6\u30AF\u30B9\u30C1\u30E3/\u30B5\u30A6\u30F3\u30C9\u3092 1 \u3064\u306B\u307E\u3068\u3081\u3066\u5B9A\u7FA9\u3057\u307E\u3059\u3002"},terrainTexture:{name:"terrain_texture.json",description:"\u30D6\u30ED\u30C3\u30AF\u9762\u306E\u30C6\u30AF\u30B9\u30C1\u30E3\u3092\u5272\u308A\u5F53\u3066\u3092\u5B9A\u7FA9\u3057\u307E\u3059\u3002"},itemTexture:{name:"item_texture.json",description:"\u30A2\u30A4\u30C6\u30E0\u306E\u30C6\u30AF\u30B9\u30C1\u30E3\u3092\u5272\u308A\u5F53\u3066\u3092\u5B9A\u7FA9\u3057\u307E\u3059\u3002"},flipbookTextures:{name:"flipbook_textures.json",description:"\u30D6\u30ED\u30C3\u30AF\u30C6\u30AF\u30B9\u30C1\u30E3\u306E\u30A2\u30CB\u30E1\u30FC\u30B7\u30E7\u30F3\u3092\u5B9A\u7FA9\u3057\u307E\u3059\u3002"},biomesClient:{name:"biomes_client.json",description:"\u30D0\u30A4\u30AA\u30FC\u30E0\u7279\u6709\u306E\u52B9\u679C\u304C\u3069\u306E\u3088\u3046\u306B\u30EC\u30F3\u30C0\u30EA\u30F3\u30B0\u3055\u308C\u308B\u304B\u3092\u5B9A\u7FA9\u3057\u307E\u3059\u3002"},sounds:{name:"sounds.json",description:"\u7279\u5B9A\u306E\u30B2\u30FC\u30E0\u6A5F\u80FD\u306E\u30B5\u30A6\u30F3\u30C9\u3092\u5B9A\u7FA9\u3057\u307E\u3059\u3002"},soundDefinitions:{name:"sound_definitions.json",description:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u5185\u306E\u4ED6\u306E\u5834\u6240\u3067\u4F7F\u7528\u3059\u308B\u30B5\u30A6\u30F3\u30C9\u30D5\u30A1\u30A4\u30EB\u306EID\u3092\u5B9A\u7FA9\u3057\u307E\u3059\u3002"}}}},createPreset:{title:"\u30D7\u30EA\u30BB\u30C3\u30C8\u306E\u4F5C\u6210",searchPresets:"\u30D7\u30EA\u30BB\u30C3\u30C8\u3092\u691C\u7D22...",overwriteFiles:"\u3053\u306E\u30D7\u30EA\u30BB\u30C3\u30C8\u306F 1 \u3064\u307E\u305F\u306F\u8907\u6570\u306E\u65E2\u5B58\u306E\u30D5\u30A1\u30A4\u30EB\u3092\u4E0A\u66F8\u304D\u3057\u307E\u3059\u3002 \u7D9A\u884C\u3057\u307E\u3059\u304B\uFF1F",overwriteFilesConfirm:"\u7D9A\u884C",overwriteUnsavedChanges:"\u3053\u306E\u30D7\u30EA\u30BB\u30C3\u30C8\u306F\u672A\u4FDD\u5B58\u306E\u5909\u66F4\u304C\u3042\u308B 1 \u3064\u307E\u305F\u306F\u8907\u6570\u306E\u30D5\u30A1\u30A4\u30EB\u3092\u4E0A\u66F8\u304D\u3057\u307E\u3059\u3002 \u7D9A\u884C\u3057\u307E\u3059\u304B\uFF1F",overwriteUnsavedChangesConfirm:"\u7D9A\u884C",validationRule:{alphanumeric:"\u4F7F\u7528\u3067\u304D\u308B\u6587\u5B57\u306F\u82F1\u6570\u5B57\u3068\u30A2\u30F3\u30C0\u30FC\u30B9\u30B3\u30A2\u306E\u307F\u3067\u3059",lowercase:"\u4F7F\u7528\u3067\u304D\u308B\u6587\u5B57\u306F\u5C0F\u6587\u5B57\u306E\u307F\u3067\u3059",required:"\u3053\u306E\u9805\u76EE\u306F\u5FC5\u9808\u3067\u3059",noEmptyFolderNames:"\u30D5\u30A9\u30EB\u30C0\u540D\u3092\u7A7A\u306B\u3059\u308B\u3053\u3068\u306F\u3067\u304D\u307E\u305B\u3093"}},deleteProject:{confirm:"\u524A\u9664",description:"\u3053\u306E\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u524A\u9664\u3057\u3066\u3082\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F"},socials:{title:"\u30BD\u30FC\u30B7\u30E3\u30EB",content:"Twitter, Github \u3092\u30C1\u30A7\u30C3\u30AF\u3057\u3066 bridge. \u516C\u5F0F\u306E Discord \u30B5\u30FC\u30D0\u30FC\u306B\u53C2\u52A0\u3057\u3066\u304F\u3060\u3055\u3044\uFF01",discord:"Discord",twitter:"Twitter",github:"Github"},projectChooser:{title:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u9078\u629E",description:"\u73FE\u5728\u30A2\u30AF\u30C6\u30A3\u30D6\u306A\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u9078\u629E\u3057\u307E\u3059",searchProjects:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306E\u691C\u7D22...",newProject:{name:"\u65B0\u898F\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8",description:"\u65B0\u3057\u3044 bridge. \u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u4F5C\u6210\u3057\u307E\u3059\u3002"},saveCurrentProject:{name:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306E\u4FDD\u5B58",description:"\u73FE\u5728\u306E\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092 .brproject \u30D5\u30A1\u30A4\u30EB\u3068\u3057\u3066\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u3057\u884C\u3063\u305F\u5909\u66F4\u3092\u4FDD\u5B58\u3059\u308B\u3053\u3068\u304C\u3067\u304D\u307E\u3059\u3002"},openNewProject:{name:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u958B\u304F",description:" .brproject \u30D5\u30A1\u30A4\u30EB\u3092\u9078\u629E\u3057\u3066\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u958B\u304D\u307E\u3059\u3002",saveCurrentProject:"\u65B0\u3057\u3044\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u8AAD\u307F\u8FBC\u3080\u524D\u306B\u73FE\u5728\u306E\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u4FDD\u5B58\u3057\u307E\u3059\u304B\uFF1F"},wrongFileType:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306F .brproject \u307E\u305F\u306F .mcaddon \u30D5\u30A1\u30A4\u30EB\u3067\u306A\u3051\u308C\u3070\u306A\u308A\u307E\u305B\u3093\u3002",addPack:"\u30D1\u30C3\u30AF\u306E\u8FFD\u52A0"},filePath:{title:"\u30D5\u30A1\u30A4\u30EB\u30D1\u30B9\u306E\u9078\u629E"},packExplorer:{title:"\u30D1\u30C3\u30AF\u30A8\u30AF\u30B9\u30D7\u30ED\u30FC\u30E9\u30FC",searchFiles:"\u30D5\u30A1\u30A4\u30EB\u306E\u691C\u7D22...",categories:"\u30AB\u30C6\u30B4\u30EA\u30FC",refresh:{name:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306E\u518D\u8AAD\u307F\u8FBC\u307F",description:"\u65B0\u3057\u304F\u8FFD\u52A0\u3055\u308C\u305F\u30D5\u30A1\u30A4\u30EB\u306E\u305F\u3081\u306B\u73FE\u5728\u306E\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u518D\u8AAD\u307F\u8FBC\u307F\u3059\u307E\u3059"},restartDevServer:{name:"\u958B\u767A\u30B5\u30FC\u30D0\u30FC\u306E\u518D\u8D77\u52D5",description:"\u30B3\u30F3\u30D1\u30A4\u30E9\u306E\u958B\u767A\u30B5\u30FC\u30D0\u30FC\u3092\u518D\u8D77\u52D5\u3057\u3066\u3082\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306E\u898F\u6A21\u306B\u3088\u3063\u3066\u306F\u6642\u9593\u304C\u304B\u304B\u308B\u5834\u5408\u304C\u3042\u308A\u307E\u3059\u3002"},createPreset:"\u65B0\u898F\u30D5\u30A1\u30A4\u30EB",projectConfig:{name:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u8A2D\u5B9A\u3092\u958B\u304F",missing:"\u3053\u306E\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306B\u306F config.json \u30D5\u30A1\u30A4\u30EB\u304C\u306A\u3044\u3088\u3046\u306B\u898B\u3048\u307E\u3059\u3002 \u3059\u3079\u3066\u306E\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u304C\u6B63\u5E38\u306B\u52D5\u4F5C\u3059\u308B\u305F\u3081\u306B\u306F\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306E\u30B3\u30F3\u30D5\u30A3\u30B0\u30D5\u30A1\u30A4\u30EB\u304C\u5FC5\u8981\u3067\u3059\u3002"},exportAsMcaddon:{name:".mcaddon \u3068\u3057\u3066\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8"},exportAsMctemplate:{name:".mctemplate \u3068\u3057\u3066\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8",chooseWorld:"\u30EF\u30FC\u30EB\u30C9\u3092\u9078\u629E"},exportAsMcworld:{name:".mcworld \u3068\u3057\u3066\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8",chooseWorld:"\u30EF\u30FC\u30EB\u30C9\u3092\u9078\u629E"},exportAsBrproject:{name:".brproject \u3068\u3057\u3066\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8"},fileActions:{delete:{name:"\u524A\u9664",description:"\u30D5\u30A1\u30A4\u30EB\u3084\u30D5\u30A9\u30EB\u30C0\u30FC\u306E\u524A\u9664",confirmText:"\u672C\u5F53\u306B\u524A\u9664\u3057\u307E\u3059\u304B?\u5F8C\u304B\u3089\u30D5\u30A1\u30A4\u30EB\u3092\u5FA9\u5143\u3059\u308B\u3053\u3068\u306F\u3067\u304D\u307E\u305B\u3093"},rename:{name:"\u540D\u524D\u306E\u5909\u66F4",description:"\u30D5\u30A1\u30A4\u30EB\u540D\u306E\u5909\u66F4"},duplicate:{name:"\u8907\u88FD",description:"\u30D5\u30A1\u30A4\u30EB\u3092\u8907\u88FD\u3059\u308B"},viewCompilerOutput:{name:"\u30B3\u30F3\u30D1\u30A4\u30E9\u306E\u51FA\u529B\u8868\u793A",description:"\u3053\u306E\u30D5\u30A1\u30A4\u30EB\u306E\u30B3\u30F3\u30D1\u30A4\u30E9\u51FA\u529B\u3092\u8868\u793A\u3059\u308B",fileMissing:"\u3053\u306E\u30D5\u30A1\u30A4\u30EB\u306F\u307E\u3060\u30B3\u30F3\u30D1\u30A4\u30EB\u3055\u308C\u3066\u3044\u306A\u3044\u3088\u3046\u3067\u3059"},revealFilePath:{name:"\u30D5\u30A1\u30A4\u30EB\u30D1\u30B9\u306E\u8868\u793A",description:"\u30D5\u30A1\u30A4\u30EB\u3084\u30D5\u30A9\u30EB\u30C0\u30FC\u306E\u30D1\u30B9\u3092\u8868\u793A\u3059\u308B"},createFile:{name:"\u65B0\u3057\u3044\u30D5\u30A1\u30A4\u30EB",description:"\u65B0\u898F\u30D5\u30A1\u30A4\u30EB\u4F5C\u6210"},createFolder:{name:"\u65B0\u3057\u3044\u30D5\u30A9\u30EB\u30C0",description:"\u65B0\u898F\u30D5\u30A9\u30EB\u30C0\u4F5C\u6210"}}},settings:{title:"\u8A2D\u5B9A",searchSettings:"\u8A2D\u5B9A\u306E\u691C\u7D22...",sidebar:{name:"\u30B5\u30A4\u30C9\u30D0\u30FC",sidebarRight:{name:"\u30B5\u30A4\u30C9\u30D0\u30FC\u3092\u53F3\u5074\u3078",description:"\u30B5\u30A4\u30C9\u30D0\u30FC\u3092\u753B\u9762\u306E\u53F3\u5074\u306B\u79FB\u52D5\u3057\u307E\u3059"},sidebarSize:{name:"\u30B5\u30A4\u30C9\u30D0\u30FC\u306E\u5927\u304D\u3055",description:"\u5C55\u958B\u3055\u308C\u305F\u30B5\u30A4\u30C9\u30D0\u30FC\u9818\u57DF\u306E\u5E45\u3092\u5909\u66F4\u3057\u307E\u3059"},shrinkSidebarElements:{name:"\u30B5\u30A4\u30C9\u30D0\u30FC\u8981\u7D20\u3092\u7E2E\u5C0F\u3059\u308B",description:"bridge. \u306E\u30B5\u30A4\u30C9\u30D0\u30FC\u8981\u7D20\u306E\u30B5\u30A4\u30BA\u3092\u7E2E\u5C0F\u3057\u307E\u3059"}},appearance:{name:"\u5916\u89B3",colorScheme:{name:"\u914D\u8272",description:"bridge. \u306EUI\u914D\u8272\u3092\u8A2D\u5B9A\u3057\u307E\u3059"},darkTheme:{name:"\u30C0\u30FC\u30AF\u30C6\u30FC\u30DE",description:"bridge. \u304C\u4F7F\u7528\u3059\u308B\u30C7\u30D5\u30A9\u30EB\u30C8\u306E\u30C0\u30FC\u30AF\u30C6\u30FC\u30DE\u3092\u9078\u629E\u3057\u307E\u3059"},lightTheme:{name:"\u30E9\u30A4\u30C8\u30C6\u30FC\u30DE",description:"bridge. \u304C\u4F7F\u7528\u3059\u308B\u30C7\u30D5\u30A9\u30EB\u30C8\u306E\u30E9\u30A4\u30C8\u30C6\u30FC\u30DE\u3092\u9078\u629E\u3057\u307E\u3059"},localDarkTheme:{name:"\u30ED\u30FC\u30AB\u30EB\u30C0\u30FC\u30AF\u30C6\u30FC\u30DE",description:"\u73FE\u5728\u30A2\u30AF\u30C6\u30A3\u30D6\u306A\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306E\u30C0\u30FC\u30AF\u30C6\u30FC\u30DE\u3092\u9078\u629E\u3057\u307E\u3059"},localLightTheme:{name:"\u30ED\u30FC\u30AB\u30EB\u30E9\u30A4\u30C8\u30C6\u30FC\u30DE",description:"\u73FE\u5728\u30A2\u30AF\u30C6\u30A3\u30D6\u306A\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306E\u30E9\u30A4\u30C8\u30C6\u30FC\u30DE\u3092\u9078\u629E\u3057\u307E\u3059"},fontSize:{name:"\u30D5\u30A9\u30F3\u30C8\u30B5\u30A4\u30BA",description:"bridge. \u306E\u6587\u5B57\u30B5\u30A4\u30BA\u3092\u5909\u66F4\u3057\u307E\u3059"},editorFontSize:{name:"\u30B3\u30FC\u30C9\u30D5\u30A9\u30F3\u30C8\u30B5\u30A4\u30BA",description:"bridge. \u306E\u30B3\u30FC\u30C9\u30A8\u30C7\u30A3\u30BF\u306E\u30D5\u30A9\u30F3\u30C8\u30B5\u30A4\u30BA\u3092\u5909\u66F4\u3057\u307E\u3059"},editorFont:{name:"\u30B3\u30FC\u30C9\u30D5\u30A9\u30F3\u30C8",description:"bridge. \u306E\u30B3\u30FC\u30C9\u30A8\u30C7\u30A3\u30BF\u306E\u30D5\u30A9\u30F3\u30C8\u3092\u5909\u66F4\u3057\u307E\u3059"},font:{name:"\u30D5\u30A9\u30F3\u30C8",description:"bridge. \u306E\u30E6\u30FC\u30B6\u30FC\u30A4\u30F3\u30BF\u30FC\u30D5\u30A7\u30FC\u30B9\u5185\u3067\u4F7F\u7528\u3055\u308C\u3066\u3044\u308B\u30D5\u30A9\u30F3\u30C8\u3092\u5909\u66F4\u3057\u307E\u3059"}},general:{name:"\u4E00\u822C",language:{name:"\u8A00\u8A9E",description:"bridge. \u304C\u4F7F\u7528\u3059\u308B\u8A00\u8A9E\u3092\u9078\u629E\u3057\u307E\u3059"},collaborativeMode:{name:"\u30B3\u30E9\u30DC\u30EC\u30FC\u30B7\u30E7\u30F3\u30E2\u30FC\u30C9",description:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306E\u5207\u308A\u66FF\u3048\u6642\u306B\u30AD\u30E3\u30C3\u30B7\u30E5\u3092\u5F37\u5236\u7684\u306B\u518D\u8AAD\u307F\u8FBC\u307F\u3057\u307E\u3059\u3002 1 \u4EBA\u3067\u4F5C\u696D\u3057\u3066\u3044\u3066\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306E\u7DE8\u96C6\u306B\u306E\u307F bridge. \u3092\u4F7F\u7528\u3059\u308B\u5834\u5408\u306F\u7121\u52B9\u306B\u3057\u307E\u3059\u3002"},packSpider:{name:"Pack Spider",description:"Pack Spider \u306F\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u5185\u306E\u30D5\u30A1\u30A4\u30EB\u3092\u63A5\u7D9A\u3057\u3001\u305D\u306E\u63A5\u7D9A\u3092\u4EEE\u60F3\u30D5\u30A1\u30A4\u30EB\u30B7\u30B9\u30C6\u30E0\u3067\u8868\u793A\u3057\u307E\u3059\u3002"},formatOnSave:{name:"\u4FDD\u5B58\u6642\u306E\u30D5\u30A9\u30FC\u30DE\u30C3\u30C8",description:"\u30C6\u30AD\u30B9\u30C8\u30D5\u30A1\u30A4\u30EB\u306E\u4FDD\u5B58\u6642\u306B\u30D5\u30A9\u30FC\u30DE\u30C3\u30C8\u3092\u884C\u3044\u307E\u3059"},openLinksInBrowser:{name:"\u30EA\u30F3\u30AF\u3092\u30C7\u30D5\u30A9\u30EB\u30C8\u306E\u30D6\u30E9\u30A6\u30B6\u3067\u958B\u304F",description:"\u30CD\u30A4\u30C6\u30A3\u30D6\u30A2\u30D7\u30EA\u306E\u30A6\u30A3\u30F3\u30C9\u30A6\u3067\u306F\u306A\u304F\u3001\u30C7\u30D5\u30A9\u30EB\u30C8\u306E\u30D6\u30E9\u30A6\u30B6\u3067\u30EA\u30F3\u30AF\u3092\u958B\u304D\u307E\u3059"},restoreTabs:{name:"\u30BF\u30D6\u306E\u5FA9\u5143",description:"\u30A2\u30D7\u30EA\u3092\u8D77\u52D5\u3059\u308B\u3068\u524D\u56DE bridge. \u3092\u4F7F\u7528\u3057\u305F\u3068\u304D\u306E\u30BF\u30D6\u304C\u5FA9\u5143\u3055\u308C\u307E\u3059\u3002"},resetBridgeFolder:{name:"\u30EB\u30FC\u30C8\u30D5\u30A9\u30EB\u30C0\u306E\u9078\u629E",description:"bridge. \u304C\u52D5\u4F5C\u3059\u308B\u30E1\u30A4\u30F3\u30D5\u30A9\u30EB\u30C0\u3092\u9078\u629E\u3057\u307E\u3059"},openProjectChooserOnAppStartup:{name:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u9078\u629E\u3092\u958B\u304F",description:"bridge. \u306E\u8D77\u52D5\u6642\u306B\u81EA\u52D5\u7684\u306B\u300C\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u9078\u629E\u300D\u3092\u958B\u304F\u3088\u3046\u306B\u3057\u307E\u3059\u3002"}},developer:{name:"\u958B\u767A\u8005",simulateOS:{name:"OS\u30B7\u30DF\u30E5\u30EC\u30FC\u30C8",description:"\u7570\u306A\u308BOS\u3092\u30B7\u30DF\u30E5\u30EC\u30FC\u30C8\u3057\u3066\u30D7\u30E9\u30C3\u30C8\u30D5\u30A9\u30FC\u30E0\u56FA\u6709\u306E\u52D5\u4F5C\u3092\u30C6\u30B9\u30C8\u3057\u307E\u3059"},devMode:{name:"\u958B\u767A\u8005\u30E2\u30FC\u30C9",description:"\u3053\u306E\u30A2\u30D7\u30EA\u306E\u958B\u767A\u8005\u30E2\u30FC\u30C9\u3092\u6709\u52B9\u306B\u3057\u307E\u3059"}},audio:{name:"\u30AA\u30FC\u30C7\u30A3\u30AA",volume:{name:"\u30AA\u30FC\u30C7\u30A3\u30AA\u306E\u6709\u52B9\u5316",description:"\u3059\u3079\u3066\u306E bridge. \u30B5\u30A6\u30F3\u30C9\u3092\u6709\u52B9\u307E\u305F\u306F\u7121\u52B9\u306B\u3057\u307E\u3059"}},actions:{name:"\u30A2\u30AF\u30B7\u30E7\u30F3"},projects:{name:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8",defaultAuthor:{name:"\u30C7\u30D5\u30A9\u30EB\u30C8\u306E\u8457\u8005",description:"\u65B0\u3057\u3044\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306E\u30C7\u30D5\u30A9\u30EB\u30C8\u306E\u8457\u8005\u3092\u8A2D\u5B9A\u3057\u307E\u3059"}},editor:{name:"\u30A8\u30C7\u30A3\u30BF",jsonEditor:{name:"JSON \u30A8\u30C7\u30A3\u30BF",description:"JSON\u30D5\u30A1\u30A4\u30EB\u306E\u7DE8\u96C6\u65B9\u6CD5\u3092\u9078\u629E\u3057\u307E\u3059"},bracketPairColorization:{name:"\u30D6\u30E9\u30B1\u30C3\u30C8\u30DA\u30A2\u306E\u30AB\u30E9\u30FC\u30EA\u30F3\u30B0",description:"\u5BFE\u306B\u306A\u3063\u3066\u3044\u308B\u30D6\u30E9\u30B1\u30C3\u30C8\u306B\u8272\u3092\u3064\u3051\u307E\u3059"},wordWrap:{name:"\u30EF\u30FC\u30C9\u30E9\u30C3\u30D7",description:"\u6C34\u5E73\u65B9\u5411\u306E\u30B9\u30AF\u30ED\u30FC\u30EB\u3092\u7121\u52B9\u306B\u3059\u308B\u305F\u3081\u306B\u5358\u8A9E\u3092\u6298\u308A\u8FD4\u3057\u307E\u3059"},wordWrapColumns:{name:"\u6298\u308A\u8FD4\u3057\u6587\u5B57\u6570",description:"\u30A8\u30C7\u30A3\u30BF\u304C\u4F55\u6587\u5B57\u76EE\u3067\u6298\u308A\u8FD4\u3059\u304B\u8A2D\u5B9A\u3057\u307E\u3059"},compactTabDesign:{name:"\u30B3\u30F3\u30D1\u30AF\u30C8\u306A\u30BF\u30D6",description:"\u30BF\u30D6\u3092\u3088\u308A\u30B3\u30F3\u30D1\u30AF\u30C8\u306B\u8868\u793A\u3057\u307E\u3059"},automaticallyOpenTreeNodes:{name:"\u30C4\u30EA\u30FC\u306E\u30CE\u30FC\u30C9\u3092\u81EA\u52D5\u7684\u306B\u958B\u304F",description:"bridge. \u306E\u30C4\u30EA\u30FC\u30A8\u30C7\u30A3\u30BF\u3067\u30CE\u30FC\u30C9\u3092\u9078\u629E\u3059\u308B\u3068\u81EA\u52D5\u7684\u306B\u30CE\u30FC\u30C9\u3092\u958B\u304D\u307E\u3059"},dragAndDropTreeNodes:{name:"\u30C4\u30EA\u30FC\u30CE\u30FC\u30C9\u306E\u30C9\u30E9\u30C3\u30B0\uFF06\u30C9\u30ED\u30C3\u30D7",description:"bridge. \u306E\u30C4\u30EA\u30FC\u30A8\u30C7\u30A3\u30BF\u5185\u3067\u306E\u30C4\u30EA\u30FC\u30CE\u30FC\u30C9\u306E\u30C9\u30E9\u30C3\u30B0\uFF06\u30C9\u30ED\u30C3\u30D7\u3092\u6709\u52B9\u307E\u305F\u306F\u7121\u52B9\u306B\u3057\u307E\u3059"}}},projectFolder:{title:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u30D5\u30A9\u30EB\u30C0",content:"bridge. \u304C\u6B63\u5E38\u306B\u52D5\u4F5C\u3059\u308B\u305F\u3081\u306B\u306F\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u30D5\u30A9\u30EB\u30C0\u306B\u30A2\u30AF\u30BB\u30B9\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002"},extensionStore:{title:"\u62E1\u5F35\u6A5F\u80FD\u30B9\u30C8\u30A2",searchExtensions:"\u62E1\u5F35\u6A5F\u80FD\u3092\u691C\u7D22...",deleteExtension:"\u62E1\u5F35\u6A5F\u80FD\u3092\u524A\u9664",activateExtension:"\u62E1\u5F35\u6A5F\u80FD\u306E\u6709\u52B9\u5316",deactivateExtension:"\u62E1\u5F35\u6A5F\u80FD\u306E\u7121\u52B9\u5316",offlineError:"\u62E1\u5F35\u6A5F\u80FD\u306E\u8AAD\u307F\u8FBC\u307F\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002 \u304A\u4F7F\u3044\u306E\u6A5F\u5668\u304C\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF\u306B\u63A5\u7D9A\u3055\u308C\u3066\u3044\u308B\u3053\u3068\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002",compilerPluginDownload:{compilerPlugins:"\u30B3\u30F3\u30D1\u30A4\u30E9\u30D7\u30E9\u30B0\u30A4\u30F3",title:"\u30B3\u30F3\u30D1\u30A4\u30E9\u30D7\u30E9\u30B0\u30A4\u30F3\u3092\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9",description:"\u65B0\u3057\u3044\u30B3\u30F3\u30D1\u30A4\u30E9\u30D7\u30E9\u30B0\u30A4\u30F3\u3092\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u3057\u307E\u3057\u305F\u3002 \u30B3\u30F3\u30D1\u30A4\u30E9\u30B3\u30F3\u30D5\u30A3\u30B0\u30D5\u30A1\u30A4\u30EB\u306B\u3053\u306E\u30D7\u30E9\u30B0\u30A4\u30F3\u3092\u8FFD\u52A0\u3057\u3066\u304F\u3060\u3055\u3044\u3002",openConfig:"\u30B3\u30F3\u30D5\u30A3\u30B0\u3092\u958B\u304F"}},pluginInstallLocation:{title:"\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u5148\u306E\u9078\u629E"},unsavedFile:{description:"\u3053\u306E\u30D5\u30A1\u30A4\u30EB\u3092\u9589\u3058\u308B\u524D\u306B\u5909\u66F4\u5185\u5BB9\u3092\u4FDD\u5B58\u3057\u307E\u3059\u304B\uFF1F",save:"\u4FDD\u5B58\u3057\u3066\u9589\u3058\u308B"},browserUnsupported:{title:"\u672A\u5BFE\u5FDC\u306E\u30D6\u30E9\u30A6\u30B6",description:"bridge. v2 \u3092\u3088\u308A\u5FEB\u9069\u306B\u3054\u5229\u7528\u3044\u305F\u3060\u304F\u305F\u3081\u306B\u306F Chrome\uFF08Desktop\uFF09 \u307E\u305F\u306F Edge\uFF08Chromium\uFF09 \u3092\u3054\u5229\u7528\u304F\u3060\u3055\u3044\u3002 \u304A\u4F7F\u3044\u306E\u30D6\u30E9\u30A6\u30B6\u306F\u30D5\u30A1\u30A4\u30EB\u3092\u76F4\u63A5\u4FDD\u5B58\u3057\u305F\u308A\u3001\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092 com.mojang \u30D5\u30A9\u30EB\u30C0\u306B\u540C\u671F\u3059\u308B\u3053\u3068\u3092\u30B5\u30DD\u30FC\u30C8\u3057\u3066\u3044\u307E\u305B\u3093\u3002",continue:"\u7D9A\u884C"},invalidJson:{title:"\u7121\u52B9\u306A JSON",description:"bridge. \u306E\u30C4\u30EA\u30FC\u30A8\u30C7\u30A3\u30BF\u3067\u7121\u52B9\u306A JSON \u30D5\u30A1\u30A4\u30EB\u3092\u958B\u304F\u3053\u3068\u306F\u3067\u304D\u307E\u305B\u3093\u3002 \u3053\u306E\u554F\u984C\u3092\u89E3\u6C7A\u3059\u308B\u306B\u306F\u8A2D\u5B9A\u3067 JSON \u30A8\u30C7\u30A3\u30BF\u30BF\u30A4\u30D7\u3092\u300CRaw Text\u300D\u306B\u5207\u308A\u66FF\u3048\u3066\u624B\u52D5\u3067\u4FEE\u6B63\u3057\u3066\u304F\u3060\u3055\u3044\u3002"},loadingWindow:{titles:{loading:"\u8AAD\u307F\u8FBC\u307F\u4E2D..."}}},taskManager:{tasks:{packIndexing:{title:"\u30D1\u30C3\u30AF\u306E\u30A4\u30F3\u30C7\u30C3\u30AF\u30B9\u4F5C\u6210\u4E2D",description:"bridge. \u306F\u30A4\u30F3\u30C6\u30EA\u30B8\u30A7\u30F3\u30C8\u6A5F\u80FD\u306B\u5FC5\u8981\u306A\u30D1\u30C3\u30AF\u306E\u30C7\u30FC\u30BF\u3092\u53CE\u96C6\u3057\u3066\u3044\u307E\u3059"},compiler:{title:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306E\u30B3\u30F3\u30D1\u30A4\u30EB\u4E2D",description:"bridge. \u306F Minecraft \u306B\u30A4\u30F3\u30DD\u30FC\u30C8\u3067\u304D\u308B\u3088\u3046\u306B\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u30B3\u30F3\u30D1\u30A4\u30EB\u3057\u3066\u3044\u307E\u3059"},unzipper:{name:"ZIP\u306E\u89E3\u51CD\u4E2D",description:"bridge. \u306F ZIP \u30D5\u30A1\u30A4\u30EB\u3092\u89E3\u51CD\u3057\u3066\u3044\u307E\u3059"},loadingSchemas:{name:"\u30AA\u30FC\u30C8\u30B3\u30F3\u30D7\u30EA\u30FC\u30C8\u306E\u8AAD\u307F\u8FBC\u307F\u4E2D",description:"bridge. \u306E\u81EA\u52D5\u88DC\u5B8C\u7528\u30C7\u30FC\u30BF\u3092\u8AAD\u307F\u8FBC\u3093\u3067\u3044\u307E\u3059"}}},fileDropper:{importFiles:"\u30D5\u30A1\u30A4\u30EB\u3092\u30C9\u30ED\u30C3\u30D7\u3059\u308B\u3068\u30A4\u30F3\u30DD\u30FC\u30C8\u3055\u308C\u307E\u3059!",importFailed:"bridge. \u306F\u30D5\u30A1\u30A4\u30EB\u3092\u30A4\u30F3\u30DD\u30FC\u30C8\u3059\u308B\u3053\u3068\u304C\u3067\u304D\u307E\u305B\u3093\u3067\u3057\u305F",andMore:"...and more!",importMethod:"\u30A4\u30F3\u30DD\u30FC\u30C8\u65B9\u6CD5",saveToProject:{title:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3078\u306E\u4FDD\u5B58",description1:"",description2:"\u3092\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u5185\u306B\u4FDD\u5B58\u3057\u307E\u3059"},openFile:{title:"\u30D5\u30A1\u30A4\u30EB\u3092\u958B\u304F",description1:"",description2:"\u3092\u958B\u304D\u7DE8\u96C6\u3057\u305F\u5185\u5BB9\u3092\u5143\u306E\u30D5\u30A1\u30A4\u30EB\u306B\u4FDD\u5B58\u3057\u307E\u3059"}},comMojang:{folderDropped:"\u3053\u306E\u30D5\u30A9\u30EB\u30C0\u3092\u30C7\u30D5\u30A9\u30EB\u30C8\u306E com.mojang \u30D5\u30A9\u30EB\u30C0\u3068\u3057\u3066\u8A2D\u5B9A\u3057\u307E\u3059\u304B\uFF1F",title:"com.mojang \u30D5\u30A9\u30EB\u30C0\u3078\u306E\u30A2\u30AF\u30BB\u30B9",permissionRequest:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u30B3\u30F3\u30D1\u30A4\u30EB\u3059\u308B\u306B\u306F com.mojang \u30D5\u30A9\u30EB\u30C0\u306B\u30A2\u30AF\u30BB\u30B9\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059",status:{sucess:"com.mojang \u3078\u306E\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306E\u540C\u671F\u8A2D\u5B9A\u306F\u6B63\u3057\u304F\u8A2D\u5B9A\u3055\u308C\u3066\u3044\u307E\u3059\u3002",deniedPermission:"com.mojang \u3078\u306E\u30D5\u30A9\u30EB\u30C0\u30A2\u30AF\u30BB\u30B9\u6A29\u9650\u304C\u4E0E\u3048\u3089\u308C\u3066\u3044\u307E\u305B\u3093",notSetup:"com.mojang \u3078\u306E\u540C\u671F\u8A2D\u5B9A\u3092\u8A2D\u5B9A\u3057\u3066\u3044\u307E\u305B\u3093\u3002",notAvailable:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092 com.mojang \u30D5\u30A9\u30EB\u30C0\u306B\u540C\u671F\u3059\u308B\u6A5F\u80FD\u306F Chrome \u3068 Edge \u30E6\u30FC\u30B6\u30FC\u306E\u307F\u5229\u7528\u53EF\u80FD\u3067\u3059\u3002"}},findAndReplace:{name:"\u691C\u7D22\u3068\u7F6E\u63DB",search:"\u691C\u7D22",replace:"\u7F6E\u63DB",replaceAll:"\u3059\u3079\u3066\u7F6E\u63DB",noResults:"\u8A72\u5F53\u3059\u308B\u7D50\u679C\u306F\u3042\u308A\u307E\u305B\u3093\u3067\u3057\u305F",noSearch:"\u5165\u529B\u3092\u958B\u59CB\u3059\u308B\u3068\u691C\u7D22\u30AF\u30A8\u30EA\u306E\u7D50\u679C\u304C\u3053\u3053\u306B\u8868\u793A\u3055\u308C\u307E\u3059\u3002"},preview:{name:"\u30D7\u30EC\u30D3\u30E5\u30FC",viewAnimation:"\u30A2\u30CB\u30E1\u30FC\u30B7\u30E7\u30F3\u306E\u8868\u793A",viewModel:"\u30E2\u30C7\u30EB\u306E\u8868\u793A",viewParticle:"\u30D1\u30FC\u30C6\u30A3\u30AF\u30EB\u306E\u8868\u793A",viewEntity:"\u30A8\u30F3\u30C6\u30A3\u30C6\u30A3\u306E\u8868\u793A",viewBlock:"\u30D6\u30ED\u30C3\u30AF\u306E\u8868\u793A",failedClientEntityLoad:"\u63A5\u7D9A\u3055\u308C\u3066\u3044\u308B\u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u30A8\u30F3\u30C6\u30A3\u30C6\u30A3\u306E\u8AAD\u307F\u8FBC\u307F\u306B\u5931\u6557\u3057\u307E\u3057\u305F",invalidEntity:"\u7121\u52B9\u306A JSON \u3092\u6301\u3064\u30A8\u30F3\u30C6\u30A3\u30C6\u30A3\u306E\u30D7\u30EC\u30D3\u30E5\u30FC\u3092\u958B\u304F\u3053\u3068\u304C\u3067\u304D\u307E\u305B\u3093\u3002 \u30D5\u30A1\u30A4\u30EB\u5185\u306E JSON \u30A8\u30E9\u30FC\u3092\u4FEE\u6B63\u3057\u3066\u304B\u3089\u518D\u5EA6\u304A\u8A66\u3057\u304F\u3060\u3055\u3044\u3002",chooseGeometry:"\u30B8\u30AA\u30E1\u30C8\u30EA\u306E\u9078\u629E",noGeometry:"\u3053\u306E\u30D5\u30A1\u30A4\u30EB\u5185\u306B\u6709\u52B9\u306A\u30B8\u30AA\u30E1\u30C8\u30EA\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3002 JSON \u304C\u6709\u52B9\u3067\u3042\u308B\u3053\u3068\u3001\u30D5\u30A1\u30A4\u30EB\u69CB\u9020\u304C\u6B63\u3057\u3044\u3053\u3068\u3001\u304A\u3088\u3073\u6307\u5B9A\u3055\u308C\u305F\u8B58\u5225\u5B50\u3092\u6301\u3064\u30B8\u30AA\u30E1\u30C8\u30EA\u304C\u5B58\u5728\u3059\u308B\u3053\u3068\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002"},initialSetup:{welcome:"\u3088\u3046\u3053\u305D bridge. v2 \u3078!",welcomeCaption:"Minecraft \u30A2\u30C9\u30AA\u30F3\u306E\u305F\u3081\u306E\u5F37\u529B\u306A \u7D71\u5408\u958B\u767A\u74B0\u5883",step:{installApp:{name:"bridge. \u3092\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB",description:"\u6700\u9AD8\u306E\u4F53\u9A13\u3092\u3059\u308B\u305F\u3081\u306B\u306F bridge. v2\u3092\u30A2\u30D7\u30EA\u3068\u3057\u3066\u30B3\u30F3\u30D4\u30E5\u30FC\u30BF\u306B\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u3057\u3066\u304F\u3060\u3055\u3044\u3002"},bridge:{name:"bridge. \u30D5\u30A9\u30EB\u30C0",description:"bridge. \u304C\u30A2\u30D7\u30EA\u95A2\u9023\u306E\u30C7\u30FC\u30BF\u3084\u30A2\u30C9\u30AA\u30F3\u306E\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u4FDD\u5B58\u3067\u304D\u308B\u30D5\u30A9\u30EB\u30C0\u3092\u4F5C\u6210\u3057\u3066\u304F\u3060\u3055\u3044\u3002"},bridgeProject:{name:"bridge. \u30D7\u30ED\u30B8\u30A7\u30AF\u30C8",description:"\u65B0\u3057\u3044\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u4F5C\u6210\u3057\u305F\u3044\u3067\u3059\u304B\uFF1F\u305D\u308C\u3068\u3082\u65E2\u5B58\u306E\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092 .brproject \u30D5\u30A1\u30A4\u30EB\u304B\u3089\u30A4\u30F3\u30DD\u30FC\u30C8\u3057\u307E\u3059\u304B\uFF1F",createNew:{name:"\u65B0\u898F\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8",description:"\u65B0\u898F\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u4F5C\u6210\u3057\u307E\u3059\u3002"},importExisting:{name:"\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306E\u30A4\u30F3\u30DD\u30FC\u30C8",description:"\u65E2\u5B58\u306E\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u30A4\u30F3\u30DD\u30FC\u30C8\u3057\u307E\u3059\u3002"}},comMojang:{name:"com.mojang \u30D5\u30A9\u30EB\u30C0",description:"com.mojang \u30D5\u30A9\u30EB\u30C0\u3092 bridge. \u306B\u30C9\u30E9\u30C3\u30B0\u3057\u3066\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3068\u306E\u540C\u671F\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002 \u3053\u308C\u306B\u3088\u308A Minecraft for Windows 10 \u306E\u4E2D\u3067\u30A2\u30C9\u30AA\u30F3\u306B\u81EA\u52D5\u7684\u306B\u30A2\u30AF\u30BB\u30B9\u3067\u304D\u308B\u3088\u3046\u306B\u306A\u308A\u307E\u3059\u3002 com.mojang \u306E\u540C\u671F\u8A2D\u5B9A\u306F bridge. \u3092\u958B\u3044\u3066\u3044\u308B\u9593\u3044\u3064\u3067\u3082\u884C\u3048\u307E\u3059\u3002",extraDescription:"com.mojang \u30D5\u30A9\u30EB\u30C0\u3092 bridge. \u306B\u30C9\u30E9\u30C3\u30B0\u3057\u307E\u3059\u3002"},editorType:{name:"\u30A8\u30C7\u30A3\u30BF\u30FC\u30BF\u30A4\u30D7\u306E\u9078\u629E",description:"JSON \u30D5\u30A1\u30A4\u30EB\u3092\u3069\u306E\u3088\u3046\u306B\u7DE8\u96C6\u3057\u307E\u3059\u304B\uFF1F \u3042\u3068\u3067\u8A2D\u5B9A\u3092\u5909\u66F4\u3059\u308B\u3053\u3068\u3082\u3067\u304D\u307E\u3059\u3002",rawText:{name:"Raw Text",description:"JSON \u3092\u751F\u306E\u30C6\u30AD\u30B9\u30C8\u3068\u3057\u3066\u7DE8\u96C6\u3059\u308B\u3053\u3068\u304C\u3067\u304D\u307E\u3059\u3002 \u4E2D\u7D1A\u304B\u3089\u4E0A\u7D1A\u306E\u958B\u767A\u8005\u306B\u6700\u9069\u3067\u3059\u3002 \u9AD8\u5EA6\u306A\u81EA\u52D5\u88DC\u5B8C\u6A5F\u80FD\u3068JSON\u306E\u691C\u8A3C\u6A5F\u80FD\u3092\u5099\u3048\u3066\u3044\u307E\u3059\u3002"},treeEditor:{name:"Tree Editor",description:"JSON \u306E\u77E5\u8B58\u3092\u307B\u3068\u3093\u3069\u5FC5\u8981\u3068\u305B\u305A\u306B JSON \u3092\u30C4\u30EA\u30FC\u72B6\u306B\u7DE8\u96C6\u3057\u307E\u3059\u3002 \u521D\u5FC3\u8005\u3084\u4E2D\u7D1A\u8005\u306E\u30AF\u30EA\u30A8\u30A4\u30BF\u30FC\u306B\u6700\u9069\u3067\u3059\u3002"}}}},editors:{treeEditor:{addObject:"\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\u306E\u8FFD\u52A0",addArray:"\u914D\u5217\u306E\u8FFD\u52A0",addValue:"\u5024\u306E\u8FFD\u52A0",edit:"\u7DE8\u96C6"}}});De.use(Qn);De.config.productionTip=!1;const rb=new Qn({lang:{locales:{nl:tb,de:eb,en:YC,ko:ib,zhTW:nb,ja:sb}},breakpoint:{mobileBreakpoint:"xs"},theme:{dark:!0,options:{customProperties:!0,variations:!1},themes:{dark:{primary:"#0073FF",secondary:"#0073FF",accent:"#0073FF",background:"#121212",sidebarNavigation:"#1F1F1F",expandedSidebar:"#1F1F1F",menu:"#424242",footer:"#111111",tooltip:"#1F1F1F"},light:{primary:"#0073FF",secondary:"#0073FF",accent:"#0073FF",background:"#fafafa",sidebarNavigation:"#FFFFFF",expandedSidebar:"#FFFFFF",tooltip:"#424242",toolbar:"#e0e0e0",footer:"#f5f5f5"}}}}),Do=new De({vuetify:rb,render:t=>t(ZC)});Do.$mount("#app");self.MonacoEnvironment={getWorker(t,e){return e==="json"?new hu:e==="css"||e==="scss"||e==="less"?new mu:e==="html"||e==="handlebars"||e==="razor"?new fu:e==="typescript"||e==="javascript"?new gu:new wu}};l.main(Do);
