(function(){"use strict";const $e=Symbol("Comlink.proxy"),bu=Symbol("Comlink.endpoint"),Su=Symbol("Comlink.releaseProxy"),de=Symbol("Comlink.thrown"),Le=t=>typeof t=="object"&&t!==null||typeof t=="function",_u={canHandle:t=>Le(t)&&t[$e],serialize(t){const{port1:e,port2:u}=new MessageChannel;return ge(t,e),[u,[u]]},deserialize(t){return t.start(),xu(t)}},Pu={canHandle:t=>Le(t)&&de in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},Y=new Map([["proxy",_u],["throw",Pu]]);function ge(t,e=self){e.addEventListener("message",function u(r){if(!r||!r.data)return;const{id:i,type:s,path:n}=Object.assign({path:[]},r.data),D=(r.data.argumentList||[]).map(K);let o;try{const c=n.slice(0,-1).reduce((l,p)=>l[p],t),f=n.reduce((l,p)=>l[p],t);switch(s){case 0:o=f;break;case 1:c[n.slice(-1)[0]]=K(r.data.value),o=!0;break;case 2:o=f.apply(c,D);break;case 3:{const l=new f(...D);o=Nu(l)}break;case 4:{const{port1:l,port2:p}=new MessageChannel;ge(t,p),o=Tu(l,[l])}break;case 5:o=void 0;break}}catch(c){o={value:c,[de]:0}}Promise.resolve(o).catch(c=>({value:c,[de]:0})).then(c=>{const[f,l]=pe(c);e.postMessage(Object.assign(Object.assign({},f),{id:i}),l),s===5&&(e.removeEventListener("message",u),Me(e))})}),e.start&&e.start()}function Ru(t){return t.constructor.name==="MessagePort"}function Me(t){Ru(t)&&t.close()}function xu(t,e){return me(t,[],e)}function oe(t){if(t)throw new Error("Proxy has been released and is not useable")}function me(t,e=[],u=function(){}){let r=!1;const i=new Proxy(u,{get(s,n){if(oe(r),n===Su)return()=>ee(t,{type:5,path:e.map(D=>D.toString())}).then(()=>{Me(t),r=!0});if(n==="then"){if(e.length===0)return{then:()=>i};const D=ee(t,{type:0,path:e.map(o=>o.toString())}).then(K);return D.then.bind(D)}return me(t,[...e,n])},set(s,n,D){oe(r);const[o,c]=pe(D);return ee(t,{type:1,path:[...e,n].map(f=>f.toString()),value:o},c).then(K)},apply(s,n,D){oe(r);const o=e[e.length-1];if(o===bu)return ee(t,{type:4}).then(K);if(o==="bind")return me(t,e.slice(0,-1));const[c,f]=je(D);return ee(t,{type:2,path:e.map(l=>l.toString()),argumentList:c},f).then(K)},construct(s,n){oe(r);const[D,o]=je(n);return ee(t,{type:3,path:e.map(c=>c.toString()),argumentList:D},o).then(K)}});return i}function Hu(t){return Array.prototype.concat.apply([],t)}function je(t){const e=t.map(pe);return[e.map(u=>u[0]),Hu(e.map(u=>u[1]))]}const We=new WeakMap;function Tu(t,e){return We.set(t,e),t}function Nu(t){return Object.assign(t,{[$e]:!0})}function pe(t){for(const[e,u]of Y)if(u.canHandle(t)){const[r,i]=u.serialize(t);return[{type:3,name:e,value:r},i]}return[{type:0,value:t},We.get(t)||[]]}function K(t){switch(t.type){case 3:return Y.get(t.name).deserialize(t.value);case 0:return t.value}}function ee(t,e,u){return new Promise(r=>{const i=Ou();t.addEventListener("message",function s(n){!n.data||!n.data.id||n.data.id!==i||(t.removeEventListener("message",s),r(n.data))}),t.start&&t.start(),t.postMessage(Object.assign({id:i},e),u)})}function Ou(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var le,ku=new Uint8Array(16);function Iu(){if(!le&&(le=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!le))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return le(ku)}var $u=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Lu(t){return typeof t=="string"&&$u.test(t)}for(var b=[],Be=0;Be<256;++Be)b.push((Be+256).toString(16).substr(1));function Mu(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=(b[t[e+0]]+b[t[e+1]]+b[t[e+2]]+b[t[e+3]]+"-"+b[t[e+4]]+b[t[e+5]]+"-"+b[t[e+6]]+b[t[e+7]]+"-"+b[t[e+8]]+b[t[e+9]]+"-"+b[t[e+10]]+b[t[e+11]]+b[t[e+12]]+b[t[e+13]]+b[t[e+14]]+b[t[e+15]]).toLowerCase();if(!Lu(u))throw TypeError("Stringified UUID is invalid");return u}function ju(t,e,u){t=t||{};var r=t.random||(t.rng||Iu)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){u=u||0;for(var i=0;i<16;++i)e[u+i]=r[i];return e}return Mu(r)}class Wu{constructor(){this.listeners=new Set}get hasListeners(){return this.listeners.size>0}dispatch(e){this.listeners.forEach(u=>u(e))}on(e,u=!0){if(this.listeners.add(e),u)return{dispose:()=>{this.off(e)}}}off(e){this.listeners.delete(e)}once(e,u=!1){const r=i=>{e(i),this.off(r)};return this.on(r,u)}disposeListeners(){this.listeners=new Set}}class ze extends Wu{constructor(e=1){super(),this.needsToFireAmount=e,this.firedTimes=0}get fired(){return new Promise(e=>this.once(e,!1))}get hasFired(){return this.firedTimes>=this.needsToFireAmount}setFiredTimes(e){this.firedTimes=e}resetSignal(){this.data=void 0,this.firedTimes=0}dispatch(e){if(this.firedTimes<this.needsToFireAmount&&this.firedTimes++,this.data=e,this.hasFired)return super.dispatch(e)}on(e,u=!0){return this.hasFired&&e(this.data),super.on(e,u)}}function zu(){if(!(!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent))||!indexedDB.databases)return Promise.resolve();let e;return new Promise(u=>{const r=()=>indexedDB.databases().finally(u);e=setInterval(r,100),r()}).finally(()=>clearInterval(e))}function W(t){return new Promise((e,u)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>u(t.error)})}function ye(t,e){const u=zu().then(()=>{const r=indexedDB.open(t);return r.onupgradeneeded=()=>r.result.createObjectStore(e),W(r)});return(r,i)=>u.then(s=>i(s.transaction(e,r).objectStore(e)))}let we;function J(){return we||(we=ye("keyval-store","keyval")),we}function Ve(t,e=J()){return e("readonly",u=>W(u.get(t)))}function Vu(t,e,u=J()){return u("readwrite",r=>(r.put(e,t),W(r.transaction)))}function Gu(t,e=J()){return e("readwrite",u=>(t.forEach(r=>u.put(r[1],r[0])),W(u.transaction)))}function Uu(t,e=J()){return e("readonly",u=>Promise.all(t.map(r=>W(u.get(r)))))}function Ku(t,e=J()){return e("readwrite",u=>(u.delete(t),W(u.transaction)))}function Ju(t=J()){return t("readwrite",e=>(e.clear(),W(e.transaction)))}function Xu(t,e){return t("readonly",u=>(u.openCursor().onsuccess=function(){!this.result||(e(this.result),this.result.continue())},W(u.transaction)))}function Qu(t=J()){const e=[];return Xu(t,u=>e.push(u.key)).then(()=>e)}const qu=ye("virtual-fs","virtual-fs-store"),Zu=t=>Ve(t,qu);class ce{constructor(e="virtual-fs"){this.storeName=e,this.store=ye(e,`${e}-store`)}set(e,u){return Vu(e,u,this.store)}get(e){return Ve(e,this.store)}del(e){return Ku(e,this.store)}setMany(e){return Gu(e,this.store)}getMany(e){return Uu(e,this.store)}clear(){return Ju(this.store)}async has(e){return await Zu(e)!==void 0}keys(){return Qu(this.store)}}class Ge{constructor(e,u,r=[],i=ju()){this._name=u,this.basePath=r,this.uuid=i,this._idbWrapper=null,this.parent=null,this.isVirtual=!0,this.setupDone=new ze,e===null?this._idbWrapper=new ce:e instanceof ce?this._idbWrapper=e:this.parent=e}get path(){return this.parent?this.parent.path.concat(this.name):this.basePath}get hasParentContext(){return this.path.length>1}get idbKey(){return this.path.length===0?this._name:this.path.join("/")}get idbWrapper(){return this._idbWrapper===null?this.parent.idbWrapper:this._idbWrapper}get name(){return this._name}getParent(){return this.parent}async isSameEntry(e){return e.idbKey===this.idbKey}async queryPermission(e){return"granted"}async requestPermission(e){return"granted"}}const Yu=new TextEncoder,Ue=Symbol("writeMethod");class et{constructor(e){this.fileHandle=e,this.tmpData=new Uint8Array,this.cursorOffset=0,this.locked=!1}async write(e){let u;if(typeof e=="string")u=Yu.encode(e);else if(e instanceof Blob)u=await e.arrayBuffer().then(r=>new Uint8Array(r));else if("type"in e){if(e.type==="seek")return await this.seek(e.position);if(e.type==="truncate")return await this.truncate(e.size);if(e.type==="write")return e.position&&await this.seek(e.position),await this.write(e.data);throw new Error(`Unknown data type: ${e.type}`)}else ArrayBuffer.isView(e)?u=new Uint8Array(e.buffer):u=new Uint8Array(e);this.tmpData=new Uint8Array([...this.tmpData.slice(0,this.cursorOffset),...u]),this.cursorOffset=this.tmpData.length}async seek(e){this.cursorOffset=Math.floor(e)}async truncate(e){this.tmpData=this.tmpData.slice(0,e),this.cursorOffset>e&&(this.cursorOffset=e)}async close(){await this.fileHandle[Ue](this.tmpData)}async abort(){throw new Error("WriteStream was aborted")}getWriter(){}}class T extends Ge{constructor(e,u,r,i=!1,s){super(e,u,s),this.inMemory=i,this.kind="file",this.isFile=!0,this.isDirectory=!1,r?this.setup(r):this.setupDone.dispatch()}get isFileStoredInMemory(){return this.fileData!==void 0}moveData(){if(!this.fileData)throw new Error(`No file data to move to IDB for file "${this.name}"`);const e=this.fileData;return this.fileData=void 0,this.inMemory=!1,e}async setup(e){this.fileData=e;const u=this.path.join("/").startsWith("data/packages");if(this.inMemory||u&&e.length<5e4)return this.inMemory=!0,this.setupDone.dispatch();(!u||globalThis.document)&&await this.updateIdb(e),this.setupDone.dispatch()}async updateIdb(e){await this.idbWrapper.set(this.idbKey,e),this.fileData=void 0}async loadFromIdb(){if(this.fileData)return this.fileData;let e=await this.idbWrapper.get(this.idbKey);if(e===void 0)throw console.log(this.parent),new Error(`File not found: "${this.path.join("/")}"`);return e}serialize(){return{idbWrapper:this.idbWrapper.storeName,kind:"file",name:this.name,path:this.path,fileData:this.fileData}}static deserialize(e){return new T(e.idbWrapper?new ce(e.idbWrapper):null,e.name,e.fileData,e.fileData!==void 0,e.path)}async isSameEntry(e){return this.parent===null?!1:super.isSameEntry(e)}async removeSelf(e=!0){await this.idbWrapper.del(this.idbKey),this.parent&&e&&this.parent.deleteChild(this.name)}async getFile(){const e=await this.loadFromIdb();return new File([e],this.name)}async createWritable(){return new et(this)}async[Ue](e){this.inMemory?this.fileData=e:await this.updateIdb(e)}}class R extends Ge{constructor(e,u,r,i=!1,s=[]){super(e,u,s),this.children=r,this.kind="directory",this.isDirectory=!0,this.isFile=!1,this.updateIdb(i)}get isDirectoryInMemory(){return this.children!==void 0}async moveToIdb(){const e=this.allInMemoryChildren();this.idbWrapper.setMany(e.map(u=>[u.idbKey,u.moveData()]))}moveData(){if(!this.children)throw new Error(`No directory data to move to IDB for directory "${this.name}"`);const e=[...this.children.values()].map(u=>u.name);return this.children=void 0,e}allInMemoryChildren(){if(!this.children)return[];const e=[this];for(const u of this.children.values())u instanceof R?u.isDirectoryInMemory&&e.push(...u.allInMemoryChildren()):u.isFileStoredInMemory&&e.push(u);return e}async updateIdb(e=!1){e&&await this.idbWrapper.clear(),!this.children&&!await this.hasChildren()&&await this.idbWrapper.set(this.idbKey,[]),this.setupDone.dispatch()}async addChild(e){await this.has(e.name)||(this.children?this.children.set(e.name,e):await this.idbWrapper.set(this.idbKey,[...await this.fromIdb(),e.name]))}async fromIdb(){var e;return(e=await this.idbWrapper.get(this.idbKey))!=null?e:[]}async getChildren(){return this.children?[...this.children.values()]:await Promise.all((await this.fromIdb()).map(e=>this.getChild(e)).filter(e=>e!==void 0))}getChildPath(e){return this.path.concat(e).join("/")}async getChild(e){if(this.children)return this.children.get(e);if(await this.has(e)){const u=await this.idbWrapper.get(this.getChildPath(e));if(u instanceof Uint8Array)return new T(this,e);if(Array.isArray(u))return new R(this,e)}}async deleteChild(e){this.children?this.children.delete(e):await this.idbWrapper.set(this.idbKey,(await this.fromIdb()).filter(u=>u!==e))}async hasChildren(){return this.children?this.children.size>0:(await this.fromIdb()).length>0}async has(e){return this.children?this.children.has(e):(await this.fromIdb()).includes(e)}serialize(){return{idbWrapper:this.idbWrapper.storeName,kind:"directory",name:this.name,path:this.path,children:this.children?[...this.children.values()].map(e=>e.serialize()):void 0}}static deserialize(e,u=null){var i;const r=new R(u||new ce(e.idbWrapper),e.name,void 0,!1,e.path);for(const s of(i=e.children)!=null?i:[])s.kind==="directory"?r.addChild(R.deserialize(s,r)):r.addChild(new T(r,s.name,s.fileData));return r}async getDirectoryHandle(e,{create:u}={}){let r=await this.getChild(e);if(r&&r.kind==="file")throw new Error(`TypeMismatch: Expected directory with name "${e}", found file`);if(!r)if(u)r=new R(this,e,this.children?new Map:void 0),await r.setupDone.fired,await this.addChild(r);else throw new Error(`No file with the name ${e} exists in this folder`);return r}async getFileHandle(e,{create:u,initialData:r}={}){let i=await this.getChild(e);if(i&&i.kind==="directory")throw new Error(`TypeMismatch: Expected file with name "${e}", found directory`);if(!i)if(u)i=new T(this,e,r!=null?r:new Uint8Array),await i.setupDone.fired,await this.addChild(i);else throw new Error(`No file with the name ${e} exists in this folder`);return i}async removeEntry(e,{recursive:u}={}){const r=await this.getChild(e);if(r){if(r.kind==="directory"&&!u&&await r.hasChildren())throw new Error('Cannot remove directory with children without "recursive" option being set to true')}else throw new Error(`No entry with the name ${e} exists in this folder`);await r.removeSelf(),await this.deleteChild(e)}async resolve(e){const u=[e.name];let r=e.getParent();for(;r!==null&&!await r.isSameEntry(this);)u.unshift(r.name),r=r.getParent();return r===null?null:u}async removeSelf(e=!0){const u=await this.getChildren();for(const r of u)await r.removeSelf(!1);this.children||await this.idbWrapper.del(this.idbKey),this.parent&&e&&this.parent.deleteChild(this.name)}[Symbol.asyncIterator](){return this.entries()}keys(){return this.children?this.children.keys():{childNamesPromise:this.fromIdb(),[Symbol.asyncIterator](){return{i:0,childNamesPromise:this.childNamesPromise,async next(){const e=await this.childNamesPromise;return this.i<e.length?{done:!1,value:e[this.i++]}:{done:!0}}}}}}entries(){return this.children?this.children.entries():{childrenPromise:this.getChildren(),[Symbol.asyncIterator](){return{i:0,childrenPromise:this.childrenPromise,async next(){const e=await this.childrenPromise;return this.i<e.length?{done:!1,value:[e[this.i].name,e[this.i++]]}:{done:!0}}}}}}values(){return this.children?this.children.values():{childrenPromise:this.getChildren(),[Symbol.asyncIterator](){return{i:0,childrenPromise:this.childrenPromise,async next(){const e=await this.childrenPromise;return this.i<e.length?{done:!1,value:e[this.i++]}:{done:!0}}}}}}getEntries(){return this.values()}getDirectory(e,u={}){return this.getDirectoryHandle(e,u)}getFile(e,u={}){return this.getFileHandle(e,u)}}Y.set("VirtualFileHandle",{canHandle:t=>t instanceof T,serialize:t=>[t.serialize(),[]],deserialize:t=>new T(null,t.name,t.fileData)}),Y.set("VirtualDirectoryHandle",{canHandle:t=>t instanceof R,serialize:t=>[t.serialize(),[]],deserialize:t=>R.deserialize(t)}),Y.set("VirtualDirectoryHandleArray",{canHandle:t=>Array.isArray(t)&&t.every(({directory:e})=>e instanceof R),serialize:t=>[t.map(({directory:e,...u})=>({directory:e.serialize(),...u})),[]],deserialize:t=>t.map(({directory:e,...u})=>({directory:R.deserialize(e),...u}))}),Y.set("VirtualFileHandleArray",{canHandle:t=>Array.isArray(t)&&t.every(({fileHandle:e})=>e instanceof T),serialize:t=>[t.map(({fileHandle:e,...u})=>({fileHandle:e.serialize(),...u})),[]],deserialize:t=>t.map(({fileHandle:e,...u})=>({fileHandle:T.deserialize(e),...u}))});var ut=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,tt=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,rt=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,ve={Space_Separator:ut,ID_Start:tt,ID_Continue:rt},B={isSpaceSeparator(t){return typeof t=="string"&&ve.Space_Separator.test(t)},isIdStartChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="$"||t==="_"||ve.ID_Start.test(t))},isIdContinueChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="$"||t==="_"||t==="\u200C"||t==="\u200D"||ve.ID_Continue.test(t))},isDigit(t){return typeof t=="string"&&/[0-9]/.test(t)},isHexDigit(t){return typeof t=="string"&&/[0-9A-Fa-f]/.test(t)}};let be,P,k,fe,z,x,v,Se,se;var it=function(e,u){be=String(e),P="start",k=[],fe=0,z=1,x=0,v=void 0,Se=void 0,se=void 0;do v=nt(),Dt[P]();while(v.type!=="eof");return typeof u=="function"?Ke({"":se},"",u):se};function Ke(t,e,u){const r=t[e];if(r!=null&&typeof r=="object")for(const i in r){const s=Ke(r,i,u);s===void 0?delete r[i]:r[i]=s}return u.call(t,e,r)}let F,C,ae,I,h;function nt(){for(F="default",C="",ae=!1,I=1;;){h=$();const t=Je[F]();if(t)return t}}function $(){if(be[fe])return String.fromCodePoint(be.codePointAt(fe))}function a(){const t=$();return t===`
`?(z++,x=0):t?x+=t.length:x++,t&&(fe+=t.length),t}const Je={default(){switch(h){case"	":case"\v":case"\f":case" ":case"\xA0":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":a();return;case"/":a(),F="comment";return;case void 0:return a(),g("eof")}if(B.isSpaceSeparator(h)){a();return}return Je[P]()},comment(){switch(h){case"*":a(),F="multiLineComment";return;case"/":a(),F="singleLineComment";return}throw m(a())},multiLineComment(){switch(h){case"*":a(),F="multiLineCommentAsterisk";return;case void 0:throw m(a())}a()},multiLineCommentAsterisk(){switch(h){case"*":a();return;case"/":a(),F="default";return;case void 0:throw m(a())}a(),F="multiLineComment"},singleLineComment(){switch(h){case`
`:case"\r":case"\u2028":case"\u2029":a(),F="default";return;case void 0:return a(),g("eof")}a()},value(){switch(h){case"{":case"[":return g("punctuator",a());case"n":return a(),X("ull"),g("null",null);case"t":return a(),X("rue"),g("boolean",!0);case"f":return a(),X("alse"),g("boolean",!1);case"-":case"+":a()==="-"&&(I=-1),F="sign";return;case".":C=a(),F="decimalPointLeading";return;case"0":C=a(),F="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":C=a(),F="decimalInteger";return;case"I":return a(),X("nfinity"),g("numeric",1/0);case"N":return a(),X("aN"),g("numeric",NaN);case'"':case"'":ae=a()==='"',C="",F="string";return}throw m(a())},identifierNameStartEscape(){if(h!=="u")throw m(a());a();const t=_e();switch(t){case"$":case"_":break;default:if(!B.isIdStartChar(t))throw Xe();break}C+=t,F="identifierName"},identifierName(){switch(h){case"$":case"_":case"\u200C":case"\u200D":C+=a();return;case"\\":a(),F="identifierNameEscape";return}if(B.isIdContinueChar(h)){C+=a();return}return g("identifier",C)},identifierNameEscape(){if(h!=="u")throw m(a());a();const t=_e();switch(t){case"$":case"_":case"\u200C":case"\u200D":break;default:if(!B.isIdContinueChar(t))throw Xe();break}C+=t,F="identifierName"},sign(){switch(h){case".":C=a(),F="decimalPointLeading";return;case"0":C=a(),F="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":C=a(),F="decimalInteger";return;case"I":return a(),X("nfinity"),g("numeric",I*(1/0));case"N":return a(),X("aN"),g("numeric",NaN)}throw m(a())},zero(){switch(h){case".":C+=a(),F="decimalPoint";return;case"e":case"E":C+=a(),F="decimalExponent";return;case"x":case"X":C+=a(),F="hexadecimal";return}return g("numeric",I*0)},decimalInteger(){switch(h){case".":C+=a(),F="decimalPoint";return;case"e":case"E":C+=a(),F="decimalExponent";return}if(B.isDigit(h)){C+=a();return}return g("numeric",I*Number(C))},decimalPointLeading(){if(B.isDigit(h)){C+=a(),F="decimalFraction";return}throw m(a())},decimalPoint(){switch(h){case"e":case"E":C+=a(),F="decimalExponent";return}if(B.isDigit(h)){C+=a(),F="decimalFraction";return}return g("numeric",I*Number(C))},decimalFraction(){switch(h){case"e":case"E":C+=a(),F="decimalExponent";return}if(B.isDigit(h)){C+=a();return}return g("numeric",I*Number(C))},decimalExponent(){switch(h){case"+":case"-":C+=a(),F="decimalExponentSign";return}if(B.isDigit(h)){C+=a(),F="decimalExponentInteger";return}throw m(a())},decimalExponentSign(){if(B.isDigit(h)){C+=a(),F="decimalExponentInteger";return}throw m(a())},decimalExponentInteger(){if(B.isDigit(h)){C+=a();return}return g("numeric",I*Number(C))},hexadecimal(){if(B.isHexDigit(h)){C+=a(),F="hexadecimalInteger";return}throw m(a())},hexadecimalInteger(){if(B.isHexDigit(h)){C+=a();return}return g("numeric",I*Number(C))},string(){switch(h){case"\\":a(),C+=st();return;case'"':if(ae)return a(),g("string",C);C+=a();return;case"'":if(!ae)return a(),g("string",C);C+=a();return;case`
`:case"\r":throw m(a());case"\u2028":case"\u2029":ot(h);break;case void 0:throw m(a())}C+=a()},start(){switch(h){case"{":case"[":return g("punctuator",a())}F="value"},beforePropertyName(){switch(h){case"$":case"_":C=a(),F="identifierName";return;case"\\":a(),F="identifierNameStartEscape";return;case"}":return g("punctuator",a());case'"':case"'":ae=a()==='"',F="string";return}if(B.isIdStartChar(h)){C+=a(),F="identifierName";return}throw m(a())},afterPropertyName(){if(h===":")return g("punctuator",a());throw m(a())},beforePropertyValue(){F="value"},afterPropertyValue(){switch(h){case",":case"}":return g("punctuator",a())}throw m(a())},beforeArrayValue(){if(h==="]")return g("punctuator",a());F="value"},afterArrayValue(){switch(h){case",":case"]":return g("punctuator",a())}throw m(a())},end(){throw m(a())}};function g(t,e){return{type:t,value:e,line:z,column:x}}function X(t){for(const e of t){if($()!==e)throw m(a());a()}}function st(){switch($()){case"b":return a(),"\b";case"f":return a(),"\f";case"n":return a(),`
`;case"r":return a(),"\r";case"t":return a(),"	";case"v":return a(),"\v";case"0":if(a(),B.isDigit($()))throw m(a());return"\0";case"x":return a(),at();case"u":return a(),_e();case`
`:case"\u2028":case"\u2029":return a(),"";case"\r":return a(),$()===`
`&&a(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw m(a());case void 0:throw m(a())}return a()}function at(){let t="",e=$();if(!B.isHexDigit(e)||(t+=a(),e=$(),!B.isHexDigit(e)))throw m(a());return t+=a(),String.fromCodePoint(parseInt(t,16))}function _e(){let t="",e=4;for(;e-- >0;){const u=$();if(!B.isHexDigit(u))throw m(a());t+=a()}return String.fromCodePoint(parseInt(t,16))}const Dt={start(){if(v.type==="eof")throw Q();Pe()},beforePropertyName(){switch(v.type){case"identifier":case"string":Se=v.value,P="afterPropertyName";return;case"punctuator":Ae();return;case"eof":throw Q()}},afterPropertyName(){if(v.type==="eof")throw Q();P="beforePropertyValue"},beforePropertyValue(){if(v.type==="eof")throw Q();Pe()},beforeArrayValue(){if(v.type==="eof")throw Q();if(v.type==="punctuator"&&v.value==="]"){Ae();return}Pe()},afterPropertyValue(){if(v.type==="eof")throw Q();switch(v.value){case",":P="beforePropertyName";return;case"}":Ae()}},afterArrayValue(){if(v.type==="eof")throw Q();switch(v.value){case",":P="beforeArrayValue";return;case"]":Ae()}},end(){}};function Pe(){let t;switch(v.type){case"punctuator":switch(v.value){case"{":t={};break;case"[":t=[];break}break;case"null":case"boolean":case"numeric":case"string":t=v.value;break}if(se===void 0)se=t;else{const e=k[k.length-1];Array.isArray(e)?e.push(t):e[Se]=t}if(t!==null&&typeof t=="object")k.push(t),Array.isArray(t)?P="beforeArrayValue":P="beforePropertyName";else{const e=k[k.length-1];e==null?P="end":Array.isArray(e)?P="afterArrayValue":P="afterPropertyValue"}}function Ae(){k.pop();const t=k[k.length-1];t==null?P="end":Array.isArray(t)?P="afterArrayValue":P="afterPropertyValue"}function m(t){return Ce(t===void 0?`JSON5: invalid end of input at ${z}:${x}`:`JSON5: invalid character '${Qe(t)}' at ${z}:${x}`)}function Q(){return Ce(`JSON5: invalid end of input at ${z}:${x}`)}function Xe(){return x-=5,Ce(`JSON5: invalid identifier character at ${z}:${x}`)}function ot(t){console.warn(`JSON5: '${Qe(t)}' in strings is not valid ECMAScript; consider escaping`)}function Qe(t){const e={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(e[t])return e[t];if(t<" "){const u=t.charCodeAt(0).toString(16);return"\\x"+("00"+u).substring(u.length)}return t}function Ce(t){const e=new SyntaxError(t);return e.lineNumber=z,e.columnNumber=x,e}var lt=function(e,u,r){const i=[];let s="",n,D,o="",c;if(u!=null&&typeof u=="object"&&!Array.isArray(u)&&(r=u.space,c=u.quote,u=u.replacer),typeof u=="function")D=u;else if(Array.isArray(u)){n=[];for(const E of u){let d;typeof E=="string"?d=E:(typeof E=="number"||E instanceof String||E instanceof Number)&&(d=String(E)),d!==void 0&&n.indexOf(d)<0&&n.push(d)}}return r instanceof Number?r=Number(r):r instanceof String&&(r=String(r)),typeof r=="number"?r>0&&(r=Math.min(10,Math.floor(r)),o="          ".substr(0,r)):typeof r=="string"&&(o=r.substr(0,10)),f("",{"":e});function f(E,d){let A=d[E];switch(A!=null&&(typeof A.toJSON5=="function"?A=A.toJSON5(E):typeof A.toJSON=="function"&&(A=A.toJSON(E))),D&&(A=D.call(d,E,A)),A instanceof Number?A=Number(A):A instanceof String?A=String(A):A instanceof Boolean&&(A=A.valueOf()),A){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof A=="string")return l(A);if(typeof A=="number")return String(A);if(typeof A=="object")return Array.isArray(A)?H(A):p(A)}function l(E){const d={"'":.1,'"':.2},A={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let y="";for(let w=0;w<E.length;w++){const _=E[w];switch(_){case"'":case'"':d[_]++,y+=_;continue;case"\0":if(B.isDigit(E[w+1])){y+="\\x00";continue}}if(A[_]){y+=A[_];continue}if(_<" "){let ne=_.charCodeAt(0).toString(16);y+="\\x"+("00"+ne).substring(ne.length);continue}y+=_}const S=c||Object.keys(d).reduce((w,_)=>d[w]<d[_]?w:_);return y=y.replace(new RegExp(S,"g"),A[S]),S+y+S}function p(E){if(i.indexOf(E)>=0)throw TypeError("Converting circular structure to JSON5");i.push(E);let d=s;s=s+o;let A=n||Object.keys(E),y=[];for(const w of A){const _=f(w,E);if(_!==void 0){let ne=U(w)+":";o!==""&&(ne+=" "),ne+=_,y.push(ne)}}let S;if(y.length===0)S="{}";else{let w;if(o==="")w=y.join(","),S="{"+w+"}";else{let _=`,
`+s;w=y.join(_),S=`{
`+s+w+`,
`+d+"}"}}return i.pop(),s=d,S}function U(E){if(E.length===0)return l(E);const d=String.fromCodePoint(E.codePointAt(0));if(!B.isIdStartChar(d))return l(E);for(let A=d.length;A<E.length;A++)if(!B.isIdContinueChar(String.fromCodePoint(E.codePointAt(A))))return l(E);return E}function H(E){if(i.indexOf(E)>=0)throw TypeError("Converting circular structure to JSON5");i.push(E);let d=s;s=s+o;let A=[];for(let S=0;S<E.length;S++){const w=f(String(S),E);A.push(w!==void 0?w:"null")}let y;if(A.length===0)y="[]";else if(o===""){let S=A.join(",");y="["+S+"]"}else{let S=`,
`+s,w=A.join(S);y=`[
`+s+w+`,
`+d+"]"}return i.pop(),s=d,y}},ct={parse:it,stringify:lt};async function De(t,e,u=new Set,r=""){for await(const i of t.values()){const s=r.length===0?i.name:`${r}/${i.name}`;if(i.kind==="file"){if(i.name[0]===".")continue;await e(i,s,t)}else i.kind==="directory"&&!u.has(s)&&await De(i,e,u,s)}}function N(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function qe(t,e){for(var u="",r=0,i=-1,s=0,n,D=0;D<=t.length;++D){if(D<t.length)n=t.charCodeAt(D);else{if(n===47)break;n=47}if(n===47){if(!(i===D-1||s===1))if(i!==D-1&&s===2){if(u.length<2||r!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){var o=u.lastIndexOf("/");if(o!==u.length-1){o===-1?(u="",r=0):(u=u.slice(0,o),r=u.length-1-u.lastIndexOf("/")),i=D,s=0;continue}}else if(u.length===2||u.length===1){u="",r=0,i=D,s=0;continue}}e&&(u.length>0?u+="/..":u="..",r=2)}else u.length>0?u+="/"+t.slice(i+1,D):u=t.slice(i+1,D),r=D-i-1;i=D,s=0}else n===46&&s!==-1?++s:s=-1}return u}function ft(t,e){var u=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return u?u===e.root?u+r:u+t+r:r}var ue={resolve:function(){for(var e="",u=!1,r,i=arguments.length-1;i>=-1&&!u;i--){var s;i>=0?s=arguments[i]:(r===void 0&&(r=process.cwd()),s=r),N(s),s.length!==0&&(e=s+"/"+e,u=s.charCodeAt(0)===47)}return e=qe(e,!u),u?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(N(e),e.length===0)return".";var u=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=qe(e,!u),e.length===0&&!u&&(e="."),e.length>0&&r&&(e+="/"),u?"/"+e:e},isAbsolute:function(e){return N(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,u=0;u<arguments.length;++u){var r=arguments[u];N(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":ue.normalize(e)},relative:function(e,u){if(N(e),N(u),e===u||(e=ue.resolve(e),u=ue.resolve(u),e===u))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var i=e.length,s=i-r,n=1;n<u.length&&u.charCodeAt(n)===47;++n);for(var D=u.length,o=D-n,c=s<o?s:o,f=-1,l=0;l<=c;++l){if(l===c){if(o>c){if(u.charCodeAt(n+l)===47)return u.slice(n+l+1);if(l===0)return u.slice(n+l)}else s>c&&(e.charCodeAt(r+l)===47?f=l:l===0&&(f=0));break}var p=e.charCodeAt(r+l),U=u.charCodeAt(n+l);if(p!==U)break;p===47&&(f=l)}var H="";for(l=r+f+1;l<=i;++l)(l===i||e.charCodeAt(l)===47)&&(H.length===0?H+="..":H+="/..");return H.length>0?H+u.slice(n+f):(n+=f,u.charCodeAt(n)===47&&++n,u.slice(n))},_makeLong:function(e){return e},dirname:function(e){if(N(e),e.length===0)return".";for(var u=e.charCodeAt(0),r=u===47,i=-1,s=!0,n=e.length-1;n>=1;--n)if(u=e.charCodeAt(n),u===47){if(!s){i=n;break}}else s=!1;return i===-1?r?"/":".":r&&i===1?"//":e.slice(0,i)},basename:function(e,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');N(e);var r=0,i=-1,s=!0,n;if(u!==void 0&&u.length>0&&u.length<=e.length){if(u.length===e.length&&u===e)return"";var D=u.length-1,o=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(c===47){if(!s){r=n+1;break}}else o===-1&&(s=!1,o=n+1),D>=0&&(c===u.charCodeAt(D)?--D===-1&&(i=n):(D=-1,i=o))}return r===i?i=o:i===-1&&(i=e.length),e.slice(r,i)}else{for(n=e.length-1;n>=0;--n)if(e.charCodeAt(n)===47){if(!s){r=n+1;break}}else i===-1&&(s=!1,i=n+1);return i===-1?"":e.slice(r,i)}},extname:function(e){N(e);for(var u=-1,r=0,i=-1,s=!0,n=0,D=e.length-1;D>=0;--D){var o=e.charCodeAt(D);if(o===47){if(!s){r=D+1;break}continue}i===-1&&(s=!1,i=D+1),o===46?u===-1?u=D:n!==1&&(n=1):u!==-1&&(n=-1)}return u===-1||i===-1||n===0||n===1&&u===i-1&&u===r+1?"":e.slice(u,i)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return ft("/",e)},parse:function(e){N(e);var u={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return u;var r=e.charCodeAt(0),i=r===47,s;i?(u.root="/",s=1):s=0;for(var n=-1,D=0,o=-1,c=!0,f=e.length-1,l=0;f>=s;--f){if(r=e.charCodeAt(f),r===47){if(!c){D=f+1;break}continue}o===-1&&(c=!1,o=f+1),r===46?n===-1?n=f:l!==1&&(l=1):n!==-1&&(l=-1)}return n===-1||o===-1||l===0||l===1&&n===o-1&&n===D+1?o!==-1&&(D===0&&i?u.base=u.name=e.slice(1,o):u.base=u.name=e.slice(D,o)):(D===0&&i?(u.name=e.slice(1,n),u.base=e.slice(1,o)):(u.name=e.slice(D,n),u.base=e.slice(D,o)),u.ext=e.slice(n,o)),D>0?u.dir=e.slice(0,D-1):i&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};ue.posix=ue;var L=ue;const At=L.dirname,Ze=L.join,Ye=L.extname,Ct=L.basename;L.resolve;const Ft=L.relative;async function ht(){return typeof(await(await navigator.storage.getDirectory()).getFileHandle("bridge-supports-writable-test",{create:!0})).createWritable=="function"}async function eu(){var t;return typeof((t=navigator.storage)==null?void 0:t.getDirectory)!="function"||!await ht()?new R(null,"bridgeFolder",void 0):await navigator.storage.getDirectory()}class Re extends ze{constructor(e){super(),e&&this.setup(e)}get baseDirectory(){return this._baseDirectory}setup(e){this._baseDirectory=e,this.hasFired||this.dispatch()}async getDirectoryHandle(e,{create:u,createOnce:r}={}){if(e===""||e===".")return this.baseDirectory;let i=this.baseDirectory;const s=e.split(/\\|\//g);s[0]==="."&&s.shift(),s[0]==="extensions"&&(s[0]="~local",s.splice(1,0,"extensions")),s[0]==="~local"&&(i=await eu(),s.shift());for(const n of s){try{i=await i.getDirectoryHandle(n,{create:r||u})}catch{throw new Error(`Failed to access "${e}": Directory does not exist`)}r&&(r=!1,u=!1)}return i}async getFileHandle(e,u=!1){if(e.length===0)throw new Error("Error: filePath is empty");const r=await this.getDirectoryHandle(At(e),{create:u});try{return await r.getFileHandle(Ct(e),{create:u})}catch{throw new Error(`File does not exist: "${e}"`)}}async pathTo(e){const u=await eu();if(e instanceof T&&!(u instanceof R))return;let r=await u.resolve(e).then(i=>i==null?void 0:i.join("/"));return r?r="~local/"+r:r=await this.baseDirectory.resolve(e).then(i=>i==null?void 0:i.join("/")),r}async mkdir(e,{recursive:u}={}){await this.getDirectoryHandle(e,{create:!0})}async readdir(e,{withFileTypes:u}={}){const r=await this.getDirectoryHandle(e),i=[];for await(const s of r.values())s.kind==="file"&&s.name===".DS_Store"||(u?i.push(s):i.push(s.name));return i}async readFilesFromDir(e,u=this.getDirectoryHandle(e)){u=await u;const r=[];for await(const i of u.values())i.kind==="file"&&i.name===".DS_Store"||(i.kind==="file"?r.push({name:i.name,kind:i.kind,path:`${e}/${i.name}`}):i.kind==="directory"&&r.push(...await this.readFilesFromDir(`${e}/${i.name}`,i)));return r}readFile(e){return this.getFileHandle(e).then(u=>u.getFile())}async unlink(e){if(e.length===0)throw new Error("Error: filePath is empty");const u=e.split(/\\|\//g),r=u.pop();let i;try{i=await this.getDirectoryHandle(u.join("/"))}catch{return}try{await i.removeEntry(r,{recursive:!0})}catch{}}async writeFile(e,u){const r=await this.getFileHandle(e,!0);return await this.write(r,u),r}async write(e,u){const r=await e.createWritable({keepExistingData:!1});await r.write(u),await r.close()}async readJSON(e){const u=await this.readFile(e);try{return await ct.parse(await u.text())}catch{throw new Error(`Invalid JSON: ${e}`)}}writeJSON(e,u,r=!1){return this.writeFile(e,JSON.stringify(u,null,r?"	":void 0))}async move(e,u){if(await this.fileExists(e))await this.copyFile(e,u);else if(await this.directoryExists(e))await this.copyFolder(e,u);else throw new Error(`File or folder does not exist: ${e}`);await this.unlink(e)}async copyFile(e,u){const r=await this.getFileHandle(e,!1),i=await this.getFileHandle(u,!0);return await this.copyFileHandle(r,i)}async copyFileHandle(e,u){return await this.write(u,await e.getFile()),u}async copyFolder(e,u){const r=await this.getDirectoryHandle(e,{create:!1});await De(r,async(i,s)=>{await this.copyFileHandle(i,await this.getFileHandle(Ze(u,s),!0))})}async copyFolderByHandle(e,u){const r=new Re(u);await De(e,async(i,s)=>{await this.copyFileHandle(i,await r.getFileHandle(s,!0))})}loadFileHandleAsDataUrl(e){return new Promise(async(u,r)=>{const i=new FileReader;try{const s=await e.getFile();i.addEventListener("load",()=>{u(i.result)}),i.addEventListener("error",r),i.readAsDataURL(s)}catch{r(`File does not exist: "${e.name}"`)}})}async fileExists(e){try{return await this.getFileHandle(e),!0}catch{return!1}}async directoryExists(e){try{return await this.getDirectoryHandle(e),!0}catch{return!1}}async getDirectoryHandlesFromGlob(e,u="."){const r=e.split(/\/|\\/g),i=new Set([await this.getDirectoryHandle(u)]);for(const s of r){if(s==="*")for(const n of[...i.values()]){i.delete(n);for await(const D of n.values())D.kind==="directory"&&i.add(D)}else{if(s==="**")return console.warn('"**" is not supported yet'),[];for(const n of[...i.values()]){i.delete(n);try{i.add(await n.getDirectoryHandle(s))}catch{}}}if(i.size===0)return[]}return[...i.values()]}}function Et(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const uu={matchCase:0,ignoreCase:1,useRegExp:2};function dt(t,e,u){return t.replace(e,(r,...i)=>(i=i.slice(0,-2),u.replace(/{(\d+)}/g,(s,...n)=>{var D;return(D=i[Number(n[0])])!=null?D:s})))}function tu(t,e){let u;try{u=new RegExp(e===uu.useRegExp?t:Et(t),`g${e===uu.ignoreCase?"i":""}`)}catch{return}return u}var gt=Object.defineProperty,mt=Object.defineProperties,pt=Object.getOwnPropertyDescriptors,ru=Object.getOwnPropertySymbols,Bt=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable,iu=(t,e,u)=>e in t?gt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:u}):t[e]=u,wt=(t,e)=>{for(var u in e||(e={}))Bt.call(e,u)&&iu(t,u,e[u]);if(ru)for(var u of ru(e))yt.call(e,u)&&iu(t,u,e[u]);return t},vt=(t,e)=>mt(t,pt(e));function nu(t,e){for(var u=0,r=t.length-1;r>=0;r--){var i=t[r];i==="."?t.splice(r,1):i===".."?(t.splice(r,1),u++):u&&(t.splice(r,1),u--)}if(e)for(;u--;u)t.unshift("..");return t}var bt=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,xe=function(t){return bt.exec(t).slice(1)};function Fe(){for(var t="",e=!1,u=arguments.length-1;u>=-1&&!e;u--){var r=u>=0?arguments[u]:"/";if(typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!r)continue;t=r+"/"+t,e=r.charAt(0)==="/"}return t=nu(Ne(t.split("/"),function(i){return!!i}),!e).join("/"),(e?"/":"")+t||"."}function He(t){var e=Te(t),u=_t(t,-1)==="/";return t=nu(Ne(t.split("/"),function(r){return!!r}),!e).join("/"),!t&&!e&&(t="."),t&&u&&(t+="/"),(e?"/":"")+t}function Te(t){return t.charAt(0)==="/"}function su(){var t=Array.prototype.slice.call(arguments,0);return He(Ne(t,function(e,u){if(typeof e!="string")throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))}function au(t,e){t=Fe(t).substr(1),e=Fe(e).substr(1);function u(c){for(var f=0;f<c.length&&c[f]==="";f++);for(var l=c.length-1;l>=0&&c[l]==="";l--);return f>l?[]:c.slice(f,l-f+1)}for(var r=u(t.split("/")),i=u(e.split("/")),s=Math.min(r.length,i.length),n=s,D=0;D<s;D++)if(r[D]!==i[D]){n=D;break}for(var o=[],D=n;D<r.length;D++)o.push("..");return o=o.concat(i.slice(n)),o.join("/")}var Du="/",ou=":";function lu(t){var e=xe(t),u=e[0],r=e[1];return!u&&!r?".":(r&&(r=r.substr(0,r.length-1)),u+r)}function cu(t,e){var u=xe(t)[2];return e&&u.substr(-1*e.length)===e&&(u=u.substr(0,u.length-e.length)),u}function fu(t){return xe(t)[3]}var St={extname:fu,basename:cu,dirname:lu,sep:Du,delimiter:ou,relative:au,join:su,isAbsolute:Te,normalize:He,resolve:Fe};function Ne(t,e){if(t.filter)return t.filter(e);for(var u=[],r=0;r<t.length;r++)e(t[r],r,t)&&u.push(t[r]);return u}var _t="ab".substr(-1)==="b"?function(t,e,u){return t.substr(e,u)}:function(t,e,u){return e<0&&(e=t.length+e),t.substr(e,u)},Au=Object.freeze({__proto__:null,resolve:Fe,normalize:He,isAbsolute:Te,join:su,relative:au,sep:Du,delimiter:ou,dirname:lu,basename:cu,extname:fu,default:St});function Cu(){throw new Error("setTimeout has not been defined")}function Fu(){throw new Error("clearTimeout has not been defined")}var V=Cu,G=Fu,te;typeof window<"u"?te=window:typeof self<"u"?te=self:te={},typeof te.setTimeout=="function"&&(V=setTimeout),typeof te.clearTimeout=="function"&&(G=clearTimeout);function hu(t){if(V===setTimeout)return setTimeout(t,0);if((V===Cu||!V)&&setTimeout)return V=setTimeout,setTimeout(t,0);try{return V(t,0)}catch{try{return V.call(null,t,0)}catch{return V.call(this,t,0)}}}function Pt(t){if(G===clearTimeout)return clearTimeout(t);if((G===Fu||!G)&&clearTimeout)return G=clearTimeout,clearTimeout(t);try{return G(t)}catch{try{return G.call(null,t)}catch{return G.call(this,t)}}}var M=[],re=!1,q,he=-1;function Rt(){!re||!q||(re=!1,q.length?M=q.concat(M):he=-1,M.length&&Eu())}function Eu(){if(!re){var t=hu(Rt);re=!0;for(var e=M.length;e;){for(q=M,M=[];++he<e;)q&&q[he].run();he=-1,e=M.length}q=null,re=!1,Pt(t)}}function xt(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var u=1;u<arguments.length;u++)e[u-1]=arguments[u];M.push(new du(t,e)),M.length===1&&!re&&hu(Eu)}function du(t,e){this.fun=t,this.array=e}du.prototype.run=function(){this.fun.apply(null,this.array)};var Ht="browser",Tt="browser",Nt=!0,Ot=[],kt="",It={},$t={},Lt={};function Z(){}var Mt=Z,jt=Z,Wt=Z,zt=Z,Vt=Z,Gt=Z,Ut=Z;function Kt(t){throw new Error("process.binding is not supported")}function Jt(){return"/"}function Xt(t){throw new Error("process.chdir is not supported")}function Qt(){return 0}var ie=te.performance||{},qt=ie.now||ie.mozNow||ie.msNow||ie.oNow||ie.webkitNow||function(){return new Date().getTime()};function Zt(t){var e=qt.call(ie)*.001,u=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(u=u-t[0],r=r-t[1],r<0&&(u--,r+=1e9)),[u,r]}var Yt=new Date;function er(){var t=new Date,e=t-Yt;return e/1e3}var ur={nextTick:xt,title:Ht,browser:Nt,env:{NODE_ENV:"production"},argv:Ot,version:kt,versions:It,on:Mt,addListener:jt,once:Wt,off:zt,removeListener:Vt,removeAllListeners:Gt,emit:Ut,binding:Kt,cwd:Jt,chdir:Xt,umask:Qt,hrtime:Zt,platform:Tt,release:$t,config:Lt,uptime:er};function tr(t,e,u){return u={path:e,exports:{},require:function(r,i){return rr(r,i==null?u.path:i)}},t(u,u.exports),u.exports}function rr(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}const O="\\\\/",gu=`[^${O}]`,j="\\.",ir="\\+",nr="\\?",Ee="\\/",sr="(?=.)",mu="[^/]",Oe=`(?:${Ee}|$)`,pu=`(?:^|${Ee})`,ke=`${j}{1,2}${Oe}`,ar=`(?!${j})`,Dr=`(?!${pu}${ke})`,or=`(?!${j}{0,1}${Oe})`,lr=`(?!${ke})`,cr=`[^.${Ee}]`,fr=`${mu}*?`,Bu={DOT_LITERAL:j,PLUS_LITERAL:ir,QMARK_LITERAL:nr,SLASH_LITERAL:Ee,ONE_CHAR:sr,QMARK:mu,END_ANCHOR:Oe,DOTS_SLASH:ke,NO_DOT:ar,NO_DOTS:Dr,NO_DOT_SLASH:or,NO_DOTS_SLASH:lr,QMARK_NO_DOT:cr,STAR:fr,START_ANCHOR:pu},Ar=vt(wt({},Bu),{SLASH_LITERAL:`[${O}]`,QMARK:gu,STAR:`${gu}*?`,DOTS_SLASH:`${j}{1,2}(?:[${O}]|$)`,NO_DOT:`(?!${j})`,NO_DOTS:`(?!(?:^|[${O}])${j}{1,2}(?:[${O}]|$))`,NO_DOT_SLASH:`(?!${j}{0,1}(?:[${O}]|$))`,NO_DOTS_SLASH:`(?!${j}{1,2}(?:[${O}]|$))`,QMARK_NO_DOT:`[^.${O}]`,START_ANCHOR:`(?:^|[${O}])`,END_ANCHOR:`(?:[${O}]|$)`}),Cr={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var Fr={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Cr,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Au.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?Ar:Bu}};tr(function(t,e){const{REGEX_BACKSLASH:u,REGEX_REMOVE_BACKSLASH:r,REGEX_SPECIAL_CHARS:i,REGEX_SPECIAL_CHARS_GLOBAL:s}=Fr;e.isObject=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),e.hasRegexChars=n=>i.test(n),e.isRegexChar=n=>n.length===1&&e.hasRegexChars(n),e.escapeRegex=n=>n.replace(s,"\\$1"),e.toPosixSlashes=n=>n.replace(u,"/"),e.removeBackslashes=n=>n.replace(r,D=>D==="\\"?"":D),e.supportsLookbehinds=()=>{const n=ur.version.slice(1).split(".").map(Number);return n.length===3&&n[0]>=9||n[0]===8&&n[1]>=10},e.isWindows=n=>n&&typeof n.windows=="boolean"?n.windows:Au.sep==="\\",e.escapeLast=(n,D,o)=>{const c=n.lastIndexOf(D,o);return c===-1?n:n[c-1]==="\\"?e.escapeLast(n,D,c-1):`${n.slice(0,c)}\\${n.slice(c)}`},e.removePrefix=(n,D={})=>{let o=n;return o.startsWith("./")&&(o=o.slice(2),D.prefix="./"),o},e.wrapOutput=(n,D={},o={})=>{const c=o.contains?"":"^",f=o.contains?"":"$";let l=`${c}(?:${n})${f}`;return D.negated===!0&&(l=`(?:^(?!${l}).*$)`),l}}),new TextEncoder;const yu={behaviorPack:"./BP",resourcePack:"./RP",skinPack:"./SP",worldTemplate:"./WT"};class hr{constructor(e){this.basePath=e,this.data={}}async refreshConfig(){this.data=await this.readConfig()}async setup(){await this.refreshConfig()}get(){return this.data}getRelativePackRoot(e){var u,r;return(r=(u=this.data.packs)==null?void 0:u[e])!=null?r:yu[e]}getAbsolutePackRoot(e){return this.resolvePackPath(e)}resolvePackPath(e,u){return!u&&!e?this.basePath:!e&&u?L.join(this.basePath,u):!u&&e?L.join(this.basePath,this.getRelativePackRoot(e)):L.join(this.basePath,`${this.getRelativePackRoot(e)}/${u}`)}getAvailablePackPaths(){var e;const u=[];for(const r of Object.keys((e=this.data.packs)!=null?e:{}))u.push(this.resolvePackPath(r));return u}getAvailablePacks(){var e;const u={};for(const r in(e=this.data.packs)!=null?e:{})u[r]=this.resolvePackPath(r);return u}async save(){await this.writeConfig(this.data)}}class Er extends hr{constructor(e,u,r){super(u),this.fileSystem=e,this.project=r,r&&r.fileSave.on(this.resolvePackPath(void 0,"config.json"),()=>{this.refreshConfig(),this.project.app.windows.createPreset.onPresetsChanged(),this.project.compilerService.reloadPlugins()})}readConfig(){return this.fileSystem.readJSON("config.json").catch(()=>({}))}async writeConfig(e){await this.fileSystem.writeJSON("config.json",e,!0)}async setup(e=!0){var i,s,n,D,o,c,f;if(e&&await this.fileSystem.fileExists(".bridge/config.json")){const{darkTheme:l,lightTheme:p,gameTestAPI:U,scriptingAPI:H,prefix:E,...d}=await this.fileSystem.readJSON(".bridge/config.json");await this.fileSystem.unlink(".bridge/config.json");const A={};U&&(A.enableGameTestFramework=!0),H&&(A.additionalModdingCapabilities=!0);const y={type:"minecraftBedrock",name:this.fileSystem.baseDirectory.name,namespace:E,experimentalGameplay:A,...d,authors:d.author?[d.author]:["Unknown"],packs:yu,bridge:{darkTheme:l,lightTheme:p}};await this.fileSystem.writeJSON("config.json",y,!0),this.data=y;return}await super.setup();const u=(s=(i=this.data.bridge)==null?void 0:i.formatVersion)!=null?s:0;this.data.bridge||(this.data.bridge={});let r=!1;if(e&&this.project&&this.data.capabilities){const l=await this.project.app.dataLoader.readJSON("data/packages/minecraftBedrock/experimentalGameplay.json"),p=(n=this.data.experimentalGameplay)!=null?n:{},U=(D=this.data.capabilities)!=null?D:[];p.enableGameTestFramework=U.includes("gameTestAPI"),p.additionalModdingCapabilities=U.includes("scriptingAPI");for(const H of l)(c=p[o=H.id])!=null||(p[o]=!0);this.data.experimentalGameplay=p,this.data.capabilities=void 0,r=!0}if(e&&this.data.author&&!this.data.authors&&(this.data.authors=typeof this.data.author=="string"?[this.data.author]:this.data.author,this.data.author=void 0,r=!0),e&&await this.fileSystem.fileExists(".bridge/compiler/default.json")){const l=await this.fileSystem.readJSON(".bridge/compiler/default.json");this.data.compiler={plugins:l.plugins},await this.fileSystem.unlink(".bridge/compiler/default.json"),r=!0}e&&u===0&&((f=this.data.compiler)==null?void 0:f.plugins)&&!this.data.compiler.plugins.includes("formatVersionCorrection")&&(this.data.bridge.formatVersion=1,this.data.compiler.plugins.push("formatVersionCorrection"),r=!0),r&&await this.writeConfig(this.data)}async getWorldHandles(){var r;if(!this.project)throw new Error("Cannot use getWorldHandles() within web workers yet");const e=this.project.app,u=((r=this.get().worlds)!=null?r:["./worlds/*"]).map(i=>this.resolvePackPath(void 0,i));return(await Promise.all(u.map(i=>e.fileSystem.getDirectoryHandlesFromGlob(i)))).flat()}getAuthorImage(){var u;const e=(u=this.get().authors)==null?void 0:u.find(r=>typeof r!="string"&&r.logo);if(!!e)return this.resolvePackPath(void 0,e.logo)}async toggleExperiment(e,u){var i,s;e.app.windows.loadingWindow.open();const r=(s=(i=this.get())==null?void 0:i.experimentalGameplay)!=null?s:{};r[u]=!r[u],await this.save(),e.isActiveProject&&await e.refresh(),this.project.app.windows.createPreset.onPresetsChanged(),e.app.windows.loadingWindow.close()}}globalThis.process={cwd:()=>"",env:{}};const wu=new Set([".js",".ts",".lang",".mcfunction",".txt",".md",".molang",".json",".html"]),vu=new Set([".bridge","builds",".git s"]),Ie=100;class dr{constructor(e,u){this.projectFolderHandle=e,this.projectPath=u,this.matchedFiles=new Set,this.fileSystem=new Re(e),this.config=new Er(this.fileSystem,u)}setMatchedFiles(e){const u=this.matchedFiles;return this.matchedFiles=new Set(e),[...u]}async createQuery(e,u,{searchType:r}){if(this.matchedFiles.clear(),u==="")return[];const i=[],s=tu(u,r);if(!s)return[];const n=[];for(const D of e)n.push(this.iterateDirectory(D,s,i));return await Promise.all(n),i}async executeQuery(e,u,r,{searchType:i}){if(u==="")return[];const s=tu(u,i);if(!s)return[];const n=[];for(const D of e)n.push(this.replaceAll(D,s,r));await Promise.all(n)}async iterateDirectory({directory:e,path:u},r,i){await De(e,async(s,n)=>{const D=Ye(n);if(!wu.has(D))return;const o=[],c=await s.getFile().then(l=>l.text());r.lastIndex=0;let f=r.exec(c);for(;f!==null;){let l=f.index-Ie/2,p=Ie/2;l<0&&(p=p+l,l=0),o.push({isStartOfFile:l===0,beforeMatch:c.substr(l,p),match:f[0],afterMatch:c.substr(f.index+f[0].length,Ie/2)}),f=r.exec(c)}o.length>0&&(this.matchedFiles.add(n),i.push({filePath:n,displayFilePath:Ze(`./${e.name}`,Ft(u,n)),fileHandle:s,matches:o}))},vu,u)}async replaceAll({directory:e,path:u},r,i){await De(e,async(s,n)=>{const D=Ye(n);if(!wu.has(D)||!this.matchedFiles.has(n))return;const o=await s.getFile().then(f=>f.text()),c=dt(o,r,i);o!==c&&await this.fileSystem.write(s,c)},vu,u)}}ge(dr)})();
