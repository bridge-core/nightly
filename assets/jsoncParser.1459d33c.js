function B(r,s){s===void 0&&(s=!1);var o=r.length,e=0,a="",g=0,u=16,v=0,t=0,i=0,h=0,c=0;function m(n,b){for(var w=0,k=0;w<n||!b;){var d=r.charCodeAt(e);if(d>=48&&d<=57)k=k*16+d-48;else if(d>=65&&d<=70)k=k*16+d-65+10;else if(d>=97&&d<=102)k=k*16+d-97+10;else break;e++,w++}return w<n&&(k=-1),k}function E(n){e=n,a="",g=0,u=16,c=0}function N(){var n=e;if(r.charCodeAt(e)===48)e++;else for(e++;e<r.length&&A(r.charCodeAt(e));)e++;if(e<r.length&&r.charCodeAt(e)===46)if(e++,e<r.length&&A(r.charCodeAt(e)))for(e++;e<r.length&&A(r.charCodeAt(e));)e++;else return c=3,r.substring(n,e);var b=e;if(e<r.length&&(r.charCodeAt(e)===69||r.charCodeAt(e)===101))if(e++,(e<r.length&&r.charCodeAt(e)===43||r.charCodeAt(e)===45)&&e++,e<r.length&&A(r.charCodeAt(e))){for(e++;e<r.length&&A(r.charCodeAt(e));)e++;b=e}else c=3;return r.substring(n,b)}function S(){for(var n="",b=e;;){if(e>=o){n+=r.substring(b,e),c=2;break}var w=r.charCodeAt(e);if(w===34){n+=r.substring(b,e),e++;break}if(w===92){if(n+=r.substring(b,e),e++,e>=o){c=2;break}var k=r.charCodeAt(e++);switch(k){case 34:n+='"';break;case 92:n+="\\";break;case 47:n+="/";break;case 98:n+="\b";break;case 102:n+="\f";break;case 110:n+=`
`;break;case 114:n+="\r";break;case 116:n+="	";break;case 117:var d=m(4,!0);d>=0?n+=String.fromCharCode(d):c=4;break;default:c=5}b=e;continue}if(w>=0&&w<=31)if(O(w)){n+=r.substring(b,e),c=2;break}else c=6;e++}return n}function y(){if(a="",c=0,g=e,t=v,h=i,e>=o)return g=o,u=17;var n=r.charCodeAt(e);if(P(n)){do e++,a+=String.fromCharCode(n),n=r.charCodeAt(e);while(P(n));return u=15}if(O(n))return e++,a+=String.fromCharCode(n),n===13&&r.charCodeAt(e)===10&&(e++,a+=`
`),v++,i=e,u=14;switch(n){case 123:return e++,u=1;case 125:return e++,u=2;case 91:return e++,u=3;case 93:return e++,u=4;case 58:return e++,u=6;case 44:return e++,u=5;case 34:return e++,a=S(),u=10;case 47:var b=e-1;if(r.charCodeAt(e+1)===47){for(e+=2;e<o&&!O(r.charCodeAt(e));)e++;return a=r.substring(b,e),u=12}if(r.charCodeAt(e+1)===42){e+=2;for(var w=o-1,k=!1;e<w;){var d=r.charCodeAt(e);if(d===42&&r.charCodeAt(e+1)===47){e+=2,k=!0;break}e++,O(d)&&(d===13&&r.charCodeAt(e)===10&&e++,v++,i=e)}return k||(e++,c=1),a=r.substring(b,e),u=13}return a+=String.fromCharCode(n),e++,u=16;case 45:if(a+=String.fromCharCode(n),e++,e===o||!A(r.charCodeAt(e)))return u=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return a+=N(),u=11;default:for(;e<o&&C(n);)e++,n=r.charCodeAt(e);if(g!==e){switch(a=r.substring(g,e),a){case"true":return u=8;case"false":return u=9;case"null":return u=7}return u=16}return a+=String.fromCharCode(n),e++,u=16}}function C(n){if(P(n)||O(n))return!1;switch(n){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function f(){var n;do n=y();while(n>=12&&n<=15);return n}return{setPosition:E,getPosition:function(){return e},scan:s?f:y,getToken:function(){return u},getTokenValue:function(){return a},getTokenOffset:function(){return g},getTokenLength:function(){return e-g},getTokenStartLine:function(){return t},getTokenStartCharacter:function(){return g-h},getTokenError:function(){return c}}}function P(r){return r===32||r===9||r===11||r===12||r===160||r===5760||r>=8192&&r<=8203||r===8239||r===8287||r===12288||r===65279}function O(r){return r===10||r===13||r===8232||r===8233}function A(r){return r>=48&&r<=57}var V;(function(r){r.DEFAULT={allowTrailingComma:!1}})(V||(V={}));function D(r,s){var o=[],e=new Object,a=void 0,g={value:{},offset:0,length:0,type:"object",parent:void 0},u=!1;function v(t,i,h,c){g.value=t,g.offset=i,g.length=h,g.type=c,g.colonOffset=void 0,a=g}try{K(r,{onObjectBegin:function(t,i){if(s<=t)throw e;a=void 0,u=s>t,o.push("")},onObjectProperty:function(t,i,h){if(s<i||(v(t,i,h,"property"),o[o.length-1]=t,s<=i+h))throw e},onObjectEnd:function(t,i){if(s<=t)throw e;a=void 0,o.pop()},onArrayBegin:function(t,i){if(s<=t)throw e;a=void 0,o.push(0)},onArrayEnd:function(t,i){if(s<=t)throw e;a=void 0,o.pop()},onLiteralValue:function(t,i,h){if(s<i||(v(t,i,h,H(t)),s<=i+h))throw e},onSeparator:function(t,i,h){if(s<=i)throw e;if(t===":"&&a&&a.type==="property")a.colonOffset=i,u=!1,a=void 0;else if(t===","){var c=o[o.length-1];typeof c=="number"?o[o.length-1]=c+1:(u=!0,o[o.length-1]=""),a=void 0}}})}catch(t){if(t!==e)throw t}return{path:o,previousNode:a,isAtPropertyKey:u,matches:function(t){for(var i=0,h=0;i<t.length&&h<o.length;h++)if(t[i]===o[h]||t[i]==="*")i++;else if(t[i]!=="**")return!1;return i===t.length}}}function K(r,s,o){o===void 0&&(o=V.DEFAULT);var e=B(r,!1);function a(l){return l?function(){return l(e.getTokenOffset(),e.getTokenLength(),e.getTokenStartLine(),e.getTokenStartCharacter())}:function(){return!0}}function g(l){return l?function(T){return l(T,e.getTokenOffset(),e.getTokenLength(),e.getTokenStartLine(),e.getTokenStartCharacter())}:function(){return!0}}var u=a(s.onObjectBegin),v=g(s.onObjectProperty),t=a(s.onObjectEnd),i=a(s.onArrayBegin),h=a(s.onArrayEnd),c=g(s.onLiteralValue),m=g(s.onSeparator),E=a(s.onComment),N=g(s.onError),S=o&&o.disallowComments,y=o&&o.allowTrailingComma;function C(){for(;;){var l=e.scan();switch(e.getTokenError()){case 4:f(14);break;case 5:f(15);break;case 3:f(13);break;case 1:S||f(11);break;case 2:f(12);break;case 6:f(16);break}switch(l){case 12:case 13:S?f(10):E();break;case 16:f(1);break;case 15:case 14:break;default:return l}}}function f(l,T,p){if(T===void 0&&(T=[]),p===void 0&&(p=[]),N(l),T.length+p.length>0)for(var L=e.getToken();L!==17;){if(T.indexOf(L)!==-1){C();break}else if(p.indexOf(L)!==-1)break;L=C()}}function n(l){var T=e.getTokenValue();return l?c(T):v(T),C(),!0}function b(){switch(e.getToken()){case 11:var l=e.getTokenValue(),T=Number(l);isNaN(T)&&(f(2),T=0),c(T);break;case 7:c(null);break;case 8:c(!0);break;case 9:c(!1);break;default:return!1}return C(),!0}function w(){return e.getToken()!==10?(f(3,[],[2,5]),!1):(n(!1),e.getToken()===6?(m(":"),C(),j()||f(4,[],[2,5])):f(5,[],[2,5]),!0)}function k(){u(),C();for(var l=!1;e.getToken()!==2&&e.getToken()!==17;){if(e.getToken()===5){if(l||f(4,[],[]),m(","),C(),e.getToken()===2&&y)break}else l&&f(6,[],[]);w()||f(4,[],[2,5]),l=!0}return t(),e.getToken()!==2?f(7,[2],[]):C(),!0}function d(){i(),C();for(var l=!1;e.getToken()!==4&&e.getToken()!==17;){if(e.getToken()===5){if(l||f(4,[],[]),m(","),C(),e.getToken()===4&&y)break}else l&&f(6,[],[]);j()||f(4,[],[4,5]),l=!0}return h(),e.getToken()!==4?f(8,[4],[]):C(),!0}function j(){switch(e.getToken()){case 3:return d();case 1:return k();case 10:return n(!0);default:return b()}}return C(),e.getToken()===17?o.allowEmptyContent?!0:(f(4,[],[]),!1):j()?(e.getToken()!==17&&f(9,[],[]),!0):(f(4,[],[]),!1)}function H(r){switch(typeof r){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(r){if(Array.isArray(r))return"array"}else return"null";return"object"}default:return"null"}}var I=D;export{I as getLocation};
